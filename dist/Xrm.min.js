var Xrm=function(){"use strict";const e=("production"!==process.env.NODE_ENV?"https://elegastsandbox.crm4.dynamics.com":"")+"/api/data/v9.0",t="object"==typeof location&&location.origin,r=/[-a-zA-Z0-9]*?\.(crm[0-9]*?\.dynamics\.com|crm\.microsoftdynamics\.us)/,n=function(e){let t={};return async function(){let r=JSON.stringify(arguments);return t[r]=t[r]||e.apply(this,arguments),t[r]}},o=n(async()=>{let e=await fetch("/tools/systemcustomization/systemCustomization.aspx?pid=05&web=true");return e.length>0?e.text().then(e=>e.match(/var ORG_UNIQUE_NAME = '([-a-zA-Z0-9]*)';/)[1]):""}),i=async()=>({uniqueName:await o()}),a=n(async()=>(await No("/WhoAmI")()).json()),s=n(Po),c=(e,t)=>r=>t(e(r)),u=(...e)=>e.reduce(c),d=e=>t=>r=>r.replace(e,t),l=u(d(/\{|\}/gi)("")),h=async()=>{let e=await a(),t=await s("systemuser",e.UserId,"?$expand=systemuserroles_association($select=name)&$select=systemuserid,fullname");return{userId:`{${l(e.UserId)}}`,userName:t.fullname,securityRoles:t.systemuserroles_association.map(e=>e.roleid)}},p=()=>t,g=u(d(/^\?/)("")),f=e=>t=>t.split(e),m=async()=>{let e=(t="appid",u(g,f("&"),(r=f("="),e=>e.map(r)),((e,t)=>r=>r.reduce(e,t))((e,t)=>(e[t[0]]=t[1],e),{}))(location.search)[t]||"");var t,r;return(e&&await s("appmodule",e,"?$select=name")).name||""},y=()=>!r.test(location.href),v=(E="then",(...e)=>e.reduce((e,t)=>r=>t(r)[E](e)));var E;const C=e=>e.json(),w=(e,t=[])=>No(`RetrieveEntity(EntityFilters=Microsoft.Dynamics.CRM.EntityFilters'Attributes',LogicalName = '${e}',MetadataId=00000000-0000-0000-0000-000000000000,RetrieveAsIfPublished=false)`)({}),S=n((e,t=[])=>v(C,w)(e,t)),T={closeProgressIndicator:()=>{},getAllowedStatusTransitions:()=>{},getEntityMetadata:S,getGlobalContext:async()=>{let e=await Promise.all([i(),h()]);return{organizationSettings:e[0],userSettings:e[1],getClientUrl:p,isOnPremises:y,getCurrentAppName:m}},getLearningPathAttributeName:()=>{},getPageContext:()=>{},getResourceString:()=>{},invokeProcessAction:()=>{},lookObjects:()=>{},refreshParentGrid:()=>{},showProgressIndicator:()=>{}},A={openForm:async(e,r={})=>{let n=t+"/main.aspx?pagetype=entityrecord",o="_blank";e.entityName&&(n+="&etn="+e.entityName),e.entityId&&(n+="&id="+e.entityId),e.formId&&(n+="&formid="+e.formId),e.openInNewWindow||(o=null),window.open(n,o)}},I=(e,t=[])=>No(`EntityDefinitions(LogicalName='${e}')/Attributes/`)({}),_=(e,t=[])=>No(`RetrieveTotalRecordCount(EntityNames=['${e}'])`)({})
/*! @azure/msal-browser v2.22.1 2022-03-07 */
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */;var b=function(e,t){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function R(e,t){function r(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var O=function(){return(O=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function k(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}function N(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function P(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function U(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(P(arguments[t]));return e}
/*! @azure/msal-common v6.1.0 2022-02-08 */
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var M=function(e,t){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function D(e,t){function r(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var L=function(){return(L=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function H(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}function q(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function F(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}
/*! @azure/msal-common v6.1.0 2022-02-08 */var K,x,B,G,X,j={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},z=[j.OPENID_SCOPE,j.PROFILE_SCOPE,j.OFFLINE_ACCESS_SCOPE],W=F(z,[j.EMAIL_SCOPE]);!function(e){e.CONTENT_TYPE="Content-Type",e.RETRY_AFTER="Retry-After",e.CCS_HEADER="X-AnchorMailbox",e.WWWAuthenticate="WWW-Authenticate",e.AuthenticationInfo="Authentication-Info"}(K||(K={})),function(e){e.ID_TOKEN="idtoken",e.CLIENT_INFO="client.info",e.ADAL_ID_TOKEN="adal.idtoken",e.ERROR="error",e.ERROR_DESC="error.description",e.ACTIVE_ACCOUNT="active-account"}(x||(x={})),function(e){e.COMMON="common",e.ORGANIZATIONS="organizations",e.CONSUMERS="consumers"}(B||(B={})),function(e){e.CLIENT_ID="client_id",e.REDIRECT_URI="redirect_uri",e.RESPONSE_TYPE="response_type",e.RESPONSE_MODE="response_mode",e.GRANT_TYPE="grant_type",e.CLAIMS="claims",e.SCOPE="scope",e.ERROR="error",e.ERROR_DESCRIPTION="error_description",e.ACCESS_TOKEN="access_token",e.ID_TOKEN="id_token",e.REFRESH_TOKEN="refresh_token",e.EXPIRES_IN="expires_in",e.STATE="state",e.NONCE="nonce",e.PROMPT="prompt",e.SESSION_STATE="session_state",e.CLIENT_INFO="client_info",e.CODE="code",e.CODE_CHALLENGE="code_challenge",e.CODE_CHALLENGE_METHOD="code_challenge_method",e.CODE_VERIFIER="code_verifier",e.CLIENT_REQUEST_ID="client-request-id",e.X_CLIENT_SKU="x-client-SKU",e.X_CLIENT_VER="x-client-VER",e.X_CLIENT_OS="x-client-OS",e.X_CLIENT_CPU="x-client-CPU",e.X_CLIENT_CURR_TELEM="x-client-current-telemetry",e.X_CLIENT_LAST_TELEM="x-client-last-telemetry",e.X_MS_LIB_CAPABILITY="x-ms-lib-capability",e.POST_LOGOUT_URI="post_logout_redirect_uri",e.ID_TOKEN_HINT="id_token_hint",e.DEVICE_CODE="device_code",e.CLIENT_SECRET="client_secret",e.CLIENT_ASSERTION="client_assertion",e.CLIENT_ASSERTION_TYPE="client_assertion_type",e.TOKEN_TYPE="token_type",e.REQ_CNF="req_cnf",e.OBO_ASSERTION="assertion",e.REQUESTED_TOKEN_USE="requested_token_use",e.ON_BEHALF_OF="on_behalf_of",e.FOCI="foci",e.CCS_HEADER="X-AnchorMailbox",e.RETURN_SPA_CODE="return_spa_code",e.LOGOUT_HINT="logout_hint"}(G||(G={})),function(e){e.ACCESS_TOKEN="access_token",e.XMS_CC="xms_cc"}(X||(X={}));var Y,Q={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create"};!function(e){e.ACCOUNT="account",e.SID="sid",e.LOGIN_HINT="login_hint",e.ID_TOKEN="id_token",e.DOMAIN_HINT="domain_hint",e.ORGANIZATIONS="organizations",e.CONSUMERS="consumers",e.ACCOUNT_ID="accountIdentifier",e.HOMEACCOUNT_ID="homeAccountIdentifier"}(Y||(Y={}));var J,V,$,Z,ee,te,re,ne={PLAIN:"plain",S256:"S256"};!function(e){e.QUERY="query",e.FRAGMENT="fragment",e.FORM_POST="form_post"}(J||(J={})),function(e){e.IMPLICIT_GRANT="implicit",e.AUTHORIZATION_CODE_GRANT="authorization_code",e.CLIENT_CREDENTIALS_GRANT="client_credentials",e.RESOURCE_OWNER_PASSWORD_GRANT="password",e.REFRESH_TOKEN_GRANT="refresh_token",e.DEVICE_CODE_GRANT="device_code",e.JWT_BEARER="urn:ietf:params:oauth:grant-type:jwt-bearer"}(V||(V={})),function(e){e.MSSTS_ACCOUNT_TYPE="MSSTS",e.ADFS_ACCOUNT_TYPE="ADFS",e.MSAV1_ACCOUNT_TYPE="MSA",e.GENERIC_ACCOUNT_TYPE="Generic"}($||($={})),function(e){e.CACHE_KEY_SEPARATOR="-",e.CLIENT_INFO_SEPARATOR="."}(Z||(Z={})),function(e){e.ID_TOKEN="IdToken",e.ACCESS_TOKEN="AccessToken",e.ACCESS_TOKEN_WITH_AUTH_SCHEME="AccessToken_With_AuthScheme",e.REFRESH_TOKEN="RefreshToken"}(ee||(ee={})),function(e){e.ACCOUNT="Account",e.CREDENTIAL="Credential",e.ID_TOKEN="IdToken",e.ACCESS_TOKEN="AccessToken",e.REFRESH_TOKEN="RefreshToken",e.APP_METADATA="AppMetadata",e.TEMPORARY="TempCache",e.TELEMETRY="Telemetry",e.UNDEFINED="Undefined",e.THROTTLING="Throttling"}(te||(te={})),function(e){e[e.ADFS=1001]="ADFS",e[e.MSA=1002]="MSA",e[e.MSSTS=1003]="MSSTS",e[e.GENERIC=1004]="GENERIC",e[e.ACCESS_TOKEN=2001]="ACCESS_TOKEN",e[e.REFRESH_TOKEN=2002]="REFRESH_TOKEN",e[e.ID_TOKEN=2003]="ID_TOKEN",e[e.APP_METADATA=3001]="APP_METADATA",e[e.UNDEFINED=9999]="UNDEFINED"}(re||(re={}));var oe,ie="authority-metadata",ae=86400;!function(e){e.CONFIG="config",e.CACHE="cache",e.NETWORK="network"}(oe||(oe={}));var se,ce={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"};!function(e){e.BEARER="Bearer",e.POP="pop",e.SSH="ssh-cert"}(se||(se={}));var ue,de,le,he,pe,ge=60,fe=3600,me="throttling",ye="retry-after, h429",ve="invalid_grant",Ee="client_mismatch";!function(e){e.username="username",e.password="password"}(ue||(ue={})),function(e){e[e.httpSuccess=200]="httpSuccess",e[e.httpBadRequest=400]="httpBadRequest"}(de||(de={})),function(e){e.FAILED_AUTO_DETECTION="1",e.INTERNAL_CACHE="2",e.ENVIRONMENT_VARIABLE="3",e.IMDS="4"}(le||(le={})),function(e){e.CONFIGURED_MATCHES_DETECTED="1",e.CONFIGURED_NO_AUTO_DETECTION="2",e.CONFIGURED_NOT_DETECTED="3",e.AUTO_DETECTION_REQUESTED_SUCCESSFUL="4",e.AUTO_DETECTION_REQUESTED_FAILED="5"}(he||(he={})),function(e){e.NO_CACHE_HIT="0",e.FORCE_REFRESH="1",e.NO_CACHED_ACCESS_TOKEN="2",e.CACHED_ACCESS_TOKEN_EXPIRED="3",e.REFRESH_CACHED_ACCESS_TOKEN="4"}(pe||(pe={}));
/*! @azure/msal-common v6.1.0 2022-02-08 */
var Ce,we={code:"unexpected_error",desc:"Unexpected error in authentication."},Se=function(e){function t(r,n,o){var i=this,a=n?r+": "+n:r;return i=e.call(this,a)||this,Object.setPrototypeOf(i,t.prototype),i.errorCode=r||j.EMPTY_STRING,i.errorMessage=n||"",i.subError=o||"",i.name="AuthError",i}return D(t,e),t.prototype.setCorrelationId=function(e){this.correlationId=e},t.createUnexpectedError=function(e){return new t(we.code,we.desc+": "+e)},t}(Error),Te={createNewGuid:function(){throw Se.createUnexpectedError("Crypto interface - createNewGuid() has not been implemented")},base64Decode:function(){throw Se.createUnexpectedError("Crypto interface - base64Decode() has not been implemented")},base64Encode:function(){throw Se.createUnexpectedError("Crypto interface - base64Encode() has not been implemented")},generatePkceCodes:function(){return H(this,void 0,void 0,(function(){return q(this,(function(e){throw"Crypto interface - generatePkceCodes() has not been implemented",Se.createUnexpectedError("Crypto interface - generatePkceCodes() has not been implemented")}))}))},getPublicKeyThumbprint:function(){return H(this,void 0,void 0,(function(){return q(this,(function(e){throw"Crypto interface - getPublicKeyThumbprint() has not been implemented",Se.createUnexpectedError("Crypto interface - getPublicKeyThumbprint() has not been implemented")}))}))},removeTokenBindingKey:function(){return H(this,void 0,void 0,(function(){return q(this,(function(e){throw"Crypto interface - removeTokenBindingKey() has not been implemented",Se.createUnexpectedError("Crypto interface - removeTokenBindingKey() has not been implemented")}))}))},clearKeystore:function(){return H(this,void 0,void 0,(function(){return q(this,(function(e){throw"Crypto interface - clearKeystore() has not been implemented",Se.createUnexpectedError("Crypto interface - clearKeystore() has not been implemented")}))}))},signJwt:function(){return H(this,void 0,void 0,(function(){return q(this,(function(e){throw"Crypto interface - signJwt() has not been implemented",Se.createUnexpectedError("Crypto interface - signJwt() has not been implemented")}))}))},hashString:function(){return H(this,void 0,void 0,(function(){return q(this,(function(e){throw"Crypto interface - hashString() has not been implemented",Se.createUnexpectedError("Crypto interface - hashString() has not been implemented")}))}))}},Ae={code:"client_info_decoding_error",desc:"The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause."},Ie={code:"client_info_empty_error",desc:"The client info was empty. Please review the trace to determine the root cause."},_e={code:"token_parsing_error",desc:"Token cannot be parsed. Please review stack trace to determine root cause."},be={code:"null_or_empty_token",desc:"The token is null or empty. Please review the trace to determine the root cause."},Re={code:"endpoints_resolution_error",desc:"Error: could not resolve endpoints. Please check network and try again."},Oe={code:"network_error",desc:"Network request failed. Please check network trace to determine root cause."},ke={code:"openid_config_error",desc:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints."},Ne={code:"hash_not_deserialized",desc:"The hash parameters could not be deserialized. Please review the trace to determine the root cause."},Pe={code:"invalid_state",desc:"State was not the expected format. Please check the logs to determine whether the request was sent using ProtocolUtils.setRequestState()."},Ue={code:"state_mismatch",desc:"State mismatch error. Please check your network. Continued requests may cause cache overflow."},Me={code:"state_not_found",desc:"State not found"},De={code:"nonce_mismatch",desc:"Nonce mismatch error. This may be caused by a race condition in concurrent requests."},Le={code:"nonce_not_found",desc:"nonce not found"},He={code:"multiple_matching_tokens",desc:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account."},qe={code:"multiple_matching_accounts",desc:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account"},Fe={code:"multiple_matching_appMetadata",desc:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata"},Ke={code:"request_cannot_be_made",desc:"Token request cannot be made without authorization code or refresh token."},xe={code:"cannot_append_empty_scope",desc:"Cannot append null or empty scope to ScopeSet. Please check the stack trace for more info."},Be={code:"cannot_remove_empty_scope",desc:"Cannot remove null or empty scope from ScopeSet. Please check the stack trace for more info."},Ge={code:"cannot_append_scopeset",desc:"Cannot append ScopeSet due to error."},Xe={code:"empty_input_scopeset",desc:"Empty input ScopeSet cannot be processed."},je={code:"device_code_polling_cancelled",desc:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true."},ze={code:"device_code_expired",desc:"Device code is expired."},We={code:"device_code_unknown_error",desc:"Device code stopped polling for unknown reasons."},Ye={code:"no_account_in_silent_request",desc:"Please pass an account object, silent flow is not supported without account information"},Qe={code:"invalid_cache_record",desc:"Cache record object was null or undefined."},Je={code:"invalid_cache_environment",desc:"Invalid environment when attempting to create cache entry"},Ve={code:"no_account_found",desc:"No account found in cache for given key."},$e={code:"no cache plugin set on CacheManager",desc:"ICachePlugin needs to be set before using readFromStorage or writeFromStorage"},Ze={code:"no_crypto_object",desc:"No crypto object detected. This is required for the following operation: "},et={code:"invalid_cache_type",desc:"Invalid cache type"},tt={code:"unexpected_account_type",desc:"Unexpected account type."},rt={code:"unexpected_credential_type",desc:"Unexpected credential type."},nt={code:"invalid_assertion",desc:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515"},ot={code:"invalid_client_credential",desc:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential"},it={code:"token_refresh_required",desc:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired."},at={code:"user_timeout_reached",desc:"User defined timeout for device code polling reached"},st={code:"token_claims_cnf_required_for_signedjwt",desc:"Cannot generate a POP jwt if the token_claims are not populated"},ct={code:"authorization_code_missing_from_server_response",desc:"Server response does not contain an authorization code to proceed"},ut={code:"binding_key_not_removed",desc:"Could not remove the credential's binding key from storage."},dt={code:"end_session_endpoint_not_supported",desc:"Provided authority does not support logout."},lt=function(e){function t(r,n){var o=e.call(this,r,n)||this;return o.name="ClientAuthError",Object.setPrototypeOf(o,t.prototype),o}return D(t,e),t.createClientInfoDecodingError=function(e){return new t(Ae.code,Ae.desc+" Failed with error: "+e)},t.createClientInfoEmptyError=function(){return new t(Ie.code,""+Ie.desc)},t.createTokenParsingError=function(e){return new t(_e.code,_e.desc+" Failed with error: "+e)},t.createTokenNullOrEmptyError=function(e){return new t(be.code,be.desc+" Raw Token Value: "+e)},t.createEndpointDiscoveryIncompleteError=function(e){return new t(Re.code,Re.desc+" Detail: "+e)},t.createNetworkError=function(e,r){return new t(Oe.code,Oe.desc+" | Fetch client threw: "+r+" | Attempted to reach: "+e.split("?")[0])},t.createUnableToGetOpenidConfigError=function(e){return new t(ke.code,ke.desc+" Attempted to retrieve endpoints from: "+e)},t.createHashNotDeserializedError=function(e){return new t(Ne.code,Ne.desc+" Given Object: "+e)},t.createInvalidStateError=function(e,r){return new t(Pe.code,Pe.desc+" Invalid State: "+e+", Root Err: "+r)},t.createStateMismatchError=function(){return new t(Ue.code,Ue.desc)},t.createStateNotFoundError=function(e){return new t(Me.code,Me.desc+":  "+e)},t.createNonceMismatchError=function(){return new t(De.code,De.desc)},t.createNonceNotFoundError=function(e){return new t(Le.code,Le.desc+":  "+e)},t.createMultipleMatchingTokensInCacheError=function(){return new t(He.code,He.desc+".")},t.createMultipleMatchingAccountsInCacheError=function(){return new t(qe.code,qe.desc)},t.createMultipleMatchingAppMetadataInCacheError=function(){return new t(Fe.code,Fe.desc)},t.createTokenRequestCannotBeMadeError=function(){return new t(Ke.code,Ke.desc)},t.createAppendEmptyScopeToSetError=function(e){return new t(xe.code,xe.desc+" Given Scope: "+e)},t.createRemoveEmptyScopeFromSetError=function(e){return new t(Be.code,Be.desc+" Given Scope: "+e)},t.createAppendScopeSetError=function(e){return new t(Ge.code,Ge.desc+" Detail Error: "+e)},t.createEmptyInputScopeSetError=function(){return new t(Xe.code,""+Xe.desc)},t.createDeviceCodeCancelledError=function(){return new t(je.code,""+je.desc)},t.createDeviceCodeExpiredError=function(){return new t(ze.code,""+ze.desc)},t.createDeviceCodeUnknownError=function(){return new t(We.code,""+We.desc)},t.createNoAccountInSilentRequestError=function(){return new t(Ye.code,""+Ye.desc)},t.createNullOrUndefinedCacheRecord=function(){return new t(Qe.code,Qe.desc)},t.createInvalidCacheEnvironmentError=function(){return new t(Je.code,Je.desc)},t.createNoAccountFoundError=function(){return new t(Ve.code,Ve.desc)},t.createCachePluginError=function(){return new t($e.code,""+$e.desc)},t.createNoCryptoObjectError=function(e){return new t(Ze.code,""+Ze.desc+e)},t.createInvalidCacheTypeError=function(){return new t(et.code,""+et.desc)},t.createUnexpectedAccountTypeError=function(){return new t(tt.code,""+tt.desc)},t.createUnexpectedCredentialTypeError=function(){return new t(rt.code,""+rt.desc)},t.createInvalidAssertionError=function(){return new t(nt.code,""+nt.desc)},t.createInvalidCredentialError=function(){return new t(ot.code,""+ot.desc)},t.createRefreshRequiredError=function(){return new t(it.code,it.desc)},t.createUserTimeoutReachedError=function(){return new t(at.code,at.desc)},t.createTokenClaimsRequiredError=function(){return new t(st.code,st.desc)},t.createNoAuthCodeInServerResponseError=function(){return new t(ct.code,ct.desc)},t.createBindingKeyNotRemovedError=function(){return new t(ut.code,ut.desc)},t.createLogoutNotSupportedError=function(){return new t(dt.code,dt.desc)},t}(Se),ht=function(){function e(){}return e.decodeAuthToken=function(t){if(e.isEmpty(t))throw lt.createTokenNullOrEmptyError(t);var r=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!r||r.length<4)throw lt.createTokenParsingError("Given token is malformed: "+JSON.stringify(t));return{header:r[1],JWSPayload:r[2],JWSSig:r[3]}},e.isEmpty=function(e){return void 0===e||!e||0===e.length},e.isEmptyObj=function(t){if(t&&!e.isEmpty(t))try{var r=JSON.parse(t);return 0===Object.keys(r).length}catch(e){}return!0},e.startsWith=function(e,t){return 0===e.indexOf(t)},e.endsWith=function(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length},e.queryStringToObject=function(e){var t={},r=e.split("&"),n=function(e){return decodeURIComponent(e.replace(/\+/g," "))};return r.forEach((function(e){if(e.trim()){var r=e.split(/=(.+)/g,2),o=r[0],i=r[1];o&&i&&(t[n(o)]=n(i))}})),t},e.trimArrayEntries=function(e){return e.map((function(e){return e.trim()}))},e.removeEmptyStringsFromArray=function(t){return t.filter((function(t){return!e.isEmpty(t)}))},e.jsonParseHelper=function(e){try{return JSON.parse(e)}catch(e){return null}},e.matchPattern=function(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)},e}();!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(Ce||(Ce={}));var pt,gt=function(){function e(e,t,r){this.level=Ce.Info;this.localCallback=e.loggerCallback||function(){},this.piiLoggingEnabled=e.piiLoggingEnabled||!1,this.level="number"==typeof e.logLevel?e.logLevel:Ce.Info,this.correlationId=e.correlationId||"",this.packageName=t||j.EMPTY_STRING,this.packageVersion=r||j.EMPTY_STRING}return e.prototype.clone=function(t,r,n){return new e({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},t,r)},e.prototype.logMessage=function(e,t){if(!(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)){var r=(new Date).toUTCString(),n=(ht.isEmpty(t.correlationId)?ht.isEmpty(this.correlationId)?"["+r+"]":"["+r+"] : ["+this.correlationId+"]":"["+r+"] : ["+t.correlationId+"]")+" : "+this.packageName+"@"+this.packageVersion+" : "+Ce[t.logLevel]+" - "+e;this.executeCallback(t.logLevel,n,t.containsPii||!1)}},e.prototype.executeCallback=function(e,t,r){this.localCallback&&this.localCallback(e,t,r)},e.prototype.error=function(e,t){this.logMessage(e,{logLevel:Ce.Error,containsPii:!1,correlationId:t||""})},e.prototype.errorPii=function(e,t){this.logMessage(e,{logLevel:Ce.Error,containsPii:!0,correlationId:t||""})},e.prototype.warning=function(e,t){this.logMessage(e,{logLevel:Ce.Warning,containsPii:!1,correlationId:t||""})},e.prototype.warningPii=function(e,t){this.logMessage(e,{logLevel:Ce.Warning,containsPii:!0,correlationId:t||""})},e.prototype.info=function(e,t){this.logMessage(e,{logLevel:Ce.Info,containsPii:!1,correlationId:t||""})},e.prototype.infoPii=function(e,t){this.logMessage(e,{logLevel:Ce.Info,containsPii:!0,correlationId:t||""})},e.prototype.verbose=function(e,t){this.logMessage(e,{logLevel:Ce.Verbose,containsPii:!1,correlationId:t||""})},e.prototype.verbosePii=function(e,t){this.logMessage(e,{logLevel:Ce.Verbose,containsPii:!0,correlationId:t||""})},e.prototype.trace=function(e,t){this.logMessage(e,{logLevel:Ce.Trace,containsPii:!1,correlationId:t||""})},e.prototype.tracePii=function(e,t){this.logMessage(e,{logLevel:Ce.Trace,containsPii:!0,correlationId:t||""})},e.prototype.isPiiLoggingEnabled=function(){return this.piiLoggingEnabled||!1},e}();
/*! @azure/msal-common v6.1.0 2022-02-08 */!function(e){e[e.None=0]="None",e.AzurePublic="https://login.microsoftonline.com",e.AzureChina="https://login.chinacloudapi.cn",e.AzureGermany="https://login.microsoftonline.de",e.AzureUsGovernment="https://login.microsoftonline.us"}(pt||(pt={}));
/*! @azure/msal-common v6.1.0 2022-02-08 */
var ft,mt=function(){function e(){}return e.prototype.generateAccountId=function(){return e.generateAccountIdForCacheKey(this.homeAccountId,this.environment)},e.prototype.generateCredentialId=function(){return e.generateCredentialIdForCacheKey(this.credentialType,this.clientId,this.realm,this.familyId)},e.prototype.generateTarget=function(){return e.generateTargetForCacheKey(this.target)},e.prototype.generateCredentialKey=function(){return e.generateCredentialCacheKey(this.homeAccountId,this.environment,this.credentialType,this.clientId,this.realm,this.target,this.familyId,this.tokenType,this.requestedClaimsHash)},e.prototype.generateType=function(){switch(this.credentialType){case ee.ID_TOKEN:return re.ID_TOKEN;case ee.ACCESS_TOKEN:case ee.ACCESS_TOKEN_WITH_AUTH_SCHEME:return re.ACCESS_TOKEN;case ee.REFRESH_TOKEN:return re.REFRESH_TOKEN;default:throw lt.createUnexpectedCredentialTypeError()}},e.getCredentialType=function(e){return-1!==e.indexOf(ee.ACCESS_TOKEN.toLowerCase())?-1!==e.indexOf(ee.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())?ee.ACCESS_TOKEN_WITH_AUTH_SCHEME:ee.ACCESS_TOKEN:-1!==e.indexOf(ee.ID_TOKEN.toLowerCase())?ee.ID_TOKEN:-1!==e.indexOf(ee.REFRESH_TOKEN.toLowerCase())?ee.REFRESH_TOKEN:j.NOT_DEFINED},e.generateCredentialCacheKey=function(e,t,r,n,o,i,a,s,c){return[this.generateAccountIdForCacheKey(e,t),this.generateCredentialIdForCacheKey(r,n,o,a),this.generateTargetForCacheKey(i),this.generateClaimsHashForCacheKey(c),this.generateSchemeForCacheKey(s)].join(Z.CACHE_KEY_SEPARATOR).toLowerCase()},e.generateAccountIdForCacheKey=function(e,t){return[e,t].join(Z.CACHE_KEY_SEPARATOR).toLowerCase()},e.generateCredentialIdForCacheKey=function(e,t,r,n){return[e,e===ee.REFRESH_TOKEN&&n||t,r||""].join(Z.CACHE_KEY_SEPARATOR).toLowerCase()},e.generateTargetForCacheKey=function(e){return(e||"").toLowerCase()},e.generateClaimsHashForCacheKey=function(e){return(e||"").toLowerCase()},e.generateSchemeForCacheKey=function(e){return e&&e.toLowerCase()!==se.BEARER.toLowerCase()?e.toLowerCase():""},e}(),yt={code:"redirect_uri_empty",desc:"A redirect URI is required for all calls, and none has been set."},vt={code:"post_logout_uri_empty",desc:"A post logout redirect has not been set."},Et={code:"claims_request_parsing_error",desc:"Could not parse the given claims request object."},Ct={code:"authority_uri_insecure",desc:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options"},wt={code:"url_parse_error",desc:"URL could not be parsed into appropriate segments."},St={code:"empty_url_error",desc:"URL was empty or null."},Tt={code:"empty_input_scopes_error",desc:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token."},At={code:"clientid_input_scopes_error",desc:"Client ID can only be provided as a single scope."},It={code:"invalid_prompt_value",desc:"Supported prompt values are 'login', 'select_account', 'consent', 'create' and 'none'.  Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest"},_t={code:"invalid_claims",desc:"Given claims parameter must be a stringified JSON object."},bt={code:"token_request_empty",desc:"Token request was empty and not found in cache."},Rt={code:"logout_request_empty",desc:"The logout request was null or undefined."},Ot={code:"invalid_code_challenge_method",desc:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".'},kt={code:"pkce_params_missing",desc:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request"},Nt={code:"invalid_cloud_discovery_metadata",desc:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields"},Pt={code:"invalid_authority_metadata",desc:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields."},Ut={code:"untrusted_authority",desc:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter."},Mt={code:"invalid_azure_cloud_instance",desc:"Invalid AzureCloudInstance provided. Please refer MSAL JS docs: aks.ms/msaljs/azure_cloud_instance for valid values"},Dt={code:"missing_ssh_jwk",desc:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme."},Lt={code:"missing_ssh_kid",desc:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme."},Ht={code:"missing_nonce_authentication_header",desc:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce."},qt={code:"invalid_authentication_header",desc:"Invalid authentication header provided"},Ft=function(e){function t(r,n){var o=e.call(this,r,n)||this;return o.name="ClientConfigurationError",Object.setPrototypeOf(o,t.prototype),o}return D(t,e),t.createRedirectUriEmptyError=function(){return new t(yt.code,yt.desc)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(vt.code,vt.desc)},t.createClaimsRequestParsingError=function(e){return new t(Et.code,Et.desc+" Given value: "+e)},t.createInsecureAuthorityUriError=function(e){return new t(Ct.code,Ct.desc+" Given URI: "+e)},t.createUrlParseError=function(e){return new t(wt.code,wt.desc+" Given Error: "+e)},t.createUrlEmptyError=function(){return new t(St.code,St.desc)},t.createEmptyScopesArrayError=function(){return new t(Tt.code,""+Tt.desc)},t.createClientIdSingleScopeError=function(e){return new t(At.code,At.desc+" Given Scopes: "+e)},t.createInvalidPromptError=function(e){return new t(It.code,It.desc+" Given value: "+e)},t.createInvalidClaimsRequestError=function(){return new t(_t.code,_t.desc)},t.createEmptyLogoutRequestError=function(){return new t(Rt.code,Rt.desc)},t.createEmptyTokenRequestError=function(){return new t(bt.code,bt.desc)},t.createInvalidCodeChallengeMethodError=function(){return new t(Ot.code,Ot.desc)},t.createInvalidCodeChallengeParamsError=function(){return new t(kt.code,kt.desc)},t.createInvalidCloudDiscoveryMetadataError=function(){return new t(Nt.code,Nt.desc)},t.createInvalidAuthorityMetadataError=function(){return new t(Pt.code,Pt.desc)},t.createUntrustedAuthorityError=function(){return new t(Ut.code,Ut.desc)},t.createInvalidAzureCloudInstanceError=function(){return new t(Mt.code,Mt.desc)},t.createMissingSshJwkError=function(){return new t(Dt.code,Dt.desc)},t.createMissingSshKidError=function(){return new t(Lt.code,Lt.desc)},t.createMissingNonceAuthenticationHeadersError=function(){return new t(Ht.code,Ht.desc)},t.createInvalidAuthenticationHeaderError=function(e,r){return new t(qt.code,qt.desc+". Invalid header: "+e+". Details: "+r)},t}(lt),Kt=function(){function e(e){var t=this,r=e?ht.trimArrayEntries(F(e)):[],n=r?ht.removeEmptyStringsFromArray(r):[];this.validateInputScopes(n),this.scopes=new Set,n.forEach((function(e){return t.scopes.add(e)}))}return e.fromString=function(t){return new e((t||"").split(" "))},e.prototype.validateInputScopes=function(e){if(!e||e.length<1)throw Ft.createEmptyScopesArrayError()},e.prototype.containsScope=function(t){var r=new e(this.printScopesLowerCase().split(" "));return!ht.isEmpty(t)&&r.scopes.has(t.toLowerCase())},e.prototype.containsScopeSet=function(e){var t=this;return!(!e||e.scopes.size<=0)&&(this.scopes.size>=e.scopes.size&&e.asArray().every((function(e){return t.containsScope(e)})))},e.prototype.containsOnlyOIDCScopes=function(){var e=this,t=0;return W.forEach((function(r){e.containsScope(r)&&(t+=1)})),this.scopes.size===t},e.prototype.appendScope=function(e){ht.isEmpty(e)||this.scopes.add(e.trim())},e.prototype.appendScopes=function(e){var t=this;try{e.forEach((function(e){return t.appendScope(e)}))}catch(e){throw lt.createAppendScopeSetError(e)}},e.prototype.removeScope=function(e){if(ht.isEmpty(e))throw lt.createRemoveEmptyScopeFromSetError(e);this.scopes.delete(e.trim())},e.prototype.removeOIDCScopes=function(){var e=this;W.forEach((function(t){e.scopes.delete(t)}))},e.prototype.unionScopeSets=function(e){if(!e)throw lt.createEmptyInputScopeSetError();var t=new Set;return e.scopes.forEach((function(e){return t.add(e.toLowerCase())})),this.scopes.forEach((function(e){return t.add(e.toLowerCase())})),t},e.prototype.intersectingScopeSets=function(e){if(!e)throw lt.createEmptyInputScopeSetError();e.containsOnlyOIDCScopes()||e.removeOIDCScopes();var t=this.unionScopeSets(e),r=e.getScopeCount(),n=this.getScopeCount();return t.size<n+r},e.prototype.getScopeCount=function(){return this.scopes.size},e.prototype.asArray=function(){var e=[];return this.scopes.forEach((function(t){return e.push(t)})),e},e.prototype.printScopes=function(){return this.scopes?this.asArray().join(" "):""},e.prototype.printScopesLowerCase=function(){return this.printScopes().toLowerCase()},e}();
/*! @azure/msal-common v6.1.0 2022-02-08 */
/*! @azure/msal-common v6.1.0 2022-02-08 */
function xt(e,t){if(ht.isEmpty(e))throw lt.createClientInfoEmptyError();try{var r=t.base64Decode(e);return JSON.parse(r)}catch(e){throw lt.createClientInfoDecodingError(e)}}function Bt(e){if(ht.isEmpty(e))throw lt.createClientInfoDecodingError("Home account ID was empty.");var t=e.split(Z.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?j.EMPTY_STRING:t[1]}}
/*! @azure/msal-common v6.1.0 2022-02-08 */!function(e){e[e.Default=0]="Default",e[e.Adfs=1]="Adfs"}(ft||(ft={}));
/*! @azure/msal-common v6.1.0 2022-02-08 */
var Gt=function(){function e(){}return e.prototype.generateAccountId=function(){return[this.homeAccountId,this.environment].join(Z.CACHE_KEY_SEPARATOR).toLowerCase()},e.prototype.generateAccountKey=function(){return e.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})},e.prototype.generateType=function(){switch(this.authorityType){case $.ADFS_ACCOUNT_TYPE:return re.ADFS;case $.MSAV1_ACCOUNT_TYPE:return re.MSA;case $.MSSTS_ACCOUNT_TYPE:return re.MSSTS;case $.GENERIC_ACCOUNT_TYPE:return re.GENERIC;default:throw lt.createUnexpectedAccountTypeError()}},e.prototype.getAccountInfo=function(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,idTokenClaims:this.idTokenClaims}},e.generateAccountCacheKey=function(e){return[e.homeAccountId,e.environment||"",e.tenantId||""].join(Z.CACHE_KEY_SEPARATOR).toLowerCase()},e.createAccount=function(t,r,n,o,i,a,s,c){var u,d,l,h,p,g,f=new e;f.authorityType=$.MSSTS_ACCOUNT_TYPE,f.clientInfo=t,f.homeAccountId=r;var m=c||o&&o.getPreferredCache();if(!m)throw lt.createInvalidCacheEnvironmentError();return f.environment=m,f.realm=(null===(u=null==n?void 0:n.claims)||void 0===u?void 0:u.tid)||"",f.oboAssertion=i,n&&(f.idTokenClaims=n.claims,f.localAccountId=(null===(d=null==n?void 0:n.claims)||void 0===d?void 0:d.oid)||(null===(l=null==n?void 0:n.claims)||void 0===l?void 0:l.sub)||"",f.username=(null===(h=null==n?void 0:n.claims)||void 0===h?void 0:h.preferred_username)||((null===(p=null==n?void 0:n.claims)||void 0===p?void 0:p.emails)?n.claims.emails[0]:""),f.name=null===(g=null==n?void 0:n.claims)||void 0===g?void 0:g.name),f.cloudGraphHostName=a,f.msGraphHost=s,f},e.createGenericAccount=function(t,r,n,o,i,a,s){var c,u,d,l,h=new e;h.authorityType=n&&n.authorityType===ft.Adfs?$.ADFS_ACCOUNT_TYPE:$.GENERIC_ACCOUNT_TYPE,h.homeAccountId=t,h.realm="",h.oboAssertion=o;var p=s||n&&n.getPreferredCache();if(!p)throw lt.createInvalidCacheEnvironmentError();return r&&(h.localAccountId=(null===(c=null==r?void 0:r.claims)||void 0===c?void 0:c.oid)||(null===(u=null==r?void 0:r.claims)||void 0===u?void 0:u.sub)||"",h.username=(null===(d=null==r?void 0:r.claims)||void 0===d?void 0:d.upn)||"",h.name=(null===(l=null==r?void 0:r.claims)||void 0===l?void 0:l.name)||"",h.idTokenClaims=null==r?void 0:r.claims),h.environment=p,h.cloudGraphHostName=i,h.msGraphHost=a,h},e.generateHomeAccountId=function(e,t,r,n,o){var i,a=(null===(i=null==o?void 0:o.claims)||void 0===i?void 0:i.sub)?o.claims.sub:j.EMPTY_STRING;if(t===ft.Adfs)return a;if(e)try{var s=xt(e,n);if(!ht.isEmpty(s.uid)&&!ht.isEmpty(s.utid))return""+s.uid+Z.CLIENT_INFO_SEPARATOR+s.utid}catch(e){}return r.verbose("No client info in response"),a},e.isAccountEntity=function(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"))},e.accountInfoIsEqual=function(e,t,r){if(!e||!t)return!1;var n=!0;if(r){var o=e.idTokenClaims||{},i=t.idTokenClaims||{};n=o.iat===i.iat&&o.nonce===i.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&n},e}(),Xt=function(){function e(t,r){if(ht.isEmpty(t))throw lt.createTokenNullOrEmptyError(t);this.rawToken=t,this.claims=e.extractTokenClaims(t,r)}return e.extractTokenClaims=function(e,t){var r=ht.decodeAuthToken(e);try{var n=r.JWSPayload,o=t.base64Decode(n);return JSON.parse(o)}catch(e){throw lt.createTokenParsingError(e)}},e}(),jt=function(){function e(e,t){this.clientId=e,this.cryptoImpl=t}return e.prototype.getAllAccounts=function(){var t=this,r=this.getAccountsFilteredBy(),n=Object.keys(r).map((function(e){return r[e]}));return n.length<1?[]:n.map((function(r){var n=e.toObject(new Gt,r).getAccountInfo(),o=t.readIdTokenFromCache(t.clientId,n);return o&&!n.idTokenClaims&&(n.idTokenClaims=new Xt(o.secret,t.cryptoImpl).claims),n}))},e.prototype.saveCacheRecord=function(e){return H(this,void 0,void 0,(function(){return q(this,(function(t){switch(t.label){case 0:if(!e)throw lt.createNullOrUndefinedCacheRecord();return e.account&&this.setAccount(e.account),e.idToken&&this.setIdTokenCredential(e.idToken),e.accessToken?[4,this.saveAccessToken(e.accessToken)]:[3,2];case 1:t.sent(),t.label=2;case 2:return e.refreshToken&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata),[2]}}))}))},e.prototype.saveAccessToken=function(e){return H(this,void 0,void 0,(function(){var t,r,n,o,i=this;return q(this,(function(a){switch(a.label){case 0:return t=this.getCredentialsFilteredBy({clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash}),r=Kt.fromString(e.target),(n=Object.keys(t.accessTokens).map((function(e){return t.accessTokens[e]})))?(o=[],n.forEach((function(e){Kt.fromString(e.target).intersectingScopeSets(r)&&o.push(i.removeCredential(e))})),[4,Promise.all(o)]):[3,2];case 1:a.sent(),a.label=2;case 2:return this.setAccessTokenCredential(e),[2]}}))}))},e.prototype.getAccountsFilteredBy=function(e){return this.getAccountsFilteredByInternal(e?e.homeAccountId:"",e?e.environment:"",e?e.realm:"")},e.prototype.getAccountsFilteredByInternal=function(e,t,r){var n=this,o=this.getKeys(),i={};return o.forEach((function(o){var a=n.getAccount(o);a&&(e&&!n.matchHomeAccountId(a,e)||t&&!n.matchEnvironment(a,t)||r&&!n.matchRealm(a,r)||(i[o]=a))})),i},e.prototype.getCredentialsFilteredBy=function(e){return this.getCredentialsFilteredByInternal(e.homeAccountId,e.environment,e.credentialType,e.clientId,e.familyId,e.realm,e.target,e.oboAssertion,e.tokenType,e.keyId,e.requestedClaimsHash)},e.prototype.getCredentialsFilteredByInternal=function(e,t,r,n,o,i,a,s,c,u,d){var l=this,h=this.getKeys(),p={idTokens:{},accessTokens:{},refreshTokens:{}};return h.forEach((function(h){var g=mt.getCredentialType(h);if(g!==j.NOT_DEFINED){var f=l.getSpecificCredential(h,g);if(f&&(!s||l.matchOboAssertion(f,s))&&(!e||l.matchHomeAccountId(f,e))&&(!t||l.matchEnvironment(f,t))&&(!i||l.matchRealm(f,i))&&(!r||l.matchCredentialType(f,r))&&(!n||l.matchClientId(f,n))&&(!o||l.matchFamilyId(f,o))&&(!a||l.matchTarget(f,a))&&(!d&&!f.requestedClaimsHash||f.requestedClaimsHash===d)){if(r===ee.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(c&&!l.matchTokenType(f,c))return;if(c===se.SSH&&u&&!l.matchKeyId(f,u))return}var m=l.updateCredentialCacheKey(h,f);switch(g){case ee.ID_TOKEN:p.idTokens[m]=f;break;case ee.ACCESS_TOKEN:case ee.ACCESS_TOKEN_WITH_AUTH_SCHEME:p.accessTokens[m]=f;break;case ee.REFRESH_TOKEN:p.refreshTokens[m]=f}}}})),p},e.prototype.getAppMetadataFilteredBy=function(e){return this.getAppMetadataFilteredByInternal(e.environment,e.clientId)},e.prototype.getAppMetadataFilteredByInternal=function(e,t){var r=this,n=this.getKeys(),o={};return n.forEach((function(n){if(r.isAppMetadata(n)){var i=r.getAppMetadata(n);i&&(e&&!r.matchEnvironment(i,e)||t&&!r.matchClientId(i,t)||(o[n]=i))}})),o},e.prototype.getAuthorityMetadataByAlias=function(e){var t=this,r=this.getAuthorityMetadataKeys(),n=null;return r.forEach((function(r){if(t.isAuthorityMetadata(r)&&-1!==r.indexOf(t.clientId)){var o=t.getAuthorityMetadata(r);o&&-1!==o.aliases.indexOf(e)&&(n=o)}})),n},e.prototype.removeAllAccounts=function(){return H(this,void 0,void 0,(function(){var e,t,r=this;return q(this,(function(n){switch(n.label){case 0:return e=this.getKeys(),t=[],e.forEach((function(e){r.getAccount(e)&&t.push(r.removeAccount(e))})),[4,Promise.all(t)];case 1:return n.sent(),[2,!0]}}))}))},e.prototype.removeAccount=function(e){return H(this,void 0,void 0,(function(){var t;return q(this,(function(r){switch(r.label){case 0:if(!(t=this.getAccount(e)))throw lt.createNoAccountFoundError();return[4,this.removeAccountContext(t)];case 1:return[2,r.sent()&&this.removeItem(e,te.ACCOUNT)]}}))}))},e.prototype.removeAccountContext=function(e){return H(this,void 0,void 0,(function(){var t,r,n,o=this;return q(this,(function(i){switch(i.label){case 0:return t=this.getKeys(),r=e.generateAccountId(),n=[],t.forEach((function(e){var t=mt.getCredentialType(e);if(t!==j.NOT_DEFINED){var i=o.getSpecificCredential(e,t);i&&r===i.generateAccountId()&&n.push(o.removeCredential(i))}})),[4,Promise.all(n)];case 1:return i.sent(),[2,!0]}}))}))},e.prototype.removeCredential=function(e){return H(this,void 0,void 0,(function(){var t,r;return q(this,(function(n){switch(n.label){case 0:if(t=e.generateCredentialKey(),e.credentialType.toLowerCase()!==ee.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())return[3,4];if(e.tokenType!==se.POP)return[3,4];if(!(r=e.keyId))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cryptoImpl.removeTokenBindingKey(r)];case 2:return n.sent(),[3,4];case 3:throw n.sent(),lt.createBindingKeyNotRemovedError();case 4:return[2,this.removeItem(t,te.CREDENTIAL)]}}))}))},e.prototype.removeAppMetadata=function(){var e=this;return this.getKeys().forEach((function(t){e.isAppMetadata(t)&&e.removeItem(t,te.APP_METADATA)})),!0},e.prototype.readCacheRecord=function(e,t,r,n){var o=this.readAccountFromCache(e),i=this.readIdTokenFromCache(t,e),a=this.readAccessTokenFromCache(t,e,r),s=this.readRefreshTokenFromCache(t,e,!1),c=this.readAppMetadataFromCache(n,t);return o&&i&&(o.idTokenClaims=new Xt(i.secret,this.cryptoImpl).claims),{account:o,idToken:i,accessToken:a,refreshToken:s,appMetadata:c}},e.prototype.readAccountFromCache=function(e){var t=Gt.generateAccountCacheKey(e);return this.getAccount(t)},e.prototype.readIdTokenFromCache=function(e,t){var r={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:ee.ID_TOKEN,clientId:e,realm:t.tenantId},n=this.getCredentialsFilteredBy(r),o=Object.keys(n.idTokens).map((function(e){return n.idTokens[e]})),i=o.length;if(i<1)return null;if(i>1)throw lt.createMultipleMatchingTokensInCacheError();return o[0]},e.prototype.readAccessTokenFromCache=function(e,t,r){var n=new Kt(r.scopes||[]),o=r.authenticationScheme||se.BEARER,i=o&&o.toLowerCase()!==se.BEARER.toLowerCase()?ee.ACCESS_TOKEN_WITH_AUTH_SCHEME:ee.ACCESS_TOKEN,a={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:i,clientId:e,realm:t.tenantId,target:n.printScopesLowerCase(),tokenType:o,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash},s=this.getCredentialsFilteredBy(a),c=Object.keys(s.accessTokens).map((function(e){return s.accessTokens[e]})),u=c.length;if(u<1)return null;if(u>1)throw lt.createMultipleMatchingTokensInCacheError();return c[0]},e.prototype.readRefreshTokenFromCache=function(e,t,r){var n=r?"1":void 0,o={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:ee.REFRESH_TOKEN,clientId:e,familyId:n},i=this.getCredentialsFilteredBy(o),a=Object.keys(i.refreshTokens).map((function(e){return i.refreshTokens[e]}));return a.length<1?null:a[0]},e.prototype.readAppMetadataFromCache=function(e,t){var r={environment:e,clientId:t},n=this.getAppMetadataFilteredBy(r),o=Object.keys(n).map((function(e){return n[e]})),i=o.length;if(i<1)return null;if(i>1)throw lt.createMultipleMatchingAppMetadataInCacheError();return o[0]},e.prototype.isAppMetadataFOCI=function(e,t){var r=this.readAppMetadataFromCache(e,t);return!(!r||"1"!==r.familyId)},e.prototype.matchHomeAccountId=function(e,t){return!(!e.homeAccountId||t!==e.homeAccountId)},e.prototype.matchOboAssertion=function(e,t){return!(!e.oboAssertion||t!==e.oboAssertion)},e.prototype.matchEnvironment=function(e,t){var r=this.getAuthorityMetadataByAlias(t);return!!(r&&r.aliases.indexOf(e.environment)>-1)},e.prototype.matchCredentialType=function(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()},e.prototype.matchClientId=function(e,t){return!(!e.clientId||t!==e.clientId)},e.prototype.matchFamilyId=function(e,t){return!(!e.familyId||t!==e.familyId)},e.prototype.matchRealm=function(e,t){return!(!e.realm||t!==e.realm)},e.prototype.matchTarget=function(e,t){if(e.credentialType!==ee.ACCESS_TOKEN&&e.credentialType!==ee.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;var r=Kt.fromString(e.target),n=Kt.fromString(t);return n.containsOnlyOIDCScopes()?n.removeScope(j.OFFLINE_ACCESS_SCOPE):n.removeOIDCScopes(),r.containsScopeSet(n)},e.prototype.matchTokenType=function(e,t){return!(!e.tokenType||e.tokenType!==t)},e.prototype.matchKeyId=function(e,t){return!(!e.keyId||e.keyId!==t)},e.prototype.isAppMetadata=function(e){return-1!==e.indexOf("appmetadata")},e.prototype.isAuthorityMetadata=function(e){return-1!==e.indexOf(ie)},e.prototype.generateAuthorityMetadataCacheKey=function(e){return ie+"-"+this.clientId+"-"+e},e.prototype.getSpecificCredential=function(e,t){switch(t){case ee.ID_TOKEN:return this.getIdTokenCredential(e);case ee.ACCESS_TOKEN:case ee.ACCESS_TOKEN_WITH_AUTH_SCHEME:return this.getAccessTokenCredential(e);case ee.REFRESH_TOKEN:return this.getRefreshTokenCredential(e);default:return null}},e.toObject=function(e,t){for(var r in t)e[r]=t[r];return e},e}(),zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.setAccount=function(){throw Se.createUnexpectedError("Storage interface - setAccount() has not been implemented for the cacheStorage interface.")},t.prototype.getAccount=function(){throw Se.createUnexpectedError("Storage interface - getAccount() has not been implemented for the cacheStorage interface.")},t.prototype.setIdTokenCredential=function(){throw Se.createUnexpectedError("Storage interface - setIdTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getIdTokenCredential=function(){throw Se.createUnexpectedError("Storage interface - getIdTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setAccessTokenCredential=function(){throw Se.createUnexpectedError("Storage interface - setAccessTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getAccessTokenCredential=function(){throw Se.createUnexpectedError("Storage interface - getAccessTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setRefreshTokenCredential=function(){throw Se.createUnexpectedError("Storage interface - setRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getRefreshTokenCredential=function(){throw Se.createUnexpectedError("Storage interface - getRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setAppMetadata=function(){throw Se.createUnexpectedError("Storage interface - setAppMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAppMetadata=function(){throw Se.createUnexpectedError("Storage interface - getAppMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.setServerTelemetry=function(){throw Se.createUnexpectedError("Storage interface - setServerTelemetry() has not been implemented for the cacheStorage interface.")},t.prototype.getServerTelemetry=function(){throw Se.createUnexpectedError("Storage interface - getServerTelemetry() has not been implemented for the cacheStorage interface.")},t.prototype.setAuthorityMetadata=function(){throw Se.createUnexpectedError("Storage interface - setAuthorityMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAuthorityMetadata=function(){throw Se.createUnexpectedError("Storage interface - getAuthorityMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAuthorityMetadataKeys=function(){throw Se.createUnexpectedError("Storage interface - getAuthorityMetadataKeys() has not been implemented for the cacheStorage interface.")},t.prototype.setThrottlingCache=function(){throw Se.createUnexpectedError("Storage interface - setThrottlingCache() has not been implemented for the cacheStorage interface.")},t.prototype.getThrottlingCache=function(){throw Se.createUnexpectedError("Storage interface - getThrottlingCache() has not been implemented for the cacheStorage interface.")},t.prototype.removeItem=function(){throw Se.createUnexpectedError("Storage interface - removeItem() has not been implemented for the cacheStorage interface.")},t.prototype.containsKey=function(){throw Se.createUnexpectedError("Storage interface - containsKey() has not been implemented for the cacheStorage interface.")},t.prototype.getKeys=function(){throw Se.createUnexpectedError("Storage interface - getKeys() has not been implemented for the cacheStorage interface.")},t.prototype.clear=function(){return H(this,void 0,void 0,(function(){return q(this,(function(e){throw"Storage interface - clear() has not been implemented for the cacheStorage interface.",Se.createUnexpectedError("Storage interface - clear() has not been implemented for the cacheStorage interface.")}))}))},t.prototype.updateCredentialCacheKey=function(){throw Se.createUnexpectedError("Storage interface - updateCredentialCacheKey() has not been implemented for the cacheStorage interface.")},t}(jt),Wt={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1,proxyUrl:""},Yt={loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:Ce.Info,correlationId:""},Qt={sendGetRequestAsync:function(){return H(this,void 0,void 0,(function(){return q(this,(function(e){throw"Network interface - sendGetRequestAsync() has not been implemented",Se.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented")}))}))},sendPostRequestAsync:function(){return H(this,void 0,void 0,(function(){return q(this,(function(e){throw"Network interface - sendPostRequestAsync() has not been implemented",Se.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented")}))}))}},Jt={sku:j.SKU,version:"6.1.0",cpu:"",os:""},Vt={clientSecret:"",clientAssertion:void 0},$t={azureCloudInstance:pt.None,tenant:""+j.DEFAULT_COMMON_TENANT};
/*! @azure/msal-common v6.1.0 2022-02-08 */
/*! @azure/msal-common v6.1.0 2022-02-08 */
var Zt,er=function(e){function t(r,n,o){var i=e.call(this,r,n,o)||this;return i.name="ServerError",Object.setPrototypeOf(i,t.prototype),i}return D(t,e),t}(Se),tr=function(){function e(){}return e.generateThrottlingStorageKey=function(e){return me+"."+JSON.stringify(e)},e.preProcess=function(t,r){var n,o=e.generateThrottlingStorageKey(r),i=t.getThrottlingCache(o);if(i){if(i.throttleTime<Date.now())return void t.removeItem(o,te.THROTTLING);throw new er((null===(n=i.errorCodes)||void 0===n?void 0:n.join(" "))||j.EMPTY_STRING,i.errorMessage,i.subError)}},e.postProcess=function(t,r,n){if(e.checkResponseStatus(n)||e.checkResponseForRetryAfter(n)){var o={throttleTime:e.calculateThrottleTime(parseInt(n.headers[K.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};t.setThrottlingCache(e.generateThrottlingStorageKey(r),o)}},e.checkResponseStatus=function(e){return 429===e.status||e.status>=500&&e.status<600},e.checkResponseForRetryAfter=function(e){return!!e.headers&&(e.headers.hasOwnProperty(K.RETRY_AFTER)&&(e.status<200||e.status>=300))},e.calculateThrottleTime=function(e){var t=e<=0?0:e,r=Date.now()/1e3;return Math.floor(1e3*Math.min(r+(t||ge),r+fe))},e.removeThrottle=function(e,t,r,n){var o={clientId:t,authority:r.authority,scopes:r.scopes,homeAccountIdentifier:n,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid},i=this.generateThrottlingStorageKey(o);return e.removeItem(i,te.THROTTLING)},e}(),rr=function(){function e(e,t){this.networkClient=e,this.cacheManager=t}return e.prototype.sendPostRequest=function(e,t,r){return H(this,void 0,void 0,(function(){var n,o;return q(this,(function(i){switch(i.label){case 0:tr.preProcess(this.cacheManager,e),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.networkClient.sendPostRequestAsync(t,r)];case 2:return n=i.sent(),[3,4];case 3:throw(o=i.sent())instanceof Se?o:lt.createNetworkError(t,o);case 4:return tr.postProcess(this.cacheManager,e,n),[2,n]}}))}))},e}();
/*! @azure/msal-common v6.1.0 2022-02-08 */!function(e){e.HOME_ACCOUNT_ID="home_account_id",e.UPN="UPN"}(Zt||(Zt={}));
/*! @azure/msal-common v6.1.0 2022-02-08 */
var nr,or=function(){function e(e){var t,r,n,o,i,a,s,c,u,d,l,h,p,g;this.config=(n=(t=e).authOptions,o=t.systemOptions,i=t.loggerOptions,a=t.storageInterface,s=t.networkInterface,c=t.cryptoInterface,u=t.clientCredentials,d=t.libraryInfo,l=t.serverTelemetryManager,h=t.persistencePlugin,p=t.serializableCache,g=L(L({},Yt),i),{authOptions:(r=n,L({clientCapabilities:[],azureCloudOptions:$t},r)),systemOptions:L(L({},Wt),o),loggerOptions:g,storageInterface:a||new zt(n.clientId,Te),networkInterface:s||Qt,cryptoInterface:c||Te,clientCredentials:u||Vt,libraryInfo:L(L({},Jt),d),serverTelemetryManager:l||null,persistencePlugin:h||null,serializableCache:p||null}),this.logger=new gt(this.config.loggerOptions,"@azure/msal-common","6.1.0"),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new rr(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority}return e.prototype.createTokenRequestHeaders=function(e){var t={};if(t[K.CONTENT_TYPE]=j.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Zt.HOME_ACCOUNT_ID:try{var r=Bt(e.credential);t[K.CCS_HEADER]="Oid:"+r.uid+"@"+r.utid}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case Zt.UPN:t[K.CCS_HEADER]="UPN: "+e.credential}return t},e.prototype.executePostToTokenEndpoint=function(e,t,r,n){return H(this,void 0,void 0,(function(){var o;return q(this,(function(i){switch(i.label){case 0:return[4,this.networkManager.sendPostRequest(n,e,{body:t,headers:r,proxyUrl:this.config.systemOptions.proxyUrl})];case 1:return o=i.sent(),this.config.serverTelemetryManager&&o.status<500&&429!==o.status&&this.config.serverTelemetryManager.clearTelemetryCache(),[2,o]}}))}))},e.prototype.updateAuthority=function(e){if(!e.discoveryComplete())throw lt.createEndpointDiscoveryIncompleteError("Updated authority has not completed endpoint discovery.");this.authority=e},e}(),ir=function(){function e(){}return e.validateRedirectUri=function(e){if(ht.isEmpty(e))throw Ft.createRedirectUriEmptyError()},e.validatePrompt=function(e){var t=[];for(var r in Q)t.push(Q[r]);if(t.indexOf(e)<0)throw Ft.createInvalidPromptError(e)},e.validateClaims=function(e){try{JSON.parse(e)}catch(e){throw Ft.createInvalidClaimsRequestError()}},e.validateCodeChallengeParams=function(e,t){if(ht.isEmpty(e)||ht.isEmpty(t))throw Ft.createInvalidCodeChallengeParamsError();this.validateCodeChallengeMethod(t)},e.validateCodeChallengeMethod=function(e){if([ne.PLAIN,ne.S256].indexOf(e)<0)throw Ft.createInvalidCodeChallengeMethodError()},e.sanitizeEQParams=function(e,t){return e?(t.forEach((function(t,r){e[r]&&delete e[r]})),e):{}},e}(),ar=function(){function e(){this.parameters=new Map}return e.prototype.addResponseTypeCode=function(){this.parameters.set(G.RESPONSE_TYPE,encodeURIComponent(j.CODE_RESPONSE_TYPE))},e.prototype.addResponseMode=function(e){this.parameters.set(G.RESPONSE_MODE,encodeURIComponent(e||J.QUERY))},e.prototype.addScopes=function(e,t){void 0===t&&(t=!0);var r=t?F(e||[],z):e||[],n=new Kt(r);this.parameters.set(G.SCOPE,encodeURIComponent(n.printScopes()))},e.prototype.addClientId=function(e){this.parameters.set(G.CLIENT_ID,encodeURIComponent(e))},e.prototype.addRedirectUri=function(e){ir.validateRedirectUri(e),this.parameters.set(G.REDIRECT_URI,encodeURIComponent(e))},e.prototype.addPostLogoutRedirectUri=function(e){ir.validateRedirectUri(e),this.parameters.set(G.POST_LOGOUT_URI,encodeURIComponent(e))},e.prototype.addIdTokenHint=function(e){this.parameters.set(G.ID_TOKEN_HINT,encodeURIComponent(e))},e.prototype.addDomainHint=function(e){this.parameters.set(Y.DOMAIN_HINT,encodeURIComponent(e))},e.prototype.addLoginHint=function(e){this.parameters.set(Y.LOGIN_HINT,encodeURIComponent(e))},e.prototype.addCcsUpn=function(e){this.parameters.set(K.CCS_HEADER,encodeURIComponent("UPN:"+e))},e.prototype.addCcsOid=function(e){this.parameters.set(K.CCS_HEADER,encodeURIComponent("Oid:"+e.uid+"@"+e.utid))},e.prototype.addSid=function(e){this.parameters.set(Y.SID,encodeURIComponent(e))},e.prototype.addClaims=function(e,t){var r=this.addClientCapabilitiesToClaims(e,t);ir.validateClaims(r),this.parameters.set(G.CLAIMS,encodeURIComponent(r))},e.prototype.addCorrelationId=function(e){this.parameters.set(G.CLIENT_REQUEST_ID,encodeURIComponent(e))},e.prototype.addLibraryInfo=function(e){this.parameters.set(G.X_CLIENT_SKU,e.sku),this.parameters.set(G.X_CLIENT_VER,e.version),this.parameters.set(G.X_CLIENT_OS,e.os),this.parameters.set(G.X_CLIENT_CPU,e.cpu)},e.prototype.addPrompt=function(e){ir.validatePrompt(e),this.parameters.set(""+G.PROMPT,encodeURIComponent(e))},e.prototype.addState=function(e){ht.isEmpty(e)||this.parameters.set(G.STATE,encodeURIComponent(e))},e.prototype.addNonce=function(e){this.parameters.set(G.NONCE,encodeURIComponent(e))},e.prototype.addCodeChallengeParams=function(e,t){if(ir.validateCodeChallengeParams(e,t),!e||!t)throw Ft.createInvalidCodeChallengeParamsError();this.parameters.set(G.CODE_CHALLENGE,encodeURIComponent(e)),this.parameters.set(G.CODE_CHALLENGE_METHOD,encodeURIComponent(t))},e.prototype.addAuthorizationCode=function(e){this.parameters.set(G.CODE,encodeURIComponent(e))},e.prototype.addDeviceCode=function(e){this.parameters.set(G.DEVICE_CODE,encodeURIComponent(e))},e.prototype.addRefreshToken=function(e){this.parameters.set(G.REFRESH_TOKEN,encodeURIComponent(e))},e.prototype.addCodeVerifier=function(e){this.parameters.set(G.CODE_VERIFIER,encodeURIComponent(e))},e.prototype.addClientSecret=function(e){this.parameters.set(G.CLIENT_SECRET,encodeURIComponent(e))},e.prototype.addClientAssertion=function(e){this.parameters.set(G.CLIENT_ASSERTION,encodeURIComponent(e))},e.prototype.addClientAssertionType=function(e){this.parameters.set(G.CLIENT_ASSERTION_TYPE,encodeURIComponent(e))},e.prototype.addOboAssertion=function(e){this.parameters.set(G.OBO_ASSERTION,encodeURIComponent(e))},e.prototype.addRequestTokenUse=function(e){this.parameters.set(G.REQUESTED_TOKEN_USE,encodeURIComponent(e))},e.prototype.addGrantType=function(e){this.parameters.set(G.GRANT_TYPE,encodeURIComponent(e))},e.prototype.addClientInfo=function(){this.parameters.set("client_info","1")},e.prototype.addExtraQueryParameters=function(e){var t=this;ir.sanitizeEQParams(e,this.parameters),Object.keys(e).forEach((function(r){t.parameters.set(r,e[r])}))},e.prototype.addClientCapabilitiesToClaims=function(e,t){var r;if(e)try{r=JSON.parse(e)}catch(e){throw Ft.createInvalidClaimsRequestError()}else r={};return t&&t.length>0&&(r.hasOwnProperty(X.ACCESS_TOKEN)||(r[X.ACCESS_TOKEN]={}),r[X.ACCESS_TOKEN][X.XMS_CC]={values:t}),JSON.stringify(r)},e.prototype.addUsername=function(e){this.parameters.set(ue.username,e)},e.prototype.addPassword=function(e){this.parameters.set(ue.password,e)},e.prototype.addPopToken=function(e){ht.isEmpty(e)||(this.parameters.set(G.TOKEN_TYPE,se.POP),this.parameters.set(G.REQ_CNF,encodeURIComponent(e)))},e.prototype.addSshJwk=function(e){ht.isEmpty(e)||(this.parameters.set(G.TOKEN_TYPE,se.SSH),this.parameters.set(G.REQ_CNF,encodeURIComponent(e)))},e.prototype.addServerTelemetry=function(e){this.parameters.set(G.X_CLIENT_CURR_TELEM,e.generateCurrentRequestHeaderValue()),this.parameters.set(G.X_CLIENT_LAST_TELEM,e.generateLastRequestHeaderValue())},e.prototype.addThrottling=function(){this.parameters.set(G.X_MS_LIB_CAPABILITY,ye)},e.prototype.addLogoutHint=function(e){this.parameters.set(G.LOGOUT_HINT,encodeURIComponent(e))},e.prototype.createQueryString=function(){var e=new Array;return this.parameters.forEach((function(t,r){e.push(r+"="+t)})),e.join("&")},e}(),sr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.createIdTokenEntity=function(e,r,n,o,i,a){var s=new t;return s.credentialType=ee.ID_TOKEN,s.homeAccountId=e,s.environment=r,s.clientId=o,s.secret=n,s.realm=i,s.oboAssertion=a,s},t.isIdTokenEntity=function(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===ee.ID_TOKEN)},t}(mt),cr=function(){function e(){}return e.nowSeconds=function(){return Math.round((new Date).getTime()/1e3)},e.isTokenExpired=function(t,r){var n=Number(t)||0;return e.nowSeconds()+r>n},e.wasClockTurnedBack=function(t){return Number(t)>e.nowSeconds()},e.delay=function(e,t){return new Promise((function(r){return setTimeout((function(){return r(t)}),e)}))},e}(),ur=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.createAccessTokenEntity=function(e,r,n,o,i,a,s,c,u,d,l,h,p,g,f){var m,y,v=new t;v.homeAccountId=e,v.credentialType=ee.ACCESS_TOKEN,v.secret=n;var E=cr.nowSeconds();if(v.cachedAt=E.toString(),v.expiresOn=s.toString(),v.extendedExpiresOn=c.toString(),d&&(v.refreshOn=d.toString()),v.environment=r,v.clientId=o,v.realm=i,v.target=a,v.oboAssertion=h,v.tokenType=ht.isEmpty(l)?se.BEARER:l,g&&(v.requestedClaims=g,v.requestedClaimsHash=f),(null===(m=v.tokenType)||void 0===m?void 0:m.toLowerCase())!==se.BEARER.toLowerCase())switch(v.credentialType=ee.ACCESS_TOKEN_WITH_AUTH_SCHEME,v.tokenType){case se.POP:var C=Xt.extractTokenClaims(n,u);if(!(null===(y=null==C?void 0:C.cnf)||void 0===y?void 0:y.kid))throw lt.createTokenClaimsRequiredError();v.keyId=C.cnf.kid;break;case se.SSH:v.keyId=p}return v},t.isAccessTokenEntity=function(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.hasOwnProperty("target")&&(e.credentialType===ee.ACCESS_TOKEN||e.credentialType===ee.ACCESS_TOKEN_WITH_AUTH_SCHEME))},t}(mt),dr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.createRefreshTokenEntity=function(e,r,n,o,i,a){var s=new t;return s.clientId=o,s.credentialType=ee.REFRESH_TOKEN,s.environment=r,s.homeAccountId=e,s.secret=n,s.oboAssertion=a,i&&(s.familyId=i),s},t.isRefreshTokenEntity=function(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===ee.REFRESH_TOKEN)},t}(mt),lr=["interaction_required","consent_required","login_required"],hr=["message_only","additional_action","basic_action","user_password_expired","consent_required"],pr={code:"no_tokens_found",desc:"No refresh token found in the cache. Please sign-in."},gr=function(e){function t(r,n,o){var i=e.call(this,r,n,o)||this;return i.name="InteractionRequiredAuthError",Object.setPrototypeOf(i,t.prototype),i}return D(t,e),t.isInteractionRequiredError=function(e,t,r){var n=!!e&&lr.indexOf(e)>-1,o=!!r&&hr.indexOf(r)>-1,i=!!t&&lr.some((function(e){return t.indexOf(e)>-1}));return n||i||o},t.createNoTokensFoundError=function(){return new t(pr.code,pr.desc)},t}(Se),fr=function(e,t,r,n,o){this.account=e||null,this.idToken=t||null,this.accessToken=r||null,this.refreshToken=n||null,this.appMetadata=o||null},mr=function(){function e(){}return e.setRequestState=function(t,r,n){var o=e.generateLibraryState(t,n);return ht.isEmpty(r)?o:""+o+j.RESOURCE_DELIM+r},e.generateLibraryState=function(e,t){if(!e)throw lt.createNoCryptoObjectError("generateLibraryState");var r={id:e.createNewGuid()};t&&(r.meta=t);var n=JSON.stringify(r);return e.base64Encode(n)},e.parseRequestState=function(e,t){if(!e)throw lt.createNoCryptoObjectError("parseRequestState");if(ht.isEmpty(t))throw lt.createInvalidStateError(t,"Null, undefined or empty state");try{var r=t.split(j.RESOURCE_DELIM),n=r[0],o=r.length>1?r.slice(1).join(j.RESOURCE_DELIM):"",i=e.base64Decode(n),a=JSON.parse(i);return{userRequestState:ht.isEmpty(o)?"":o,libraryState:a}}catch(e){throw lt.createInvalidStateError(t,e)}},e}(),yr=function(){function e(t){if(this._urlString=t,ht.isEmpty(this._urlString))throw Ft.createUrlEmptyError();ht.isEmpty(this.getHash())&&(this._urlString=e.canonicalizeUri(t))}return Object.defineProperty(e.prototype,"urlString",{get:function(){return this._urlString},enumerable:!1,configurable:!0}),e.canonicalizeUri=function(e){if(e){var t=e.toLowerCase();return ht.endsWith(t,"?")?t=t.slice(0,-1):ht.endsWith(t,"?/")&&(t=t.slice(0,-2)),ht.endsWith(t,"/")||(t+="/"),t}return e},e.prototype.validateAsUri=function(){var e;try{e=this.getUrlComponents()}catch(e){throw Ft.createUrlParseError(e)}if(!e.HostNameAndPort||!e.PathSegments)throw Ft.createUrlParseError("Given url string: "+this.urlString);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw Ft.createInsecureAuthorityUriError(this.urlString)},e.appendQueryString=function(e,t){return ht.isEmpty(t)?e:e.indexOf("?")<0?e+"?"+t:e+"&"+t},e.removeHashFromUrl=function(t){return e.canonicalizeUri(t.split("#")[0])},e.prototype.replaceTenantPath=function(t){var r=this.getUrlComponents(),n=r.PathSegments;return!t||0===n.length||n[0]!==B.COMMON&&n[0]!==B.ORGANIZATIONS||(n[0]=t),e.constructAuthorityUriFromObject(r)},e.prototype.getHash=function(){return e.parseHash(this.urlString)},e.prototype.getUrlComponents=function(){var e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw Ft.createUrlParseError("Given url string: "+this.urlString);var r={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]},n=r.AbsolutePath.split("/");return n=n.filter((function(e){return e&&e.length>0})),r.PathSegments=n,!ht.isEmpty(r.QueryString)&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r},e.getDomainFromUrl=function(e){var t=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(t);if(!r)throw Ft.createUrlParseError("Given url string: "+e);return r[2]},e.getAbsoluteUrl=function(t,r){if(t[0]===j.FORWARD_SLASH){var n=new e(r).getUrlComponents();return n.Protocol+"//"+n.HostNameAndPort+t}return t},e.parseHash=function(e){var t=e.indexOf("#"),r=e.indexOf("#/");return r>-1?e.substring(r+2):t>-1?e.substring(t+1):""},e.constructAuthorityUriFromObject=function(t){return new e(t.Protocol+"//"+t.HostNameAndPort+"/"+t.PathSegments.join("/"))},e.getDeserializedHash=function(t){if(ht.isEmpty(t))return{};var r=e.parseHash(t),n=ht.queryStringToObject(ht.isEmpty(r)?t:r);if(!n)throw lt.createHashNotDeserializedError(JSON.stringify(n));return n},e.hashContainsKnownProperties=function(t){if(ht.isEmpty(t)||t.indexOf("=")<0)return!1;var r=e.getDeserializedHash(t);return!!(r.code||r.error_description||r.error||r.state)},e}();
/*! @azure/msal-common v6.1.0 2022-02-08 */!function(e){e.SW="sw",e.UHW="uhw"}(nr||(nr={}));var vr,Er=function(){function e(e){this.cryptoUtils=e}return e.prototype.generateCnf=function(e){return H(this,void 0,void 0,(function(){var t;return q(this,(function(r){switch(r.label){case 0:return[4,this.generateKid(e)];case 1:return t=r.sent(),[2,this.cryptoUtils.base64Encode(JSON.stringify(t))]}}))}))},e.prototype.generateKid=function(e){return H(this,void 0,void 0,(function(){return q(this,(function(t){switch(t.label){case 0:return[4,this.cryptoUtils.getPublicKeyThumbprint(e)];case 1:return[2,{kid:t.sent(),xms_ksl:nr.SW}]}}))}))},e.prototype.signPopToken=function(e,t){var r;return H(this,void 0,void 0,(function(){var n;return q(this,(function(o){if(n=Xt.extractTokenClaims(e,this.cryptoUtils),!(null===(r=null==n?void 0:n.cnf)||void 0===r?void 0:r.kid))throw lt.createTokenClaimsRequiredError();return[2,this.signPayload(e,n.cnf.kid,t)]}))}))},e.prototype.signPayload=function(e,t,r,n){return H(this,void 0,void 0,(function(){var o,i,a,s,c,u;return q(this,(function(d){switch(d.label){case 0:return o=r.resourceRequestMethod,i=r.resourceRequestUri,a=r.shrClaims,s=r.shrNonce,c=i?new yr(i):void 0,u=null==c?void 0:c.getUrlComponents(),[4,this.cryptoUtils.signJwt(L({at:e,ts:cr.nowSeconds(),m:null==o?void 0:o.toUpperCase(),u:null==u?void 0:u.HostNameAndPort,nonce:s||this.cryptoUtils.createNewGuid(),p:null==u?void 0:u.AbsolutePath,q:(null==u?void 0:u.QueryString)?[[],u.QueryString]:void 0,client_claims:a||void 0},n),t)];case 1:return[2,d.sent()]}}))}))},e}(),Cr=function(){function e(){}return e.prototype.generateAppMetadataKey=function(){return e.generateAppMetadataCacheKey(this.environment,this.clientId)},e.generateAppMetadataCacheKey=function(e,t){return["appmetadata",e,t].join(Z.CACHE_KEY_SEPARATOR).toLowerCase()},e.createAppMetadataEntity=function(t,r,n){var o=new e;return o.clientId=t,o.environment=r,n&&(o.familyId=n),o},e.isAppMetadataEntity=function(e,t){return!!t&&(0===e.indexOf("appmetadata")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment"))},e}(),wr=function(){function e(e,t){this.cache=e,this.hasChanged=t}return Object.defineProperty(e.prototype,"cacheHasChanged",{get:function(){return this.hasChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tokenCache",{get:function(){return this.cache},enumerable:!1,configurable:!0}),e}(),Sr=function(){function e(e,t,r,n,o,i){this.clientId=e,this.cacheStorage=t,this.cryptoObj=r,this.logger=n,this.serializableCache=o,this.persistencePlugin=i}return e.prototype.validateServerAuthorizationCodeResponse=function(e,t,r){if(!e.state||!t)throw e.state?lt.createStateNotFoundError("Cached State"):lt.createStateNotFoundError("Server State");if(decodeURIComponent(e.state)!==decodeURIComponent(t))throw lt.createStateMismatchError();if(e.error||e.error_description||e.suberror){if(gr.isInteractionRequiredError(e.error,e.error_description,e.suberror))throw new gr(e.error||j.EMPTY_STRING,e.error_description,e.suberror);throw new er(e.error||j.EMPTY_STRING,e.error_description,e.suberror)}e.client_info&&xt(e.client_info,r)},e.prototype.validateTokenResponse=function(e){if(e.error||e.error_description||e.suberror){if(gr.isInteractionRequiredError(e.error,e.error_description,e.suberror))throw new gr(e.error,e.error_description,e.suberror);var t=e.error_codes+" - ["+e.timestamp+"]: "+e.error_description+" - Correlation ID: "+e.correlation_id+" - Trace ID: "+e.trace_id;throw new er(e.error,t,e.suberror)}},e.prototype.handleServerTokenResponse=function(t,r,n,o,i,a,s){return H(this,void 0,void 0,(function(){var c,u,d,l,h;return q(this,(function(p){switch(p.label){case 0:if(t.id_token&&(c=new Xt(t.id_token||j.EMPTY_STRING,this.cryptoObj),i&&!ht.isEmpty(i.nonce)&&c.claims.nonce!==i.nonce))throw lt.createNonceMismatchError();this.homeAccountIdentifier=Gt.generateHomeAccountId(t.client_info||j.EMPTY_STRING,r.authorityType,this.logger,this.cryptoObj,c),i&&i.state&&(u=mr.parseRequestState(this.cryptoObj,i.state)),t.key_id=t.key_id||o.sshKid||void 0,d=this.generateCacheRecord(t,r,n,o,c,a,i),p.label=1;case 1:return p.trys.push([1,,5,8]),this.persistencePlugin&&this.serializableCache?(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),l=new wr(this.serializableCache,!0),[4,this.persistencePlugin.beforeCacheAccess(l)]):[3,3];case 2:p.sent(),p.label=3;case 3:return!s||!d.account||(h=d.account.generateAccountKey(),this.cacheStorage.getAccount(h))?[4,this.cacheStorage.saveCacheRecord(d)]:(this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),[2,e.generateAuthenticationResult(this.cryptoObj,r,d,!1,o,c,u)]);case 4:return p.sent(),[3,8];case 5:return this.persistencePlugin&&this.serializableCache&&l?(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),[4,this.persistencePlugin.afterCacheAccess(l)]):[3,7];case 6:p.sent(),p.label=7;case 7:return[7];case 8:return[2,e.generateAuthenticationResult(this.cryptoObj,r,d,!1,o,c,u,t.spa_code)]}}))}))},e.prototype.generateCacheRecord=function(e,t,r,n,o,i,a){var s,c,u=t.getPreferredCache();if(ht.isEmpty(u))throw lt.createInvalidCacheEnvironmentError();!ht.isEmpty(e.id_token)&&o&&(s=sr.createIdTokenEntity(this.homeAccountIdentifier,u,e.id_token||j.EMPTY_STRING,this.clientId,o.claims.tid||j.EMPTY_STRING,i),c=this.generateAccountEntity(e,o,t,i,a));var d=null;if(!ht.isEmpty(e.access_token)){var l=e.scope?Kt.fromString(e.scope):new Kt(n.scopes||[]),h=("string"==typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,p=("string"==typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,g=("string"==typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,f=r+h,m=f+p,y=g&&g>0?r+g:void 0;d=ur.createAccessTokenEntity(this.homeAccountIdentifier,u,e.access_token||j.EMPTY_STRING,this.clientId,o?o.claims.tid||j.EMPTY_STRING:t.tenant,l.printScopes(),f,m,this.cryptoObj,y,e.token_type,i,e.key_id,n.claims,n.requestedClaimsHash)}var v=null;ht.isEmpty(e.refresh_token)||(v=dr.createRefreshTokenEntity(this.homeAccountIdentifier,u,e.refresh_token||j.EMPTY_STRING,this.clientId,e.foci,i));var E=null;return ht.isEmpty(e.foci)||(E=Cr.createAppMetadataEntity(this.clientId,u,e.foci)),new fr(c,s,d,v,E)},e.prototype.generateAccountEntity=function(e,t,r,n,o){var i=r.authorityType,a=o?o.cloud_graph_host_name:"",s=o?o.msgraph_host:"";if(i===ft.Adfs)return this.logger.verbose("Authority type is ADFS, creating ADFS account"),Gt.createGenericAccount(this.homeAccountIdentifier,t,r,n,a,s);if(ht.isEmpty(e.client_info)&&"AAD"===r.protocolMode)throw lt.createClientInfoEmptyError();return e.client_info?Gt.createAccount(e.client_info,this.homeAccountIdentifier,t,r,n,a,s):Gt.createGenericAccount(this.homeAccountIdentifier,t,r,n,a,s)},e.generateAuthenticationResult=function(e,t,r,n,o,i,a,s){var c,u,d;return H(this,void 0,void 0,(function(){var l,h,p,g,f,m,y;return q(this,(function(v){switch(v.label){case 0:return l="",h=[],p=null,f=j.EMPTY_STRING,r.accessToken?r.accessToken.tokenType!==se.POP?[3,2]:[4,new Er(e).signPopToken(r.accessToken.secret,o)]:[3,4];case 1:return l=v.sent(),[3,3];case 2:l=r.accessToken.secret,v.label=3;case 3:h=Kt.fromString(r.accessToken.target).asArray(),p=new Date(1e3*Number(r.accessToken.expiresOn)),g=new Date(1e3*Number(r.accessToken.extendedExpiresOn)),v.label=4;case 4:return r.appMetadata&&(f="1"===r.appMetadata.familyId?"1":j.EMPTY_STRING),m=(null==i?void 0:i.claims.oid)||(null==i?void 0:i.claims.sub)||j.EMPTY_STRING,y=(null==i?void 0:i.claims.tid)||j.EMPTY_STRING,[2,{authority:t.canonicalAuthority,uniqueId:m,tenantId:y,scopes:h,account:r.account?r.account.getAccountInfo():null,idToken:i?i.rawToken:j.EMPTY_STRING,idTokenClaims:i?i.claims:{},accessToken:l,fromCache:n,expiresOn:p,correlationId:o.correlationId,extExpiresOn:g,familyId:f,tokenType:(null===(c=r.accessToken)||void 0===c?void 0:c.tokenType)||j.EMPTY_STRING,state:a?a.userRequestState:j.EMPTY_STRING,cloudGraphHostName:(null===(u=r.account)||void 0===u?void 0:u.cloudGraphHostName)||j.EMPTY_STRING,msGraphHost:(null===(d=r.account)||void 0===d?void 0:d.msGraphHost)||j.EMPTY_STRING,code:s}]}}))}))},e}(),Tr=function(e){function t(t){var r=e.call(this,t)||this;return r.includeRedirectUri=!0,r}return D(t,e),t.prototype.getAuthCodeUrl=function(e){return H(this,void 0,void 0,(function(){var t;return q(this,(function(r){return t=this.createAuthCodeUrlQueryString(e),[2,yr.appendQueryString(this.authority.authorizationEndpoint,t)]}))}))},t.prototype.acquireToken=function(e,t){return H(this,void 0,void 0,(function(){var r,n,o;return q(this,(function(i){switch(i.label){case 0:if(this.logger.info("in acquireToken call"),!e||ht.isEmpty(e.code))throw lt.createTokenRequestCannotBeMadeError();return r=cr.nowSeconds(),[4,this.executeTokenRequest(this.authority,e)];case 1:return n=i.sent(),(o=new Sr(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(n.body),[4,o.handleServerTokenResponse(n.body,this.authority,r,e,t)];case 2:return[2,i.sent()]}}))}))},t.prototype.handleFragmentResponse=function(e,t){var r=new Sr(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null),n=new yr(e),o=yr.getDeserializedHash(n.getHash());if(r.validateServerAuthorizationCodeResponse(o,t,this.cryptoUtils),!o.code)throw lt.createNoAuthCodeInServerResponseError();return L(L({},o),{code:o.code})},t.prototype.getLogoutUri=function(e){if(!e)throw Ft.createEmptyLogoutRequestError();var t=this.createLogoutUrlQueryString(e);return yr.appendQueryString(this.authority.endSessionEndpoint,t)},t.prototype.executeTokenRequest=function(e,t){return H(this,void 0,void 0,(function(){var r,n,o,i,a,s,c;return q(this,(function(u){switch(u.label){case 0:return r={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid},[4,this.createTokenRequestBody(t)];case 1:if(n=u.sent(),o=this.createTokenQueryParameters(t),i=void 0,t.clientInfo)try{a=xt(t.clientInfo,this.cryptoUtils),i={credential:""+a.uid+Z.CLIENT_INFO_SEPARATOR+a.utid,type:Zt.HOME_ACCOUNT_ID}}catch(e){this.logger.verbose("Could not parse client info for CCS Header: "+e)}return s=this.createTokenRequestHeaders(i||t.ccsCredential),c=ht.isEmpty(o)?e.tokenEndpoint:e.tokenEndpoint+"?"+o,[2,this.executePostToTokenEndpoint(c,n,s,r)]}}))}))},t.prototype.createTokenQueryParameters=function(e){var t=new ar;return e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.createQueryString()},t.prototype.createTokenRequestBody=function(e){return H(this,void 0,void 0,(function(){var t,r,n,o,i,a,s;return q(this,(function(c){switch(c.label){case 0:return(t=new ar).addClientId(this.config.authOptions.clientId),this.includeRedirectUri?t.addRedirectUri(e.redirectUri):ir.validateRedirectUri(e.redirectUri),t.addScopes(e.scopes),t.addAuthorizationCode(e.code),t.addLibraryInfo(this.config.libraryInfo),t.addThrottling(),this.serverTelemetryManager&&t.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&t.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(r=this.config.clientCredentials.clientAssertion,t.addClientAssertion(r.assertion),t.addClientAssertionType(r.assertionType)),t.addGrantType(V.AUTHORIZATION_CODE_GRANT),t.addClientInfo(),e.authenticationScheme!==se.POP?[3,2]:[4,new Er(this.cryptoUtils).generateCnf(e)];case 1:return n=c.sent(),t.addPopToken(n),[3,3];case 2:if(e.authenticationScheme===se.SSH){if(!e.sshJwk)throw Ft.createMissingSshJwkError();t.addSshJwk(e.sshJwk)}c.label=3;case 3:if(o=e.correlationId||this.config.cryptoInterface.createNewGuid(),t.addCorrelationId(o),(!ht.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),i=void 0,e.clientInfo)try{a=xt(e.clientInfo,this.cryptoUtils),i={credential:""+a.uid+Z.CLIENT_INFO_SEPARATOR+a.utid,type:Zt.HOME_ACCOUNT_ID}}catch(e){this.logger.verbose("Could not parse client info for CCS Header: "+e)}else i=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&i)switch(i.type){case Zt.HOME_ACCOUNT_ID:try{a=Bt(i.credential),t.addCcsOid(a)}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case Zt.UPN:t.addCcsUpn(i.credential)}return e.tokenBodyParameters&&t.addExtraQueryParameters(e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[G.RETURN_SPA_CODE]||t.addExtraQueryParameters(((s={})[G.RETURN_SPA_CODE]="1",s)),[2,t.createQueryString()]}}))}))},t.prototype.createAuthCodeUrlQueryString=function(e){var t=new ar;t.addClientId(this.config.authOptions.clientId);var r=F(e.scopes||[],e.extraScopesToConsent||[]);t.addScopes(r),t.addRedirectUri(e.redirectUri);var n=e.correlationId||this.config.cryptoInterface.createNewGuid();if(t.addCorrelationId(n),t.addResponseMode(e.responseMode),t.addResponseTypeCode(),t.addLibraryInfo(this.config.libraryInfo),t.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&t.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&t.addPrompt(e.prompt),e.domainHint&&t.addDomainHint(e.domainHint),e.prompt!==Q.SELECT_ACCOUNT)if(e.sid&&e.prompt===Q.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),t.addSid(e.sid);else if(e.account){var o=this.extractAccountSid(e.account);if(o&&e.prompt===Q.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),t.addSid(o);try{var i=Bt(e.account.homeAccountId);t.addCcsOid(i)}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),t.addLoginHint(e.loginHint),t.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),t.addLoginHint(e.account.username);try{i=Bt(e.account.homeAccountId);t.addCcsOid(i)}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),t.addLoginHint(e.loginHint),t.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&t.addNonce(e.nonce),e.state&&t.addState(e.state),(!ht.isEmpty(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),t.createQueryString()},t.prototype.createLogoutUrlQueryString=function(e){var t=new ar;return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),t.createQueryString()},t.prototype.extractAccountSid=function(e){return e.idTokenClaims&&e.idTokenClaims.sid||null},t}(or),Ar=function(e){function t(t){return e.call(this,t)||this}return D(t,e),t.prototype.acquireToken=function(e){return H(this,void 0,void 0,(function(){var t,r,n;return q(this,(function(o){switch(o.label){case 0:return t=cr.nowSeconds(),[4,this.executeTokenRequest(e,this.authority)];case 1:return r=o.sent(),(n=new Sr(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(r.body),[2,n.handleServerTokenResponse(r.body,this.authority,t,e,void 0,void 0,!0)]}}))}))},t.prototype.acquireTokenByRefreshToken=function(e){return H(this,void 0,void 0,(function(){var t,r;return q(this,(function(n){if(!e)throw Ft.createEmptyTokenRequestError();if(!e.account)throw lt.createNoAccountInSilentRequestError();if(this.cacheManager.isAppMetadataFOCI(e.account.environment,this.config.authOptions.clientId))try{return[2,this.acquireTokenWithCachedRefreshToken(e,!0)]}catch(n){if(t=n instanceof gr&&n.errorCode===pr.code,r=n instanceof er&&n.errorCode===ve&&n.subError===Ee,t||r)return[2,this.acquireTokenWithCachedRefreshToken(e,!1)];throw n}return[2,this.acquireTokenWithCachedRefreshToken(e,!1)]}))}))},t.prototype.acquireTokenWithCachedRefreshToken=function(e,t){return H(this,void 0,void 0,(function(){var r,n;return q(this,(function(o){if(!(r=this.cacheManager.readRefreshTokenFromCache(this.config.authOptions.clientId,e.account,t)))throw gr.createNoTokensFoundError();return n=L(L({},e),{refreshToken:r.secret,authenticationScheme:e.authenticationScheme||se.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Zt.HOME_ACCOUNT_ID}}),[2,this.acquireToken(n)]}))}))},t.prototype.executeTokenRequest=function(e,t){return H(this,void 0,void 0,(function(){var r,n,o,i,a;return q(this,(function(s){switch(s.label){case 0:return[4,this.createTokenRequestBody(e)];case 1:return r=s.sent(),n=this.createTokenQueryParameters(e),o=this.createTokenRequestHeaders(e.ccsCredential),i={clientId:this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},a=yr.appendQueryString(t.tokenEndpoint,n),[2,this.executePostToTokenEndpoint(a,r,o,i)]}}))}))},t.prototype.createTokenQueryParameters=function(e){var t=new ar;return e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.createQueryString()},t.prototype.createTokenRequestBody=function(e){return H(this,void 0,void 0,(function(){var t,r,n,o,i;return q(this,(function(a){switch(a.label){case 0:return(t=new ar).addClientId(this.config.authOptions.clientId),t.addScopes(e.scopes),t.addGrantType(V.REFRESH_TOKEN_GRANT),t.addClientInfo(),t.addLibraryInfo(this.config.libraryInfo),t.addThrottling(),this.serverTelemetryManager&&t.addServerTelemetry(this.serverTelemetryManager),r=e.correlationId||this.config.cryptoInterface.createNewGuid(),t.addCorrelationId(r),t.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(n=this.config.clientCredentials.clientAssertion,t.addClientAssertion(n.assertion),t.addClientAssertionType(n.assertionType)),e.authenticationScheme!==se.POP?[3,2]:[4,new Er(this.cryptoUtils).generateCnf(e)];case 1:return o=a.sent(),t.addPopToken(o),[3,3];case 2:if(e.authenticationScheme===se.SSH){if(!e.sshJwk)throw Ft.createMissingSshJwkError();t.addSshJwk(e.sshJwk)}a.label=3;case 3:if((!ht.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Zt.HOME_ACCOUNT_ID:try{i=Bt(e.ccsCredential.credential),t.addCcsOid(i)}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case Zt.UPN:t.addCcsUpn(e.ccsCredential.credential)}return[2,t.createQueryString()]}}))}))},t}(or),Ir=function(e){function t(t){return e.call(this,t)||this}return D(t,e),t.prototype.acquireToken=function(e){return H(this,void 0,void 0,(function(){var t;return q(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.acquireCachedToken(e)];case 1:return[2,r.sent()];case 2:if((t=r.sent())instanceof lt&&t.errorCode===it.code)return[2,new Ar(this.config).acquireTokenByRefreshToken(e)];throw t;case 3:return[2]}}))}))},t.prototype.acquireCachedToken=function(e){var t,r,n,o;return H(this,void 0,void 0,(function(){var i,a;return q(this,(function(s){switch(s.label){case 0:if(!e)throw Ft.createEmptyTokenRequestError();if(e.forceRefresh)throw null===(t=this.serverTelemetryManager)||void 0===t||t.setCacheOutcome(pe.FORCE_REFRESH),this.logger.info("SilentFlowClient:acquireCachedToken - Skipping cache because forceRefresh is true."),lt.createRefreshRequiredError();if(!e.account)throw lt.createNoAccountInSilentRequestError();if(i=e.authority||this.authority.getPreferredCache(),!(a=this.cacheManager.readCacheRecord(e.account,this.config.authOptions.clientId,e,i)).accessToken)throw null===(r=this.serverTelemetryManager)||void 0===r||r.setCacheOutcome(pe.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),lt.createRefreshRequiredError();if(cr.wasClockTurnedBack(a.accessToken.cachedAt)||cr.isTokenExpired(a.accessToken.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw null===(n=this.serverTelemetryManager)||void 0===n||n.setCacheOutcome(pe.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token is expired or will expire within "+this.config.systemOptions.tokenRenewalOffsetSeconds+" seconds."),lt.createRefreshRequiredError();if(a.accessToken.refreshOn&&cr.isTokenExpired(a.accessToken.refreshOn,0))throw null===(o=this.serverTelemetryManager)||void 0===o||o.setCacheOutcome(pe.REFRESH_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'."),lt.createRefreshRequiredError();return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[4,this.generateResultFromCacheRecord(a,e)];case 1:return[2,s.sent()]}}))}))},t.prototype.generateResultFromCacheRecord=function(e,t){return H(this,void 0,void 0,(function(){var r;return q(this,(function(n){switch(n.label){case 0:return e.idToken&&(r=new Xt(e.idToken.secret,this.config.cryptoInterface)),[4,Sr.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,r)];case 1:return[2,n.sent()]}}))}))},t}(or);
/*! @azure/msal-common v6.1.0 2022-02-08 */
/*! @azure/msal-common v6.1.0 2022-02-08 */
function _r(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")}
/*! @azure/msal-common v6.1.0 2022-02-08 */!function(e){e.AAD="AAD",e.OIDC="OIDC"}(vr||(vr={}));
/*! @azure/msal-common v6.1.0 2022-02-08 */
var br=function(){function e(){this.expiresAt=cr.nowSeconds()+ae}return e.prototype.updateCloudDiscoveryMetadata=function(e,t){this.aliases=e.aliases,this.preferred_cache=e.preferred_cache,this.preferred_network=e.preferred_network,this.aliasesFromNetwork=t},e.prototype.updateEndpointMetadata=function(e,t){this.authorization_endpoint=e.authorization_endpoint,this.token_endpoint=e.token_endpoint,this.end_session_endpoint=e.end_session_endpoint,this.issuer=e.issuer,this.endpointsFromNetwork=t},e.prototype.updateCanonicalAuthority=function(e){this.canonical_authority=e},e.prototype.resetExpiresAt=function(){this.expiresAt=cr.nowSeconds()+ae},e.prototype.isExpired=function(){return this.expiresAt<=cr.nowSeconds()},e.isAuthorityMetadataEntity=function(e,t){return!!t&&(0===e.indexOf(ie)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt"))},e}();
/*! @azure/msal-common v6.1.0 2022-02-08 */
/*! @azure/msal-common v6.1.0 2022-02-08 */
var Rr,Or,kr,Nr,Pr,Ur,Mr,Dr=function(){function e(e){this.networkInterface=e}return e.prototype.detectRegion=function(t,r,n){return H(this,void 0,void 0,(function(){var o,i,a,s,c;return q(this,(function(u){switch(u.label){case 0:if(o=t)return[3,8];i=e.IMDS_OPTIONS,n&&(i.proxyUrl=n),u.label=1;case 1:return u.trys.push([1,6,,7]),[4,this.getRegionFromIMDS(j.IMDS_VERSION,i)];case 2:return(a=u.sent()).status===de.httpSuccess&&(o=a.body,r.region_source=le.IMDS),a.status!==de.httpBadRequest?[3,5]:[4,this.getCurrentVersion(i)];case 3:return(s=u.sent())?[4,this.getRegionFromIMDS(s,i)]:(r.region_source=le.FAILED_AUTO_DETECTION,[2,null]);case 4:(c=u.sent()).status===de.httpSuccess&&(o=c.body,r.region_source=le.IMDS),u.label=5;case 5:return[3,7];case 6:return u.sent(),r.region_source=le.FAILED_AUTO_DETECTION,[2,null];case 7:return[3,9];case 8:r.region_source=le.ENVIRONMENT_VARIABLE,u.label=9;case 9:return o||(r.region_source=le.FAILED_AUTO_DETECTION),[2,o||null]}}))}))},e.prototype.getRegionFromIMDS=function(e,t){return H(this,void 0,void 0,(function(){return q(this,(function(r){return[2,this.networkInterface.sendGetRequestAsync(j.IMDS_ENDPOINT+"?api-version="+e+"&format=text",t,j.IMDS_TIMEOUT)]}))}))},e.prototype.getCurrentVersion=function(e){return H(this,void 0,void 0,(function(){var t;return q(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.networkInterface.sendGetRequestAsync(j.IMDS_ENDPOINT+"?format=json",e)];case 1:return(t=r.sent()).status===de.httpBadRequest&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?[2,t.body["newest-versions"][0]]:[2,null];case 2:return r.sent(),[2,null];case 3:return[2]}}))}))},e.IMDS_OPTIONS={headers:{Metadata:"true"}},e}(),Lr=function(){function e(e,t,r,n,o){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=r,this.authorityOptions=n,this.regionDiscovery=new Dr(t),this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.proxyUrl=o||j.EMPTY_STRING}return Object.defineProperty(e.prototype,"authorityType",{get:function(){var e=this.canonicalAuthorityUrlComponents.PathSegments;return e.length&&e[0].toLowerCase()===j.ADFS?ft.Adfs:ft.Default},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"protocolMode",{get:function(){return this.authorityOptions.protocolMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.authorityOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canonicalAuthority",{get:function(){return this._canonicalAuthority.urlString},set:function(e){this._canonicalAuthority=new yr(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canonicalAuthorityUrlComponents",{get:function(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hostnameAndPort",{get:function(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tenant",{get:function(){return this.canonicalAuthorityUrlComponents.PathSegments[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authorizationEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.authorization_endpoint);return this.replaceTenant(e)}throw lt.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tokenEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.token_endpoint);return this.replaceTenant(e)}throw lt.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deviceCodeEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));return this.replaceTenant(e)}throw lt.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endSessionEndpoint",{get:function(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw lt.createLogoutNotSupportedError();var e=this.replacePath(this.metadata.end_session_endpoint);return this.replaceTenant(e)}throw lt.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selfSignedJwtAudience",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.issuer);return this.replaceTenant(e)}throw lt.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),e.prototype.replaceTenant=function(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)},e.prototype.replacePath=function(e){var t=e,r=new yr(this.metadata.canonical_authority).getUrlComponents().PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((function(e,n){var o=r[n];e!==o&&(t=t.replace("/"+o+"/","/"+e+"/"))})),t},Object.defineProperty(e.prototype,"defaultOpenIdConfigurationEndpoint",{get:function(){return this.authorityType===ft.Adfs||this.protocolMode===vr.OIDC?this.canonicalAuthority+".well-known/openid-configuration":this.canonicalAuthority+"v2.0/.well-known/openid-configuration"},enumerable:!1,configurable:!0}),e.prototype.discoveryComplete=function(){return!!this.metadata},e.prototype.resolveEndpointsAsync=function(){return H(this,void 0,void 0,(function(){var e,t,r,n;return q(this,(function(o){switch(o.label){case 0:return(e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort))||(e=new br).updateCanonicalAuthority(this.canonicalAuthority),[4,this.updateCloudDiscoveryMetadata(e)];case 1:return t=o.sent(),this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network),[4,this.updateEndpointMetadata(e)];case 2:return r=o.sent(),t!==oe.CACHE&&r!==oe.CACHE&&(e.resetExpiresAt(),e.updateCanonicalAuthority(this.canonicalAuthority)),n=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache),this.cacheManager.setAuthorityMetadata(n,e),this.metadata=e,[2]}}))}))},e.prototype.updateEndpointMetadata=function(t){var r;return H(this,void 0,void 0,(function(){var n,o,i;return q(this,(function(a){switch(a.label){case 0:return(n=this.getEndpointMetadataFromConfig())?(t.updateEndpointMetadata(n,!1),[2,oe.CONFIG]):this.isAuthoritySameType(t)&&t.endpointsFromNetwork&&!t.isExpired()?[2,oe.CACHE]:[4,this.getEndpointMetadataFromNetwork()];case 1:return(n=a.sent())?(null===(r=this.authorityOptions.azureRegionConfiguration)||void 0===r?void 0:r.azureRegion)?[4,this.regionDiscovery.detectRegion(this.authorityOptions.azureRegionConfiguration.environmentRegion,this.regionDiscoveryMetadata,this.proxyUrl)]:[3,3]:[3,4];case 2:o=a.sent(),i=this.authorityOptions.azureRegionConfiguration.azureRegion===j.AZURE_REGION_AUTO_DISCOVER_FLAG?o:this.authorityOptions.azureRegionConfiguration.azureRegion,this.authorityOptions.azureRegionConfiguration.azureRegion===j.AZURE_REGION_AUTO_DISCOVER_FLAG?this.regionDiscoveryMetadata.region_outcome=o?he.AUTO_DETECTION_REQUESTED_SUCCESSFUL:he.AUTO_DETECTION_REQUESTED_FAILED:this.regionDiscoveryMetadata.region_outcome=o?this.authorityOptions.azureRegionConfiguration.azureRegion===o?he.CONFIGURED_MATCHES_DETECTED:he.CONFIGURED_NOT_DETECTED:he.CONFIGURED_NO_AUTO_DETECTION,i&&(this.regionDiscoveryMetadata.region_used=i,n=e.replaceWithRegionalInformation(n,i)),a.label=3;case 3:return t.updateEndpointMetadata(n,!0),[2,oe.NETWORK];case 4:throw lt.createUnableToGetOpenidConfigError(this.defaultOpenIdConfigurationEndpoint)}}))}))},e.prototype.isAuthoritySameType=function(e){return new yr(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length},e.prototype.getEndpointMetadataFromConfig=function(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw Ft.createInvalidAuthorityMetadataError()}return null},e.prototype.getEndpointMetadataFromNetwork=function(){return H(this,void 0,void 0,(function(){var e,t;return q(this,(function(r){switch(r.label){case 0:e={},this.proxyUrl&&(e.proxyUrl=this.proxyUrl),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(this.defaultOpenIdConfigurationEndpoint,e)];case 2:return[2,_r((t=r.sent()).body)?t.body:null];case 3:return r.sent(),[2,null];case 4:return[2]}}))}))},e.prototype.updateCloudDiscoveryMetadata=function(e){return H(this,void 0,void 0,(function(){var t;return q(this,(function(r){switch(r.label){case 0:return(t=this.getCloudDiscoveryMetadataFromConfig())?(e.updateCloudDiscoveryMetadata(t,!1),[2,oe.CONFIG]):this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!e.isExpired()?[2,oe.CACHE]:[4,this.getCloudDiscoveryMetadataFromNetwork()];case 1:if(t=r.sent())return e.updateCloudDiscoveryMetadata(t,!0),[2,oe.NETWORK];throw Ft.createUntrustedAuthorityError()}}))}))},e.prototype.getCloudDiscoveryMetadataFromConfig=function(){if(this.authorityOptions.cloudDiscoveryMetadata)try{var t=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),r=e.getCloudDiscoveryMetadataFromNetworkResponse(t.metadata,this.hostnameAndPort);if(r)return r}catch(e){throw Ft.createInvalidCloudDiscoveryMetadataError()}return this.isInKnownAuthorities()?e.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort):null},e.prototype.getCloudDiscoveryMetadataFromNetwork=function(){return H(this,void 0,void 0,(function(){var t,r,n,o,i;return q(this,(function(a){switch(a.label){case 0:t=""+j.AAD_INSTANCE_DISCOVERY_ENDPT+this.canonicalAuthority+"oauth2/v2.0/authorize",r={},this.proxyUrl&&(r.proxyUrl=this.proxyUrl),n=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(t,r)];case 2:return o=a.sent(),0===(i=function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(o.body)?o.body.metadata:[]).length?[2,null]:(n=e.getCloudDiscoveryMetadataFromNetworkResponse(i,this.hostnameAndPort),[3,4]);case 3:return a.sent(),[2,null];case 4:return n||(n=e.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),[2,n]}}))}))},e.prototype.isInKnownAuthorities=function(){var e=this;return this.authorityOptions.knownAuthorities.filter((function(t){return yr.getDomainFromUrl(t).toLowerCase()===e.hostnameAndPort})).length>0},e.generateAuthority=function(e,t){var r;if(t&&t.azureCloudInstance!==pt.None){var n=t.tenant?t.tenant:j.DEFAULT_COMMON_TENANT;r=t.azureCloudInstance+"/"+n+"/"}return r||e},e.createCloudDiscoveryMetadataFromHost=function(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}},e.getCloudDiscoveryMetadataFromNetworkResponse=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.aliases.indexOf(t)>-1)return n}return null},e.prototype.getPreferredCache=function(){if(this.discoveryComplete())return this.metadata.preferred_cache;throw lt.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},e.prototype.isAlias=function(e){return this.metadata.aliases.indexOf(e)>-1},e.isPublicCloudAuthority=function(e){return j.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0},e.buildRegionalAuthorityString=function(e,t,r){var n=new yr(e);n.validateAsUri();var o=n.getUrlComponents(),i=t+"."+o.HostNameAndPort;this.isPublicCloudAuthority(o.HostNameAndPort)&&(i=t+"."+j.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX);var a=yr.constructAuthorityUriFromObject(L(L({},n.getUrlComponents()),{HostNameAndPort:i})).urlString;return r?a+"?"+r:a},e.replaceWithRegionalInformation=function(t,r){return t.authorization_endpoint=e.buildRegionalAuthorityString(t.authorization_endpoint,r),t.token_endpoint=e.buildRegionalAuthorityString(t.token_endpoint,r,"allowestsrnonmsi=true"),t.end_session_endpoint&&(t.end_session_endpoint=e.buildRegionalAuthorityString(t.end_session_endpoint,r)),t},e}(),Hr=function(){function e(){}return e.createDiscoveredInstance=function(t,r,n,o,i){return H(this,void 0,void 0,(function(){var a,s;return q(this,(function(c){switch(c.label){case 0:a=e.createInstance(t,r,n,o,i),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,a.resolveEndpointsAsync()];case 2:return c.sent(),[2,a];case 3:throw s=c.sent(),lt.createEndpointDiscoveryIncompleteError(s);case 4:return[2]}}))}))},e.createInstance=function(e,t,r,n,o){if(ht.isEmpty(e))throw Ft.createUrlEmptyError();return new Lr(e,t,r,n,o)},e}(),qr=function(){function e(){this.failedRequests=[],this.errors=[],this.cacheHits=0}return e.isServerTelemetryEntity=function(e,t){var r=0===e.indexOf(ce.CACHE_KEY),n=!0;return t&&(n=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),r&&n},e}(),Fr=function(){function e(){}return e.isThrottlingEntity=function(e,t){var r=!1;e&&(r=0===e.indexOf(me));var n=!0;return t&&(n=t.hasOwnProperty("throttleTime")),r&&n},e}(),Kr={sendGetRequestAsync:function(){return Promise.reject(Se.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented for the Network interface."))},sendPostRequestAsync:function(){return Promise.reject(Se.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented for the Network interface."))}},xr=function(){function e(e,t){this.cacheOutcome=pe.NO_CACHE_HIT,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||j.EMPTY_STRING,this.wrapperVer=e.wrapperVer||j.EMPTY_STRING,this.telemetryCacheKey=ce.CACHE_KEY+Z.CACHE_KEY_SEPARATOR+e.clientId}return e.prototype.generateCurrentRequestHeaderValue=function(){var e=""+this.apiId+ce.VALUE_SEPARATOR+this.cacheOutcome,t=[this.wrapperSKU,this.wrapperVer].join(ce.VALUE_SEPARATOR),r=[e,this.getRegionDiscoveryFields()].join(ce.VALUE_SEPARATOR);return[ce.SCHEMA_VERSION,r,t].join(ce.CATEGORY_SEPARATOR)},e.prototype.generateLastRequestHeaderValue=function(){var t=this.getLastRequests(),r=e.maxErrorsToSend(t),n=t.failedRequests.slice(0,2*r).join(ce.VALUE_SEPARATOR),o=t.errors.slice(0,r).join(ce.VALUE_SEPARATOR),i=t.errors.length,a=[i,r<i?ce.OVERFLOW_TRUE:ce.OVERFLOW_FALSE].join(ce.VALUE_SEPARATOR);return[ce.SCHEMA_VERSION,t.cacheHits,n,o,a].join(ce.CATEGORY_SEPARATOR)},e.prototype.cacheFailedRequest=function(e){var t=this.getLastRequests();t.errors.length>=ce.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),ht.isEmpty(e.subError)?ht.isEmpty(e.errorCode)?e&&e.toString()?t.errors.push(e.toString()):t.errors.push(ce.UNKNOWN_ERROR):t.errors.push(e.errorCode):t.errors.push(e.subError),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)},e.prototype.incrementCacheHits=function(){var e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits},e.prototype.getLastRequests=function(){var e=new qr;return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e},e.prototype.clearTelemetryCache=function(){var t=this.getLastRequests(),r=e.maxErrorsToSend(t);if(r===t.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{var n=new qr;n.failedRequests=t.failedRequests.slice(2*r),n.errors=t.errors.slice(r),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}},e.maxErrorsToSend=function(e){var t,r=0,n=0,o=e.errors.length;for(t=0;t<o;t++){var i=e.failedRequests[2*t]||j.EMPTY_STRING,a=e.failedRequests[2*t+1]||j.EMPTY_STRING,s=e.errors[t]||j.EMPTY_STRING;if(!((n+=i.toString().length+a.toString().length+s.length+3)<ce.MAX_LAST_HEADER_BYTES))break;r+=1}return r},e.prototype.getRegionDiscoveryFields=function(){var e=[];return e.push(this.regionUsed||""),e.push(this.regionSource||""),e.push(this.regionOutcome||""),e.join(",")},e.prototype.updateRegionDiscoveryMetadata=function(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome},e.prototype.setCacheOutcome=function(e){this.cacheOutcome=e},e}(),Br="invalid_grant",Gr=483,Xr=600,jr="msal",zr=50,Wr="msal.js.browser";
/*! @azure/msal-common v6.1.0 2022-02-08 */!function(e){e.LocalStorage="localStorage",e.SessionStorage="sessionStorage",e.MemoryStorage="memoryStorage"}(Rr||(Rr={})),function(e){e.GET="GET",e.POST="POST"}(Or||(Or={})),function(e){e.AUTHORITY="authority",e.ACQUIRE_TOKEN_ACCOUNT="acquireToken.account",e.SESSION_STATE="session.state",e.REQUEST_STATE="request.state",e.NONCE_IDTOKEN="nonce.id_token",e.ORIGIN_URI="request.origin",e.RENEW_STATUS="token.renew.status",e.URL_HASH="urlHash",e.REQUEST_PARAMS="request.params",e.SCOPES="scopes",e.INTERACTION_STATUS_KEY="interaction.status",e.CCS_CREDENTIAL="ccs.credential",e.CORRELATION_ID="request.correlationId"}(kr||(kr={})),function(e){e.WRAPPER_SKU="wrapper.sku",e.WRAPPER_VER="wrapper.version"}(Nr||(Nr={})),function(e){e[e.acquireTokenRedirect=861]="acquireTokenRedirect",e[e.acquireTokenPopup=862]="acquireTokenPopup",e[e.ssoSilent=863]="ssoSilent",e[e.acquireTokenSilent_authCode=864]="acquireTokenSilent_authCode",e[e.handleRedirectPromise=865]="handleRedirectPromise",e[e.acquireTokenByCode=866]="acquireTokenByCode",e[e.acquireTokenSilent_silentFlow=61]="acquireTokenSilent_silentFlow",e[e.logout=961]="logout",e[e.logoutPopup=962]="logoutPopup"}(Pr||(Pr={})),function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(Ur||(Ur={})),function(e){e.Startup="startup",e.Login="login",e.Logout="logout",e.AcquireToken="acquireToken",e.SsoSilent="ssoSilent",e.HandleRedirect="handleRedirect",e.None="none"}(Mr||(Mr={}));var Yr,Qr={scopes:z};!function(e){e.React="@azure/msal-react",e.Angular="@azure/msal-angular"}(Yr||(Yr={}));var Jr=function(){function e(){}return e.decimalToHex=function(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return t},e}(),Vr=function(){function e(e){this.cryptoObj=e}return e.prototype.generateGuid=function(){try{var e=new Uint8Array(16);return this.cryptoObj.getRandomValues(e),e[6]|=64,e[6]&=79,e[8]|=128,e[8]&=191,Jr.decimalToHex(e[0])+Jr.decimalToHex(e[1])+Jr.decimalToHex(e[2])+Jr.decimalToHex(e[3])+"-"+Jr.decimalToHex(e[4])+Jr.decimalToHex(e[5])+"-"+Jr.decimalToHex(e[6])+Jr.decimalToHex(e[7])+"-"+Jr.decimalToHex(e[8])+Jr.decimalToHex(e[9])+"-"+Jr.decimalToHex(e[10])+Jr.decimalToHex(e[11])+Jr.decimalToHex(e[12])+Jr.decimalToHex(e[13])+Jr.decimalToHex(e[14])+Jr.decimalToHex(e[15])}catch(e){for(var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",r="0123456789abcdef",n=0,o="",i=0;i<36;i++)"-"!==t[i]&&"4"!==t[i]&&(n=16*Math.random()|0),"x"===t[i]?o+=r[n]:"y"===t[i]?(n&=3,o+=r[n|=8]):o+=t[i];return o}},e.isGuid=function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)},e}(),$r=function(){function e(){}return e.stringToUtf8Arr=function(e){for(var t,r=0,n=e.length,o=0;o<n;o++)r+=(t=e.charCodeAt(o))<128?1:t<2048?2:t<65536?3:t<2097152?4:t<67108864?5:6;for(var i=new Uint8Array(r),a=0,s=0;a<r;s++)(t=e.charCodeAt(s))<128?i[a++]=t:t<2048?(i[a++]=192+(t>>>6),i[a++]=128+(63&t)):t<65536?(i[a++]=224+(t>>>12),i[a++]=128+(t>>>6&63),i[a++]=128+(63&t)):t<2097152?(i[a++]=240+(t>>>18),i[a++]=128+(t>>>12&63),i[a++]=128+(t>>>6&63),i[a++]=128+(63&t)):t<67108864?(i[a++]=248+(t>>>24),i[a++]=128+(t>>>18&63),i[a++]=128+(t>>>12&63),i[a++]=128+(t>>>6&63),i[a++]=128+(63&t)):(i[a++]=252+(t>>>30),i[a++]=128+(t>>>24&63),i[a++]=128+(t>>>18&63),i[a++]=128+(t>>>12&63),i[a++]=128+(t>>>6&63),i[a++]=128+(63&t));return i},e.stringToArrayBuffer=function(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return t},e.utf8ArrToString=function(e){for(var t="",r=void 0,n=e.length,o=0;o<n;o++)r=e[o],t+=String.fromCharCode(r>251&&r<254&&o+5<n?1073741824*(r-252)+(e[++o]-128<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:r>247&&r<252&&o+4<n?(r-248<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:r>239&&r<248&&o+3<n?(r-240<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:r>223&&r<240&&o+2<n?(r-224<<12)+(e[++o]-128<<6)+e[++o]-128:r>191&&r<224&&o+1<n?(r-192<<6)+e[++o]-128:r);return t},e}(),Zr=function(){function e(){}return e.prototype.urlEncode=function(e){return encodeURIComponent(this.encode(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))},e.prototype.urlEncodeArr=function(e){return this.base64EncArr(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype.encode=function(e){var t=$r.stringToUtf8Arr(e);return this.base64EncArr(t)},e.prototype.base64EncArr=function(e){for(var t=(3-e.length%3)%3,r="",n=void 0,o=e.length,i=0,a=0;a<o;a++)n=a%3,i|=e[a]<<(16>>>n&24),2!==n&&e.length-a!=1||(r+=String.fromCharCode(this.uint6ToB64(i>>>18&63),this.uint6ToB64(i>>>12&63),this.uint6ToB64(i>>>6&63),this.uint6ToB64(63&i)),i=0);return 0===t?r:r.substring(0,r.length-t)+(1===t?"=":"==")},e.prototype.uint6ToB64=function(e){return e<26?e+65:e<52?e+71:e<62?e-4:62===e?43:63===e?47:65},e}(),en=function(){function e(){}return e.prototype.decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Invalid base64 string")}var r=this.base64DecToArr(t);return $r.utf8ArrToString(r)},e.prototype.base64DecToArr=function(e,t){for(var r=e.replace(/[^A-Za-z0-9\+\/]/g,""),n=r.length,o=t?Math.ceil((3*n+1>>>2)/t)*t:3*n+1>>>2,i=new Uint8Array(o),a=void 0,s=void 0,c=0,u=0,d=0;d<n;d++)if(s=3&d,c|=this.b64ToUint6(r.charCodeAt(d))<<18-6*s,3===s||n-d==1){for(a=0;a<3&&u<o;a++,u++)i[u]=c>>>(16>>>a&24)&255;c=0}return i},e.prototype.b64ToUint6=function(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:43===e?62:47===e?63:0},e}(),tn={code:"pkce_not_created",desc:"The PKCE code challenge and verifier could not be generated."},rn={code:"crypto_nonexistent",desc:"The crypto object or function is not available."},nn={code:"http_method_not_implemented",desc:"The HTTP method given has not been implemented in this library."},on={code:"empty_navigate_uri",desc:"Navigation URI is empty. Please check stack trace for more info."},an={code:"hash_empty_error",desc:"Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash."},sn={code:"no_state_in_hash",desc:"Hash does not contain state. Please verify that the request originated from msal."},cn={code:"hash_does_not_contain_known_properties",desc:"Hash does not contain known properites. Please verify that your redirectUri is not changing the hash."},un={code:"unable_to_parse_state",desc:"Unable to parse state. Please verify that the request originated from msal."},dn={code:"state_interaction_type_mismatch",desc:"Hash contains state but the interaction type does not match the caller."},ln={code:"interaction_in_progress",desc:"Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.  For more visit: aka.ms/msaljs/browser-errors."},hn={code:"popup_window_error",desc:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser."},pn={code:"empty_window_error",desc:"window.open returned null or undefined window object."},gn={code:"user_cancelled",desc:"User cancelled the flow."},fn={code:"monitor_window_timeout",desc:"Token acquisition in popup failed due to timeout. For more visit: aka.ms/msaljs/browser-errors."},mn={code:"monitor_window_timeout",desc:"Token acquisition in iframe failed due to timeout. For more visit: aka.ms/msaljs/browser-errors."},yn={code:"redirect_in_iframe",desc:"Code flow is not supported inside an iframe. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs."},vn={code:"block_iframe_reload",desc:"Request was blocked inside an iframe because MSAL detected an authentication response. For more visit: aka.ms/msaljs/browser-errors"},En={code:"block_nested_popups",desc:"Request was blocked inside a popup because MSAL detected it was running in a popup."},Cn={code:"iframe_closed_prematurely",desc:"The iframe being monitored was closed prematurely."},wn={code:"silent_logout_unsupported",desc:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead."},Sn={code:"no_account_error",desc:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request."},Tn={code:"silent_prompt_value_error",desc:"The value given for the prompt value is not valid for silent requests - must be set to 'none'."},An={code:"no_token_request_cache_error",desc:"No token request found in cache."},In={code:"unable_to_parse_token_request_cache_error",desc:"The cached token request could not be parsed."},_n={code:"no_cached_authority_error",desc:"No cached authority found."},bn={code:"auth_request_not_set_error",desc:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler"},Rn={code:"invalid_cache_type",desc:"Invalid cache type"},On={code:"non_browser_environment",desc:"Login and token requests are not supported in non-browser environments."},kn={code:"database_not_open",desc:"Database is not open!"},Nn={code:"no_network_connectivity",desc:"No network connectivity. Check your internet connection."},Pn={code:"post_request_failed",desc:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'"},Un={code:"get_request_failed",desc:"Network request failed. Please check the network trace to determine root cause."},Mn={code:"failed_to_parse_response",desc:"Failed to parse network response. Check network trace."},Dn={code:"unable_to_load_token",desc:"Error loading token to cache."},Ln={code:"crypto_key_not_found",desc:"Cryptographic Key or Keypair not found in browser storage."},Hn={code:"auth_code_required",desc:"An authorization code must be provided (as the `code` property on the request) to this flow."},qn={code:"database_unavailable",desc:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts."},Fn=function(e){function t(r,n){var o=e.call(this,r,n)||this;return Object.setPrototypeOf(o,t.prototype),o.name="BrowserAuthError",o}return R(t,e),t.createPkceNotGeneratedError=function(e){return new t(tn.code,tn.desc+" Detail:"+e)},t.createCryptoNotAvailableError=function(e){return new t(rn.code,rn.desc+" Detail:"+e)},t.createHttpMethodNotImplementedError=function(e){return new t(nn.code,nn.desc+" Given Method: "+e)},t.createEmptyNavigationUriError=function(){return new t(on.code,on.desc)},t.createEmptyHashError=function(e){return new t(an.code,an.desc+" Given Url: "+e)},t.createHashDoesNotContainStateError=function(){return new t(sn.code,sn.desc)},t.createHashDoesNotContainKnownPropertiesError=function(){return new t(cn.code,cn.desc)},t.createUnableToParseStateError=function(){return new t(un.code,un.desc)},t.createStateInteractionTypeMismatchError=function(){return new t(dn.code,dn.desc)},t.createInteractionInProgressError=function(){return new t(ln.code,ln.desc)},t.createPopupWindowError=function(e){var r=hn.desc;return r=ht.isEmpty(e)?r:r+" Details: "+e,new t(hn.code,r)},t.createEmptyWindowCreatedError=function(){return new t(pn.code,pn.desc)},t.createUserCancelledError=function(){return new t(gn.code,gn.desc)},t.createMonitorPopupTimeoutError=function(){return new t(fn.code,fn.desc)},t.createMonitorIframeTimeoutError=function(){return new t(mn.code,mn.desc)},t.createRedirectInIframeError=function(e){return new t(yn.code,yn.desc+" (window.parent !== window) => "+e)},t.createBlockReloadInHiddenIframeError=function(){return new t(vn.code,vn.desc)},t.createBlockAcquireTokenInPopupsError=function(){return new t(En.code,En.desc)},t.createIframeClosedPrematurelyError=function(){return new t(Cn.code,Cn.desc)},t.createSilentLogoutUnsupportedError=function(){return new t(wn.code,wn.desc)},t.createNoAccountError=function(){return new t(Sn.code,Sn.desc)},t.createSilentPromptValueError=function(e){return new t(Tn.code,Tn.desc+" Given value: "+e)},t.createUnableToParseTokenRequestCacheError=function(){return new t(In.code,In.desc)},t.createNoTokenRequestCacheError=function(){return new t(An.code,An.desc)},t.createAuthRequestNotSetError=function(){return new t(bn.code,bn.desc)},t.createNoCachedAuthorityError=function(){return new t(_n.code,_n.desc)},t.createInvalidCacheTypeError=function(){return new t(Rn.code,""+Rn.desc)},t.createNonBrowserEnvironmentError=function(){return new t(On.code,On.desc)},t.createDatabaseNotOpenError=function(){return new t(kn.code,kn.desc)},t.createNoNetworkConnectivityError=function(){return new t(Nn.code,Nn.desc)},t.createPostRequestFailedError=function(e,r){return new t(Pn.code,Pn.desc+" | Network client threw: "+e+" | Attempted to reach: "+r.split("?")[0])},t.createGetRequestFailedError=function(e,r){return new t(Un.code,Un.desc+" | Network client threw: "+e+" | Attempted to reach: "+r.split("?")[0])},t.createFailedToParseNetworkResponseError=function(e){return new t(Mn.code,Mn.desc+" | Attempted to reach: "+e.split("?")[0])},t.createUnableToLoadTokenError=function(e){return new t(Dn.code,Dn.desc+" | "+e)},t.createSigningKeyNotFoundInStorageError=function(e){return new t(Ln.code,Ln.desc+" | No match found for KeyId: "+e)},t.createAuthCodeRequiredError=function(){return new t(Hn.code,Hn.desc)},t.createDatabaseUnavailableError=function(){return new t(qn.code,qn.desc)},t}(Se),Kn=function(){function e(e){this.base64Encode=new Zr,this.cryptoObj=e}return e.prototype.generateCodes=function(){return k(this,void 0,void 0,(function(){var e,t;return N(this,(function(r){switch(r.label){case 0:return e=this.generateCodeVerifier(),[4,this.generateCodeChallengeFromVerifier(e)];case 1:return t=r.sent(),[2,{verifier:e,challenge:t}]}}))}))},e.prototype.generateCodeVerifier=function(){try{var e=new Uint8Array(32);return this.cryptoObj.getRandomValues(e),this.base64Encode.urlEncodeArr(e)}catch(e){throw Fn.createPkceNotGeneratedError(e)}},e.prototype.generateCodeChallengeFromVerifier=function(e){return k(this,void 0,void 0,(function(){var t,r;return N(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cryptoObj.sha256Digest(e)];case 1:return t=n.sent(),[2,this.base64Encode.urlEncodeArr(new Uint8Array(t))];case 2:throw r=n.sent(),Fn.createPkceNotGeneratedError(r);case 3:return[2]}}))}))},e}(),xn=new Uint8Array([1,0,1]),Bn=function(){function e(e){if(this.logger=e,!this.hasCryptoAPI())throw Fn.createCryptoNotAvailableError("Browser crypto or msCrypto object not available.");this._keygenAlgorithmOptions={name:"RSASSA-PKCS1-v1_5",hash:"SHA-256",modulusLength:2048,publicExponent:xn}}return e.prototype.sha256Digest=function(e){return k(this,void 0,void 0,(function(){var t;return N(this,(function(r){return t=$r.stringToUtf8Arr(e),[2,this.hasIECrypto()?this.getMSCryptoDigest("SHA-256",t):this.getSubtleCryptoDigest("SHA-256",t)]}))}))},e.prototype.getRandomValues=function(e){var t=window.msCrypto||window.crypto;if(!t.getRandomValues)throw Fn.createCryptoNotAvailableError("getRandomValues does not exist.");t.getRandomValues(e)},e.prototype.generateKeyPair=function(e,t){return k(this,void 0,void 0,(function(){return N(this,(function(r){return[2,this.hasIECrypto()?this.msCryptoGenerateKey(e,t):window.crypto.subtle.generateKey(this._keygenAlgorithmOptions,e,t)]}))}))},e.prototype.exportJwk=function(e){return k(this,void 0,void 0,(function(){return N(this,(function(t){return[2,this.hasIECrypto()?this.msCryptoExportJwk(e):window.crypto.subtle.exportKey("jwk",e)]}))}))},e.prototype.importJwk=function(t,r,n){return k(this,void 0,void 0,(function(){var o,i;return N(this,(function(a){return o=e.getJwkString(t),i=$r.stringToArrayBuffer(o),[2,this.hasIECrypto()?this.msCryptoImportKey(i,r,n):window.crypto.subtle.importKey("jwk",t,this._keygenAlgorithmOptions,r,n)]}))}))},e.prototype.sign=function(e,t){return k(this,void 0,void 0,(function(){return N(this,(function(r){return[2,this.hasIECrypto()?this.msCryptoSign(e,t):window.crypto.subtle.sign(this._keygenAlgorithmOptions,e,t)]}))}))},e.prototype.hasCryptoAPI=function(){return this.hasIECrypto()||this.hasBrowserCrypto()},e.prototype.hasIECrypto=function(){return"msCrypto"in window},e.prototype.hasBrowserCrypto=function(){return"crypto"in window},e.prototype.getSubtleCryptoDigest=function(e,t){return k(this,void 0,void 0,(function(){return N(this,(function(r){return[2,window.crypto.subtle.digest(e,t)]}))}))},e.prototype.getMSCryptoDigest=function(e,t){return k(this,void 0,void 0,(function(){return N(this,(function(r){return[2,new Promise((function(r,n){var o=window.msCrypto.subtle.digest(e,t.buffer);o.addEventListener("complete",(function(e){r(e.target.result)})),o.addEventListener("error",(function(e){n(e)}))}))]}))}))},e.prototype.msCryptoGenerateKey=function(e,t){return k(this,void 0,void 0,(function(){var r=this;return N(this,(function(n){return[2,new Promise((function(n,o){var i=window.msCrypto.subtle.generateKey(r._keygenAlgorithmOptions,e,t);i.addEventListener("complete",(function(e){n(e.target.result)})),i.addEventListener("error",(function(e){o(e)}))}))]}))}))},e.prototype.msCryptoExportJwk=function(e){return k(this,void 0,void 0,(function(){return N(this,(function(t){return[2,new Promise((function(t,r){var n=window.msCrypto.subtle.exportKey("jwk",e);n.addEventListener("complete",(function(e){var n=e.target.result,o=$r.utf8ArrToString(new Uint8Array(n)).replace(/\r/g,"").replace(/\n/g,"").replace(/\t/g,"").split(" ").join("").replace("\0","");try{t(JSON.parse(o))}catch(e){r(e)}})),n.addEventListener("error",(function(e){r(e)}))}))]}))}))},e.prototype.msCryptoImportKey=function(e,t,r){return k(this,void 0,void 0,(function(){var n=this;return N(this,(function(o){return[2,new Promise((function(o,i){var a=window.msCrypto.subtle.importKey("jwk",e,n._keygenAlgorithmOptions,t,r);a.addEventListener("complete",(function(e){o(e.target.result)})),a.addEventListener("error",(function(e){i(e)}))}))]}))}))},e.prototype.msCryptoSign=function(e,t){return k(this,void 0,void 0,(function(){var r=this;return N(this,(function(n){return[2,new Promise((function(n,o){var i=window.msCrypto.subtle.sign(r._keygenAlgorithmOptions,e,t);i.addEventListener("complete",(function(e){n(e.target.result)})),i.addEventListener("error",(function(e){o(e)}))}))]}))}))},e.getJwkString=function(e){return JSON.stringify(e,Object.keys(e).sort())},e}(),Gn=function(){function e(){this.dbName="msal.db",this.version=1,this.tableName="msal.db.keys",this.dbOpen=!1}return e.prototype.open=function(){return k(this,void 0,void 0,(function(){var e=this;return N(this,(function(t){return[2,new Promise((function(t,r){var n=window.indexedDB.open(e.dbName,e.version);n.addEventListener("upgradeneeded",(function(t){t.target.result.createObjectStore(e.tableName)})),n.addEventListener("success",(function(r){var n=r;e.db=n.target.result,e.dbOpen=!0,t()})),n.addEventListener("error",(function(){return r(Fn.createDatabaseUnavailableError())}))}))]}))}))},e.prototype.validateDbIsOpen=function(){return k(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return this.dbOpen?[3,2]:[4,this.open()];case 1:return[2,e.sent()];case 2:return[2]}}))}))},e.prototype.getItem=function(e){return k(this,void 0,void 0,(function(){var t=this;return N(this,(function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise((function(r,n){if(!t.db)return n(Fn.createDatabaseNotOpenError());var o=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).get(e);o.addEventListener("success",(function(e){r(e.target.result)})),o.addEventListener("error",(function(e){return n(e)}))}))]}}))}))},e.prototype.setItem=function(e,t){return k(this,void 0,void 0,(function(){var r=this;return N(this,(function(n){switch(n.label){case 0:return[4,this.validateDbIsOpen()];case 1:return n.sent(),[2,new Promise((function(n,o){if(!r.db)return o(Fn.createDatabaseNotOpenError());var i=r.db.transaction([r.tableName],"readwrite").objectStore(r.tableName).put(t,e);i.addEventListener("success",(function(){return n()})),i.addEventListener("error",(function(e){return o(e)}))}))]}}))}))},e.prototype.removeItem=function(e){return k(this,void 0,void 0,(function(){var t=this;return N(this,(function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise((function(r,n){if(!t.db)return n(Fn.createDatabaseNotOpenError());var o=t.db.transaction([t.tableName],"readwrite").objectStore(t.tableName).delete(e);o.addEventListener("success",(function(){return r()})),o.addEventListener("error",(function(e){return n(e)}))}))]}}))}))},e.prototype.getKeys=function(){return k(this,void 0,void 0,(function(){var e=this;return N(this,(function(t){switch(t.label){case 0:return[4,this.validateDbIsOpen()];case 1:return t.sent(),[2,new Promise((function(t,r){if(!e.db)return r(Fn.createDatabaseNotOpenError());var n=e.db.transaction([e.tableName],"readonly").objectStore(e.tableName).getAllKeys();n.addEventListener("success",(function(e){t(e.target.result)})),n.addEventListener("error",(function(e){return r(e)}))}))]}}))}))},e.prototype.containsKey=function(e){return k(this,void 0,void 0,(function(){var t=this;return N(this,(function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise((function(r,n){if(!t.db)return n(Fn.createDatabaseNotOpenError());var o=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).count(e);o.addEventListener("success",(function(e){r(1===e.target.result)})),o.addEventListener("error",(function(e){return n(e)}))}))]}}))}))},e.prototype.deleteDatabase=function(){return k(this,void 0,void 0,(function(){return N(this,(function(e){return[2,new Promise((function(e,t){var r=window.indexedDB.deleteDatabase("msal.db");r.addEventListener("success",(function(){return e(!0)})),r.addEventListener("error",(function(){return t(!1)}))}))]}))}))},e}(),Xn=function(){function e(){this.cache=new Map}return e.prototype.getItem=function(e){return this.cache.get(e)||null},e.prototype.setItem=function(e,t){this.cache.set(e,t)},e.prototype.removeItem=function(e){this.cache.delete(e)},e.prototype.getKeys=function(){var e=[];return this.cache.forEach((function(t,r){e.push(r)})),e},e.prototype.containsKey=function(e){return this.cache.has(e)},e.prototype.clear=function(){this.cache.clear()},e}(),jn=function(){function e(e){this.inMemoryCache=new Xn,this.indexedDBCache=new Gn,this.logger=e}return e.prototype.handleDatabaseAccessError=function(e){e instanceof Fn&&e.errorCode===qn.code&&this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")},e.prototype.getItem=function(e){return k(this,void 0,void 0,(function(){var t,r;return N(this,(function(n){switch(n.label){case 0:if(t=this.inMemoryCache.getItem(e))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.getItem(e)];case 2:return[2,n.sent()];case 3:return r=n.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2,t]}}))}))},e.prototype.setItem=function(e,t){return k(this,void 0,void 0,(function(){var r;return N(this,(function(n){switch(n.label){case 0:this.inMemoryCache.setItem(e,t),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.indexedDBCache.setItem(e,t)];case 2:return n.sent(),[3,4];case 3:return r=n.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2]}}))}))},e.prototype.removeItem=function(e){return k(this,void 0,void 0,(function(){var t;return N(this,(function(r){switch(r.label){case 0:this.inMemoryCache.removeItem(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.indexedDBCache.removeItem(e)];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),this.handleDatabaseAccessError(t),[3,4];case 4:return[2]}}))}))},e.prototype.getKeys=function(){return k(this,void 0,void 0,(function(){var e,t;return N(this,(function(r){switch(r.label){case 0:if(0!==(e=this.inMemoryCache.getKeys()).length)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),this.logger.verbose("In-memory cache is empty, now querying persistent storage."),[4,this.indexedDBCache.getKeys()];case 2:return[2,r.sent()];case 3:return t=r.sent(),this.handleDatabaseAccessError(t),[3,4];case 4:return[2,e]}}))}))},e.prototype.containsKey=function(e){return k(this,void 0,void 0,(function(){var t,r;return N(this,(function(n){switch(n.label){case 0:if(t=this.inMemoryCache.containsKey(e))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.containsKey(e)];case 2:return[2,n.sent()];case 3:return r=n.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2,t]}}))}))},e.prototype.clear=function(){return k(this,void 0,void 0,(function(){var e;return N(this,(function(t){switch(t.label){case 0:this.inMemoryCache.clear(),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.indexedDBCache.deleteDatabase()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),this.handleDatabaseAccessError(e),[3,4];case 4:return[2]}}))}))},e}(),zn=function(){function e(e){this.logger=e,this.browserCrypto=new Bn(this.logger),this.b64Encode=new Zr,this.b64Decode=new en,this.guidGenerator=new Vr(this.browserCrypto),this.pkceGenerator=new Kn(this.browserCrypto),this.cache={asymmetricKeys:new jn(this.logger),symmetricKeys:new jn(this.logger)}}return e.prototype.createNewGuid=function(){return this.guidGenerator.generateGuid()},e.prototype.base64Encode=function(e){return this.b64Encode.encode(e)},e.prototype.base64Decode=function(e){return this.b64Decode.decode(e)},e.prototype.generatePkceCodes=function(){return k(this,void 0,void 0,(function(){return N(this,(function(e){return[2,this.pkceGenerator.generateCodes()]}))}))},e.prototype.getPublicKeyThumbprint=function(t){return k(this,void 0,void 0,(function(){var r,n,o,i,a,s,c;return N(this,(function(u){switch(u.label){case 0:return[4,this.browserCrypto.generateKeyPair(e.EXTRACTABLE,e.POP_KEY_USAGES)];case 1:return r=u.sent(),[4,this.browserCrypto.exportJwk(r.publicKey)];case 2:return n=u.sent(),o={e:n.e,kty:n.kty,n:n.n},i=Bn.getJwkString(o),[4,this.hashString(i)];case 3:return a=u.sent(),[4,this.browserCrypto.exportJwk(r.privateKey)];case 4:return s=u.sent(),[4,this.browserCrypto.importJwk(s,!1,["sign"])];case 5:return c=u.sent(),[4,this.cache.asymmetricKeys.setItem(a,{privateKey:c,publicKey:r.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri})];case 6:return u.sent(),[2,a]}}))}))},e.prototype.removeTokenBindingKey=function(e){return k(this,void 0,void 0,(function(){return N(this,(function(t){switch(t.label){case 0:return[4,this.cache.asymmetricKeys.removeItem(e)];case 1:return t.sent(),[4,this.cache.asymmetricKeys.containsKey(e)];case 2:return[2,!t.sent()]}}))}))},e.prototype.clearKeystore=function(){return k(this,void 0,void 0,(function(){var e,t,r;return N(this,(function(n){switch(n.label){case 0:return e=Object.keys(this.cache),(t=this.cache[e[0]])?[4,t.deleteDatabase()]:[3,2];case 1:return r=n.sent(),[3,3];case 2:r=!1,n.label=3;case 3:return[2,r]}}))}))},e.prototype.signJwt=function(e,t){return k(this,void 0,void 0,(function(){var r,n,o,i,a,s,c,u,d,l;return N(this,(function(h){switch(h.label){case 0:return[4,this.cache.asymmetricKeys.getItem(t)];case 1:if(!(r=h.sent()))throw Fn.createSigningKeyNotFoundInStorageError(t);return[4,this.browserCrypto.exportJwk(r.publicKey)];case 2:return n=h.sent(),o=Bn.getJwkString(n),i={alg:n.alg,type:"jwk"},a=this.b64Encode.urlEncode(JSON.stringify(i)),e.cnf={jwk:JSON.parse(o)},s=this.b64Encode.urlEncode(JSON.stringify(e)),c=a+"."+s,u=$r.stringToArrayBuffer(c),[4,this.browserCrypto.sign(r.privateKey,u)];case 3:return d=h.sent(),l=this.b64Encode.urlEncodeArr(new Uint8Array(d)),[2,c+"."+l]}}))}))},e.prototype.hashString=function(e){return k(this,void 0,void 0,(function(){var t,r;return N(this,(function(n){switch(n.label){case 0:return[4,this.browserCrypto.sha256Digest(e)];case 1:return t=n.sent(),r=new Uint8Array(t),[2,this.b64Encode.urlEncodeArr(r)]}}))}))},e.POP_KEY_USAGES=["sign","verify"],e.EXTRACTABLE=!0,e}(),Wn={code:"redirect_uri_empty",desc:"A redirect URI is required for all calls, and none has been set."},Yn={code:"post_logout_uri_empty",desc:"A post logout redirect has not been set."},Qn={code:"storage_not_supported",desc:"Given storage configuration option was not supported."},Jn={code:"no_redirect_callbacks",desc:"No redirect callbacks have been set. Please call setRedirectCallbacks() with the appropriate function arguments before continuing. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics."},Vn={code:"stubbed_public_client_application_called",desc:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors"},$n={code:"in_mem_redirect_unavailable",desc:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."},Zn=function(e){function t(r,n){var o=e.call(this,r,n)||this;return o.name="BrowserConfigurationAuthError",Object.setPrototypeOf(o,t.prototype),o}return R(t,e),t.createRedirectUriEmptyError=function(){return new t(Wn.code,Wn.desc)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(Yn.code,Yn.desc)},t.createStorageNotSupportedError=function(e){return new t(Qn.code,Qn.desc+" Given Location: "+e)},t.createRedirectCallbacksNotSetError=function(){return new t(Jn.code,Jn.desc)},t.createStubPcaInstanceCalledError=function(){return new t(Vn.code,Vn.desc)},t.createInMemoryRedirectUnavailableError=function(){return new t($n.code,$n.desc)},t}(Se),eo=function(){function e(e){this.validateWindowStorage(e),this.windowStorage=window[e]}return e.prototype.validateWindowStorage=function(e){if(e!==Rr.LocalStorage&&e!==Rr.SessionStorage)throw Zn.createStorageNotSupportedError(e);if(!!!window[e])throw Zn.createStorageNotSupportedError(e)},e.prototype.getItem=function(e){return this.windowStorage.getItem(e)},e.prototype.setItem=function(e,t){this.windowStorage.setItem(e,t)},e.prototype.removeItem=function(e){this.windowStorage.removeItem(e)},e.prototype.getKeys=function(){return Object.keys(this.windowStorage)},e.prototype.containsKey=function(e){return this.windowStorage.hasOwnProperty(e)},e}(),to=function(){function e(){}return e.extractBrowserRequestState=function(e,t){if(ht.isEmpty(t))return null;try{return mr.parseRequestState(e,t).libraryState.meta}catch(e){throw lt.createInvalidStateError(t,e)}},e.parseServerResponseFromHash=function(e){if(!e)return{};var t=new yr(e);return yr.getDeserializedHash(t.getHash())},e}(),ro=function(e){function t(t,r,n,o){var i=e.call(this,t,n)||this;return i.COOKIE_LIFE_MULTIPLIER=864e5,i.cacheConfig=r,i.logger=o,i.internalStorage=new Xn,i.browserStorage=i.setupBrowserStorage(i.cacheConfig.cacheLocation),i.temporaryCacheStorage=i.setupTemporaryCacheStorage(i.cacheConfig.cacheLocation),i.migrateCacheEntries(),i}return R(t,e),t.prototype.setupBrowserStorage=function(e){switch(e){case Rr.LocalStorage:case Rr.SessionStorage:try{return new eo(e)}catch(e){this.logger.verbose(e);break}}return this.cacheConfig.cacheLocation=Rr.MemoryStorage,new Xn},t.prototype.setupTemporaryCacheStorage=function(e){switch(e){case Rr.LocalStorage:case Rr.SessionStorage:try{return new eo(Rr.SessionStorage)}catch(e){return this.logger.verbose(e),this.internalStorage}case Rr.MemoryStorage:default:return this.internalStorage}},t.prototype.migrateCacheEntries=function(){var e=this,t=j.CACHE_PREFIX+"."+x.ID_TOKEN,r=j.CACHE_PREFIX+"."+x.CLIENT_INFO,n=j.CACHE_PREFIX+"."+x.ERROR,o=j.CACHE_PREFIX+"."+x.ERROR_DESC,i=[this.browserStorage.getItem(t),this.browserStorage.getItem(r),this.browserStorage.getItem(n),this.browserStorage.getItem(o)];[x.ID_TOKEN,x.CLIENT_INFO,x.ERROR,x.ERROR_DESC].forEach((function(t,r){return e.migrateCacheEntry(t,i[r])}))},t.prototype.migrateCacheEntry=function(e,t){t&&this.setTemporaryCache(e,t,!0)},t.prototype.validateAndParseJson=function(e){try{var t=JSON.parse(e);return t&&"object"==typeof t?t:null}catch(e){return null}},t.prototype.getItem=function(e){return this.browserStorage.getItem(e)},t.prototype.setItem=function(e,t){this.browserStorage.setItem(e,t)},t.prototype.getAccount=function(e){var t=this.getItem(e);if(!t)return null;var r=this.validateAndParseJson(t);return r&&Gt.isAccountEntity(r)?jt.toObject(new Gt,r):null},t.prototype.setAccount=function(e){this.logger.trace("BrowserCacheManager.setAccount called");var t=e.generateAccountKey();this.setItem(t,JSON.stringify(e))},t.prototype.getIdTokenCredential=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null;var r=this.validateAndParseJson(t);return r&&sr.isIdTokenEntity(r)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),jt.toObject(new sr,r)):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null)},t.prototype.setIdTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");var t=e.generateCredentialKey();this.setItem(t,JSON.stringify(e))},t.prototype.getAccessTokenCredential=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null;var r=this.validateAndParseJson(t);return r&&ur.isAccessTokenEntity(r)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),jt.toObject(new ur,r)):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null)},t.prototype.setAccessTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");var t=e.generateCredentialKey();this.setItem(t,JSON.stringify(e))},t.prototype.getRefreshTokenCredential=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null;var r=this.validateAndParseJson(t);return r&&dr.isRefreshTokenEntity(r)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),jt.toObject(new dr,r)):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null)},t.prototype.setRefreshTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");var t=e.generateCredentialKey();this.setItem(t,JSON.stringify(e))},t.prototype.getAppMetadata=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;var r=this.validateAndParseJson(t);return r&&Cr.isAppMetadataEntity(e,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),jt.toObject(new Cr,r)):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null)},t.prototype.setAppMetadata=function(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");var t=e.generateAppMetadataKey();this.setItem(t,JSON.stringify(e))},t.prototype.getServerTelemetry=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;var r=this.validateAndParseJson(t);return r&&qr.isServerTelemetryEntity(e,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),jt.toObject(new qr,r)):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)},t.prototype.setServerTelemetry=function(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t))},t.prototype.getAuthorityMetadata=function(e){var t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;var r=this.validateAndParseJson(t);return r&&br.isAuthorityMetadataEntity(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),jt.toObject(new br,r)):null},t.prototype.getAuthorityMetadataKeys=function(){var e=this;return this.internalStorage.getKeys().filter((function(t){return e.isAuthorityMetadata(t)}))},t.prototype.setWrapperMetadata=function(e,t){this.internalStorage.setItem(Nr.WRAPPER_SKU,e),this.internalStorage.setItem(Nr.WRAPPER_VER,t)},t.prototype.getWrapperMetadata=function(){return[this.internalStorage.getItem(Nr.WRAPPER_SKU)||"",this.internalStorage.getItem(Nr.WRAPPER_VER)||""]},t.prototype.setAuthorityMetadata=function(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))},t.prototype.getActiveAccount=function(){var e=this.generateCacheKey(x.ACTIVE_ACCOUNT),t=this.browserStorage.getItem(e);return t&&this.getAccountInfoByFilter({localAccountId:t})[0]||null},t.prototype.setActiveAccount=function(e){var t=this.generateCacheKey(x.ACTIVE_ACCOUNT);e?(this.logger.verbose("setActiveAccount: Active account set"),this.browserStorage.setItem(t,e.localAccountId)):(this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t))},t.prototype.getAccountInfoByFilter=function(e){return this.getAllAccounts().filter((function(t){return(!e.username||e.username.toLowerCase()===t.username.toLowerCase())&&((!e.homeAccountId||e.homeAccountId===t.homeAccountId)&&((!e.localAccountId||e.localAccountId===t.localAccountId)&&((!e.tenantId||e.tenantId===t.tenantId)&&(!e.environment||e.environment===t.environment))))}))},t.prototype.getThrottlingCache=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;var r=this.validateAndParseJson(t);return r&&Fr.isThrottlingEntity(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),jt.toObject(new Fr,r)):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)},t.prototype.setThrottlingCache=function(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t))},t.prototype.getTemporaryCache=function(e,t){var r=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){var n=this.getItemCookie(r);if(n)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),n}var o=this.temporaryCacheStorage.getItem(r);if(!o){if(this.cacheConfig.cacheLocation===Rr.LocalStorage){var i=this.browserStorage.getItem(r);if(i)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),i}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),o},t.prototype.setTemporaryCache=function(e,t,r){var n=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(n,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(n,t))},t.prototype.removeItem=function(e){return this.browserStorage.removeItem(e),this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(e)),!0},t.prototype.containsKey=function(e){return this.browserStorage.containsKey(e)||this.temporaryCacheStorage.containsKey(e)},t.prototype.getKeys=function(){return U(this.browserStorage.getKeys(),this.temporaryCacheStorage.getKeys())},t.prototype.clear=function(){return k(this,void 0,void 0,(function(){var e=this;return N(this,(function(t){switch(t.label){case 0:return[4,this.removeAllAccounts()];case 1:return t.sent(),this.removeAppMetadata(),this.getKeys().forEach((function(t){!e.browserStorage.containsKey(t)&&!e.temporaryCacheStorage.containsKey(t)||-1===t.indexOf(j.CACHE_PREFIX)&&-1===t.indexOf(e.clientId)||e.removeItem(t)})),this.internalStorage.clear(),[2]}}))}))},t.prototype.setItemCookie=function(e,t,r){var n=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/;";r&&(n+="expires="+this.getCookieExpirationTime(r)+";");this.cacheConfig.secureCookies&&(n+="Secure;"),document.cookie=n},t.prototype.getItemCookie=function(e){for(var t=encodeURIComponent(e)+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var o=r[n];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return decodeURIComponent(o.substring(t.length,o.length))}return""},t.prototype.clearMsalCookies=function(){var e=this,t=j.CACHE_PREFIX+"."+this.clientId;document.cookie.split(";").forEach((function(r){for(;" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t)){var n=r.split("=")[0];e.clearItemCookie(n)}}))},t.prototype.clearItemCookie=function(e){this.setItemCookie(e,"",-1)},t.prototype.getCookieExpirationTime=function(e){var t=new Date;return new Date(t.getTime()+e*this.COOKIE_LIFE_MULTIPLIER).toUTCString()},t.prototype.getCache=function(){return this.browserStorage},t.prototype.setCache=function(){},t.prototype.generateCacheKey=function(e){return this.validateAndParseJson(e)?JSON.stringify(e):ht.startsWith(e,j.CACHE_PREFIX)||ht.startsWith(e,x.ADAL_ID_TOKEN)?e:j.CACHE_PREFIX+"."+this.clientId+"."+e},t.prototype.generateAuthorityKey=function(e){var t=mr.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(kr.AUTHORITY+"."+t)},t.prototype.generateNonceKey=function(e){var t=mr.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(kr.NONCE_IDTOKEN+"."+t)},t.prototype.generateStateKey=function(e){var t=mr.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(kr.REQUEST_STATE+"."+t)},t.prototype.getCachedAuthority=function(e){var t=this.generateStateKey(e),r=this.getTemporaryCache(t);if(!r)return null;var n=this.generateAuthorityKey(r);return this.getTemporaryCache(n)},t.prototype.updateCacheEntries=function(e,t,r,n,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");var i=this.generateStateKey(e);this.setTemporaryCache(i,e,!1);var a=this.generateNonceKey(e);this.setTemporaryCache(a,t,!1);var s=this.generateAuthorityKey(e);if(this.setTemporaryCache(s,r,!1),o){var c={credential:o.homeAccountId,type:Zt.HOME_ACCOUNT_ID};this.setTemporaryCache(kr.CCS_CREDENTIAL,JSON.stringify(c),!0)}else if(!ht.isEmpty(n)){c={credential:n,type:Zt.UPN};this.setTemporaryCache(kr.CCS_CREDENTIAL,JSON.stringify(c),!0)}},t.prototype.resetRequestCache=function(e){var t=this;this.logger.trace("BrowserCacheManager.resetRequestCache called"),ht.isEmpty(e)||this.getKeys().forEach((function(r){-1!==r.indexOf(e)&&t.removeItem(r)})),e&&(this.removeItem(this.generateStateKey(e)),this.removeItem(this.generateNonceKey(e)),this.removeItem(this.generateAuthorityKey(e))),this.removeItem(this.generateCacheKey(kr.REQUEST_PARAMS)),this.removeItem(this.generateCacheKey(kr.ORIGIN_URI)),this.removeItem(this.generateCacheKey(kr.URL_HASH)),this.removeItem(this.generateCacheKey(kr.CORRELATION_ID)),this.removeItem(this.generateCacheKey(kr.CCS_CREDENTIAL)),this.setInteractionInProgress(!1)},t.prototype.cleanRequestByState=function(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){var t=this.generateStateKey(e),r=this.temporaryCacheStorage.getItem(t);this.logger.infoPii("BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: "+r),this.resetRequestCache(r||"")}this.clearMsalCookies()},t.prototype.cleanRequestByInteractionType=function(e){var t=this;this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.getKeys().forEach((function(r){if(-1!==r.indexOf(kr.REQUEST_STATE)){var n=t.temporaryCacheStorage.getItem(r);if(n){var o=to.extractBrowserRequestState(t.cryptoImpl,n);o&&o.interactionType===e&&(t.logger.infoPii("BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: "+n),t.resetRequestCache(n))}}})),this.clearMsalCookies(),this.setInteractionInProgress(!1)},t.prototype.cacheCodeRequest=function(e,t){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");var r=t.base64Encode(JSON.stringify(e));this.setTemporaryCache(kr.REQUEST_PARAMS,r,!0)},t.prototype.getCachedRequest=function(e,t){this.logger.trace("BrowserCacheManager.getCachedRequest called");var r=this.getTemporaryCache(kr.REQUEST_PARAMS,!0);if(!r)throw Fn.createNoTokenRequestCacheError();var n=this.validateAndParseJson(t.base64Decode(r));if(!n)throw Fn.createUnableToParseTokenRequestCacheError();if(this.removeItem(this.generateCacheKey(kr.REQUEST_PARAMS)),ht.isEmpty(n.authority)){var o=this.generateAuthorityKey(e),i=this.getTemporaryCache(o);if(!i)throw Fn.createNoCachedAuthorityError();n.authority=i}return n},t.prototype.isInteractionInProgress=function(e){var t=this.getInteractionInProgress();return e?t===this.clientId:!!t},t.prototype.getInteractionInProgress=function(){var e=j.CACHE_PREFIX+"."+kr.INTERACTION_STATUS_KEY;return this.getTemporaryCache(e,!1)},t.prototype.setInteractionInProgress=function(e){var t=j.CACHE_PREFIX+"."+kr.INTERACTION_STATUS_KEY;if(e){if(this.getInteractionInProgress())throw Fn.createInteractionInProgressError();this.setTemporaryCache(t,this.clientId,!1)}else e||this.getInteractionInProgress()!==this.clientId||this.removeItem(t)},t.prototype.getLegacyLoginHint=function(){var e=this.getTemporaryCache(x.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(x.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));var t=this.getTemporaryCache(x.ID_TOKEN,!0);t&&(this.removeItem(this.generateCacheKey(x.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));var r=t||e;if(r){var n=new Xt(r,this.cryptoImpl);if(n.claims&&n.claims.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),n.claims.preferred_username;if(n.claims&&n.claims.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),n.claims.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null},t.prototype.updateCredentialCacheKey=function(e,t){var r=t.generateCredentialKey();if(e!==r){var n=this.getItem(e);if(n)return this.removeItem(e),this.setItem(r,n),this.logger.verbose("Updated an outdated "+t.credentialType+" cache key"),r;this.logger.error("Attempted to update an outdated "+t.credentialType+" cache key but no item matching the outdated key was found in storage")}return e},t}(jt),no=function(){function e(){}return e.prototype.sendGetRequestAsync=function(e,t){return k(this,void 0,void 0,(function(){var r,n,o;return N(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,fetch(e,{method:Or.GET,headers:this.getFetchHeaders(t)})];case 1:return r=i.sent(),[3,3];case 2:throw n=i.sent(),window.navigator.onLine?Fn.createGetRequestFailedError(n,e):Fn.createNoNetworkConnectivityError();case 3:return i.trys.push([3,5,,6]),o={headers:this.getHeaderDict(r.headers)},[4,r.json()];case 4:return[2,(o.body=i.sent(),o.status=r.status,o)];case 5:throw i.sent(),Fn.createFailedToParseNetworkResponseError(e);case 6:return[2]}}))}))},e.prototype.sendPostRequestAsync=function(e,t){return k(this,void 0,void 0,(function(){var r,n,o,i;return N(this,(function(a){switch(a.label){case 0:r=t&&t.body||"",a.label=1;case 1:return a.trys.push([1,3,,4]),[4,fetch(e,{method:Or.POST,headers:this.getFetchHeaders(t),body:r})];case 2:return n=a.sent(),[3,4];case 3:throw o=a.sent(),window.navigator.onLine?Fn.createPostRequestFailedError(o,e):Fn.createNoNetworkConnectivityError();case 4:return a.trys.push([4,6,,7]),i={headers:this.getHeaderDict(n.headers)},[4,n.json()];case 5:return[2,(i.body=a.sent(),i.status=n.status,i)];case 6:throw a.sent(),Fn.createFailedToParseNetworkResponseError(e);case 7:return[2]}}))}))},e.prototype.getFetchHeaders=function(e){var t=new Headers;if(!e||!e.headers)return t;var r=e.headers;return Object.keys(r).forEach((function(e){t.append(e,r[e])})),t},e.prototype.getHeaderDict=function(e){var t={};return e.forEach((function(e,r){t[r]=e})),t},e}(),oo=function(){function e(){}return e.prototype.sendGetRequestAsync=function(e,t){return k(this,void 0,void 0,(function(){return N(this,(function(r){return[2,this.sendRequestAsync(e,Or.GET,t)]}))}))},e.prototype.sendPostRequestAsync=function(e,t){return k(this,void 0,void 0,(function(){return N(this,(function(r){return[2,this.sendRequestAsync(e,Or.POST,t)]}))}))},e.prototype.sendRequestAsync=function(e,t,r){var n=this;return new Promise((function(o,i){var a=new XMLHttpRequest;if(a.open(t,e,!0),n.setXhrHeaders(a,r),a.onload=function(){(a.status<200||a.status>=300)&&(t===Or.POST?i(Fn.createPostRequestFailedError("Failed with status "+a.status,e)):i(Fn.createGetRequestFailedError("Failed with status "+a.status,e)));try{var r=JSON.parse(a.responseText),s={headers:n.getHeaderDict(a),body:r,status:a.status};o(s)}catch(t){i(Fn.createFailedToParseNetworkResponseError(e))}},a.onerror=function(){window.navigator.onLine?t===Or.POST?i(Fn.createPostRequestFailedError("Failed with status "+a.status,e)):i(Fn.createGetRequestFailedError("Failed with status "+a.status,e)):i(Fn.createNoNetworkConnectivityError())},t===Or.POST&&r&&r.body)a.send(r.body);else{if(t!==Or.GET)throw Fn.createHttpMethodNotImplementedError(t);a.send()}}))},e.prototype.setXhrHeaders=function(e,t){if(t&&t.headers){var r=t.headers;Object.keys(r).forEach((function(t){e.setRequestHeader(t,r[t])}))}},e.prototype.getHeaderDict=function(e){var t=e.getAllResponseHeaders().trim().split(/[\r\n]+/),r={};return t.forEach((function(e){var t=e.split(": "),n=t.shift(),o=t.join(": ");n&&o&&(r[n]=o)})),r},e}(),io=function(){function e(){}return e.clearHash=function(e){e.location.hash=j.EMPTY_STRING,"function"==typeof e.history.replaceState&&e.history.replaceState(null,j.EMPTY_STRING,""+e.location.origin+e.location.pathname+e.location.search)},e.replaceHash=function(e){var t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""},e.isInIframe=function(){return window.parent!==window},e.isInPopup=function(){return"undefined"!=typeof window&&!!window.opener&&window.opener!==window&&"string"==typeof window.name&&0===window.name.indexOf(jr+".")},e.getCurrentUri=function(){return window.location.href.split("?")[0].split("#")[0]},e.getHomepage=function(){var e=new yr(window.location.href).getUrlComponents();return e.Protocol+"//"+e.HostNameAndPort+"/"},e.getBrowserNetworkClient=function(){return window.fetch&&window.Headers?new no:new oo},e.blockReloadInHiddenIframes=function(){if(yr.hashContainsKnownProperties(window.location.hash)&&e.isInIframe())throw Fn.createBlockReloadInHiddenIframeError()},e.blockRedirectInIframe=function(t,r){var n=e.isInIframe();if(t===Ur.Redirect&&n&&!r)throw Fn.createRedirectInIframeError(n)},e.blockAcquireTokenInPopups=function(){if(e.isInPopup())throw Fn.createBlockAcquireTokenInPopupsError()},e.blockNonBrowserEnvironment=function(e){if(!e)throw Fn.createNonBrowserEnvironmentError()},e.detectIEOrEdge=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),r=e.indexOf("Trident/"),n=e.indexOf("Edge/");return t>0||r>0||n>0},e}(),ao=function(){function e(){}return e.prototype.navigateInternal=function(t,r){return e.defaultNavigateWindow(t,r)},e.prototype.navigateExternal=function(t,r){return e.defaultNavigateWindow(t,r)},e.defaultNavigateWindow=function(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((function(e){setTimeout((function(){e(!0)}),t.timeout)}))},e}();
/*! @azure/msal-browser v2.22.1 2022-03-07 */
var so;!function(e){e.ACCOUNT_ADDED="msal:accountAdded",e.ACCOUNT_REMOVED="msal:accountRemoved",e.LOGIN_START="msal:loginStart",e.LOGIN_SUCCESS="msal:loginSuccess",e.LOGIN_FAILURE="msal:loginFailure",e.ACQUIRE_TOKEN_START="msal:acquireTokenStart",e.ACQUIRE_TOKEN_SUCCESS="msal:acquireTokenSuccess",e.ACQUIRE_TOKEN_FAILURE="msal:acquireTokenFailure",e.ACQUIRE_TOKEN_NETWORK_START="msal:acquireTokenFromNetworkStart",e.SSO_SILENT_START="msal:ssoSilentStart",e.SSO_SILENT_SUCCESS="msal:ssoSilentSuccess",e.SSO_SILENT_FAILURE="msal:ssoSilentFailure",e.ACQUIRE_TOKEN_BY_CODE_START="msal:acquireTokenByCodeStart",e.ACQUIRE_TOKEN_BY_CODE_SUCCESS="msal:acquireTokenByCodeSuccess",e.ACQUIRE_TOKEN_BY_CODE_FAILURE="msal:acquireTokenByCodeFailure",e.HANDLE_REDIRECT_START="msal:handleRedirectStart",e.HANDLE_REDIRECT_END="msal:handleRedirectEnd",e.POPUP_OPENED="msal:popupOpened",e.LOGOUT_START="msal:logoutStart",e.LOGOUT_SUCCESS="msal:logoutSuccess",e.LOGOUT_FAILURE="msal:logoutFailure",e.LOGOUT_END="msal:logoutEnd"}(so||(so={}));
/*! @azure/msal-browser v2.22.1 2022-03-07 */
var co=function(){function e(e,t){this.eventCallbacks=new Map,this.logger=e,this.browserCrypto=t,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}return e.prototype.addEventCallback=function(e){if("undefined"!=typeof window){var t=this.browserCrypto.createNewGuid();return this.eventCallbacks.set(t,e),this.logger.verbose("Event callback registered with id: "+t),t}return null},e.prototype.removeEventCallback=function(e){this.eventCallbacks.delete(e),this.logger.verbose("Event callback "+e+" removed.")},e.prototype.enableAccountStorageEvents=function(){"undefined"!=typeof window&&(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))},e.prototype.disableAccountStorageEvents=function(){"undefined"!=typeof window&&(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))},e.prototype.emitEvent=function(e,t,r,n){var o=this;if("undefined"!=typeof window){var i={eventType:e,interactionType:t||null,payload:r||null,error:n||null,timestamp:Date.now()};this.logger.info("Emitting event: "+e),this.eventCallbacks.forEach((function(t,r){o.logger.verbose("Emitting event to callback "+r+": "+e),t.apply(null,[i])}))}},e.prototype.handleAccountCacheChange=function(e){try{var t=e.newValue||e.oldValue;if(!t)return;var r=JSON.parse(t);if("object"!=typeof r||!Gt.isAccountEntity(r))return;var n=jt.toObject(new Gt,r).getAccountInfo();!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(so.ACCOUNT_ADDED,void 0,n)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(so.ACCOUNT_REMOVED,void 0,n))}catch(e){return}},e}(),uo=function(e){function t(t,r,n,o,i,a,s){var c=e.call(this,t,r,n,o,i,s)||this;return c.navigationClient=a,c}return R(t,e),t.prototype.initializeAuthorizationCodeRequest=function(e){return k(this,void 0,void 0,(function(){var t,r;return N(this,(function(n){switch(n.label){case 0:return this.logger.verbose("initializeAuthorizationRequest called",e.correlationId),[4,this.browserCrypto.generatePkceCodes()];case 1:return t=n.sent(),r=O(O({},e),{redirectUri:e.redirectUri,code:"",codeVerifier:t.verifier}),e.codeChallenge=t.challenge,e.codeChallengeMethod=j.S256_CODE_CHALLENGE_METHOD,[2,r]}}))}))},t.prototype.initializeLogoutRequest=function(e){this.logger.verbose("initializeLogoutRequest called",null==e?void 0:e.correlationId);var t=O({correlationId:this.browserCrypto.createNewGuid()},e);if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){var r=this.getLogoutHintFromIdTokenClaims(e.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=yr.getAbsoluteUrl(e.postLogoutRedirectUri,io.getCurrentUri())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=yr.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,io.getCurrentUri())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=yr.getAbsoluteUrl(io.getCurrentUri(),io.getCurrentUri())),t},t.prototype.getLogoutHintFromIdTokenClaims=function(e){var t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null},t.prototype.createAuthCodeClient=function(e,t,r){return k(this,void 0,void 0,(function(){var n;return N(this,(function(o){switch(o.label){case 0:return[4,this.getClientConfiguration(e,t,r)];case 1:return n=o.sent(),[2,new Tr(n)]}}))}))},t.prototype.getClientConfiguration=function(e,t,r){return k(this,void 0,void 0,(function(){var n;return N(this,(function(o){switch(o.label){case 0:return this.logger.verbose("getClientConfiguration called"),[4,this.getDiscoveredAuthority(t,r)];case 1:return n=o.sent(),[2,{authOptions:{clientId:this.config.auth.clientId,authority:n,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,logLevel:this.config.system.loggerOptions.logLevel,correlationId:this.correlationId},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:e,libraryInfo:{sku:Wr,version:"2.22.1",cpu:"",os:""}}]}}))}))},t.prototype.validateAndExtractStateFromHash=function(e,t,r){this.logger.verbose("validateAndExtractStateFromHash called",r);var n=yr.getDeserializedHash(e);if(!n.state)throw Fn.createHashDoesNotContainStateError();var o=to.extractBrowserRequestState(this.browserCrypto,n.state);if(!o)throw Fn.createUnableToParseStateError();if(o.interactionType!==t)throw Fn.createStateInteractionTypeMismatchError();return this.logger.verbose("Returning state from hash",r),n.state},t.prototype.getDiscoveredAuthority=function(e,t){return k(this,void 0,void 0,(function(){var r,n,o;return N(this,(function(i){switch(i.label){case 0:return this.logger.verbose("getDiscoveredAuthority called"),r={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata},n=e||this.config.auth.authority,o=Lr.generateAuthority(n,t||this.config.auth.azureCloudOptions),this.logger.verbose("Creating discovered authority with configured authority"),[4,Hr.createDiscoveredInstance(o,this.config.system.networkClient,this.browserStorage,r)];case 1:return[2,i.sent()]}}))}))},t.prototype.initializeAuthorizationRequest=function(e,t){return k(this,void 0,void 0,(function(){var r,n,o,i,a,s,c;return N(this,(function(u){switch(u.label){case 0:return this.logger.verbose("initializeAuthorizationRequest called"),r=this.getRedirectUri(e.redirectUri),n={interactionType:t},o=mr.setRequestState(this.browserCrypto,e&&e.state||j.EMPTY_STRING,n),a=[{}],[4,this.initializeBaseRequest(e)];case 1:return i=O.apply(void 0,[O.apply(void 0,a.concat([u.sent()])),{redirectUri:r,state:o,nonce:e.nonce||this.browserCrypto.createNewGuid(),responseMode:J.FRAGMENT}]),(s=e.account||this.browserStorage.getActiveAccount())&&(this.logger.verbose("Setting validated request account"),this.logger.verbosePii("Setting validated request account: "+s),i.account=s),ht.isEmpty(i.loginHint)&&!s&&(c=this.browserStorage.getLegacyLoginHint())&&(i.loginHint=c),[2,i]}}))}))},t}(function(){function e(e,t,r,n,o,i){this.config=e,this.browserStorage=t,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.correlationId=i||this.browserCrypto.createNewGuid(),this.logger=n.clone(Wr,"2.22.1",this.correlationId)}return e.prototype.clearCacheOnLogout=function(e){return k(this,void 0,void 0,(function(){return N(this,(function(t){switch(t.label){case 0:if(!e)return[3,5];Gt.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null)),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.browserStorage.removeAccount(Gt.generateAccountCacheKey(e))];case 2:return t.sent(),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request."),[3,4];case 3:return t.sent(),this.logger.error("Account provided in logout request was not found. Local cache unchanged."),[3,4];case 4:return[3,9];case 5:return t.trys.push([5,8,,9]),[4,this.browserStorage.clear()];case 6:return t.sent(),[4,this.browserCrypto.clearKeystore()];case 7:return t.sent(),this.logger.verbose("No account provided in logout request, clearing all cache items."),[3,9];case 8:return t.sent(),this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged."),[3,9];case 9:return[2]}}))}))},e.prototype.initializeBaseRequest=function(e){return k(this,void 0,void 0,(function(){var t,r,n,o;return N(this,(function(i){switch(i.label){case 0:if(this.logger.verbose("Initializing BaseAuthRequest"),t=e.authority||this.config.auth.authority,r=U(e&&e.scopes||[]),(n=O(O({},e),{correlationId:this.correlationId,authority:t,scopes:r})).authenticationScheme){if(n.authenticationScheme===se.SSH){if(!e.sshJwk)throw Ft.createMissingSshJwkError();if(!e.sshKid)throw Ft.createMissingSshKidError()}this.logger.verbose('Authentication Scheme set to "'+n.authenticationScheme+'" as configured in Auth request')}else n.authenticationScheme=se.BEARER,this.logger.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return!e.claims||ht.isEmpty(e.claims)?[3,2]:(o=n,[4,this.browserCrypto.hashString(e.claims)]);case 1:o.requestedClaimsHash=i.sent(),i.label=2;case 2:return[2,n]}}))}))},e.prototype.getRedirectUri=function(e){this.logger.verbose("getRedirectUri called");var t=e||this.config.auth.redirectUri||io.getCurrentUri();return yr.getAbsoluteUrl(t,io.getCurrentUri())},e.prototype.initializeServerTelemetryManager=function(e,t){this.logger.verbose("initializeServerTelemetryManager called");var r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new xr(r,this.browserStorage)},e}()),lo=function(){function e(e,t){this.browserStorage=e,this.logger=t,this.unloadWindow=this.unloadWindow.bind(this)}return e.prototype.openPopup=function(t,r){try{var n=void 0;if(r.popup?(n=r.popup,this.logger.verbosePii("Navigating popup window to: "+t),n.location.assign(t)):void 0===r.popup&&(this.logger.verbosePii("Opening popup window to: "+t),n=e.openSizedPopup(t,r.popupName,r.popupWindowAttributes,this.logger)),!n)throw Fn.createEmptyWindowCreatedError();return n.focus&&n.focus(),this.currentWindow=n,window.addEventListener("beforeunload",this.unloadWindow),n}catch(e){throw this.logger.error("error opening popup "+e.message),this.browserStorage.setInteractionInProgress(!1),Fn.createPopupWindowError(e.toString())}},e.openSizedPopup=function(e,t,r,n){var o,i,a,s,c=window.screenLeft?window.screenLeft:window.screenX,u=window.screenTop?window.screenTop:window.screenY,d=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,l=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,h=null===(o=r.popupSize)||void 0===o?void 0:o.width,p=null===(i=r.popupSize)||void 0===i?void 0:i.height,g=null===(a=r.popupPosition)||void 0===a?void 0:a.top,f=null===(s=r.popupPosition)||void 0===s?void 0:s.left;return(!h||h<0||h>d)&&(n.verbose("Default popup window width used. Window width not configured or invalid."),h=Gr),(!p||p<0||p>l)&&(n.verbose("Default popup window height used. Window height not configured or invalid."),p=Xr),(!g||g<0||g>l)&&(n.verbose("Default popup window top position used. Window top not configured or invalid."),g=Math.max(0,l/2-Xr/2+u)),(!f||f<0||f>d)&&(n.verbose("Default popup window left position used. Window left not configured or invalid."),f=Math.max(0,d/2-Gr/2+c)),window.open(e,t,"width="+h+", height="+p+", top="+g+", left="+f+", scrollbars=yes")},e.prototype.unloadWindow=function(e){this.browserStorage.cleanRequestByInteractionType(Ur.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()},e.prototype.cleanPopup=function(e){e&&e.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)},e.prototype.monitorPopupForSameOrigin=function(e){var t=this;return new Promise((function(r,n){var o=setInterval((function(){if(e.closed)return t.cleanPopup(),clearInterval(o),void n(Fn.createUserCancelledError());var i=j.EMPTY_STRING;try{i=e.location.href}catch(e){}ht.isEmpty(i)||"about:blank"===i||(clearInterval(o),r())}),zr)}))},e.generatePopupName=function(e,t,r,n){return jr+"."+e+"."+t.join("-")+"."+r+"."+n},e.generateLogoutPopupName=function(e,t){var r=t.account&&t.account.homeAccountId;return jr+"."+e+"."+r+"."+t.correlationId},e}(),ho=function(){function e(e,t,r,n){this.authModule=e,this.browserStorage=t,this.authCodeRequest=r,this.browserRequestLogger=n}return e.prototype.handleCodeResponseFromHash=function(e,t,r,n){return k(this,void 0,void 0,(function(){var o,i,a;return N(this,(function(s){if(this.browserRequestLogger.verbose("InteractionHandler.handleCodeResponse called"),ht.isEmpty(e))throw Fn.createEmptyHashError(e);if(o=this.browserStorage.generateStateKey(t),!(i=this.browserStorage.getTemporaryCache(o)))throw lt.createStateNotFoundError("Cached State");return a=this.authModule.handleFragmentResponse(e,i),[2,this.handleCodeResponseFromServer(a,t,r,n)]}))}))},e.prototype.handleCodeResponseFromServer=function(e,t,r,n,o){return void 0===o&&(o=!0),k(this,void 0,void 0,(function(){var i,a,s,c,u,d;return N(this,(function(l){switch(l.label){case 0:if(this.browserRequestLogger.trace("InteractionHandler.handleCodeResponseFromServer called"),i=this.browserStorage.generateStateKey(t),!(a=this.browserStorage.getTemporaryCache(i)))throw lt.createStateNotFoundError("Cached State");return s=this.browserStorage.generateNonceKey(a),c=this.browserStorage.getTemporaryCache(s),this.authCodeRequest.code=e.code,e.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(e.cloud_instance_host_name,r,n)]:[3,2];case 1:l.sent(),l.label=2;case 2:return o&&(e.nonce=c||void 0),e.state=a,e.client_info?this.authCodeRequest.clientInfo=e.client_info:(u=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=u),[4,this.authModule.acquireToken(this.authCodeRequest,e)];case 3:return d=l.sent(),this.browserStorage.cleanRequestByState(t),[2,d]}}))}))},e.prototype.updateTokenEndpointAuthority=function(e,t,r){return k(this,void 0,void 0,(function(){var n,o;return N(this,(function(i){switch(i.label){case 0:return n="https://"+e+"/"+t.tenant+"/",[4,Hr.createDiscoveredInstance(n,r,this.browserStorage,t.options)];case 1:return o=i.sent(),this.authModule.updateAuthority(o),[2]}}))}))},e.prototype.checkCcsCredentials=function(){var e=this.browserStorage.getTemporaryCache(kr.CCS_CREDENTIAL,!0);if(e)try{return JSON.parse(e)}catch(t){this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii("Cache credential could not be parsed: "+e)}return null},e}(),po=function(e){function t(t,r,n,o){var i=e.call(this,t,r,n,o)||this;return i.popupUtils=new lo(r,o),i}return R(t,e),t.prototype.initiateAuthRequest=function(e,t){if(ht.isEmpty(e))throw this.browserRequestLogger.error("Navigate url is empty"),Fn.createEmptyNavigationUriError();return this.browserRequestLogger.infoPii("Navigate to: "+e),this.popupUtils.openPopup(e,t)},t.prototype.monitorPopupForHash=function(e){var t=this;return this.popupUtils.monitorPopupForSameOrigin(e).then((function(){var r=e.location.hash;if(io.clearHash(e),t.popupUtils.cleanPopup(e),!r)throw Fn.createEmptyHashError(e.location.href);if(yr.hashContainsKnownProperties(r))return r;throw Fn.createHashDoesNotContainKnownPropertiesError()}))},t}(ho),go=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),t.prototype.acquireToken=function(e){try{var t=lo.generatePopupName(this.config.auth.clientId,e.scopes||z,e.authority||this.config.auth.authority,this.correlationId),r=e.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,t,r);this.logger.verbose("asyncPopup set to false, opening popup before acquiring token");var n=lo.openSizedPopup("about:blank",t,r,this.logger);return this.acquireTokenPopupAsync(e,t,r,n)}catch(e){return Promise.reject(e)}},t.prototype.logout=function(e){try{this.logger.verbose("logoutPopup called");var t=this.initializeLogoutRequest(e),r=lo.generateLogoutPopupName(this.config.auth.clientId,t),n=e&&e.authority,o=e&&e.mainWindowRedirectUri,i=(null==e?void 0:e.popupWindowAttributes)||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,r,i,n,void 0,o);this.logger.verbose("asyncPopup set to false, opening popup");var a=lo.openSizedPopup("about:blank",r,i,this.logger);return this.logoutPopupAsync(t,r,i,n,a,o)}catch(e){return Promise.reject(e)}},t.prototype.acquireTokenPopupAsync=function(e,t,r,n){return k(this,void 0,void 0,(function(){var o,i,a,s,c,u,d,l,h,p,g;return N(this,(function(f){switch(f.label){case 0:return this.logger.verbose("acquireTokenPopupAsync called"),o=this.initializeServerTelemetryManager(Pr.acquireTokenPopup),[4,this.initializeAuthorizationRequest(e,Ur.Popup)];case 1:i=f.sent(),this.browserStorage.updateCacheEntries(i.state,i.nonce,i.authority,i.loginHint||"",i.account||null),f.label=2;case 2:return f.trys.push([2,8,,9]),[4,this.initializeAuthorizationCodeRequest(i)];case 3:return a=f.sent(),[4,this.createAuthCodeClient(o,i.authority,i.azureCloudOptions)];case 4:return s=f.sent(),this.logger.verbose("Auth code client created"),[4,s.getAuthCodeUrl(i)];case 5:return c=f.sent(),u=new po(s,this.browserStorage,a,this.logger),d={popup:n,popupName:t,popupWindowAttributes:r},l=u.initiateAuthRequest(c,d),this.eventHandler.emitEvent(so.POPUP_OPENED,Ur.Popup,{popupWindow:l},null),[4,u.monitorPopupForHash(l)];case 6:return h=f.sent(),p=this.validateAndExtractStateFromHash(h,Ur.Popup,i.correlationId),tr.removeThrottle(this.browserStorage,this.config.auth.clientId,a),[4,u.handleCodeResponseFromHash(h,p,s.authority,this.networkClient)];case 7:return[2,f.sent()];case 8:throw g=f.sent(),n&&n.close(),g instanceof Se&&g.setCorrelationId(this.correlationId),o.cacheFailedRequest(g),this.browserStorage.cleanRequestByState(i.state),g;case 9:return[2]}}))}))},t.prototype.logoutPopupAsync=function(e,t,r,n,o,i){return k(this,void 0,void 0,(function(){var a,s,c,u,d,l,h,p,g;return N(this,(function(f){switch(f.label){case 0:this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(so.LOGOUT_START,Ur.Popup,e),a=this.initializeServerTelemetryManager(Pr.logoutPopup),f.label=1;case 1:return f.trys.push([1,8,,9]),[4,this.clearCacheOnLogout(e.account)];case 2:return f.sent(),[4,this.createAuthCodeClient(a,n)];case 3:s=f.sent(),this.logger.verbose("Auth code client created"),c=s.getLogoutUri(e),this.eventHandler.emitEvent(so.LOGOUT_SUCCESS,Ur.Popup,e),u=new lo(this.browserStorage,this.logger),d=u.openPopup(c,{popupName:t,popupWindowAttributes:r,popup:o}),this.eventHandler.emitEvent(so.POPUP_OPENED,Ur.Popup,{popupWindow:d},null),f.label=4;case 4:return f.trys.push([4,6,,7]),[4,u.monitorPopupForSameOrigin(d)];case 5:return f.sent(),this.logger.verbose("Popup successfully redirected to postLogoutRedirectUri"),[3,7];case 6:return l=f.sent(),this.logger.verbose("Error occurred while monitoring popup for same origin. Session on server may remain active. Error: "+l),[3,7];case 7:return u.cleanPopup(d),i?(h={apiId:Pr.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},p=yr.getAbsoluteUrl(i,io.getCurrentUri()),this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii("Redirecting main window to: "+p),this.navigationClient.navigateInternal(p,h)):this.logger.verbose("No main window navigation requested"),[3,9];case 8:throw g=f.sent(),o&&o.close(),g instanceof Se&&g.setCorrelationId(this.correlationId),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(so.LOGOUT_FAILURE,Ur.Popup,null,g),this.eventHandler.emitEvent(so.LOGOUT_END,Ur.Popup),a.cacheFailedRequest(g),g;case 9:return this.eventHandler.emitEvent(so.LOGOUT_END,Ur.Popup),[2]}}))}))},t}(uo),fo=function(e){function t(t,r,n,o,i){var a=e.call(this,t,r,n,o)||this;return a.browserCrypto=i,a}return R(t,e),t.prototype.initiateAuthRequest=function(e,t){return k(this,void 0,void 0,(function(){var r;return N(this,(function(n){switch(n.label){case 0:return this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest called"),ht.isEmpty(e)?[3,7]:(t.redirectStartPage&&(this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(kr.ORIGIN_URI,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(kr.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest,this.browserCrypto),this.browserRequestLogger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to: "+e),r={apiId:Pr.acquireTokenRedirect,timeout:t.redirectTimeout,noHistory:!1},"function"!=typeof t.onRedirectNavigate?[3,4]:(this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),!1===t.onRedirectNavigate(e)?[3,2]:(this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),[4,t.navigationClient.navigateExternal(e,r)])));case 1:return n.sent(),[2];case 2:return this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation"),[2];case 3:return[3,6];case 4:return this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),[4,t.navigationClient.navigateExternal(e,r)];case 5:return n.sent(),[2];case 6:return[3,8];case 7:throw this.browserRequestLogger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),Fn.createEmptyNavigationUriError();case 8:return[2]}}))}))},t.prototype.handleCodeResponseFromHash=function(e,t,r,n,o){return k(this,void 0,void 0,(function(){var i,a,s,c,u,d,l;return N(this,(function(h){switch(h.label){case 0:if(this.browserRequestLogger.verbose("RedirectHandler.handleCodeResponse called"),ht.isEmpty(e))throw Fn.createEmptyHashError(e);if(this.browserStorage.setInteractionInProgress(!1),i=this.browserStorage.generateStateKey(t),!(a=this.browserStorage.getTemporaryCache(i)))throw lt.createStateNotFoundError("Cached State");return s=this.authModule.handleFragmentResponse(e,a),c=this.browserStorage.generateNonceKey(a),u=this.browserStorage.getTemporaryCache(c),this.authCodeRequest.code=s.code,s.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(s.cloud_instance_host_name,r,n)]:[3,2];case 1:h.sent(),h.label=2;case 2:return s.nonce=u||void 0,s.state=a,s.client_info?this.authCodeRequest.clientInfo=s.client_info:(d=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=d),o&&tr.removeThrottle(this.browserStorage,o,this.authCodeRequest),[4,this.authModule.acquireToken(this.authCodeRequest,s)];case 3:return l=h.sent(),this.browserStorage.cleanRequestByState(t),[2,l]}}))}))},t}(ho),mo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),t.prototype.acquireToken=function(e){return k(this,void 0,void 0,(function(){var t,r,n,o,i,a,s,c,u,d=this;return N(this,(function(l){switch(l.label){case 0:return[4,this.initializeAuthorizationRequest(e,Ur.Redirect)];case 1:t=l.sent(),this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null),r=this.initializeServerTelemetryManager(Pr.acquireTokenRedirect),n=function(e){e.persisted&&(d.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),d.browserStorage.cleanRequestByState(t.state))},l.label=2;case 2:return l.trys.push([2,7,,8]),[4,this.initializeAuthorizationCodeRequest(t)];case 3:return o=l.sent(),[4,this.createAuthCodeClient(r,t.authority,t.azureCloudOptions)];case 4:return i=l.sent(),this.logger.verbose("Auth code client created"),a=new fo(i,this.browserStorage,o,this.logger,this.browserCrypto),[4,i.getAuthCodeUrl(t)];case 5:return s=l.sent(),c=this.getRedirectStartPage(e.redirectStartPage),this.logger.verbosePii("Redirect start page: "+c),window.addEventListener("pageshow",n),[4,a.initiateAuthRequest(s,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:c,onRedirectNavigate:e.onRedirectNavigate})];case 6:return[2,l.sent()];case 7:throw(u=l.sent())instanceof Se&&u.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",n),r.cacheFailedRequest(u),this.browserStorage.cleanRequestByState(t.state),u;case 8:return[2]}}))}))},t.prototype.handleRedirectPromise=function(e){return k(this,void 0,void 0,(function(){var t,r,n,o,i,a,s,c,u,d,l;return N(this,(function(h){switch(h.label){case 0:t=this.initializeServerTelemetryManager(Pr.handleRedirectPromise),h.label=1;case 1:if(h.trys.push([1,10,,11]),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(r=this.getRedirectResponseHash(e||window.location.hash)))return this.logger.info("handleRedirectPromise did not detect a response hash as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(Ur.Redirect),[2,null];n=void 0;try{n=this.validateAndExtractStateFromHash(r,Ur.Redirect),this.logger.verbose("State extracted from hash")}catch(e){return this.logger.info("handleRedirectPromise was unable to extract state due to: "+e),this.browserStorage.cleanRequestByInteractionType(Ur.Redirect),[2,null]}return o=this.browserStorage.getTemporaryCache(kr.ORIGIN_URI,!0)||"",i=yr.removeHashFromUrl(o),a=yr.removeHashFromUrl(window.location.href),i===a&&this.config.auth.navigateToLoginRequestUrl?(this.logger.verbose("Current page is loginRequestUrl, handling hash"),[4,this.handleHash(r,n,t)]):[3,3];case 2:return s=h.sent(),o.indexOf("#")>-1&&io.replaceHash(o),[2,s];case 3:return this.config.auth.navigateToLoginRequestUrl?[3,4]:(this.logger.verbose("NavigateToLoginRequestUrl set to false, handling hash"),[2,this.handleHash(r,n,t)]);case 4:return io.isInIframe()&&!this.config.system.allowRedirectInIframe?[3,9]:(this.browserStorage.setTemporaryCache(kr.URL_HASH,r,!0),c={apiId:Pr.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},u=!0,o&&"null"!==o?[3,6]:(d=io.getHomepage(),this.browserStorage.setTemporaryCache(kr.ORIGIN_URI,d,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),[4,this.navigationClient.navigateInternal(d,c)]));case 5:return u=h.sent(),[3,8];case 6:return this.logger.verbose("Navigating to loginRequestUrl: "+o),[4,this.navigationClient.navigateInternal(o,c)];case 7:u=h.sent(),h.label=8;case 8:if(!u)return[2,this.handleHash(r,n,t)];h.label=9;case 9:return[2,null];case 10:throw(l=h.sent())instanceof Se&&l.setCorrelationId(this.correlationId),t.cacheFailedRequest(l),this.browserStorage.cleanRequestByInteractionType(Ur.Redirect),l;case 11:return[2]}}))}))},t.prototype.getRedirectResponseHash=function(e){if(this.logger.verbose("getRedirectResponseHash called"),yr.hashContainsKnownProperties(e))return io.clearHash(window),this.logger.verbose("Hash contains known properties, returning response hash"),e;var t=this.browserStorage.getTemporaryCache(kr.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(kr.URL_HASH)),this.logger.verbose("Hash does not contain known properties, returning cached hash"),t},t.prototype.handleHash=function(e,t,r){return k(this,void 0,void 0,(function(){var n,o,i;return N(this,(function(a){switch(a.label){case 0:if(n=this.browserStorage.getCachedRequest(t,this.browserCrypto),this.logger.verbose("handleHash called, retrieved cached request"),!(o=this.browserStorage.getCachedAuthority(t)))throw Fn.createNoCachedAuthorityError();return[4,this.createAuthCodeClient(r,o)];case 1:return i=a.sent(),this.logger.verbose("Auth code client created"),[4,new fo(i,this.browserStorage,n,this.logger,this.browserCrypto).handleCodeResponseFromHash(e,t,i.authority,this.networkClient,this.config.auth.clientId)];case 2:return[2,a.sent()]}}))}))},t.prototype.logout=function(e){return k(this,void 0,void 0,(function(){var t,r,n,o,i,a;return N(this,(function(s){switch(s.label){case 0:this.logger.verbose("logoutRedirect called"),t=this.initializeLogoutRequest(e),r=this.initializeServerTelemetryManager(Pr.logout),s.label=1;case 1:return s.trys.push([1,10,,11]),this.eventHandler.emitEvent(so.LOGOUT_START,Ur.Redirect,e),[4,this.clearCacheOnLogout(t.account)];case 2:return s.sent(),n={apiId:Pr.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},[4,this.createAuthCodeClient(r,e&&e.authority)];case 3:return o=s.sent(),this.logger.verbose("Auth code client created"),i=o.getLogoutUri(t),this.eventHandler.emitEvent(so.LOGOUT_SUCCESS,Ur.Redirect,t),e&&"function"==typeof e.onRedirectNavigate?!1===e.onRedirectNavigate(i)?[3,5]:(this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),[4,this.navigationClient.navigateExternal(i,n)]):[3,7];case 4:return s.sent(),[2];case 5:this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation"),s.label=6;case 6:return[3,9];case 7:return[4,this.navigationClient.navigateExternal(i,n)];case 8:return s.sent(),[2];case 9:return[3,11];case 10:throw(a=s.sent())instanceof Se&&a.setCorrelationId(this.correlationId),r.cacheFailedRequest(a),this.eventHandler.emitEvent(so.LOGOUT_FAILURE,Ur.Redirect,null,a),this.eventHandler.emitEvent(so.LOGOUT_END,Ur.Redirect),a;case 11:return this.eventHandler.emitEvent(so.LOGOUT_END,Ur.Redirect),[2]}}))}))},t.prototype.getRedirectStartPage=function(e){var t=e||window.location.href;return yr.getAbsoluteUrl(t,io.getCurrentUri())},t}(uo),yo=function(e){function t(t,r,n,o,i){var a=e.call(this,t,r,n,o)||this;return a.navigateFrameWait=i,a}return R(t,e),t.prototype.initiateAuthRequest=function(e){return k(this,void 0,void 0,(function(){var t;return N(this,(function(r){switch(r.label){case 0:if(ht.isEmpty(e))throw this.browserRequestLogger.info("Navigate url is empty"),Fn.createEmptyNavigationUriError();return this.navigateFrameWait?[4,this.loadFrame(e)]:[3,2];case 1:return t=r.sent(),[3,3];case 2:t=this.loadFrameSync(e),r.label=3;case 3:return[2,t]}}))}))},t.prototype.monitorIframeForHash=function(e,t){var r=this;return new Promise((function(n,o){t<6e3&&r.browserRequestLogger.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower ("+t+"ms) than the default (6000ms). This may result in timeouts.");var i=window.performance.now()+t,a=setInterval((function(){if(window.performance.now()>i)return r.removeHiddenIframe(e),clearInterval(a),void o(Fn.createMonitorIframeTimeoutError());var t=j.EMPTY_STRING,s=e.contentWindow;try{t=s?s.location.href:j.EMPTY_STRING}catch(e){}if(!ht.isEmpty(t)){var c=s?s.location.hash:j.EMPTY_STRING;return yr.hashContainsKnownProperties(c)?(r.removeHiddenIframe(e),clearInterval(a),void n(c)):void 0}}),zr)}))},t.prototype.loadFrame=function(e){var t=this;return new Promise((function(r,n){var o=t.createHiddenIframe();setTimeout((function(){o?(o.src=e,r(o)):n("Unable to load iframe")}),t.navigateFrameWait)}))},t.prototype.loadFrameSync=function(e){var t=this.createHiddenIframe();return t.src=e,t},t.prototype.createHiddenIframe=function(){var e=document.createElement("iframe");return e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.getElementsByTagName("body")[0].appendChild(e),e},t.prototype.removeHiddenIframe=function(e){document.body===e.parentNode&&document.body.removeChild(e)},t}(ho),vo=function(e){function t(t,r,n,o,i,a,s,c){var u=e.call(this,t,r,n,o,i,a,c)||this;return u.apiId=s,u}return R(t,e),t.prototype.acquireToken=function(e){return k(this,void 0,void 0,(function(){var t,r,n,o,i,a;return N(this,(function(s){switch(s.label){case 0:if(this.logger.verbose("acquireTokenByIframe called"),ht.isEmpty(e.loginHint)&&ht.isEmpty(e.sid)&&(!e.account||ht.isEmpty(e.account.username))&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request."),e.prompt&&e.prompt!==Q.NONE)throw Fn.createSilentPromptValueError(e.prompt);return[4,this.initializeAuthorizationRequest(O(O({},e),{prompt:Q.NONE}),Ur.Silent)];case 1:t=s.sent(),this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null),r=this.initializeServerTelemetryManager(this.apiId),s.label=2;case 2:return s.trys.push([2,7,,8]),[4,this.initializeAuthorizationCodeRequest(t)];case 3:return n=s.sent(),[4,this.createAuthCodeClient(r,t.authority,t.azureCloudOptions)];case 4:return o=s.sent(),this.logger.verbose("Auth code client created"),[4,o.getAuthCodeUrl(t)];case 5:return i=s.sent(),[4,this.silentTokenHelper(i,n,o,this.logger)];case 6:return[2,s.sent()];case 7:throw(a=s.sent())instanceof Se&&a.setCorrelationId(this.correlationId),r.cacheFailedRequest(a),this.browserStorage.cleanRequestByState(t.state),a;case 8:return[2]}}))}))},t.prototype.logout=function(){return Promise.reject(Fn.createSilentLogoutUnsupportedError())},t.prototype.silentTokenHelper=function(e,t,r,n){return k(this,void 0,void 0,(function(){var o,i,a,s;return N(this,(function(c){switch(c.label){case 0:return[4,(o=new yo(r,this.browserStorage,t,n,this.config.system.navigateFrameWait)).initiateAuthRequest(e)];case 1:return i=c.sent(),[4,o.monitorIframeForHash(i,this.config.system.iframeHashTimeout)];case 2:return a=c.sent(),s=this.validateAndExtractStateFromHash(a,Ur.Silent,t.correlationId),[2,o.handleCodeResponseFromHash(a,s,r.authority,this.networkClient)]}}))}))},t}(uo),Eo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),t.prototype.acquireToken=function(e){return k(this,void 0,void 0,(function(){var t,r,n,o,i=this;return N(this,(function(a){switch(a.label){case 0:return r=[O({},e)],[4,this.initializeBaseRequest(e)];case 1:return t=O.apply(void 0,r.concat([a.sent()])),n=this.initializeServerTelemetryManager(Pr.acquireTokenSilent_silentFlow),[4,this.createRefreshTokenClient(n,t.authority,t.azureCloudOptions)];case 2:return o=a.sent(),this.logger.verbose("Refresh token client created"),[2,o.acquireTokenByRefreshToken(t).catch((function(e){throw e instanceof Se&&e.setCorrelationId(i.correlationId),n.cacheFailedRequest(e),e}))]}}))}))},t.prototype.logout=function(){return Promise.reject(Fn.createSilentLogoutUnsupportedError())},t.prototype.createRefreshTokenClient=function(e,t,r){return k(this,void 0,void 0,(function(){var n;return N(this,(function(o){switch(o.label){case 0:return[4,this.getClientConfiguration(e,t,r)];case 1:return n=o.sent(),[2,new Ar(n)]}}))}))},t}(uo),Co=function(){function e(e,t,r,n){this.isBrowserEnvironment="undefined"!=typeof window,this.config=e,this.storage=t,this.logger=r,this.cryptoObj=n}return e.prototype.loadExternalTokens=function(e,t,r){if(this.logger.info("TokenCache - loadExternalTokens called"),!t.id_token)throw Fn.createUnableToLoadTokenError("Please ensure server response includes id token.");if(e.account)this.loadIdToken(t.id_token,e.account.homeAccountId,e.account.environment,e.account.tenantId,r),this.loadAccessToken(e,t,e.account.homeAccountId,e.account.environment,e.account.tenantId,r);else{if(!e.authority)throw Fn.createUnableToLoadTokenError("Please provide a request with an account or a request with authority.");var n=Lr.generateAuthority(e.authority,e.azureCloudOptions),o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata},i=new Lr(n,this.config.system.networkClient,this.storage,o);if(r.clientInfo)this.logger.trace("TokenCache - homeAccountId from options"),this.loadIdToken(t.id_token,r.clientInfo,i.hostnameAndPort,i.tenant,r),this.loadAccessToken(e,t,r.clientInfo,i.hostnameAndPort,i.tenant,r);else{if(!t.client_info)throw Fn.createUnableToLoadTokenError("Please provide clientInfo in the response or options.");this.logger.trace("TokenCache - homeAccountId from response"),this.loadIdToken(t.id_token,t.client_info,i.hostnameAndPort,i.tenant,r),this.loadAccessToken(e,t,t.client_info,i.hostnameAndPort,i.tenant,r)}}},e.prototype.loadIdToken=function(e,t,r,n,o){var i=sr.createIdTokenEntity(t,r,e,this.config.auth.clientId,n),a=new Xt(e,this.cryptoObj),s=o.clientInfo?Gt.createAccount(o.clientInfo,t,a,void 0,void 0,void 0,void 0,r):Gt.createGenericAccount(t,a,void 0,void 0,void 0,void 0,r);if(!this.isBrowserEnvironment)throw Fn.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.");this.logger.verbose("TokenCache - loading id token"),this.storage.setAccount(s),this.storage.setIdTokenCredential(i)},e.prototype.loadAccessToken=function(e,t,r,n,o,i){if(t.access_token){if(!t.expires_in)throw Fn.createUnableToLoadTokenError("Please ensure server response includes expires_in value.");if(!i.extendedExpiresOn)throw Fn.createUnableToLoadTokenError("Please provide an extendedExpiresOn value in the options.");var a=new Kt(e.scopes).printScopes(),s=t.expires_in,c=i.extendedExpiresOn,u=ur.createAccessTokenEntity(r,n,t.access_token,this.config.auth.clientId,o,a,s,c,this.cryptoObj);if(!this.isBrowserEnvironment)throw Fn.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.");this.logger.verbose("TokenCache - loading access token"),this.storage.setAccessTokenCredential(u)}else this.logger.verbose("TokenCache - No access token provided for caching")},e}(),wo=function(e){function t(t){var r=e.call(this,t)||this;return r.includeRedirectUri=!1,r}return R(t,e),t}(Tr),So=function(e){function t(t,r,n,o,i,a,s,c){var u=e.call(this,t,r,n,o,i,a,c)||this;return u.apiId=s,u}return R(t,e),t.prototype.acquireToken=function(e){return k(this,void 0,void 0,(function(){var t,r,n,o,i,a;return N(this,(function(s){switch(s.label){case 0:if(this.logger.trace("SilentAuthCodeClient.acquireToken called"),!e.code)throw Fn.createAuthCodeRequiredError();return[4,this.initializeAuthorizationRequest(e,Ur.Silent)];case 1:t=s.sent(),this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null),r=this.initializeServerTelemetryManager(this.apiId),s.label=2;case 2:return s.trys.push([2,4,,5]),n=O(O({},t),{code:e.code}),[4,this.getClientConfiguration(r,t.authority)];case 3:return o=s.sent(),i=new wo(o),this.logger.verbose("Auth code client created"),[2,new yo(i,this.browserStorage,n,this.logger,this.config.system.navigateFrameWait).handleCodeResponseFromServer({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t.state,i.authority,this.networkClient,!1)];case 4:throw(a=s.sent())instanceof Se&&a.setCorrelationId(this.correlationId),r.cacheFailedRequest(a),this.browserStorage.cleanRequestByState(t.state),a;case 5:return[2]}}))}))},t.prototype.logout=function(){return Promise.reject(Fn.createSilentLogoutUnsupportedError())},t}(uo),To=function(){function e(e){var t,r,n,o,i,a,s,c,u,d,l,h;this.isBrowserEnvironment="undefined"!=typeof window,this.config=(t=e,r=this.isBrowserEnvironment,n=t.auth,o=t.cache,i=t.system,a={clientId:"",authority:""+j.DEFAULT_AUTHORITY,knownAuthorities:[],cloudDiscoveryMetadata:"",authorityMetadata:"",redirectUri:"",postLogoutRedirectUri:"",navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:vr.AAD,azureCloudOptions:{azureCloudInstance:pt.None,tenant:""}},s={cacheLocation:Rr.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1},c={loggerCallback:function(){},logLevel:Ce.Info,piiLoggingEnabled:!1},u=O(O({},Wt),{loggerOptions:c,networkClient:r?io.getBrowserNetworkClient():Kr,navigationClient:new ao,loadFrameTimeout:0,windowHashTimeout:i&&i.loadFrameTimeout||6e4,iframeHashTimeout:i&&i.loadFrameTimeout||6e3,navigateFrameWait:r&&io.detectIEOrEdge()?500:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1}),{auth:O(O({},a),n),cache:O(O({},s),o),system:O(O({},u),i)}),this.logger=new gt(this.config.system.loggerOptions,"@azure/msal-browser","2.22.1"),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.browserCrypto=this.isBrowserEnvironment?new zn(this.logger):Te,this.eventHandler=new co(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new ro(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger):(d=this.config.auth.clientId,l=this.logger,h={cacheLocation:Rr.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1},new ro(d,h,Te,l)),this.tokenCache=new Co(this.config,this.browserStorage,this.logger,this.browserCrypto)}return e.prototype.handleRedirectPromise=function(e){return k(this,void 0,void 0,(function(){var t,r,n,o,i,a=this;return N(this,(function(s){return this.logger.verbose("handleRedirectPromise called"),t=this.getAllAccounts(),this.isBrowserEnvironment?(r=e||j.EMPTY_STRING,void 0===(n=this.redirectResponse.get(r))?(this.eventHandler.emitEvent(so.HANDLE_REDIRECT_START,Ur.Redirect),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise"),o=this.browserStorage.getTemporaryCache(kr.CORRELATION_ID,!0)||"",i=new mo(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,o),n=i.handleRedirectPromise(e).then((function(e){e&&(t.length<a.getAllAccounts().length?(a.eventHandler.emitEvent(so.LOGIN_SUCCESS,Ur.Redirect,e),a.logger.verbose("handleRedirectResponse returned result, login success")):(a.eventHandler.emitEvent(so.ACQUIRE_TOKEN_SUCCESS,Ur.Redirect,e),a.logger.verbose("handleRedirectResponse returned result, acquire token success")));return a.eventHandler.emitEvent(so.HANDLE_REDIRECT_END,Ur.Redirect),e})).catch((function(e){throw t.length>0?a.eventHandler.emitEvent(so.ACQUIRE_TOKEN_FAILURE,Ur.Redirect,null,e):a.eventHandler.emitEvent(so.LOGIN_FAILURE,Ur.Redirect,null,e),a.eventHandler.emitEvent(so.HANDLE_REDIRECT_END,Ur.Redirect),e})),this.redirectResponse.set(r,n)):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),[2,n]):(this.logger.verbose("handleRedirectPromise returns null, not browser environment"),[2,null])}))}))},e.prototype.acquireTokenRedirect=function(e){return k(this,void 0,void 0,(function(){var t,r=this;return N(this,(function(n){return this.logger.verbose("acquireTokenRedirect called"),this.preflightBrowserEnvironmentCheck(Ur.Redirect),(t=this.getAllAccounts().length>0)?this.eventHandler.emitEvent(so.ACQUIRE_TOKEN_START,Ur.Redirect,e):this.eventHandler.emitEvent(so.LOGIN_START,Ur.Redirect,e),[2,new mo(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,e.correlationId).acquireToken(e).catch((function(e){throw t?r.eventHandler.emitEvent(so.ACQUIRE_TOKEN_FAILURE,Ur.Redirect,null,e):r.eventHandler.emitEvent(so.LOGIN_FAILURE,Ur.Redirect,null,e),e}))]}))}))},e.prototype.acquireTokenPopup=function(e){var t=this;try{this.logger.verbose("acquireTokenPopup called",e.correlationId),this.preflightBrowserEnvironmentCheck(Ur.Popup)}catch(e){return Promise.reject(e)}var r=this.getAllAccounts();return r.length>0?this.eventHandler.emitEvent(so.ACQUIRE_TOKEN_START,Ur.Popup,e):this.eventHandler.emitEvent(so.LOGIN_START,Ur.Popup,e),new go(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,e.correlationId).acquireToken(e).then((function(e){return r.length<t.getAllAccounts().length?t.eventHandler.emitEvent(so.LOGIN_SUCCESS,Ur.Popup,e):t.eventHandler.emitEvent(so.ACQUIRE_TOKEN_SUCCESS,Ur.Popup,e),e})).catch((function(e){return r.length>0?t.eventHandler.emitEvent(so.ACQUIRE_TOKEN_FAILURE,Ur.Popup,null,e):t.eventHandler.emitEvent(so.LOGIN_FAILURE,Ur.Popup,null,e),Promise.reject(e)}))},e.prototype.ssoSilent=function(e){return k(this,void 0,void 0,(function(){var t,r;return N(this,(function(n){switch(n.label){case 0:this.preflightBrowserEnvironmentCheck(Ur.Silent),this.logger.verbose("ssoSilent called",e.correlationId),this.eventHandler.emitEvent(so.SSO_SILENT_START,Ur.Silent,e),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,new vo(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Pr.ssoSilent,e.correlationId).acquireToken(e)];case 2:return t=n.sent(),this.eventHandler.emitEvent(so.SSO_SILENT_SUCCESS,Ur.Silent,t),[2,t];case 3:throw r=n.sent(),this.eventHandler.emitEvent(so.SSO_SILENT_FAILURE,Ur.Silent,null,r),r;case 4:return[2]}}))}))},e.prototype.acquireTokenByCode=function(e){return k(this,void 0,void 0,(function(){var t,r=this;return N(this,(function(n){this.preflightBrowserEnvironmentCheck(Ur.Silent),this.logger.trace("acquireTokenByCode called",e.correlationId),this.eventHandler.emitEvent(so.ACQUIRE_TOKEN_BY_CODE_START,Ur.Silent,e);try{if(!e.code)throw Fn.createAuthCodeRequiredError();return(t=this.hybridAuthCodeResponses.get(e.code))?this.logger.verbose("Existing acquireTokenByCode request found",e.correlationId):(this.logger.verbose("Initiating new acquireTokenByCode request",e.correlationId),t=this.acquireTokenByCodeAsync(e).then((function(t){return r.eventHandler.emitEvent(so.ACQUIRE_TOKEN_BY_CODE_SUCCESS,Ur.Silent,t),r.hybridAuthCodeResponses.delete(e.code),t})).catch((function(t){throw r.hybridAuthCodeResponses.delete(e.code),t})),this.hybridAuthCodeResponses.set(e.code,t)),[2,t]}catch(e){throw this.eventHandler.emitEvent(so.ACQUIRE_TOKEN_BY_CODE_FAILURE,Ur.Silent,null,e),e}return[2]}))}))},e.prototype.acquireTokenByCodeAsync=function(e){return k(this,void 0,void 0,(function(){return N(this,(function(t){switch(t.label){case 0:return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),[4,new So(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Pr.acquireTokenByCode,e.correlationId).acquireToken(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.acquireTokenByRefreshToken=function(e){return k(this,void 0,void 0,(function(){var t=this;return N(this,(function(r){return this.eventHandler.emitEvent(so.ACQUIRE_TOKEN_NETWORK_START,Ur.Silent,e),io.blockReloadInHiddenIframes(),[2,new Eo(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,e.correlationId).acquireToken(e).catch((function(r){var n=r instanceof er,o=r instanceof gr,i=r.errorCode===Br;if(n&&i&&!o)return t.logger.verbose("Refresh token expired or invalid, attempting acquire token by iframe",e.correlationId),new vo(t.config,t.browserStorage,t.browserCrypto,t.logger,t.eventHandler,t.navigationClient,Pr.acquireTokenSilent_authCode,e.correlationId).acquireToken(e);throw r}))]}))}))},e.prototype.logout=function(e){return k(this,void 0,void 0,(function(){return N(this,(function(t){return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead."),[2,this.logoutRedirect(e)]}))}))},e.prototype.logoutRedirect=function(e){return k(this,void 0,void 0,(function(){return N(this,(function(t){return this.preflightBrowserEnvironmentCheck(Ur.Redirect),[2,new mo(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,null==e?void 0:e.correlationId).logout(e)]}))}))},e.prototype.logoutPopup=function(e){try{return this.preflightBrowserEnvironmentCheck(Ur.Popup),new go(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,null==e?void 0:e.correlationId).logout(e)}catch(e){return Promise.reject(e)}},e.prototype.getAllAccounts=function(){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts():[]},e.prototype.getAccountByUsername=function(e){var t=this.getAllAccounts();return!ht.isEmpty(e)&&t&&t.length?(this.logger.verbose("Account matching username found, returning"),this.logger.verbosePii("Returning signed-in accounts matching username: "+e),t.filter((function(t){return t.username.toLowerCase()===e.toLowerCase()}))[0]||null):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null)},e.prototype.getAccountByHomeId=function(e){var t=this.getAllAccounts();return!ht.isEmpty(e)&&t&&t.length?(this.logger.verbose("Account matching homeAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching homeAccountId: "+e),t.filter((function(t){return t.homeAccountId===e}))[0]||null):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null)},e.prototype.getAccountByLocalId=function(e){var t=this.getAllAccounts();return!ht.isEmpty(e)&&t&&t.length?(this.logger.verbose("Account matching localAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching localAccountId: "+e),t.filter((function(t){return t.localAccountId===e}))[0]||null):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null)},e.prototype.setActiveAccount=function(e){this.browserStorage.setActiveAccount(e)},e.prototype.getActiveAccount=function(){return this.browserStorage.getActiveAccount()},e.prototype.preflightBrowserEnvironmentCheck=function(e){if(this.logger.verbose("preflightBrowserEnvironmentCheck started"),io.blockNonBrowserEnvironment(this.isBrowserEnvironment),io.blockRedirectInIframe(e,this.config.system.allowRedirectInIframe),io.blockReloadInHiddenIframes(),io.blockAcquireTokenInPopups(),e===Ur.Redirect&&this.config.cache.cacheLocation===Rr.MemoryStorage&&!this.config.cache.storeAuthStateInCookie)throw Zn.createInMemoryRedirectUnavailableError();e!==Ur.Redirect&&e!==Ur.Popup||this.preflightInteractiveRequest()},e.prototype.preflightInteractiveRequest=function(){this.logger.verbose("preflightInteractiveRequest called, validating app environment"),io.blockReloadInHiddenIframes(),this.browserStorage.setInteractionInProgress(!0)},e.prototype.addEventCallback=function(e){return this.eventHandler.addEventCallback(e)},e.prototype.removeEventCallback=function(e){this.eventHandler.removeEventCallback(e)},e.prototype.enableAccountStorageEvents=function(){this.eventHandler.enableAccountStorageEvents()},e.prototype.disableAccountStorageEvents=function(){this.eventHandler.disableAccountStorageEvents()},e.prototype.getTokenCache=function(){return this.tokenCache},e.prototype.getLogger=function(){return this.logger},e.prototype.setLogger=function(e){this.logger=e},e.prototype.initializeWrapperLibrary=function(e,t){this.browserStorage.setWrapperMetadata(e,t)},e.prototype.setNavigationClient=function(e){this.navigationClient=e},e.prototype.getConfiguration=function(){return this.config},e}(),Ao=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),t.prototype.acquireToken=function(e){return k(this,void 0,void 0,(function(){var t,r,n,o;return N(this,(function(i){switch(i.label){case 0:return t=this.initializeServerTelemetryManager(Pr.acquireTokenSilent_silentFlow),[4,this.createSilentFlowClient(t,e.authority,e.azureCloudOptions)];case 1:r=i.sent(),this.logger.verbose("Silent auth client created"),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,r.acquireCachedToken(e)];case 3:return n=i.sent(),this.eventHandler.emitEvent(so.ACQUIRE_TOKEN_SUCCESS,Ur.Silent,n),[2,n];case 4:throw(o=i.sent())instanceof Fn&&o.errorCode===Ln.code&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o;case 5:return[2]}}))}))},t.prototype.logout=function(){return Promise.reject(Fn.createSilentLogoutUnsupportedError())},t.prototype.createSilentFlowClient=function(e,t,r){return k(this,void 0,void 0,(function(){var n;return N(this,(function(o){switch(o.label){case 0:return[4,this.getClientConfiguration(e,t,r)];case 1:return n=o.sent(),[2,new Ir(n)]}}))}))},t.prototype.initializeSilentRequest=function(e,t){return k(this,void 0,void 0,(function(){var r;return N(this,(function(n){switch(n.label){case 0:return r=[O({},e)],[4,this.initializeBaseRequest(e)];case 1:return[2,O.apply(void 0,[O.apply(void 0,r.concat([n.sent()])),{account:t,forceRefresh:e.forceRefresh||!1}])]}}))}))},t}(uo);
/*! @azure/msal-browser v2.22.1 2022-03-07 */const Io=new(function(e){function t(t){var r=e.call(this,t)||this;return r.activeSilentTokenRequests=new Map,r}return R(t,e),t.prototype.loginRedirect=function(e){return k(this,void 0,void 0,(function(){return N(this,(function(t){return this.logger.verbose("loginRedirect called"),[2,this.acquireTokenRedirect(e||Qr)]}))}))},t.prototype.loginPopup=function(e){return this.logger.verbose("loginPopup called"),this.acquireTokenPopup(e||Qr)},t.prototype.acquireTokenSilent=function(e){return k(this,void 0,void 0,(function(){var t,r,n,o,i,a=this;return N(this,(function(s){if(this.preflightBrowserEnvironmentCheck(Ur.Silent),this.logger.verbose("acquireTokenSilent called",e.correlationId),!(t=e.account||this.getActiveAccount()))throw Fn.createNoAccountError();return r={clientId:this.config.auth.clientId,authority:e.authority||"",scopes:e.scopes,homeAccountIdentifier:t.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},n=JSON.stringify(r),void 0===(o=this.activeSilentTokenRequests.get(n))?(this.logger.verbose("acquireTokenSilent called for the first time, storing active request",e.correlationId),i=this.acquireTokenSilentAsync(e,t).then((function(e){return a.activeSilentTokenRequests.delete(n),e})).catch((function(e){throw a.activeSilentTokenRequests.delete(n),e})),this.activeSilentTokenRequests.set(n,i),[2,i]):(this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",e.correlationId),[2,o])}))}))},t.prototype.acquireTokenSilentAsync=function(e,t){return k(this,void 0,void 0,(function(){var r,n,o=this;return N(this,(function(i){switch(i.label){case 0:return[4,(r=new Ao(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,e.correlationId)).initializeSilentRequest(e,t)];case 1:return n=i.sent(),this.eventHandler.emitEvent(so.ACQUIRE_TOKEN_START,Ur.Silent,e),[2,r.acquireToken(n).catch((function(){return k(o,void 0,void 0,(function(){var e,t;return N(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.acquireTokenByRefreshToken(n)];case 1:return e=r.sent(),this.eventHandler.emitEvent(so.ACQUIRE_TOKEN_SUCCESS,Ur.Silent,e),[2,e];case 2:throw t=r.sent(),this.eventHandler.emitEvent(so.ACQUIRE_TOKEN_FAILURE,Ur.Silent,null,t),t;case 3:return[2]}}))}))}))]}}))}))},t}(To))({auth:{clientId:"cd023a23-4fff-48b5-84fc-6e458b839915"}}),_o={scopes:["openid","profile","https://elegastsandbox.crm4.dynamics.com//user_impersonation"]},bo=async()=>{try{return await Io.loginPopup(),await Ro()}catch(e){}},Ro=async()=>{let e=null;try{e=await Io.acquireTokenPopup(_o)}catch(e){}finally{return e}},Oo={_mainOrg:"https://elegastsandbox.crm4.dynamics.com",AUTH_KEY:null,AuthToMicrosoft:async()=>{try{const e=await bo();(null!==e||e.accessToken)&&Oo.setAuth(e.accessToken)}catch(e){}},ActionCollectionBase:()=>{},AlertDialogStrings:()=>{},ArrayEx:()=>{},AttributeFormat:()=>{},AttributeType:()=>{},BeginSecureSessionResponseCode:()=>{},BusinessProcessFlowInstanceState:()=>{},BusinessProcessFlowInstanceStatus:()=>{},BusinessRuleNotificationBase:()=>{},ChartPaneMode:()=>{},ClientName:()=>{},ClientState:()=>{},ClientStates:()=>{},Collection:()=>{},ComponentModel:()=>{},ConfirmDialogStrings:()=>{},Constants:()=>{},ControlType:()=>{},CountRecords:_,DataLoadEventArgs:()=>{},DataLoadState:()=>{},DateFormattingInfo:()=>{},DelegateItterator:()=>{},Description:()=>{},Device:()=>{},Diagnostics:()=>{},Dialog:()=>{},DialogOptions:()=>{},Encoding:()=>{},EntityFormOptions:()=>{},EntityListPageInput:()=>{},EntityMetadata:()=>{},EntityRelationshipRoleType:()=>{},EntityRelationshipType:()=>{},ErrorDialogOptions:()=>{},ErrorResponse:()=>{},ExecutionContext:()=>{},Flag:()=>{},FormDataAttributePrivilege:()=>{},FormDataAttributePrivileges:()=>{},FormFactor:()=>{},FormNotificationOptions:()=>{},FormSaveAction:()=>{},FormType:()=>{},Gen:()=>{},GetAttributes:I,GridType:()=>{},IBusinessRuleNotificationProvider:()=>{},IsMockXrm:()=>!0,IXrmCollectionItem:()=>{},Interfaces:()=>{},Internal:()=>{},JavaScriptConsoleTraceListener:()=>{},KBSearchResult:()=>{},LocalizedLabel:()=>{},LookupObject:()=>{},LookupOptions:()=>{},LookupStyle:()=>{},MetricsStopwatch:()=>{},Mobile:()=>{},Navigation:A,NotificationLevel:()=>{},NumberEx:()=>{},Objects:()=>{},Offline:()=>{},OfflineErrorResponse:()=>{},OpenFileMode:()=>{},OpenFormSuccessResponse:()=>{},OptionSetItem:()=>{},OrganizationServiceProxyBridge:()=>{},Page:()=>{},PageBridge:()=>{},PageContextBridge:()=>{},PageEx:()=>{},PageInput:()=>{},PageType:()=>{},Panel:()=>{},ProcessActionSuccessResponse:()=>{},ProcessResponse:()=>{},ProcessState:()=>{},ProcessStatus:()=>{},RelationshipReference:()=>{},RequiredLevel:()=>{},SaveErrorResponse:()=>{},SaveEventArgs:()=>{},SaveMode:()=>{},SaveOptions:()=>{},SaveSuccessResponse:()=>{},ScopedServiceDirectory:()=>{},Sdk:()=>{},Services:()=>{},Soap:()=>{},StepProgress:()=>{},StepType:()=>{},StringBuilderTraceListener:()=>{},StringEx:()=>{},SubmitMode:()=>{},TabDisplayState:()=>{},TabItem:()=>{},TabSection:()=>{},TaskFlowOptions:()=>{},TaskIterrator:()=>{},Tracing:()=>{},UI:()=>{},Utility:T,WebApi:Lo,WindowOptions:()=>{},XrmBusinessProcessFlow:()=>{},XrmChart:()=>{},XrmCollection:()=>{},XrmCollectionBase:()=>{},XrmCollectionDictionary:()=>{},XrmControl:()=>{},XrmControlACI:()=>{},XrmControlAutoLookup:()=>{},XrmControlBase:()=>{},XrmControlButton:()=>{},XrmControlDateTime:()=>{},XrmControlEmailEngagementActionsControl:()=>{},XrmControlEmailRecipientActivity:()=>{},XrmControlFormSelector:()=>{},XrmControlGrid:()=>{},XrmControlIFrame:()=>{},XrmControlLookup:()=>{},XrmControlOptionSet:()=>{},XrmControlQuickForm:()=>{},XrmControlRoutedGrid:()=>{},XrmControlSearchWidget:()=>{},XrmControlSilverlight:()=>{},XrmControlSubGrid:()=>{},XrmControlText:()=>{},XrmControlTimer:()=>{},XrmControlWebResource:()=>{},XrmControls:()=>{},XrmDataControl:()=>{},XrmDialog:()=>{},XrmEncoding:()=>{},XrmEntities:()=>{},XrmEntity:()=>{},XrmEntityAttribute:()=>{},XrmEntityAttributeBoolean:()=>{},XrmEntityAttributeDateTime:()=>{},XrmEntityAttributeLookup:()=>{},XrmEntityAttributeNumber:()=>{},XrmEntityAttributeOptionSet:()=>{},XrmEntityAttributeOptionSetBase:()=>{},XrmEntityAttributeString:()=>{},XrmEntityAttributes:()=>{},XrmEntityRelationship:()=>{},XrmFile:()=>{},XrmForm:()=>{},XrmFormData:()=>{},XrmFormSelectorItem:()=>{},XrmFormSelectorItems:()=>{},XrmFormUI:()=>{},XrmGlobalContext:()=>{},XrmGridData:()=>{},XrmGridFilter:()=>{},XrmGridRow:()=>{},XrmGridRows:()=>{},XrmInternal:()=>{},XrmNavigation:()=>{},XrmNavigationItem:()=>{},XrmNavigationItems:()=>{},XrmNavigations:()=>{},XrmOffline:()=>{},XrmOpenFileOption:()=>{},XrmOrganizationSettings:()=>{},XrmPageContextClient:()=>{},XrmPanel:()=>{},XrmPerformance:()=>{},XrmProcessControlData:()=>{},XrmProcessControlUI:()=>{},XrmProcessStage:()=>{},XrmProcessStep:()=>{},XrmQuickForms:()=>{},XrmRelatedEntities:()=>{},XrmSdkMessages:()=>{},XrmServiceDirectory:()=>{},XrmTab:()=>{},XrmTabNavigator:()=>{},XrmTabNavigatorGroup:()=>{},XrmTabNavigators:()=>{},XrmTabSection:()=>{},XrmTabSections:()=>{},XrmTabs:()=>{},XrmTaskProcess:()=>{},XrmTrace:()=>{},XrmUserSettings:()=>{},XrmUtility:()=>{},XrmViewSelector:()=>{},getName:()=>"Xrm",setAuth:function(e){globalThis.AUTH_KEY=e},getAuth:()=>globalThis.AUTH_KEY,getOrg:()=>globalThis._mainOrg},ko=t=>r=>n=>async i=>{let a="",s=r&&JSON.stringify(r);return y()&&(a=await o()),Oo.getAuth()&&(i||(i={}),i.Authorization="Bearer "+Oo.getAuth()),"$batch"===n&&(s=r),fetch(`${a?"/"+a:a}${e}/${n}`,{headers:{...i},method:t,body:s})},No=ko("GET")(),Po=async(e,t,r="")=>{let n=await S(e);return(await No(`${n.EntityMetadata.LogicalCollectionName}(${t})${r||""}`)()).json()},Uo=ko("POST"),Mo=ko("PATCH"),Do=ko("DELETE")(),Lo={createRecord:async(e,t)=>{let r=await S(e),n=await Uo(t)("/"+r.EntityMetadata.LogicalCollectionName)({"content-type":"application/json",Prefer:"return=representation"}),o=await n.json();return Promise.resolve({entityType:e,id:o[r.EntityMetadata.PrimaryIdAttribute]})},deleteRecord:async(e,t)=>{let r=await S(e);await Do(`/${r.EntityMetadata.LogicalCollectionName}(${t})`)();return Promise.resolve({entityType:e,id:t})},updateRecord:async(e,t,r)=>{let n=await S(e);return await Mo(r)(`/${n.EntityMetadata.LogicalCollectionName}(${t})`)({"content-type":"application/json"}),Promise.resolve({entityType:e,id:t})},retrieveRecord:Po,retrieveMultipleRecords:(e,t="",r="")=>v(C,((e="",t="")=>async({EntityMetadata:r})=>No(`${function(e){if(e){let t="s";return"s"===e.charAt(e.length-1)&&(t="es"),"savedquery"===e&&(e="savedquerie"),e+t}return e}(r.LogicalName)}${e||""}`)(t?{prefer:'odata.include-annotations="*",odata.maxpagesize='+t}:{}))(t,r),S)(e),executeMultiple:async t=>{const r=Date.now();try{let n=await(async(t,r)=>{let n=[];return r.forEach(r=>{let o="";n.push("--batch_"+t),n.push("Content-type: application/http"),n.push("Content-Transfer-Encoding:binary"),r.id&&(o="("+r.id+")"),n.push(""),n.push(r.method.toUpperCase()+" "+e+"/"+r.entity+o+" HTTP/1.1"),n.push("MSCRM.SuppressDuplicateDetection: true"),n.push("If-match: *"),n.push("AutoDisassociate: true"),n.push("Content-Type: application/json"),n.push('Prefer: odata.include-annotations="*"'),n.push("Clienthost: Browser"),n.push(""),n.push(JSON.stringify(r.data))}),n.push("--batch_"+t+"--"),Promise.resolve(n.join("\r\n"))})(r,t),o=await Uo(n)("$batch")({Accept:"application/json","content-type":"multipart/mixed;boundary=batch_"+r});return Promise.resolve(o)}catch(e){return Promise.reject(e)}},online:{execute:e=>{let t=e.getMetadata().operationName;return Uo(e)(t)({"content-type":"application/json"})}}},Ho={_mainOrg:"https://elegastsandbox.crm4.dynamics.com",AUTH_KEY:null,AuthToMicrosoft:async()=>{try{const e=await bo();(null!==e||e.accessToken)&&Ho.setAuth(e.accessToken)}catch(e){}},ActionCollectionBase:()=>{},AlertDialogStrings:()=>{},ArrayEx:()=>{},AttributeFormat:()=>{},AttributeType:()=>{},BeginSecureSessionResponseCode:()=>{},BusinessProcessFlowInstanceState:()=>{},BusinessProcessFlowInstanceStatus:()=>{},BusinessRuleNotificationBase:()=>{},ChartPaneMode:()=>{},ClientName:()=>{},ClientState:()=>{},ClientStates:()=>{},Collection:()=>{},ComponentModel:()=>{},ConfirmDialogStrings:()=>{},Constants:()=>{},ControlType:()=>{},CountRecords:_,DataLoadEventArgs:()=>{},DataLoadState:()=>{},DateFormattingInfo:()=>{},DelegateItterator:()=>{},Description:()=>{},Device:()=>{},Diagnostics:()=>{},Dialog:()=>{},DialogOptions:()=>{},Encoding:()=>{},EntityFormOptions:()=>{},EntityListPageInput:()=>{},EntityMetadata:()=>{},EntityRelationshipRoleType:()=>{},EntityRelationshipType:()=>{},ErrorDialogOptions:()=>{},ErrorResponse:()=>{},ExecutionContext:()=>{},Flag:()=>{},FormDataAttributePrivilege:()=>{},FormDataAttributePrivileges:()=>{},FormFactor:()=>{},FormNotificationOptions:()=>{},FormSaveAction:()=>{},FormType:()=>{},Gen:()=>{},GetAttributes:I,GridType:()=>{},IBusinessRuleNotificationProvider:()=>{},IsMockXrm:()=>!0,IXrmCollectionItem:()=>{},Interfaces:()=>{},Internal:()=>{},JavaScriptConsoleTraceListener:()=>{},KBSearchResult:()=>{},LocalizedLabel:()=>{},LookupObject:()=>{},LookupOptions:()=>{},LookupStyle:()=>{},MetricsStopwatch:()=>{},Mobile:()=>{},Navigation:A,NotificationLevel:()=>{},NumberEx:()=>{},Objects:()=>{},Offline:()=>{},OfflineErrorResponse:()=>{},OpenFileMode:()=>{},OpenFormSuccessResponse:()=>{},OptionSetItem:()=>{},OrganizationServiceProxyBridge:()=>{},Page:()=>{},PageBridge:()=>{},PageContextBridge:()=>{},PageEx:()=>{},PageInput:()=>{},PageType:()=>{},Panel:()=>{},ProcessActionSuccessResponse:()=>{},ProcessResponse:()=>{},ProcessState:()=>{},ProcessStatus:()=>{},RelationshipReference:()=>{},RequiredLevel:()=>{},SaveErrorResponse:()=>{},SaveEventArgs:()=>{},SaveMode:()=>{},SaveOptions:()=>{},SaveSuccessResponse:()=>{},ScopedServiceDirectory:()=>{},Sdk:()=>{},Services:()=>{},Soap:()=>{},StepProgress:()=>{},StepType:()=>{},StringBuilderTraceListener:()=>{},StringEx:()=>{},SubmitMode:()=>{},TabDisplayState:()=>{},TabItem:()=>{},TabSection:()=>{},TaskFlowOptions:()=>{},TaskIterrator:()=>{},Tracing:()=>{},UI:()=>{},Utility:T,WebApi:Lo,WindowOptions:()=>{},XrmBusinessProcessFlow:()=>{},XrmChart:()=>{},XrmCollection:()=>{},XrmCollectionBase:()=>{},XrmCollectionDictionary:()=>{},XrmControl:()=>{},XrmControlACI:()=>{},XrmControlAutoLookup:()=>{},XrmControlBase:()=>{},XrmControlButton:()=>{},XrmControlDateTime:()=>{},XrmControlEmailEngagementActionsControl:()=>{},XrmControlEmailRecipientActivity:()=>{},XrmControlFormSelector:()=>{},XrmControlGrid:()=>{},XrmControlIFrame:()=>{},XrmControlLookup:()=>{},XrmControlOptionSet:()=>{},XrmControlQuickForm:()=>{},XrmControlRoutedGrid:()=>{},XrmControlSearchWidget:()=>{},XrmControlSilverlight:()=>{},XrmControlSubGrid:()=>{},XrmControlText:()=>{},XrmControlTimer:()=>{},XrmControlWebResource:()=>{},XrmControls:()=>{},XrmDataControl:()=>{},XrmDialog:()=>{},XrmEncoding:()=>{},XrmEntities:()=>{},XrmEntity:()=>{},XrmEntityAttribute:()=>{},XrmEntityAttributeBoolean:()=>{},XrmEntityAttributeDateTime:()=>{},XrmEntityAttributeLookup:()=>{},XrmEntityAttributeNumber:()=>{},XrmEntityAttributeOptionSet:()=>{},XrmEntityAttributeOptionSetBase:()=>{},XrmEntityAttributeString:()=>{},XrmEntityAttributes:()=>{},XrmEntityRelationship:()=>{},XrmFile:()=>{},XrmForm:()=>{},XrmFormData:()=>{},XrmFormSelectorItem:()=>{},XrmFormSelectorItems:()=>{},XrmFormUI:()=>{},XrmGlobalContext:()=>{},XrmGridData:()=>{},XrmGridFilter:()=>{},XrmGridRow:()=>{},XrmGridRows:()=>{},XrmInternal:()=>{},XrmNavigation:()=>{},XrmNavigationItem:()=>{},XrmNavigationItems:()=>{},XrmNavigations:()=>{},XrmOffline:()=>{},XrmOpenFileOption:()=>{},XrmOrganizationSettings:()=>{},XrmPageContextClient:()=>{},XrmPanel:()=>{},XrmPerformance:()=>{},XrmProcessControlData:()=>{},XrmProcessControlUI:()=>{},XrmProcessStage:()=>{},XrmProcessStep:()=>{},XrmQuickForms:()=>{},XrmRelatedEntities:()=>{},XrmSdkMessages:()=>{},XrmServiceDirectory:()=>{},XrmTab:()=>{},XrmTabNavigator:()=>{},XrmTabNavigatorGroup:()=>{},XrmTabNavigators:()=>{},XrmTabSection:()=>{},XrmTabSections:()=>{},XrmTabs:()=>{},XrmTaskProcess:()=>{},XrmTrace:()=>{},XrmUserSettings:()=>{},XrmUtility:()=>{},XrmViewSelector:()=>{},getName:()=>"Xrm",setAuth:function(e){globalThis.AUTH_KEY=e},getAuth:()=>globalThis.AUTH_KEY,getOrg:()=>globalThis._mainOrg};return Ho}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiWHJtLm1pbi5qcyIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbnN0cy5qcyIsIi4uL3NyYy91dGlsaXR5L21lbW9pemUuanMiLCIuLi9zcmMvdXRpbGl0eS9vcmdVbmlxdWVOYW1lLmpzIiwiLi4vc3JjL29yZ2FuaXphdGlvblNldHRpbmdzLmpzIiwiLi4vc3JjL3V0aWxpdHkvZXhlY3V0ZVdob0FtSS5qcyIsIi4uL3NyYy9yZXRyaWV2ZU1lbW8uanMiLCIuLi9zcmMvdXRpbGl0eS9waXBlLmpzIiwiLi4vc3JjL3V0aWxpdHkvc3RyaW5nUmVwbGFjZS5qcyIsIi4uL3NyYy91dGlsaXR5L2NsZWFuR3VpZC5qcyIsIi4uL3NyYy91c2VyU2V0dGluZ3MuanMiLCIuLi9zcmMvdXRpbGl0eS9jbGllbnRVcmwuanMiLCIuLi9zcmMvdXRpbGl0eS9jbGVhbkxvY2F0aW9uU2VhcmNoLmpzIiwiLi4vc3JjL3V0aWxpdHkvc3BsaXQuanMiLCIuLi9zcmMvZ2V0Q3VycmVudEFwcE5hbWUuanMiLCIuLi9zcmMvdXRpbGl0eS9xdWVyeVN0cmluZ1ZhbHVlUHJvdmlkZXIuanMiLCIuLi9zcmMvdXRpbGl0eS9tYXAuanMiLCIuLi9zcmMvdXRpbGl0eS9yZWR1Y2UuanMiLCIuLi9zcmMvdXRpbGl0eS9pc09uUHJlbWlzZXMuanMiLCIuLi9zcmMvdXRpbGl0eS9jb21wb3NlUHJvbWlzZXMuanMiLCIuLi9zcmMvdXRpbGl0eS9jb21wb3NlTS5qcyIsIi4uL3NyYy91dGlsaXR5L2pzb25SZXN1bHQuanMiLCIuLi9zcmMvcmV0cmlldmVNZXRhZGF0YS5qcyIsIi4uL3NyYy9yZXRyaWV2ZU1ldGFkYXRhV3JhcHBlck1lbW8uanMiLCIuLi9zcmMvcmV0cmlldmVNZXRhZGF0YVdyYXBwZXIuanMiLCIuLi9zcmMvdXRpbGl0eS5qcyIsIi4uL3NyYy9nbG9iYWxDb250ZXh0LmpzIiwiLi4vc3JjL25hdmlnYXRpb24uanMiLCIuLi9zcmMvbmF2aWdhdGlvbi9vcGVuRm9ybS5qcyIsIi4uL3NyYy9yZXRyaWV2ZUF0dHJpYnV0ZXMuanMiLCIuLi9zcmMvcmV0cmlldmVUb3RhbFJlY29yZENvdW50LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9fdmlydHVhbC9fdHNsaWIuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvX3ZpcnR1YWwvX3RzbGliLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L3V0aWxzL0NvbnN0YW50cy5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9lcnJvci9BdXRoRXJyb3IuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvbG9nZ2VyL0xvZ2dlci5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9jcnlwdG8vSUNyeXB0by5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9lcnJvci9DbGllbnRBdXRoRXJyb3IuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvdXRpbHMvU3RyaW5nVXRpbHMuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYXV0aG9yaXR5L0F1dGhvcml0eU9wdGlvbnMuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvY2FjaGUvZW50aXRpZXMvQ3JlZGVudGlhbEVudGl0eS5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9hdXRob3JpdHkvQXV0aG9yaXR5VHlwZS5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9lcnJvci9DbGllbnRDb25maWd1cmF0aW9uRXJyb3IuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvcmVxdWVzdC9TY29wZVNldC5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9hY2NvdW50L0NsaWVudEluZm8uanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvY2FjaGUvZW50aXRpZXMvQWNjb3VudEVudGl0eS5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9hY2NvdW50L0F1dGhUb2tlbi5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9jYWNoZS9DYWNoZU1hbmFnZXIuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvY29uZmlnL0NsaWVudENvbmZpZ3VyYXRpb24uanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvcGFja2FnZU1ldGFkYXRhLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L2Vycm9yL1NlcnZlckVycm9yLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L2FjY291bnQvQ2NzQ3JlZGVudGlhbC5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9uZXR3b3JrL1Rocm90dGxpbmdVdGlscy5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9uZXR3b3JrL05ldHdvcmtNYW5hZ2VyLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L2NsaWVudC9CYXNlQ2xpZW50LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L2NyeXB0by9Qb3BUb2tlbkdlbmVyYXRvci5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9yZXF1ZXN0L1JlcXVlc3RWYWxpZGF0b3IuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvcmVxdWVzdC9SZXF1ZXN0UGFyYW1ldGVyQnVpbGRlci5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9jYWNoZS9lbnRpdGllcy9JZFRva2VuRW50aXR5LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L3V0aWxzL1RpbWVVdGlscy5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9jYWNoZS9lbnRpdGllcy9BY2Nlc3NUb2tlbkVudGl0eS5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9jYWNoZS9lbnRpdGllcy9SZWZyZXNoVG9rZW5FbnRpdHkuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvZXJyb3IvSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvci5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9jYWNoZS9lbnRpdGllcy9DYWNoZVJlY29yZC5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC91dGlscy9Qcm90b2NvbFV0aWxzLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L3VybC9VcmxTdHJpbmcuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYXV0aG9yaXR5L1Byb3RvY29sTW9kZS5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9jYWNoZS9lbnRpdGllcy9BcHBNZXRhZGF0YUVudGl0eS5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9jYWNoZS9wZXJzaXN0ZW5jZS9Ub2tlbkNhY2hlQ29udGV4dC5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9yZXNwb25zZS9SZXNwb25zZUhhbmRsZXIuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvY2xpZW50L0F1dGhvcml6YXRpb25Db2RlQ2xpZW50LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L2NsaWVudC9SZWZyZXNoVG9rZW5DbGllbnQuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvY2xpZW50L1NpbGVudEZsb3dDbGllbnQuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYXV0aG9yaXR5L09wZW5JZENvbmZpZ1Jlc3BvbnNlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L2NhY2hlL2VudGl0aWVzL0F1dGhvcml0eU1ldGFkYXRhRW50aXR5LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L2F1dGhvcml0eS9SZWdpb25EaXNjb3ZlcnkuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L3V0aWxzL0Jyb3dzZXJDb25zdGFudHMuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYXV0aG9yaXR5L0F1dGhvcml0eS5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9hdXRob3JpdHkvQ2xvdWRJbnN0YW5jZURpc2NvdmVyeVJlc3BvbnNlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L2F1dGhvcml0eS9BdXRob3JpdHlGYWN0b3J5LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L2NhY2hlL2VudGl0aWVzL1NlcnZlclRlbGVtZXRyeUVudGl0eS5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9jYWNoZS9lbnRpdGllcy9UaHJvdHRsaW5nRW50aXR5LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L25ldHdvcmsvSU5ldHdvcmtNb2R1bGUuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvdGVsZW1ldHJ5L3NlcnZlci9TZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC91dGlscy9NYXRoVXRpbHMuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2NyeXB0by9HdWlkR2VuZXJhdG9yLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC91dGlscy9Ccm93c2VyU3RyaW5nVXRpbHMuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2VuY29kZS9CYXNlNjRFbmNvZGUuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2VuY29kZS9CYXNlNjREZWNvZGUuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3IuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2NyeXB0by9Qa2NlR2VuZXJhdG9yLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9jcnlwdG8vQnJvd3NlckNyeXB0by5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvY2FjaGUvRGF0YWJhc2VTdG9yYWdlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9jYWNoZS9NZW1vcnlTdG9yYWdlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9jYWNoZS9Bc3luY01lbW9yeVN0b3JhZ2UuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2NyeXB0by9DcnlwdG9PcHMuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2Vycm9yL0Jyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9jYWNoZS9Ccm93c2VyU3RvcmFnZS5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvdXRpbHMvQnJvd3NlclByb3RvY29sVXRpbHMuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2NhY2hlL0Jyb3dzZXJDYWNoZU1hbmFnZXIuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L25ldHdvcmsvRmV0Y2hDbGllbnQuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L25ldHdvcmsvWGhyQ2xpZW50LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC91dGlscy9Ccm93c2VyVXRpbHMuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L25hdmlnYXRpb24vTmF2aWdhdGlvbkNsaWVudC5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvcGFja2FnZU1ldGFkYXRhLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9ldmVudC9FdmVudFR5cGUuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2V2ZW50L0V2ZW50SGFuZGxlci5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvaW50ZXJhY3Rpb25fY2xpZW50L1N0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnQuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2ludGVyYWN0aW9uX2NsaWVudC9CYXNlSW50ZXJhY3Rpb25DbGllbnQuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L3V0aWxzL1BvcHVwVXRpbHMuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2ludGVyYWN0aW9uX2hhbmRsZXIvSW50ZXJhY3Rpb25IYW5kbGVyLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9pbnRlcmFjdGlvbl9oYW5kbGVyL1BvcHVwSGFuZGxlci5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvaW50ZXJhY3Rpb25fY2xpZW50L1BvcHVwQ2xpZW50LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9pbnRlcmFjdGlvbl9oYW5kbGVyL1JlZGlyZWN0SGFuZGxlci5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvaW50ZXJhY3Rpb25fY2xpZW50L1JlZGlyZWN0Q2xpZW50LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9pbnRlcmFjdGlvbl9oYW5kbGVyL1NpbGVudEhhbmRsZXIuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2NvbmZpZy9Db25maWd1cmF0aW9uLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9pbnRlcmFjdGlvbl9jbGllbnQvU2lsZW50SWZyYW1lQ2xpZW50LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9pbnRlcmFjdGlvbl9jbGllbnQvU2lsZW50UmVmcmVzaENsaWVudC5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvY2FjaGUvVG9rZW5DYWNoZS5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvaW50ZXJhY3Rpb25fY2xpZW50L0h5YnJpZFNwYUF1dGhvcml6YXRpb25Db2RlQ2xpZW50LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9pbnRlcmFjdGlvbl9jbGllbnQvU2lsZW50QXV0aENvZGVDbGllbnQuanMiLCIuLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2FwcC9DbGllbnRBcHBsaWNhdGlvbi5qcyIsIi4uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvaW50ZXJhY3Rpb25fY2xpZW50L1NpbGVudENhY2hlQ2xpZW50LmpzIiwiLi4vc3JjL2NvbmZpZy9hdXRoT2JqZWN0LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9hcHAvUHVibGljQ2xpZW50QXBwbGljYXRpb24uanMiLCIuLi9zcmMvYXV0aC5qcyIsIi4uL3NyYy94cm0uanMiLCIuLi9zcmMvdXRpbGl0eS9leGVjdXRlRmV0Y2guanMiLCIuLi9zcmMvdXRpbGl0eS9leGVjdXRlR2V0LmpzIiwiLi4vc3JjL3JldHJpZXZlLmpzIiwiLi4vc3JjL3V0aWxpdHkvZXhlY3V0ZVBvc3QuanMiLCIuLi9zcmMvdXRpbGl0eS9leGVjdXRlUGF0Y2guanMiLCIuLi9zcmMvdXRpbGl0eS9leGVjdXRlRGVsZXRlLmpzIiwiLi4vc3JjL3dlYkFwaS5qcyIsIi4uL3NyYy9jcmVhdGUuanMiLCIuLi9zcmMvZGVsZXRlLmpzIiwiLi4vc3JjL3VwZGF0ZS5qcyIsIi4uL3NyYy9yZXRyaWV2ZU11bHRpcGxlV3JhcHBlci5qcyIsIi4uL3NyYy9yZXRyaWV2ZU11bHRpcGxlLmpzIiwiLi4vc3JjL3V0aWxpdHkvY29sbGVjdGlvbk5hbWVHZW5lcmF0b3IuanMiLCIuLi9zcmMvZXhlY3V0ZU11bHRpcGxlLmpzIiwiLi4vc3JjL3V0aWxpdHkvcHJlcGFyZUJhdGNoUmVxdWVzdC5qcyIsIi4uL3NyYy9vbmxpbmUuanMiLCIuLi9zcmMvZXhlY3V0ZS5qcyIsIi4uL3NyYy9Ycm0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgTE9DQUxIT1NUID0gXCJodHRwczovL2VsZWdhc3RzYW5kYm94LmNybTQuZHluYW1pY3MuY29tXCI7XHJcbmNvbnN0IFdFQkFQSSA9IGAke1xyXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IExPQ0FMSE9TVCA6IFwiXCJcclxufS9hcGkvZGF0YS92OS4wYDtcclxuY29uc3QgV0hPQU1JID0gXCJXaG9BbUlcIjtcclxuY29uc3QgR0VUID0gXCJHRVRcIjtcclxuY29uc3QgUE9TVCA9IFwiUE9TVFwiO1xyXG5jb25zdCBQQVRDSCA9IFwiUEFUQ0hcIjtcclxuY29uc3QgREVMRVRFID0gXCJERUxFVEVcIjtcclxuY29uc3QgQ0xJRU5UX1VSTCA9IHR5cGVvZiBsb2NhdGlvbiA9PT0gXCJvYmplY3RcIiAmJiBsb2NhdGlvbi5vcmlnaW47XHJcbmNvbnN0IE9OTElORV9SRUdFWCA9IC9bLWEtekEtWjAtOV0qP1xcLihjcm1bMC05XSo/XFwuZHluYW1pY3NcXC5jb218Y3JtXFwubWljcm9zb2Z0ZHluYW1pY3NcXC51cykvO1xyXG5cclxuZXhwb3J0IHsgV0VCQVBJLCBXSE9BTUksIEdFVCwgUE9TVCwgUEFUQ0gsIERFTEVURSwgQ0xJRU5UX1VSTCwgT05MSU5FX1JFR0VYIH07XHJcbiIsImNvbnN0IG1lbW9pemUgPSBmdW5jdGlvbihtZXRob2QpIHtcclxuICAgIGxldCBjYWNoZSA9IHt9O1xyXG5cclxuICAgIHJldHVybiBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IGFyZ3MgPSBKU09OLnN0cmluZ2lmeShhcmd1bWVudHMpO1xyXG4gICAgICAgIGNhY2hlW2FyZ3NdID0gY2FjaGVbYXJnc10gfHwgbWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgcmV0dXJuIGNhY2hlW2FyZ3NdO1xyXG4gICAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1lbW9pemU7IiwiaW1wb3J0IG1lbW9pemUgZnJvbSAnLi9tZW1vaXplJztcclxuXHJcbmNvbnN0IG9yZ1VuaXF1ZU5hbWUgPSBtZW1vaXplKGFzeW5jICgpID0+IHtcclxuICAgIGxldCByZXN1bHQgPSBhd2FpdCBmZXRjaCgnL3Rvb2xzL3N5c3RlbWN1c3RvbWl6YXRpb24vc3lzdGVtQ3VzdG9taXphdGlvbi5hc3B4P3BpZD0wNSZ3ZWI9dHJ1ZScpO1xyXG4gICAgaWYocmVzdWx0Lmxlbmd0aCA+IDApe1xyXG4gICAgcmV0dXJuIHJlc3VsdC50ZXh0KCkudGhlbihkYXRhID0+IGRhdGEubWF0Y2goL3ZhciBPUkdfVU5JUVVFX05BTUUgPSAnKFstYS16QS1aMC05XSopJzsvKVsxXSk7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgb3JnVW5pcXVlTmFtZTsiLCJpbXBvcnQgb3JnVW5pcXVlTmFtZSBmcm9tICcuL3V0aWxpdHkvb3JnVW5pcXVlTmFtZSc7XHJcblxyXG5jb25zdCBvcmdhbml6YXRpb25TZXR0aW5ncyA9IGFzeW5jICgpID0+IHtcclxuICAgIGxldCBvcmdOYW1lID0gYXdhaXQgb3JnVW5pcXVlTmFtZSgpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdW5pcXVlTmFtZTogb3JnTmFtZVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgb3JnYW5pemF0aW9uU2V0dGluZ3M7IiwiaW1wb3J0IG1lbW9pemUgZnJvbSAnLi9tZW1vaXplJztcclxuaW1wb3J0IGV4ZWN1dGVHZXQgZnJvbSAnLi9leGVjdXRlR2V0JztcclxuXHJcbmNvbnN0IHdob0FtSSA9IG1lbW9pemUoYXN5bmMgKCkgPT4ge1xyXG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVHZXQoJy9XaG9BbUknKSgpO1xyXG4gICAgcmV0dXJuIHJlc3VsdC5qc29uKCk7XHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgd2hvQW1JOyIsImltcG9ydCBtZW1vaXplIGZyb20gJy4vdXRpbGl0eS9tZW1vaXplJztcclxuaW1wb3J0IHJldHJpZXZlIGZyb20gJy4vcmV0cmlldmUnO1xyXG5cclxuY29uc3QgcmV0cmlldmVNZW1vID0gbWVtb2l6ZShyZXRyaWV2ZSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByZXRyaWV2ZU1lbW87IiwiY29uc3QgX3BpcGUgPSAoYSwgYikgPT4gKGFyZykgPT4gYihhKGFyZykpO1xyXG5jb25zdCBwaXBlID0gKC4uLm9wcykgPT4gb3BzLnJlZHVjZShfcGlwZSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBpcGU7IiwiY29uc3Qgc3RyaW5nUmVwbGFjZSA9IChleHApID0+ICh2YWwpID0+IChzdHIpID0+IHN0ci5yZXBsYWNlKGV4cCwgdmFsKTsgXHJcblxyXG5leHBvcnQgZGVmYXVsdCBzdHJpbmdSZXBsYWNlOyIsImltcG9ydCBwaXBlIGZyb20gJy4vcGlwZSc7XHJcbmltcG9ydCBzdHJpbmdSZXBsYWNlIGZyb20gJy4vc3RyaW5nUmVwbGFjZSc7XHJcblxyXG5jb25zdCBjbGVhbkd1aWQgPSBwaXBlKHN0cmluZ1JlcGxhY2UoL1xce3xcXH0vZ2kpKCcnKSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGVhbkd1aWQ7IiwiaW1wb3J0IHdob0FtSSBmcm9tICcuL3V0aWxpdHkvZXhlY3V0ZVdob0FtSSc7XHJcbmltcG9ydCByZXRyaWV2ZU1lbW8gZnJvbSAnLi9yZXRyaWV2ZU1lbW8nO1xyXG5pbXBvcnQgY2xlYW5HdWlkIGZyb20gJy4vdXRpbGl0eS9jbGVhbkd1aWQnO1xyXG5cclxuY29uc3QgdXNlclNldHRpbmdzID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgbGV0IG1lID0gYXdhaXQgd2hvQW1JKCk7XHJcbiAgICBsZXQgcm9sZXMgPSBhd2FpdCByZXRyaWV2ZU1lbW8oJ3N5c3RlbXVzZXInLCBtZS5Vc2VySWQsICc/JGV4cGFuZD1zeXN0ZW11c2Vycm9sZXNfYXNzb2NpYXRpb24oJHNlbGVjdD1uYW1lKSYkc2VsZWN0PXN5c3RlbXVzZXJpZCxmdWxsbmFtZScpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdXNlcklkOiBgeyR7Y2xlYW5HdWlkKG1lLlVzZXJJZCl9fWAsXHJcbiAgICAgICAgdXNlck5hbWU6IHJvbGVzLmZ1bGxuYW1lLFxyXG4gICAgICAgIHNlY3VyaXR5Um9sZXM6IHJvbGVzLnN5c3RlbXVzZXJyb2xlc19hc3NvY2lhdGlvbi5tYXAociA9PiByLnJvbGVpZClcclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHVzZXJTZXR0aW5nczsiLCJpbXBvcnQgeyBDTElFTlRfVVJMIH0gZnJvbSBcIi4uL2NvbnN0c1wiO1xyXG5cclxuY29uc3QgY2xpZW50VXJsID0gKCkgPT4gQ0xJRU5UX1VSTDtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsaWVudFVybDtcclxuIiwiaW1wb3J0IHBpcGUgZnJvbSAnLi9waXBlJztcclxuaW1wb3J0IHN0cmluZ1JlcGxhY2UgZnJvbSAnLi9zdHJpbmdSZXBsYWNlJztcclxuXHJcbmNvbnN0IGNsZWFuTG9jYXRpb25TZWFyY2ggPSBwaXBlKHN0cmluZ1JlcGxhY2UoL15cXD8vKSgnJykpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xlYW5Mb2NhdGlvblNlYXJjaDsiLCJjb25zdCBzcGxpdCA9IChjaGFyKSA9PiAoc3RyKSA9PiBzdHIuc3BsaXQoY2hhcik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBzcGxpdDsiLCJpbXBvcnQgcXVlcnlTdHJpbmdWYWx1ZVByb3ZpZGVyIGZyb20gXCIuL3V0aWxpdHkvcXVlcnlTdHJpbmdWYWx1ZVByb3ZpZGVyXCI7XHJcbmltcG9ydCByZXRyaWV2ZU1lbW8gZnJvbSBcIi4vcmV0cmlldmVNZW1vXCI7XHJcblxyXG5jb25zdCBnZXRDdXJyZW50QXBwTmFtZSA9IGFzeW5jICgpID0+IHtcclxuICBsZXQgYXBwaWQgPSBxdWVyeVN0cmluZ1ZhbHVlUHJvdmlkZXIoXCJhcHBpZFwiKTtcclxuICByZXR1cm4gKFxyXG4gICAgKGFwcGlkICYmIChhd2FpdCByZXRyaWV2ZU1lbW8oXCJhcHBtb2R1bGVcIiwgYXBwaWQsIFwiPyRzZWxlY3Q9bmFtZVwiKSkpLm5hbWUgfHxcclxuICAgICcnXHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGdldEN1cnJlbnRBcHBOYW1lOyIsImltcG9ydCBjbGVhbkxvY2F0aW9uU2VhcmNoIGZyb20gXCIuL2NsZWFuTG9jYXRpb25TZWFyY2hcIjtcclxuaW1wb3J0IG1hcCBmcm9tIFwiLi9tYXBcIjtcclxuaW1wb3J0IHJlZHVjZSBmcm9tIFwiLi9yZWR1Y2VcIjtcclxuaW1wb3J0IHNwbGl0IGZyb20gXCIuL3NwbGl0XCI7XHJcbmltcG9ydCBwaXBlIGZyb20gXCIuL3BpcGVcIjtcclxuXHJcbmNvbnN0IHF1ZXJ5U3RyaW5nVmFsdWVQcm92aWRlciA9IChpZCkgPT5cclxuICBwaXBlKFxyXG4gICAgY2xlYW5Mb2NhdGlvblNlYXJjaCxcclxuICAgIHNwbGl0KFwiJlwiKSxcclxuICAgIG1hcChzcGxpdChcIj1cIikpLFxyXG4gICAgcmVkdWNlKChhY2MsIGN1cikgPT4ge1xyXG4gICAgICBhY2NbY3VyWzBdXSA9IGN1clsxXTtcclxuICAgICAgcmV0dXJuIGFjYztcclxuICAgIH0sIHt9KVxyXG4gICkobG9jYXRpb24uc2VhcmNoKVtpZF0gfHwgJyc7XHJcblxyXG4gIGV4cG9ydCBkZWZhdWx0IHF1ZXJ5U3RyaW5nVmFsdWVQcm92aWRlcjsiLCJjb25zdCBtYXAgPSAoZnVuYykgPT4gKGFycikgPT4gYXJyLm1hcChmdW5jKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1hcDsiLCJjb25zdCByZWR1Y2UgPSAoZnVuYywgaW5pdCkgPT4gKGFycikgPT4gYXJyLnJlZHVjZShmdW5jLCBpbml0KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJlZHVjZTsiLCJpbXBvcnQgeyBPTkxJTkVfUkVHRVggfSBmcm9tIFwiLi4vY29uc3RzXCI7XHJcblxyXG5jb25zdCBpc09uUHJlbWlzZXMgPSAoKSA9PiAhT05MSU5FX1JFR0VYLnRlc3QobG9jYXRpb24uaHJlZik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBpc09uUHJlbWlzZXM7IiwiaW1wb3J0IGNvbXBvc2VNIGZyb20gJy4vY29tcG9zZU0nO1xyXG5cclxuY29uc3QgY29tcG9zZVByb21pc2VzID0gY29tcG9zZU0oJ3RoZW4nKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvc2VQcm9taXNlczsiLCJjb25zdCBjb21wb3NlTSA9IGNoYWluTWV0aG9kID0+ICguLi5tcykgPT4gKG1zLnJlZHVjZSgoZiwgZykgPT4geCA9PiBnKHgpW2NoYWluTWV0aG9kXShmKSkpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29tcG9zZU07IiwiY29uc3QganNvblJlc3VsdCA9IHJlc3VsdCA9PiByZXN1bHQuanNvbigpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQganNvblJlc3VsdDsiLCJpbXBvcnQgZXhlY3V0ZUdldCBmcm9tIFwiLi91dGlsaXR5L2V4ZWN1dGVHZXRcIjtcclxuXHJcbmNvbnN0IHJldHJpZXZlTWV0YWRhdGEgPSAoZW50aXR5bG9naWNhbE5hbWUsIGF0dHJpYnV0ZXMgPSBbXSkgPT4gZXhlY3V0ZUdldChgUmV0cmlldmVFbnRpdHkoRW50aXR5RmlsdGVycz1NaWNyb3NvZnQuRHluYW1pY3MuQ1JNLkVudGl0eUZpbHRlcnMnQXR0cmlidXRlcycsTG9naWNhbE5hbWUgPSAnJHtlbnRpdHlsb2dpY2FsTmFtZX0nLE1ldGFkYXRhSWQ9MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwLFJldHJpZXZlQXNJZlB1Ymxpc2hlZD1mYWxzZSlgKSh7fSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByZXRyaWV2ZU1ldGFkYXRhOyIsImltcG9ydCBtZW1vaXplIGZyb20gJy4vdXRpbGl0eS9tZW1vaXplJztcclxuaW1wb3J0IHJldHJpZXZlTWV0YWRhdGEgZnJvbSAnLi9yZXRyaWV2ZU1ldGFkYXRhV3JhcHBlcic7XHJcblxyXG5jb25zdCByZXRyaWV2ZU1ldGFkYXRhV3JhcHBlck1lbW8gPSBtZW1vaXplKHJldHJpZXZlTWV0YWRhdGEpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcmV0cmlldmVNZXRhZGF0YVdyYXBwZXJNZW1vOyIsImltcG9ydCBjb21wb3NlUHJvbWlzZXMgZnJvbSBcIi4vdXRpbGl0eS9jb21wb3NlUHJvbWlzZXNcIjtcclxuaW1wb3J0IGpzb25SZXN1bHQgZnJvbSBcIi4vdXRpbGl0eS9qc29uUmVzdWx0XCI7XHJcbmltcG9ydCByZXRyaWV2ZU1ldGFkYXRhIGZyb20gJy4vcmV0cmlldmVNZXRhZGF0YSc7XHJcblxyXG5jb25zdCByZXRyaWV2ZU1ldGFkYXRhV3JhcHBlciA9IChlbnRpdHlsb2dpY2FsTmFtZSwgYXR0cmlidXRlcyA9IFtdKSA9PiBjb21wb3NlUHJvbWlzZXMoanNvblJlc3VsdCwgcmV0cmlldmVNZXRhZGF0YSkoZW50aXR5bG9naWNhbE5hbWUsIGF0dHJpYnV0ZXMpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcmV0cmlldmVNZXRhZGF0YVdyYXBwZXI7IiwiaW1wb3J0IGdsb2JhbENvbnRleHQgZnJvbSAnLi9nbG9iYWxDb250ZXh0JztcclxuaW1wb3J0IHJldHJpZXZlTWV0YWRhdGFXcmFwcGVyTWVtbyBmcm9tICcuL3JldHJpZXZlTWV0YWRhdGFXcmFwcGVyTWVtbyc7XHJcblxyXG5jb25zdCB1dGlsaXR5ID0ge1xyXG4gICAgY2xvc2VQcm9ncmVzc0luZGljYXRvcjogKCkgPT4ge30sXHJcbiAgICBnZXRBbGxvd2VkU3RhdHVzVHJhbnNpdGlvbnM6ICgpID0+IHt9LFxyXG4gICAgZ2V0RW50aXR5TWV0YWRhdGE6IHJldHJpZXZlTWV0YWRhdGFXcmFwcGVyTWVtbyxcclxuICAgIGdldEdsb2JhbENvbnRleHQ6IGdsb2JhbENvbnRleHQsXHJcbiAgICBnZXRMZWFybmluZ1BhdGhBdHRyaWJ1dGVOYW1lOiAoKSA9PiB7fSxcclxuICAgIGdldFBhZ2VDb250ZXh0OiAoKSA9PiB7fSxcclxuICAgIGdldFJlc291cmNlU3RyaW5nOiAoKSA9PiB7fSxcclxuICAgIGludm9rZVByb2Nlc3NBY3Rpb246ICgpID0+IHt9LFxyXG4gICAgbG9va09iamVjdHM6ICgpID0+IHt9LFxyXG4gICAgcmVmcmVzaFBhcmVudEdyaWQ6ICgpID0+IHt9LFxyXG4gICAgc2hvd1Byb2dyZXNzSW5kaWNhdG9yOiAoKSA9PiB7fVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB1dGlsaXR5OyIsImltcG9ydCBvcmdhbml6YXRpb25TZXR0aW5ncyBmcm9tICcuL29yZ2FuaXphdGlvblNldHRpbmdzJztcclxuaW1wb3J0IHVzZXJTZXR0aW5ncyBmcm9tICcuL3VzZXJTZXR0aW5ncyc7XHJcbmltcG9ydCBjbGllbnRVcmwgZnJvbSAnLi91dGlsaXR5L2NsaWVudFVybCc7XHJcbmltcG9ydCBnZXRDdXJyZW50QXBwTmFtZSBmcm9tICcuL2dldEN1cnJlbnRBcHBOYW1lJztcclxuaW1wb3J0IGlzT25QcmVtaXNlcyBmcm9tICcuL3V0aWxpdHkvaXNPblByZW1pc2VzJztcclxuXHJcbmNvbnN0IGdsb2JhbENvbnRleHREYXRhID0ge1xyXG4gICAgY2xpZW50OiB7fSxcclxuICAgIG9yZ2FuaXphdGlvblNldHRpbmdzOiB7fSxcclxuICAgIHVzZXJTZXR0aW5nczoge30sXHJcbiAgICBnZXRBZHZhbmNlZENvbmZpZ1NldGluZ3M6ICgpID0+IHsgfSxcclxuICAgIGdldENsaWVudFVybDogKCkgPT4geyB9LFxyXG4gICAgZ2V0Q3VycmVudEFwcE5hbWU6ICgpID0+IHsgfSxcclxuICAgIGdldEN1cnJlbnRBcHBQcm9wZXJ0aWVzOiAoKSA9PiB7IH0sXHJcbiAgICBnZXRDdXJyZW50QXBwVXJsOiAoKSA9PiB7IH0sXHJcbiAgICBnZXRWZXJzaW9uOiAoKSA9PiB7IH0sXHJcbiAgICBnZXRXZWJSZXNvdXJjZVVybDogKCkgPT4geyB9LFxyXG4gICAgaXNPblByZW1pc2VzOiAoKSA9PiBmYWxzZSxcclxuICAgIHByZXBlbmRPcmdOYW1lOiAoKSA9PiB7IH1cclxufVxyXG5cclxuY29uc3QgZ2xvYmFsQ29udGV4dCA9IGFzeW5jICgpID0+IHtcclxuICAgIGxldCBzZXR0aW5ncyA9IGF3YWl0IFByb21pc2UuYWxsKFtvcmdhbml6YXRpb25TZXR0aW5ncygpLCB1c2VyU2V0dGluZ3MoKV0pO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgb3JnYW5pemF0aW9uU2V0dGluZ3M6IHNldHRpbmdzWzBdLFxyXG4gICAgICAgIHVzZXJTZXR0aW5nczogc2V0dGluZ3NbMV0sXHJcbiAgICAgICAgZ2V0Q2xpZW50VXJsOiBjbGllbnRVcmwsXHJcbiAgICAgICAgaXNPblByZW1pc2VzOiBpc09uUHJlbWlzZXMsXHJcbiAgICAgICAgZ2V0Q3VycmVudEFwcE5hbWU6IGdldEN1cnJlbnRBcHBOYW1lXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGdsb2JhbENvbnRleHQ7IiwiXHJcbmltcG9ydCBvcGVuRm9ybSBmcm9tICcuL25hdmlnYXRpb24vb3BlbkZvcm0nO1xyXG5cclxuY29uc3QgbmF2aWdhdGlvbiA9IHtcclxuICAgIG9wZW5Gb3JtOiBvcGVuRm9ybVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuYXZpZ2F0aW9uOyIsImltcG9ydCB7Q0xJRU5UX1VSTH0gZnJvbSAnLi4vY29uc3RzJztcclxuXHJcbmNvbnN0IG9wZW5Gb3JtID0gYXN5bmMgKGVudGl0eUZvcm1PcHRpb25zLCBmb3JtUGFyYW1ldGVycyA9IHt9KSA9PiB7XHJcbiAgICBcclxuICAgIGxldCByZWRpcmVjdFVybCA9IENMSUVOVF9VUkwrXCIvbWFpbi5hc3B4P3BhZ2V0eXBlPWVudGl0eXJlY29yZFwiO1xyXG4gICAgbGV0IG9wZW5XaGVyZSA9IFwiX2JsYW5rXCI7XHJcbiAgICBcclxuICAgIGlmKGVudGl0eUZvcm1PcHRpb25zW1wiZW50aXR5TmFtZVwiXSl7XHJcbiAgICAgICAgcmVkaXJlY3RVcmwgKz0gXCImZXRuPVwiK2VudGl0eUZvcm1PcHRpb25zW1wiZW50aXR5TmFtZVwiXTtcclxuICAgIH1cclxuXHJcbiAgICBpZihlbnRpdHlGb3JtT3B0aW9uc1tcImVudGl0eUlkXCJdKXtcclxuICAgICAgICByZWRpcmVjdFVybCArPSBcIiZpZD1cIitlbnRpdHlGb3JtT3B0aW9uc1tcImVudGl0eUlkXCJdO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKGVudGl0eUZvcm1PcHRpb25zW1wiZm9ybUlkXCJdKXtcclxuICAgICAgICByZWRpcmVjdFVybCArPSBcIiZmb3JtaWQ9XCIrZW50aXR5Rm9ybU9wdGlvbnNbXCJmb3JtSWRcIl07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gT3BlbiBpbiBuZXcgd2luZG93P1xyXG4gICAgaWYoIWVudGl0eUZvcm1PcHRpb25zW1wib3BlbkluTmV3V2luZG93XCJdKXtcclxuICAgICAgICBvcGVuV2hlcmUgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgd2luZG93Lm9wZW4ocmVkaXJlY3RVcmwsIG9wZW5XaGVyZSk7XHJcbiAgICBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG9wZW5Gb3JtOyIsImltcG9ydCBleGVjdXRlR2V0IGZyb20gXCIuL3V0aWxpdHkvZXhlY3V0ZUdldFwiO1xyXG5cclxuY29uc3QgcmV0cmlldmVBdHRyaWJ1dGVzID0gKGVudGl0eWxvZ2ljYWxOYW1lLCBhdHRyaWJ1dGVzID0gW10pID0+IGV4ZWN1dGVHZXQoYEVudGl0eURlZmluaXRpb25zKExvZ2ljYWxOYW1lPScke2VudGl0eWxvZ2ljYWxOYW1lfScpL0F0dHJpYnV0ZXMvYCkoe30pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcmV0cmlldmVBdHRyaWJ1dGVzOyIsImltcG9ydCBleGVjdXRlR2V0IGZyb20gXCIuL3V0aWxpdHkvZXhlY3V0ZUdldFwiO1xyXG5cclxuY29uc3QgcmV0cmlldmVUb3RhbFJlY29yZENvdW50ID0gKGVudGl0eWxvZ2ljYWxOYW1lLCBhdHRyaWJ1dGVzID0gW10pID0+IGV4ZWN1dGVHZXQoYFJldHJpZXZlVG90YWxSZWNvcmRDb3VudChFbnRpdHlOYW1lcz1bJyR7ZW50aXR5bG9naWNhbE5hbWV9J10pYCkoe30pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcmV0cmlldmVUb3RhbFJlY29yZENvdW50OyIsIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYyLjIyLjEgMjAyMi0wMy0wNyAqL1xuJ3VzZSBzdHJpY3QnO1xuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XG5cbmV4cG9ydCB7IF9fYXNzaWduLCBfX2F3YWl0ZXIsIF9fZXh0ZW5kcywgX19nZW5lcmF0b3IsIF9fcmVhZCwgX19zcHJlYWQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPV90c2xpYi5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjYuMS4wIDIwMjItMDItMDggKi9cbid1c2Ugc3RyaWN0Jztcbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxudmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59XG5cbmV4cG9ydCB7IF9fYXNzaWduLCBfX2F3YWl0ZXIsIF9fZXh0ZW5kcywgX19nZW5lcmF0b3IsIF9fc3ByZWFkQXJyYXlzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1fdHNsaWIuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHY2LjEuMCAyMDIyLTAyLTA4ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBfX3NwcmVhZEFycmF5cyB9IGZyb20gJy4uL192aXJ0dWFsL190c2xpYi5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgQ29uc3RhbnRzID0ge1xyXG4gICAgTElCUkFSWV9OQU1FOiBcIk1TQUwuSlNcIixcclxuICAgIFNLVTogXCJtc2FsLmpzLmNvbW1vblwiLFxyXG4gICAgLy8gUHJlZml4IGZvciBhbGwgbGlicmFyeSBjYWNoZSBlbnRyaWVzXHJcbiAgICBDQUNIRV9QUkVGSVg6IFwibXNhbFwiLFxyXG4gICAgLy8gZGVmYXVsdCBhdXRob3JpdHlcclxuICAgIERFRkFVTFRfQVVUSE9SSVRZOiBcImh0dHBzOi8vbG9naW4ubWljcm9zb2Z0b25saW5lLmNvbS9jb21tb24vXCIsXHJcbiAgICBERUZBVUxUX0FVVEhPUklUWV9IT1NUOiBcImxvZ2luLm1pY3Jvc29mdG9ubGluZS5jb21cIixcclxuICAgIERFRkFVTFRfQ09NTU9OX1RFTkFOVDogXCJjb21tb25cIixcclxuICAgIC8vIEFERlMgU3RyaW5nXHJcbiAgICBBREZTOiBcImFkZnNcIixcclxuICAgIC8vIERlZmF1bHQgQUFEIEluc3RhbmNlIERpc2NvdmVyeSBFbmRwb2ludFxyXG4gICAgQUFEX0lOU1RBTkNFX0RJU0NPVkVSWV9FTkRQVDogXCJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vY29tbW9uL2Rpc2NvdmVyeS9pbnN0YW5jZT9hcGktdmVyc2lvbj0xLjEmYXV0aG9yaXphdGlvbl9lbmRwb2ludD1cIixcclxuICAgIC8vIFJlc291cmNlIGRlbGltaXRlciAtIHVzZWQgZm9yIGNlcnRhaW4gY2FjaGUgZW50cmllc1xyXG4gICAgUkVTT1VSQ0VfREVMSU06IFwifFwiLFxyXG4gICAgLy8gUGxhY2Vob2xkZXIgZm9yIG5vbi1leGlzdGVudCBhY2NvdW50IGlkcy9vYmplY3RzXHJcbiAgICBOT19BQ0NPVU5UOiBcIk5PX0FDQ09VTlRcIixcclxuICAgIC8vIENsYWltc1xyXG4gICAgQ0xBSU1TOiBcImNsYWltc1wiLFxyXG4gICAgLy8gQ29uc3VtZXIgVVRJRFxyXG4gICAgQ09OU1VNRVJfVVRJRDogXCI5MTg4MDQwZC02YzY3LTRjNWItYjExMi0zNmEzMDRiNjZkYWRcIixcclxuICAgIC8vIERlZmF1bHQgc2NvcGVzXHJcbiAgICBPUEVOSURfU0NPUEU6IFwib3BlbmlkXCIsXHJcbiAgICBQUk9GSUxFX1NDT1BFOiBcInByb2ZpbGVcIixcclxuICAgIE9GRkxJTkVfQUNDRVNTX1NDT1BFOiBcIm9mZmxpbmVfYWNjZXNzXCIsXHJcbiAgICBFTUFJTF9TQ09QRTogXCJlbWFpbFwiLFxyXG4gICAgLy8gRGVmYXVsdCByZXNwb25zZSB0eXBlIGZvciBhdXRob3JpemF0aW9uIGNvZGUgZmxvd1xyXG4gICAgQ09ERV9SRVNQT05TRV9UWVBFOiBcImNvZGVcIixcclxuICAgIENPREVfR1JBTlRfVFlQRTogXCJhdXRob3JpemF0aW9uX2NvZGVcIixcclxuICAgIFJUX0dSQU5UX1RZUEU6IFwicmVmcmVzaF90b2tlblwiLFxyXG4gICAgRlJBR01FTlRfUkVTUE9OU0VfTU9ERTogXCJmcmFnbWVudFwiLFxyXG4gICAgUzI1Nl9DT0RFX0NIQUxMRU5HRV9NRVRIT0Q6IFwiUzI1NlwiLFxyXG4gICAgVVJMX0ZPUk1fQ09OVEVOVF9UWVBFOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04XCIsXHJcbiAgICBBVVRIT1JJWkFUSU9OX1BFTkRJTkc6IFwiYXV0aG9yaXphdGlvbl9wZW5kaW5nXCIsXHJcbiAgICBOT1RfREVGSU5FRDogXCJub3RfZGVmaW5lZFwiLFxyXG4gICAgRU1QVFlfU1RSSU5HOiBcIlwiLFxyXG4gICAgRk9SV0FSRF9TTEFTSDogXCIvXCIsXHJcbiAgICBJTURTX0VORFBPSU5UOiBcImh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbWV0YWRhdGEvaW5zdGFuY2UvY29tcHV0ZS9sb2NhdGlvblwiLFxyXG4gICAgSU1EU19WRVJTSU9OOiBcIjIwMjAtMDYtMDFcIixcclxuICAgIElNRFNfVElNRU9VVDogMjAwMCxcclxuICAgIEFaVVJFX1JFR0lPTl9BVVRPX0RJU0NPVkVSX0ZMQUc6IFwiVHJ5QXV0b0RldGVjdFwiLFxyXG4gICAgUkVHSU9OQUxfQVVUSF9QVUJMSUNfQ0xPVURfU1VGRklYOiBcImxvZ2luLm1pY3Jvc29mdC5jb21cIixcclxuICAgIEtOT1dOX1BVQkxJQ19DTE9VRFM6IFtcImxvZ2luLm1pY3Jvc29mdG9ubGluZS5jb21cIiwgXCJsb2dpbi53aW5kb3dzLm5ldFwiLCBcImxvZ2luLm1pY3Jvc29mdC5jb21cIiwgXCJzdHMud2luZG93cy5uZXRcIl1cclxufTtcclxudmFyIE9JRENfREVGQVVMVF9TQ09QRVMgPSBbXHJcbiAgICBDb25zdGFudHMuT1BFTklEX1NDT1BFLFxyXG4gICAgQ29uc3RhbnRzLlBST0ZJTEVfU0NPUEUsXHJcbiAgICBDb25zdGFudHMuT0ZGTElORV9BQ0NFU1NfU0NPUEVcclxuXTtcclxudmFyIE9JRENfU0NPUEVTID0gX19zcHJlYWRBcnJheXMoT0lEQ19ERUZBVUxUX1NDT1BFUywgW1xyXG4gICAgQ29uc3RhbnRzLkVNQUlMX1NDT1BFXHJcbl0pO1xyXG4vKipcclxuICogUmVxdWVzdCBoZWFkZXIgbmFtZXNcclxuICovXHJcbnZhciBIZWFkZXJOYW1lcztcclxuKGZ1bmN0aW9uIChIZWFkZXJOYW1lcykge1xyXG4gICAgSGVhZGVyTmFtZXNbXCJDT05URU5UX1RZUEVcIl0gPSBcIkNvbnRlbnQtVHlwZVwiO1xyXG4gICAgSGVhZGVyTmFtZXNbXCJSRVRSWV9BRlRFUlwiXSA9IFwiUmV0cnktQWZ0ZXJcIjtcclxuICAgIEhlYWRlck5hbWVzW1wiQ0NTX0hFQURFUlwiXSA9IFwiWC1BbmNob3JNYWlsYm94XCI7XHJcbiAgICBIZWFkZXJOYW1lc1tcIldXV0F1dGhlbnRpY2F0ZVwiXSA9IFwiV1dXLUF1dGhlbnRpY2F0ZVwiO1xyXG4gICAgSGVhZGVyTmFtZXNbXCJBdXRoZW50aWNhdGlvbkluZm9cIl0gPSBcIkF1dGhlbnRpY2F0aW9uLUluZm9cIjtcclxufSkoSGVhZGVyTmFtZXMgfHwgKEhlYWRlck5hbWVzID0ge30pKTtcclxuLyoqXHJcbiAqIFBlcnNpc3RlbnQgY2FjaGUga2V5cyBNU0FMIHdoaWNoIHN0YXkgd2hpbGUgdXNlciBpcyBsb2dnZWQgaW4uXHJcbiAqL1xyXG52YXIgUGVyc2lzdGVudENhY2hlS2V5cztcclxuKGZ1bmN0aW9uIChQZXJzaXN0ZW50Q2FjaGVLZXlzKSB7XHJcbiAgICBQZXJzaXN0ZW50Q2FjaGVLZXlzW1wiSURfVE9LRU5cIl0gPSBcImlkdG9rZW5cIjtcclxuICAgIFBlcnNpc3RlbnRDYWNoZUtleXNbXCJDTElFTlRfSU5GT1wiXSA9IFwiY2xpZW50LmluZm9cIjtcclxuICAgIFBlcnNpc3RlbnRDYWNoZUtleXNbXCJBREFMX0lEX1RPS0VOXCJdID0gXCJhZGFsLmlkdG9rZW5cIjtcclxuICAgIFBlcnNpc3RlbnRDYWNoZUtleXNbXCJFUlJPUlwiXSA9IFwiZXJyb3JcIjtcclxuICAgIFBlcnNpc3RlbnRDYWNoZUtleXNbXCJFUlJPUl9ERVNDXCJdID0gXCJlcnJvci5kZXNjcmlwdGlvblwiO1xyXG4gICAgUGVyc2lzdGVudENhY2hlS2V5c1tcIkFDVElWRV9BQ0NPVU5UXCJdID0gXCJhY3RpdmUtYWNjb3VudFwiO1xyXG59KShQZXJzaXN0ZW50Q2FjaGVLZXlzIHx8IChQZXJzaXN0ZW50Q2FjaGVLZXlzID0ge30pKTtcclxuLyoqXHJcbiAqIFN0cmluZyBjb25zdGFudHMgcmVsYXRlZCB0byBBQUQgQXV0aG9yaXR5XHJcbiAqL1xyXG52YXIgQUFEQXV0aG9yaXR5Q29uc3RhbnRzO1xyXG4oZnVuY3Rpb24gKEFBREF1dGhvcml0eUNvbnN0YW50cykge1xyXG4gICAgQUFEQXV0aG9yaXR5Q29uc3RhbnRzW1wiQ09NTU9OXCJdID0gXCJjb21tb25cIjtcclxuICAgIEFBREF1dGhvcml0eUNvbnN0YW50c1tcIk9SR0FOSVpBVElPTlNcIl0gPSBcIm9yZ2FuaXphdGlvbnNcIjtcclxuICAgIEFBREF1dGhvcml0eUNvbnN0YW50c1tcIkNPTlNVTUVSU1wiXSA9IFwiY29uc3VtZXJzXCI7XHJcbn0pKEFBREF1dGhvcml0eUNvbnN0YW50cyB8fCAoQUFEQXV0aG9yaXR5Q29uc3RhbnRzID0ge30pKTtcclxuLyoqXHJcbiAqIEtleXMgaW4gdGhlIGhhc2hQYXJhbXMgc2VudCBieSBBQUQgU2VydmVyXHJcbiAqL1xyXG52YXIgQUFEU2VydmVyUGFyYW1LZXlzO1xyXG4oZnVuY3Rpb24gKEFBRFNlcnZlclBhcmFtS2V5cykge1xyXG4gICAgQUFEU2VydmVyUGFyYW1LZXlzW1wiQ0xJRU5UX0lEXCJdID0gXCJjbGllbnRfaWRcIjtcclxuICAgIEFBRFNlcnZlclBhcmFtS2V5c1tcIlJFRElSRUNUX1VSSVwiXSA9IFwicmVkaXJlY3RfdXJpXCI7XHJcbiAgICBBQURTZXJ2ZXJQYXJhbUtleXNbXCJSRVNQT05TRV9UWVBFXCJdID0gXCJyZXNwb25zZV90eXBlXCI7XHJcbiAgICBBQURTZXJ2ZXJQYXJhbUtleXNbXCJSRVNQT05TRV9NT0RFXCJdID0gXCJyZXNwb25zZV9tb2RlXCI7XHJcbiAgICBBQURTZXJ2ZXJQYXJhbUtleXNbXCJHUkFOVF9UWVBFXCJdID0gXCJncmFudF90eXBlXCI7XHJcbiAgICBBQURTZXJ2ZXJQYXJhbUtleXNbXCJDTEFJTVNcIl0gPSBcImNsYWltc1wiO1xyXG4gICAgQUFEU2VydmVyUGFyYW1LZXlzW1wiU0NPUEVcIl0gPSBcInNjb3BlXCI7XHJcbiAgICBBQURTZXJ2ZXJQYXJhbUtleXNbXCJFUlJPUlwiXSA9IFwiZXJyb3JcIjtcclxuICAgIEFBRFNlcnZlclBhcmFtS2V5c1tcIkVSUk9SX0RFU0NSSVBUSU9OXCJdID0gXCJlcnJvcl9kZXNjcmlwdGlvblwiO1xyXG4gICAgQUFEU2VydmVyUGFyYW1LZXlzW1wiQUNDRVNTX1RPS0VOXCJdID0gXCJhY2Nlc3NfdG9rZW5cIjtcclxuICAgIEFBRFNlcnZlclBhcmFtS2V5c1tcIklEX1RPS0VOXCJdID0gXCJpZF90b2tlblwiO1xyXG4gICAgQUFEU2VydmVyUGFyYW1LZXlzW1wiUkVGUkVTSF9UT0tFTlwiXSA9IFwicmVmcmVzaF90b2tlblwiO1xyXG4gICAgQUFEU2VydmVyUGFyYW1LZXlzW1wiRVhQSVJFU19JTlwiXSA9IFwiZXhwaXJlc19pblwiO1xyXG4gICAgQUFEU2VydmVyUGFyYW1LZXlzW1wiU1RBVEVcIl0gPSBcInN0YXRlXCI7XHJcbiAgICBBQURTZXJ2ZXJQYXJhbUtleXNbXCJOT05DRVwiXSA9IFwibm9uY2VcIjtcclxuICAgIEFBRFNlcnZlclBhcmFtS2V5c1tcIlBST01QVFwiXSA9IFwicHJvbXB0XCI7XHJcbiAgICBBQURTZXJ2ZXJQYXJhbUtleXNbXCJTRVNTSU9OX1NUQVRFXCJdID0gXCJzZXNzaW9uX3N0YXRlXCI7XHJcbiAgICBBQURTZXJ2ZXJQYXJhbUtleXNbXCJDTElFTlRfSU5GT1wiXSA9IFwiY2xpZW50X2luZm9cIjtcclxuICAgIEFBRFNlcnZlclBhcmFtS2V5c1tcIkNPREVcIl0gPSBcImNvZGVcIjtcclxuICAgIEFBRFNlcnZlclBhcmFtS2V5c1tcIkNPREVfQ0hBTExFTkdFXCJdID0gXCJjb2RlX2NoYWxsZW5nZVwiO1xyXG4gICAgQUFEU2VydmVyUGFyYW1LZXlzW1wiQ09ERV9DSEFMTEVOR0VfTUVUSE9EXCJdID0gXCJjb2RlX2NoYWxsZW5nZV9tZXRob2RcIjtcclxuICAgIEFBRFNlcnZlclBhcmFtS2V5c1tcIkNPREVfVkVSSUZJRVJcIl0gPSBcImNvZGVfdmVyaWZpZXJcIjtcclxuICAgIEFBRFNlcnZlclBhcmFtS2V5c1tcIkNMSUVOVF9SRVFVRVNUX0lEXCJdID0gXCJjbGllbnQtcmVxdWVzdC1pZFwiO1xyXG4gICAgQUFEU2VydmVyUGFyYW1LZXlzW1wiWF9DTElFTlRfU0tVXCJdID0gXCJ4LWNsaWVudC1TS1VcIjtcclxuICAgIEFBRFNlcnZlclBhcmFtS2V5c1tcIlhfQ0xJRU5UX1ZFUlwiXSA9IFwieC1jbGllbnQtVkVSXCI7XHJcbiAgICBBQURTZXJ2ZXJQYXJhbUtleXNbXCJYX0NMSUVOVF9PU1wiXSA9IFwieC1jbGllbnQtT1NcIjtcclxuICAgIEFBRFNlcnZlclBhcmFtS2V5c1tcIlhfQ0xJRU5UX0NQVVwiXSA9IFwieC1jbGllbnQtQ1BVXCI7XHJcbiAgICBBQURTZXJ2ZXJQYXJhbUtleXNbXCJYX0NMSUVOVF9DVVJSX1RFTEVNXCJdID0gXCJ4LWNsaWVudC1jdXJyZW50LXRlbGVtZXRyeVwiO1xyXG4gICAgQUFEU2VydmVyUGFyYW1LZXlzW1wiWF9DTElFTlRfTEFTVF9URUxFTVwiXSA9IFwieC1jbGllbnQtbGFzdC10ZWxlbWV0cnlcIjtcclxuICAgIEFBRFNlcnZlclBhcmFtS2V5c1tcIlhfTVNfTElCX0NBUEFCSUxJVFlcIl0gPSBcIngtbXMtbGliLWNhcGFiaWxpdHlcIjtcclxuICAgIEFBRFNlcnZlclBhcmFtS2V5c1tcIlBPU1RfTE9HT1VUX1VSSVwiXSA9IFwicG9zdF9sb2dvdXRfcmVkaXJlY3RfdXJpXCI7XHJcbiAgICBBQURTZXJ2ZXJQYXJhbUtleXNbXCJJRF9UT0tFTl9ISU5UXCJdID0gXCJpZF90b2tlbl9oaW50XCI7XHJcbiAgICBBQURTZXJ2ZXJQYXJhbUtleXNbXCJERVZJQ0VfQ09ERVwiXSA9IFwiZGV2aWNlX2NvZGVcIjtcclxuICAgIEFBRFNlcnZlclBhcmFtS2V5c1tcIkNMSUVOVF9TRUNSRVRcIl0gPSBcImNsaWVudF9zZWNyZXRcIjtcclxuICAgIEFBRFNlcnZlclBhcmFtS2V5c1tcIkNMSUVOVF9BU1NFUlRJT05cIl0gPSBcImNsaWVudF9hc3NlcnRpb25cIjtcclxuICAgIEFBRFNlcnZlclBhcmFtS2V5c1tcIkNMSUVOVF9BU1NFUlRJT05fVFlQRVwiXSA9IFwiY2xpZW50X2Fzc2VydGlvbl90eXBlXCI7XHJcbiAgICBBQURTZXJ2ZXJQYXJhbUtleXNbXCJUT0tFTl9UWVBFXCJdID0gXCJ0b2tlbl90eXBlXCI7XHJcbiAgICBBQURTZXJ2ZXJQYXJhbUtleXNbXCJSRVFfQ05GXCJdID0gXCJyZXFfY25mXCI7XHJcbiAgICBBQURTZXJ2ZXJQYXJhbUtleXNbXCJPQk9fQVNTRVJUSU9OXCJdID0gXCJhc3NlcnRpb25cIjtcclxuICAgIEFBRFNlcnZlclBhcmFtS2V5c1tcIlJFUVVFU1RFRF9UT0tFTl9VU0VcIl0gPSBcInJlcXVlc3RlZF90b2tlbl91c2VcIjtcclxuICAgIEFBRFNlcnZlclBhcmFtS2V5c1tcIk9OX0JFSEFMRl9PRlwiXSA9IFwib25fYmVoYWxmX29mXCI7XHJcbiAgICBBQURTZXJ2ZXJQYXJhbUtleXNbXCJGT0NJXCJdID0gXCJmb2NpXCI7XHJcbiAgICBBQURTZXJ2ZXJQYXJhbUtleXNbXCJDQ1NfSEVBREVSXCJdID0gXCJYLUFuY2hvck1haWxib3hcIjtcclxuICAgIEFBRFNlcnZlclBhcmFtS2V5c1tcIlJFVFVSTl9TUEFfQ09ERVwiXSA9IFwicmV0dXJuX3NwYV9jb2RlXCI7XHJcbiAgICBBQURTZXJ2ZXJQYXJhbUtleXNbXCJMT0dPVVRfSElOVFwiXSA9IFwibG9nb3V0X2hpbnRcIjtcclxufSkoQUFEU2VydmVyUGFyYW1LZXlzIHx8IChBQURTZXJ2ZXJQYXJhbUtleXMgPSB7fSkpO1xyXG4vKipcclxuICogQ2xhaW1zIHJlcXVlc3Qga2V5c1xyXG4gKi9cclxudmFyIENsYWltc1JlcXVlc3RLZXlzO1xyXG4oZnVuY3Rpb24gKENsYWltc1JlcXVlc3RLZXlzKSB7XHJcbiAgICBDbGFpbXNSZXF1ZXN0S2V5c1tcIkFDQ0VTU19UT0tFTlwiXSA9IFwiYWNjZXNzX3Rva2VuXCI7XHJcbiAgICBDbGFpbXNSZXF1ZXN0S2V5c1tcIlhNU19DQ1wiXSA9IFwieG1zX2NjXCI7XHJcbn0pKENsYWltc1JlcXVlc3RLZXlzIHx8IChDbGFpbXNSZXF1ZXN0S2V5cyA9IHt9KSk7XHJcbi8qKlxyXG4gKiB3ZSBjb25zaWRlcmVkIG1ha2luZyB0aGlzIFwiZW51bVwiIGluIHRoZSByZXF1ZXN0IGluc3RlYWQgb2Ygc3RyaW5nLCBob3dldmVyIGl0IGxvb2tzIGxpa2UgdGhlIGFsbG93ZWQgbGlzdCBvZlxyXG4gKiBwcm9tcHQgdmFsdWVzIGtlcHQgY2hhbmdpbmcgb3ZlciBwYXN0IGNvdXBsZSBvZiB5ZWFycy4gVGhlcmUgYXJlIHNvbWUgdW5kb2N1bWVudGVkIHByb21wdCB2YWx1ZXMgZm9yIHNvbWVcclxuICogaW50ZXJuYWwgcGFydG5lcnMgdG9vLCBoZW5jZSB0aGUgY2hvaWNlIG9mIGdlbmVyaWMgXCJzdHJpbmdcIiB0eXBlIGluc3RlYWQgb2YgdGhlIFwiZW51bVwiXHJcbiAqL1xyXG52YXIgUHJvbXB0VmFsdWUgPSB7XHJcbiAgICBMT0dJTjogXCJsb2dpblwiLFxyXG4gICAgU0VMRUNUX0FDQ09VTlQ6IFwic2VsZWN0X2FjY291bnRcIixcclxuICAgIENPTlNFTlQ6IFwiY29uc2VudFwiLFxyXG4gICAgTk9ORTogXCJub25lXCIsXHJcbiAgICBDUkVBVEU6IFwiY3JlYXRlXCJcclxufTtcclxuLyoqXHJcbiAqIFNTTyBUeXBlcyAtIGdlbmVyYXRlZCB0byBwb3B1bGF0ZSBoaW50c1xyXG4gKi9cclxudmFyIFNTT1R5cGVzO1xyXG4oZnVuY3Rpb24gKFNTT1R5cGVzKSB7XHJcbiAgICBTU09UeXBlc1tcIkFDQ09VTlRcIl0gPSBcImFjY291bnRcIjtcclxuICAgIFNTT1R5cGVzW1wiU0lEXCJdID0gXCJzaWRcIjtcclxuICAgIFNTT1R5cGVzW1wiTE9HSU5fSElOVFwiXSA9IFwibG9naW5faGludFwiO1xyXG4gICAgU1NPVHlwZXNbXCJJRF9UT0tFTlwiXSA9IFwiaWRfdG9rZW5cIjtcclxuICAgIFNTT1R5cGVzW1wiRE9NQUlOX0hJTlRcIl0gPSBcImRvbWFpbl9oaW50XCI7XHJcbiAgICBTU09UeXBlc1tcIk9SR0FOSVpBVElPTlNcIl0gPSBcIm9yZ2FuaXphdGlvbnNcIjtcclxuICAgIFNTT1R5cGVzW1wiQ09OU1VNRVJTXCJdID0gXCJjb25zdW1lcnNcIjtcclxuICAgIFNTT1R5cGVzW1wiQUNDT1VOVF9JRFwiXSA9IFwiYWNjb3VudElkZW50aWZpZXJcIjtcclxuICAgIFNTT1R5cGVzW1wiSE9NRUFDQ09VTlRfSURcIl0gPSBcImhvbWVBY2NvdW50SWRlbnRpZmllclwiO1xyXG59KShTU09UeXBlcyB8fCAoU1NPVHlwZXMgPSB7fSkpO1xyXG4vKipcclxuICogYWxsb3dlZCB2YWx1ZXMgZm9yIGNvZGVWZXJpZmllclxyXG4gKi9cclxudmFyIENvZGVDaGFsbGVuZ2VNZXRob2RWYWx1ZXMgPSB7XHJcbiAgICBQTEFJTjogXCJwbGFpblwiLFxyXG4gICAgUzI1NjogXCJTMjU2XCJcclxufTtcclxuLyoqXHJcbiAqIGFsbG93ZWQgdmFsdWVzIGZvciByZXNwb25zZV9tb2RlXHJcbiAqL1xyXG52YXIgUmVzcG9uc2VNb2RlO1xyXG4oZnVuY3Rpb24gKFJlc3BvbnNlTW9kZSkge1xyXG4gICAgUmVzcG9uc2VNb2RlW1wiUVVFUllcIl0gPSBcInF1ZXJ5XCI7XHJcbiAgICBSZXNwb25zZU1vZGVbXCJGUkFHTUVOVFwiXSA9IFwiZnJhZ21lbnRcIjtcclxuICAgIFJlc3BvbnNlTW9kZVtcIkZPUk1fUE9TVFwiXSA9IFwiZm9ybV9wb3N0XCI7XHJcbn0pKFJlc3BvbnNlTW9kZSB8fCAoUmVzcG9uc2VNb2RlID0ge30pKTtcclxuLyoqXHJcbiAqIGFsbG93ZWQgZ3JhbnRfdHlwZVxyXG4gKi9cclxudmFyIEdyYW50VHlwZTtcclxuKGZ1bmN0aW9uIChHcmFudFR5cGUpIHtcclxuICAgIEdyYW50VHlwZVtcIklNUExJQ0lUX0dSQU5UXCJdID0gXCJpbXBsaWNpdFwiO1xyXG4gICAgR3JhbnRUeXBlW1wiQVVUSE9SSVpBVElPTl9DT0RFX0dSQU5UXCJdID0gXCJhdXRob3JpemF0aW9uX2NvZGVcIjtcclxuICAgIEdyYW50VHlwZVtcIkNMSUVOVF9DUkVERU5USUFMU19HUkFOVFwiXSA9IFwiY2xpZW50X2NyZWRlbnRpYWxzXCI7XHJcbiAgICBHcmFudFR5cGVbXCJSRVNPVVJDRV9PV05FUl9QQVNTV09SRF9HUkFOVFwiXSA9IFwicGFzc3dvcmRcIjtcclxuICAgIEdyYW50VHlwZVtcIlJFRlJFU0hfVE9LRU5fR1JBTlRcIl0gPSBcInJlZnJlc2hfdG9rZW5cIjtcclxuICAgIEdyYW50VHlwZVtcIkRFVklDRV9DT0RFX0dSQU5UXCJdID0gXCJkZXZpY2VfY29kZVwiO1xyXG4gICAgR3JhbnRUeXBlW1wiSldUX0JFQVJFUlwiXSA9IFwidXJuOmlldGY6cGFyYW1zOm9hdXRoOmdyYW50LXR5cGU6and0LWJlYXJlclwiO1xyXG59KShHcmFudFR5cGUgfHwgKEdyYW50VHlwZSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBBY2NvdW50IHR5cGVzIGluIENhY2hlXHJcbiAqL1xyXG52YXIgQ2FjaGVBY2NvdW50VHlwZTtcclxuKGZ1bmN0aW9uIChDYWNoZUFjY291bnRUeXBlKSB7XHJcbiAgICBDYWNoZUFjY291bnRUeXBlW1wiTVNTVFNfQUNDT1VOVF9UWVBFXCJdID0gXCJNU1NUU1wiO1xyXG4gICAgQ2FjaGVBY2NvdW50VHlwZVtcIkFERlNfQUNDT1VOVF9UWVBFXCJdID0gXCJBREZTXCI7XHJcbiAgICBDYWNoZUFjY291bnRUeXBlW1wiTVNBVjFfQUNDT1VOVF9UWVBFXCJdID0gXCJNU0FcIjtcclxuICAgIENhY2hlQWNjb3VudFR5cGVbXCJHRU5FUklDX0FDQ09VTlRfVFlQRVwiXSA9IFwiR2VuZXJpY1wiOyAvLyBOVExNLCBLZXJiZXJvcywgRkJBLCBCYXNpYyBldGNcclxufSkoQ2FjaGVBY2NvdW50VHlwZSB8fCAoQ2FjaGVBY2NvdW50VHlwZSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBTZXBhcmF0b3JzIHVzZWQgaW4gY2FjaGVcclxuICovXHJcbnZhciBTZXBhcmF0b3JzO1xyXG4oZnVuY3Rpb24gKFNlcGFyYXRvcnMpIHtcclxuICAgIFNlcGFyYXRvcnNbXCJDQUNIRV9LRVlfU0VQQVJBVE9SXCJdID0gXCItXCI7XHJcbiAgICBTZXBhcmF0b3JzW1wiQ0xJRU5UX0lORk9fU0VQQVJBVE9SXCJdID0gXCIuXCI7XHJcbn0pKFNlcGFyYXRvcnMgfHwgKFNlcGFyYXRvcnMgPSB7fSkpO1xyXG4vKipcclxuICogQ3JlZGVudGlhbCBUeXBlIHN0b3JlZCBpbiB0aGUgY2FjaGVcclxuICovXHJcbnZhciBDcmVkZW50aWFsVHlwZTtcclxuKGZ1bmN0aW9uIChDcmVkZW50aWFsVHlwZSkge1xyXG4gICAgQ3JlZGVudGlhbFR5cGVbXCJJRF9UT0tFTlwiXSA9IFwiSWRUb2tlblwiO1xyXG4gICAgQ3JlZGVudGlhbFR5cGVbXCJBQ0NFU1NfVE9LRU5cIl0gPSBcIkFjY2Vzc1Rva2VuXCI7XHJcbiAgICBDcmVkZW50aWFsVHlwZVtcIkFDQ0VTU19UT0tFTl9XSVRIX0FVVEhfU0NIRU1FXCJdID0gXCJBY2Nlc3NUb2tlbl9XaXRoX0F1dGhTY2hlbWVcIjtcclxuICAgIENyZWRlbnRpYWxUeXBlW1wiUkVGUkVTSF9UT0tFTlwiXSA9IFwiUmVmcmVzaFRva2VuXCI7XHJcbn0pKENyZWRlbnRpYWxUeXBlIHx8IChDcmVkZW50aWFsVHlwZSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBDcmVkZW50aWFsIFR5cGUgc3RvcmVkIGluIHRoZSBjYWNoZVxyXG4gKi9cclxudmFyIENhY2hlU2NoZW1hVHlwZTtcclxuKGZ1bmN0aW9uIChDYWNoZVNjaGVtYVR5cGUpIHtcclxuICAgIENhY2hlU2NoZW1hVHlwZVtcIkFDQ09VTlRcIl0gPSBcIkFjY291bnRcIjtcclxuICAgIENhY2hlU2NoZW1hVHlwZVtcIkNSRURFTlRJQUxcIl0gPSBcIkNyZWRlbnRpYWxcIjtcclxuICAgIENhY2hlU2NoZW1hVHlwZVtcIklEX1RPS0VOXCJdID0gXCJJZFRva2VuXCI7XHJcbiAgICBDYWNoZVNjaGVtYVR5cGVbXCJBQ0NFU1NfVE9LRU5cIl0gPSBcIkFjY2Vzc1Rva2VuXCI7XHJcbiAgICBDYWNoZVNjaGVtYVR5cGVbXCJSRUZSRVNIX1RPS0VOXCJdID0gXCJSZWZyZXNoVG9rZW5cIjtcclxuICAgIENhY2hlU2NoZW1hVHlwZVtcIkFQUF9NRVRBREFUQVwiXSA9IFwiQXBwTWV0YWRhdGFcIjtcclxuICAgIENhY2hlU2NoZW1hVHlwZVtcIlRFTVBPUkFSWVwiXSA9IFwiVGVtcENhY2hlXCI7XHJcbiAgICBDYWNoZVNjaGVtYVR5cGVbXCJURUxFTUVUUllcIl0gPSBcIlRlbGVtZXRyeVwiO1xyXG4gICAgQ2FjaGVTY2hlbWFUeXBlW1wiVU5ERUZJTkVEXCJdID0gXCJVbmRlZmluZWRcIjtcclxuICAgIENhY2hlU2NoZW1hVHlwZVtcIlRIUk9UVExJTkdcIl0gPSBcIlRocm90dGxpbmdcIjtcclxufSkoQ2FjaGVTY2hlbWFUeXBlIHx8IChDYWNoZVNjaGVtYVR5cGUgPSB7fSkpO1xyXG4vKipcclxuICogQ29tYmluZSBhbGwgY2FjaGUgdHlwZXNcclxuICovXHJcbnZhciBDYWNoZVR5cGU7XHJcbihmdW5jdGlvbiAoQ2FjaGVUeXBlKSB7XHJcbiAgICBDYWNoZVR5cGVbQ2FjaGVUeXBlW1wiQURGU1wiXSA9IDEwMDFdID0gXCJBREZTXCI7XHJcbiAgICBDYWNoZVR5cGVbQ2FjaGVUeXBlW1wiTVNBXCJdID0gMTAwMl0gPSBcIk1TQVwiO1xyXG4gICAgQ2FjaGVUeXBlW0NhY2hlVHlwZVtcIk1TU1RTXCJdID0gMTAwM10gPSBcIk1TU1RTXCI7XHJcbiAgICBDYWNoZVR5cGVbQ2FjaGVUeXBlW1wiR0VORVJJQ1wiXSA9IDEwMDRdID0gXCJHRU5FUklDXCI7XHJcbiAgICBDYWNoZVR5cGVbQ2FjaGVUeXBlW1wiQUNDRVNTX1RPS0VOXCJdID0gMjAwMV0gPSBcIkFDQ0VTU19UT0tFTlwiO1xyXG4gICAgQ2FjaGVUeXBlW0NhY2hlVHlwZVtcIlJFRlJFU0hfVE9LRU5cIl0gPSAyMDAyXSA9IFwiUkVGUkVTSF9UT0tFTlwiO1xyXG4gICAgQ2FjaGVUeXBlW0NhY2hlVHlwZVtcIklEX1RPS0VOXCJdID0gMjAwM10gPSBcIklEX1RPS0VOXCI7XHJcbiAgICBDYWNoZVR5cGVbQ2FjaGVUeXBlW1wiQVBQX01FVEFEQVRBXCJdID0gMzAwMV0gPSBcIkFQUF9NRVRBREFUQVwiO1xyXG4gICAgQ2FjaGVUeXBlW0NhY2hlVHlwZVtcIlVOREVGSU5FRFwiXSA9IDk5OTldID0gXCJVTkRFRklORURcIjtcclxufSkoQ2FjaGVUeXBlIHx8IChDYWNoZVR5cGUgPSB7fSkpO1xyXG4vKipcclxuICogTW9yZSBDYWNoZSByZWxhdGVkIGNvbnN0YW50c1xyXG4gKi9cclxudmFyIEFQUF9NRVRBREFUQSA9IFwiYXBwbWV0YWRhdGFcIjtcclxudmFyIENMSUVOVF9JTkZPID0gXCJjbGllbnRfaW5mb1wiO1xyXG52YXIgVEhFX0ZBTUlMWV9JRCA9IFwiMVwiO1xyXG52YXIgQVVUSE9SSVRZX01FVEFEQVRBX0NPTlNUQU5UUyA9IHtcclxuICAgIENBQ0hFX0tFWTogXCJhdXRob3JpdHktbWV0YWRhdGFcIixcclxuICAgIFJFRlJFU0hfVElNRV9TRUNPTkRTOiAzNjAwICogMjQgLy8gMjQgSG91cnNcclxufTtcclxudmFyIEF1dGhvcml0eU1ldGFkYXRhU291cmNlO1xyXG4oZnVuY3Rpb24gKEF1dGhvcml0eU1ldGFkYXRhU291cmNlKSB7XHJcbiAgICBBdXRob3JpdHlNZXRhZGF0YVNvdXJjZVtcIkNPTkZJR1wiXSA9IFwiY29uZmlnXCI7XHJcbiAgICBBdXRob3JpdHlNZXRhZGF0YVNvdXJjZVtcIkNBQ0hFXCJdID0gXCJjYWNoZVwiO1xyXG4gICAgQXV0aG9yaXR5TWV0YWRhdGFTb3VyY2VbXCJORVRXT1JLXCJdID0gXCJuZXR3b3JrXCI7XHJcbn0pKEF1dGhvcml0eU1ldGFkYXRhU291cmNlIHx8IChBdXRob3JpdHlNZXRhZGF0YVNvdXJjZSA9IHt9KSk7XHJcbnZhciBTRVJWRVJfVEVMRU1fQ09OU1RBTlRTID0ge1xyXG4gICAgU0NIRU1BX1ZFUlNJT046IDUsXHJcbiAgICBNQVhfQ1VSX0hFQURFUl9CWVRFUzogODAsXHJcbiAgICBNQVhfTEFTVF9IRUFERVJfQllURVM6IDMzMCxcclxuICAgIE1BWF9DQUNIRURfRVJST1JTOiA1MCxcclxuICAgIENBQ0hFX0tFWTogXCJzZXJ2ZXItdGVsZW1ldHJ5XCIsXHJcbiAgICBDQVRFR09SWV9TRVBBUkFUT1I6IFwifFwiLFxyXG4gICAgVkFMVUVfU0VQQVJBVE9SOiBcIixcIixcclxuICAgIE9WRVJGTE9XX1RSVUU6IFwiMVwiLFxyXG4gICAgT1ZFUkZMT1dfRkFMU0U6IFwiMFwiLFxyXG4gICAgVU5LTk9XTl9FUlJPUjogXCJ1bmtub3duX2Vycm9yXCJcclxufTtcclxuLyoqXHJcbiAqIFR5cGUgb2YgdGhlIGF1dGhlbnRpY2F0aW9uIHJlcXVlc3RcclxuICovXHJcbnZhciBBdXRoZW50aWNhdGlvblNjaGVtZTtcclxuKGZ1bmN0aW9uIChBdXRoZW50aWNhdGlvblNjaGVtZSkge1xyXG4gICAgQXV0aGVudGljYXRpb25TY2hlbWVbXCJCRUFSRVJcIl0gPSBcIkJlYXJlclwiO1xyXG4gICAgQXV0aGVudGljYXRpb25TY2hlbWVbXCJQT1BcIl0gPSBcInBvcFwiO1xyXG4gICAgQXV0aGVudGljYXRpb25TY2hlbWVbXCJTU0hcIl0gPSBcInNzaC1jZXJ0XCI7XHJcbn0pKEF1dGhlbnRpY2F0aW9uU2NoZW1lIHx8IChBdXRoZW50aWNhdGlvblNjaGVtZSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBDb25zdGFudHMgcmVsYXRlZCB0byB0aHJvdHRsaW5nXHJcbiAqL1xyXG52YXIgVGhyb3R0bGluZ0NvbnN0YW50cyA9IHtcclxuICAgIC8vIERlZmF1bHQgdGltZSB0byB0aHJvdHRsZSBSZXF1ZXN0VGh1bWJwcmludCBpbiBzZWNvbmRzXHJcbiAgICBERUZBVUxUX1RIUk9UVExFX1RJTUVfU0VDT05EUzogNjAsXHJcbiAgICAvLyBEZWZhdWx0IG1heGltdW0gdGltZSB0byB0aHJvdHRsZSBpbiBzZWNvbmRzLCBvdmVycmlkZXMgd2hhdCB0aGUgc2VydmVyIHNlbmRzIGJhY2tcclxuICAgIERFRkFVTFRfTUFYX1RIUk9UVExFX1RJTUVfU0VDT05EUzogMzYwMCxcclxuICAgIC8vIFByZWZpeCBmb3Igc3RvcmluZyB0aHJvdHRsaW5nIGVudHJpZXNcclxuICAgIFRIUk9UVExJTkdfUFJFRklYOiBcInRocm90dGxpbmdcIixcclxuICAgIC8vIFZhbHVlIGFzc2lnbmVkIHRvIHRoZSB4LW1zLWxpYi1jYXBhYmlsaXR5IGhlYWRlciB0byBpbmRpY2F0ZSB0byB0aGUgc2VydmVyIHRoZSBsaWJyYXJ5IHN1cHBvcnRzIHRocm90dGxpbmdcclxuICAgIFhfTVNfTElCX0NBUEFCSUxJVFlfVkFMVUU6IFwicmV0cnktYWZ0ZXIsIGg0MjlcIlxyXG59O1xyXG52YXIgRXJyb3JzID0ge1xyXG4gICAgSU5WQUxJRF9HUkFOVF9FUlJPUjogXCJpbnZhbGlkX2dyYW50XCIsXHJcbiAgICBDTElFTlRfTUlTTUFUQ0hfRVJST1I6IFwiY2xpZW50X21pc21hdGNoXCIsXHJcbn07XHJcbi8qKlxyXG4gKiBQYXNzd29yZCBncmFudCBwYXJhbWV0ZXJzXHJcbiAqL1xyXG52YXIgUGFzc3dvcmRHcmFudENvbnN0YW50cztcclxuKGZ1bmN0aW9uIChQYXNzd29yZEdyYW50Q29uc3RhbnRzKSB7XHJcbiAgICBQYXNzd29yZEdyYW50Q29uc3RhbnRzW1widXNlcm5hbWVcIl0gPSBcInVzZXJuYW1lXCI7XHJcbiAgICBQYXNzd29yZEdyYW50Q29uc3RhbnRzW1wicGFzc3dvcmRcIl0gPSBcInBhc3N3b3JkXCI7XHJcbn0pKFBhc3N3b3JkR3JhbnRDb25zdGFudHMgfHwgKFBhc3N3b3JkR3JhbnRDb25zdGFudHMgPSB7fSkpO1xyXG4vKipcclxuICogUmVzcG9uc2UgY29kZXNcclxuICovXHJcbnZhciBSZXNwb25zZUNvZGVzO1xyXG4oZnVuY3Rpb24gKFJlc3BvbnNlQ29kZXMpIHtcclxuICAgIFJlc3BvbnNlQ29kZXNbUmVzcG9uc2VDb2Rlc1tcImh0dHBTdWNjZXNzXCJdID0gMjAwXSA9IFwiaHR0cFN1Y2Nlc3NcIjtcclxuICAgIFJlc3BvbnNlQ29kZXNbUmVzcG9uc2VDb2Rlc1tcImh0dHBCYWRSZXF1ZXN0XCJdID0gNDAwXSA9IFwiaHR0cEJhZFJlcXVlc3RcIjtcclxufSkoUmVzcG9uc2VDb2RlcyB8fCAoUmVzcG9uc2VDb2RlcyA9IHt9KSk7XHJcbi8qKlxyXG4gKiBSZWdpb24gRGlzY292ZXJ5IFNvdXJjZXNcclxuICovXHJcbnZhciBSZWdpb25EaXNjb3ZlcnlTb3VyY2VzO1xyXG4oZnVuY3Rpb24gKFJlZ2lvbkRpc2NvdmVyeVNvdXJjZXMpIHtcclxuICAgIFJlZ2lvbkRpc2NvdmVyeVNvdXJjZXNbXCJGQUlMRURfQVVUT19ERVRFQ1RJT05cIl0gPSBcIjFcIjtcclxuICAgIFJlZ2lvbkRpc2NvdmVyeVNvdXJjZXNbXCJJTlRFUk5BTF9DQUNIRVwiXSA9IFwiMlwiO1xyXG4gICAgUmVnaW9uRGlzY292ZXJ5U291cmNlc1tcIkVOVklST05NRU5UX1ZBUklBQkxFXCJdID0gXCIzXCI7XHJcbiAgICBSZWdpb25EaXNjb3ZlcnlTb3VyY2VzW1wiSU1EU1wiXSA9IFwiNFwiO1xyXG59KShSZWdpb25EaXNjb3ZlcnlTb3VyY2VzIHx8IChSZWdpb25EaXNjb3ZlcnlTb3VyY2VzID0ge30pKTtcclxuLyoqXHJcbiAqIFJlZ2lvbiBEaXNjb3ZlcnkgT3V0Y29tZXNcclxuICovXHJcbnZhciBSZWdpb25EaXNjb3ZlcnlPdXRjb21lcztcclxuKGZ1bmN0aW9uIChSZWdpb25EaXNjb3ZlcnlPdXRjb21lcykge1xyXG4gICAgUmVnaW9uRGlzY292ZXJ5T3V0Y29tZXNbXCJDT05GSUdVUkVEX01BVENIRVNfREVURUNURURcIl0gPSBcIjFcIjtcclxuICAgIFJlZ2lvbkRpc2NvdmVyeU91dGNvbWVzW1wiQ09ORklHVVJFRF9OT19BVVRPX0RFVEVDVElPTlwiXSA9IFwiMlwiO1xyXG4gICAgUmVnaW9uRGlzY292ZXJ5T3V0Y29tZXNbXCJDT05GSUdVUkVEX05PVF9ERVRFQ1RFRFwiXSA9IFwiM1wiO1xyXG4gICAgUmVnaW9uRGlzY292ZXJ5T3V0Y29tZXNbXCJBVVRPX0RFVEVDVElPTl9SRVFVRVNURURfU1VDQ0VTU0ZVTFwiXSA9IFwiNFwiO1xyXG4gICAgUmVnaW9uRGlzY292ZXJ5T3V0Y29tZXNbXCJBVVRPX0RFVEVDVElPTl9SRVFVRVNURURfRkFJTEVEXCJdID0gXCI1XCI7XHJcbn0pKFJlZ2lvbkRpc2NvdmVyeU91dGNvbWVzIHx8IChSZWdpb25EaXNjb3ZlcnlPdXRjb21lcyA9IHt9KSk7XHJcbnZhciBDYWNoZU91dGNvbWU7XHJcbihmdW5jdGlvbiAoQ2FjaGVPdXRjb21lKSB7XHJcbiAgICBDYWNoZU91dGNvbWVbXCJOT19DQUNIRV9ISVRcIl0gPSBcIjBcIjtcclxuICAgIENhY2hlT3V0Y29tZVtcIkZPUkNFX1JFRlJFU0hcIl0gPSBcIjFcIjtcclxuICAgIENhY2hlT3V0Y29tZVtcIk5PX0NBQ0hFRF9BQ0NFU1NfVE9LRU5cIl0gPSBcIjJcIjtcclxuICAgIENhY2hlT3V0Y29tZVtcIkNBQ0hFRF9BQ0NFU1NfVE9LRU5fRVhQSVJFRFwiXSA9IFwiM1wiO1xyXG4gICAgQ2FjaGVPdXRjb21lW1wiUkVGUkVTSF9DQUNIRURfQUNDRVNTX1RPS0VOXCJdID0gXCI0XCI7XHJcbn0pKENhY2hlT3V0Y29tZSB8fCAoQ2FjaGVPdXRjb21lID0ge30pKTtcblxuZXhwb3J0IHsgQUFEQXV0aG9yaXR5Q29uc3RhbnRzLCBBQURTZXJ2ZXJQYXJhbUtleXMsIEFQUF9NRVRBREFUQSwgQVVUSE9SSVRZX01FVEFEQVRBX0NPTlNUQU5UUywgQXV0aGVudGljYXRpb25TY2hlbWUsIEF1dGhvcml0eU1ldGFkYXRhU291cmNlLCBDTElFTlRfSU5GTywgQ2FjaGVBY2NvdW50VHlwZSwgQ2FjaGVPdXRjb21lLCBDYWNoZVNjaGVtYVR5cGUsIENhY2hlVHlwZSwgQ2xhaW1zUmVxdWVzdEtleXMsIENvZGVDaGFsbGVuZ2VNZXRob2RWYWx1ZXMsIENvbnN0YW50cywgQ3JlZGVudGlhbFR5cGUsIEVycm9ycywgR3JhbnRUeXBlLCBIZWFkZXJOYW1lcywgT0lEQ19ERUZBVUxUX1NDT1BFUywgT0lEQ19TQ09QRVMsIFBhc3N3b3JkR3JhbnRDb25zdGFudHMsIFBlcnNpc3RlbnRDYWNoZUtleXMsIFByb21wdFZhbHVlLCBSZWdpb25EaXNjb3ZlcnlPdXRjb21lcywgUmVnaW9uRGlzY292ZXJ5U291cmNlcywgUmVzcG9uc2VDb2RlcywgUmVzcG9uc2VNb2RlLCBTRVJWRVJfVEVMRU1fQ09OU1RBTlRTLCBTU09UeXBlcywgU2VwYXJhdG9ycywgVEhFX0ZBTUlMWV9JRCwgVGhyb3R0bGluZ0NvbnN0YW50cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29uc3RhbnRzLmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2Ni4xLjAgMjAyMi0wMi0wOCAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSAnLi4vX3ZpcnR1YWwvX3RzbGliLmpzJztcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gJy4uL3V0aWxzL0NvbnN0YW50cy5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQXV0aEVycm9yTWVzc2FnZSBjbGFzcyBjb250YWluaW5nIHN0cmluZyBjb25zdGFudHMgdXNlZCBieSBlcnJvciBjb2RlcyBhbmQgbWVzc2FnZXMuXHJcbiAqL1xyXG52YXIgQXV0aEVycm9yTWVzc2FnZSA9IHtcclxuICAgIHVuZXhwZWN0ZWRFcnJvcjoge1xyXG4gICAgICAgIGNvZGU6IFwidW5leHBlY3RlZF9lcnJvclwiLFxyXG4gICAgICAgIGRlc2M6IFwiVW5leHBlY3RlZCBlcnJvciBpbiBhdXRoZW50aWNhdGlvbi5cIlxyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogR2VuZXJhbCBlcnJvciBjbGFzcyB0aHJvd24gYnkgdGhlIE1TQUwuanMgbGlicmFyeS5cclxuICovXHJcbnZhciBBdXRoRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQXV0aEVycm9yLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQXV0aEVycm9yKGVycm9yQ29kZSwgZXJyb3JNZXNzYWdlLCBzdWJlcnJvcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGVycm9yU3RyaW5nID0gZXJyb3JNZXNzYWdlID8gZXJyb3JDb2RlICsgXCI6IFwiICsgZXJyb3JNZXNzYWdlIDogZXJyb3JDb2RlO1xyXG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZXJyb3JTdHJpbmcpIHx8IHRoaXM7XHJcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKF90aGlzLCBBdXRoRXJyb3IucHJvdG90eXBlKTtcclxuICAgICAgICBfdGhpcy5lcnJvckNvZGUgPSBlcnJvckNvZGUgfHwgQ29uc3RhbnRzLkVNUFRZX1NUUklORztcclxuICAgICAgICBfdGhpcy5lcnJvck1lc3NhZ2UgPSBlcnJvck1lc3NhZ2UgfHwgXCJcIjtcclxuICAgICAgICBfdGhpcy5zdWJFcnJvciA9IHN1YmVycm9yIHx8IFwiXCI7XHJcbiAgICAgICAgX3RoaXMubmFtZSA9IFwiQXV0aEVycm9yXCI7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgQXV0aEVycm9yLnByb3RvdHlwZS5zZXRDb3JyZWxhdGlvbklkID0gZnVuY3Rpb24gKGNvcnJlbGF0aW9uSWQpIHtcclxuICAgICAgICB0aGlzLmNvcnJlbGF0aW9uSWQgPSBjb3JyZWxhdGlvbklkO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBlcnJvciB0aGF0IGlzIHRocm93biB3aGVuIHNvbWV0aGluZyB1bmV4cGVjdGVkIGhhcHBlbnMgaW4gdGhlIGxpYnJhcnkuXHJcbiAgICAgKiBAcGFyYW0gZXJyRGVzY1xyXG4gICAgICovXHJcbiAgICBBdXRoRXJyb3IuY3JlYXRlVW5leHBlY3RlZEVycm9yID0gZnVuY3Rpb24gKGVyckRlc2MpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEF1dGhFcnJvcihBdXRoRXJyb3JNZXNzYWdlLnVuZXhwZWN0ZWRFcnJvci5jb2RlLCBBdXRoRXJyb3JNZXNzYWdlLnVuZXhwZWN0ZWRFcnJvci5kZXNjICsgXCI6IFwiICsgZXJyRGVzYyk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEF1dGhFcnJvcjtcclxufShFcnJvcikpO1xuXG5leHBvcnQgeyBBdXRoRXJyb3IsIEF1dGhFcnJvck1lc3NhZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUF1dGhFcnJvci5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjYuMS4wIDIwMjItMDItMDggKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IFN0cmluZ1V0aWxzIH0gZnJvbSAnLi4vdXRpbHMvU3RyaW5nVXRpbHMuanMnO1xuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSAnLi4vdXRpbHMvQ29uc3RhbnRzLmpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBMb2cgbWVzc2FnZSBsZXZlbC5cclxuICovXHJcbnZhciBMb2dMZXZlbDtcclxuKGZ1bmN0aW9uIChMb2dMZXZlbCkge1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJFcnJvclwiXSA9IDBdID0gXCJFcnJvclwiO1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJXYXJuaW5nXCJdID0gMV0gPSBcIldhcm5pbmdcIjtcclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiSW5mb1wiXSA9IDJdID0gXCJJbmZvXCI7XHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIlZlcmJvc2VcIl0gPSAzXSA9IFwiVmVyYm9zZVwiO1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJUcmFjZVwiXSA9IDRdID0gXCJUcmFjZVwiO1xyXG59KShMb2dMZXZlbCB8fCAoTG9nTGV2ZWwgPSB7fSkpO1xyXG4vKipcclxuICogQ2xhc3Mgd2hpY2ggZmFjaWxpdGF0ZXMgbG9nZ2luZyBvZiBtZXNzYWdlcyB0byBhIHNwZWNpZmljIHBsYWNlLlxyXG4gKi9cclxudmFyIExvZ2dlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIExvZ2dlcihsb2dnZXJPcHRpb25zLCBwYWNrYWdlTmFtZSwgcGFja2FnZVZlcnNpb24pIHtcclxuICAgICAgICAvLyBDdXJyZW50IGxvZyBsZXZlbCwgZGVmYXVsdHMgdG8gaW5mby5cclxuICAgICAgICB0aGlzLmxldmVsID0gTG9nTGV2ZWwuSW5mbztcclxuICAgICAgICB2YXIgZGVmYXVsdExvZ2dlckNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmxvY2FsQ2FsbGJhY2sgPSBsb2dnZXJPcHRpb25zLmxvZ2dlckNhbGxiYWNrIHx8IGRlZmF1bHRMb2dnZXJDYWxsYmFjaztcclxuICAgICAgICB0aGlzLnBpaUxvZ2dpbmdFbmFibGVkID0gbG9nZ2VyT3B0aW9ucy5waWlMb2dnaW5nRW5hYmxlZCB8fCBmYWxzZTtcclxuICAgICAgICB0aGlzLmxldmVsID0gdHlwZW9mIChsb2dnZXJPcHRpb25zLmxvZ0xldmVsKSA9PT0gXCJudW1iZXJcIiA/IGxvZ2dlck9wdGlvbnMubG9nTGV2ZWwgOiBMb2dMZXZlbC5JbmZvO1xyXG4gICAgICAgIHRoaXMuY29ycmVsYXRpb25JZCA9IGxvZ2dlck9wdGlvbnMuY29ycmVsYXRpb25JZCB8fCBcIlwiO1xyXG4gICAgICAgIHRoaXMucGFja2FnZU5hbWUgPSBwYWNrYWdlTmFtZSB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HO1xyXG4gICAgICAgIHRoaXMucGFja2FnZVZlcnNpb24gPSBwYWNrYWdlVmVyc2lvbiB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgbmV3IExvZ2dlciB3aXRoIGV4aXN0aW5nIGNvbmZpZ3VyYXRpb25zLlxyXG4gICAgICovXHJcbiAgICBMb2dnZXIucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKHBhY2thZ2VOYW1lLCBwYWNrYWdlVmVyc2lvbiwgY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgTG9nZ2VyKHsgbG9nZ2VyQ2FsbGJhY2s6IHRoaXMubG9jYWxDYWxsYmFjaywgcGlpTG9nZ2luZ0VuYWJsZWQ6IHRoaXMucGlpTG9nZ2luZ0VuYWJsZWQsIGxvZ0xldmVsOiB0aGlzLmxldmVsLCBjb3JyZWxhdGlvbklkOiBjb3JyZWxhdGlvbklkIHx8IHRoaXMuY29ycmVsYXRpb25JZCB9LCBwYWNrYWdlTmFtZSwgcGFja2FnZVZlcnNpb24pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogTG9nIG1lc3NhZ2Ugd2l0aCByZXF1aXJlZCBvcHRpb25zLlxyXG4gICAgICovXHJcbiAgICBMb2dnZXIucHJvdG90eXBlLmxvZ01lc3NhZ2UgPSBmdW5jdGlvbiAobG9nTWVzc2FnZSwgb3B0aW9ucykge1xyXG4gICAgICAgIGlmICgob3B0aW9ucy5sb2dMZXZlbCA+IHRoaXMubGV2ZWwpIHx8ICghdGhpcy5waWlMb2dnaW5nRW5hYmxlZCAmJiBvcHRpb25zLmNvbnRhaW5zUGlpKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgLy8gQWRkIGNvcnJlbGF0aW9uSWQgdG8gbG9ncyBpZiBzZXQsIGNvcnJlbGF0aW9uSWQgcHJvdmlkZWQgb24gbG9nIG1lc3NhZ2VzIHRha2UgcHJlY2VkZW5jZVxyXG4gICAgICAgIHZhciBsb2dIZWFkZXI7XHJcbiAgICAgICAgaWYgKCFTdHJpbmdVdGlscy5pc0VtcHR5KG9wdGlvbnMuY29ycmVsYXRpb25JZCkpIHtcclxuICAgICAgICAgICAgbG9nSGVhZGVyID0gXCJbXCIgKyB0aW1lc3RhbXAgKyBcIl0gOiBbXCIgKyBvcHRpb25zLmNvcnJlbGF0aW9uSWQgKyBcIl1cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIVN0cmluZ1V0aWxzLmlzRW1wdHkodGhpcy5jb3JyZWxhdGlvbklkKSkge1xyXG4gICAgICAgICAgICBsb2dIZWFkZXIgPSBcIltcIiArIHRpbWVzdGFtcCArIFwiXSA6IFtcIiArIHRoaXMuY29ycmVsYXRpb25JZCArIFwiXVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbG9nSGVhZGVyID0gXCJbXCIgKyB0aW1lc3RhbXAgKyBcIl1cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGxvZyA9IGxvZ0hlYWRlciArIFwiIDogXCIgKyB0aGlzLnBhY2thZ2VOYW1lICsgXCJAXCIgKyB0aGlzLnBhY2thZ2VWZXJzaW9uICsgXCIgOiBcIiArIExvZ0xldmVsW29wdGlvbnMubG9nTGV2ZWxdICsgXCIgLSBcIiArIGxvZ01lc3NhZ2U7XHJcbiAgICAgICAgLy8gZGVidWcoYG1zYWw6JHtMb2dMZXZlbFtvcHRpb25zLmxvZ0xldmVsXX0ke29wdGlvbnMuY29udGFpbnNQaWkgPyBcIi1QaWlcIjogXCJcIn0ke29wdGlvbnMuY29udGV4dCA/IGA6JHtvcHRpb25zLmNvbnRleHR9YCA6IFwiXCJ9YCkobG9nTWVzc2FnZSk7XHJcbiAgICAgICAgdGhpcy5leGVjdXRlQ2FsbGJhY2sob3B0aW9ucy5sb2dMZXZlbCwgbG9nLCBvcHRpb25zLmNvbnRhaW5zUGlpIHx8IGZhbHNlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEV4ZWN1dGUgY2FsbGJhY2sgd2l0aCBtZXNzYWdlLlxyXG4gICAgICovXHJcbiAgICBMb2dnZXIucHJvdG90eXBlLmV4ZWN1dGVDYWxsYmFjayA9IGZ1bmN0aW9uIChsZXZlbCwgbWVzc2FnZSwgY29udGFpbnNQaWkpIHtcclxuICAgICAgICBpZiAodGhpcy5sb2NhbENhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxDYWxsYmFjayhsZXZlbCwgbWVzc2FnZSwgY29udGFpbnNQaWkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIExvZ3MgZXJyb3IgbWVzc2FnZXMuXHJcbiAgICAgKi9cclxuICAgIExvZ2dlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAobWVzc2FnZSwgY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgIHRoaXMubG9nTWVzc2FnZShtZXNzYWdlLCB7XHJcbiAgICAgICAgICAgIGxvZ0xldmVsOiBMb2dMZXZlbC5FcnJvcixcclxuICAgICAgICAgICAgY29udGFpbnNQaWk6IGZhbHNlLFxyXG4gICAgICAgICAgICBjb3JyZWxhdGlvbklkOiBjb3JyZWxhdGlvbklkIHx8IFwiXCJcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIExvZ3MgZXJyb3IgbWVzc2FnZXMgd2l0aCBQSUkuXHJcbiAgICAgKi9cclxuICAgIExvZ2dlci5wcm90b3R5cGUuZXJyb3JQaWkgPSBmdW5jdGlvbiAobWVzc2FnZSwgY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgIHRoaXMubG9nTWVzc2FnZShtZXNzYWdlLCB7XHJcbiAgICAgICAgICAgIGxvZ0xldmVsOiBMb2dMZXZlbC5FcnJvcixcclxuICAgICAgICAgICAgY29udGFpbnNQaWk6IHRydWUsXHJcbiAgICAgICAgICAgIGNvcnJlbGF0aW9uSWQ6IGNvcnJlbGF0aW9uSWQgfHwgXCJcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogTG9ncyB3YXJuaW5nIG1lc3NhZ2VzLlxyXG4gICAgICovXHJcbiAgICBMb2dnZXIucHJvdG90eXBlLndhcm5pbmcgPSBmdW5jdGlvbiAobWVzc2FnZSwgY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgIHRoaXMubG9nTWVzc2FnZShtZXNzYWdlLCB7XHJcbiAgICAgICAgICAgIGxvZ0xldmVsOiBMb2dMZXZlbC5XYXJuaW5nLFxyXG4gICAgICAgICAgICBjb250YWluc1BpaTogZmFsc2UsXHJcbiAgICAgICAgICAgIGNvcnJlbGF0aW9uSWQ6IGNvcnJlbGF0aW9uSWQgfHwgXCJcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogTG9ncyB3YXJuaW5nIG1lc3NhZ2VzIHdpdGggUElJLlxyXG4gICAgICovXHJcbiAgICBMb2dnZXIucHJvdG90eXBlLndhcm5pbmdQaWkgPSBmdW5jdGlvbiAobWVzc2FnZSwgY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgIHRoaXMubG9nTWVzc2FnZShtZXNzYWdlLCB7XHJcbiAgICAgICAgICAgIGxvZ0xldmVsOiBMb2dMZXZlbC5XYXJuaW5nLFxyXG4gICAgICAgICAgICBjb250YWluc1BpaTogdHJ1ZSxcclxuICAgICAgICAgICAgY29ycmVsYXRpb25JZDogY29ycmVsYXRpb25JZCB8fCBcIlwiXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBMb2dzIGluZm8gbWVzc2FnZXMuXHJcbiAgICAgKi9cclxuICAgIExvZ2dlci5wcm90b3R5cGUuaW5mbyA9IGZ1bmN0aW9uIChtZXNzYWdlLCBjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgdGhpcy5sb2dNZXNzYWdlKG1lc3NhZ2UsIHtcclxuICAgICAgICAgICAgbG9nTGV2ZWw6IExvZ0xldmVsLkluZm8sXHJcbiAgICAgICAgICAgIGNvbnRhaW5zUGlpOiBmYWxzZSxcclxuICAgICAgICAgICAgY29ycmVsYXRpb25JZDogY29ycmVsYXRpb25JZCB8fCBcIlwiXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBMb2dzIGluZm8gbWVzc2FnZXMgd2l0aCBQSUkuXHJcbiAgICAgKi9cclxuICAgIExvZ2dlci5wcm90b3R5cGUuaW5mb1BpaSA9IGZ1bmN0aW9uIChtZXNzYWdlLCBjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgdGhpcy5sb2dNZXNzYWdlKG1lc3NhZ2UsIHtcclxuICAgICAgICAgICAgbG9nTGV2ZWw6IExvZ0xldmVsLkluZm8sXHJcbiAgICAgICAgICAgIGNvbnRhaW5zUGlpOiB0cnVlLFxyXG4gICAgICAgICAgICBjb3JyZWxhdGlvbklkOiBjb3JyZWxhdGlvbklkIHx8IFwiXCJcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIExvZ3MgdmVyYm9zZSBtZXNzYWdlcy5cclxuICAgICAqL1xyXG4gICAgTG9nZ2VyLnByb3RvdHlwZS52ZXJib3NlID0gZnVuY3Rpb24gKG1lc3NhZ2UsIGNvcnJlbGF0aW9uSWQpIHtcclxuICAgICAgICB0aGlzLmxvZ01lc3NhZ2UobWVzc2FnZSwge1xyXG4gICAgICAgICAgICBsb2dMZXZlbDogTG9nTGV2ZWwuVmVyYm9zZSxcclxuICAgICAgICAgICAgY29udGFpbnNQaWk6IGZhbHNlLFxyXG4gICAgICAgICAgICBjb3JyZWxhdGlvbklkOiBjb3JyZWxhdGlvbklkIHx8IFwiXCJcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIExvZ3MgdmVyYm9zZSBtZXNzYWdlcyB3aXRoIFBJSS5cclxuICAgICAqL1xyXG4gICAgTG9nZ2VyLnByb3RvdHlwZS52ZXJib3NlUGlpID0gZnVuY3Rpb24gKG1lc3NhZ2UsIGNvcnJlbGF0aW9uSWQpIHtcclxuICAgICAgICB0aGlzLmxvZ01lc3NhZ2UobWVzc2FnZSwge1xyXG4gICAgICAgICAgICBsb2dMZXZlbDogTG9nTGV2ZWwuVmVyYm9zZSxcclxuICAgICAgICAgICAgY29udGFpbnNQaWk6IHRydWUsXHJcbiAgICAgICAgICAgIGNvcnJlbGF0aW9uSWQ6IGNvcnJlbGF0aW9uSWQgfHwgXCJcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogTG9ncyB0cmFjZSBtZXNzYWdlcy5cclxuICAgICAqL1xyXG4gICAgTG9nZ2VyLnByb3RvdHlwZS50cmFjZSA9IGZ1bmN0aW9uIChtZXNzYWdlLCBjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgdGhpcy5sb2dNZXNzYWdlKG1lc3NhZ2UsIHtcclxuICAgICAgICAgICAgbG9nTGV2ZWw6IExvZ0xldmVsLlRyYWNlLFxyXG4gICAgICAgICAgICBjb250YWluc1BpaTogZmFsc2UsXHJcbiAgICAgICAgICAgIGNvcnJlbGF0aW9uSWQ6IGNvcnJlbGF0aW9uSWQgfHwgXCJcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogTG9ncyB0cmFjZSBtZXNzYWdlcyB3aXRoIFBJSS5cclxuICAgICAqL1xyXG4gICAgTG9nZ2VyLnByb3RvdHlwZS50cmFjZVBpaSA9IGZ1bmN0aW9uIChtZXNzYWdlLCBjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgdGhpcy5sb2dNZXNzYWdlKG1lc3NhZ2UsIHtcclxuICAgICAgICAgICAgbG9nTGV2ZWw6IExvZ0xldmVsLlRyYWNlLFxyXG4gICAgICAgICAgICBjb250YWluc1BpaTogdHJ1ZSxcclxuICAgICAgICAgICAgY29ycmVsYXRpb25JZDogY29ycmVsYXRpb25JZCB8fCBcIlwiXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgUElJIExvZ2dpbmcgaXMgZW5hYmxlZCBvciBub3QuXHJcbiAgICAgKi9cclxuICAgIExvZ2dlci5wcm90b3R5cGUuaXNQaWlMb2dnaW5nRW5hYmxlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5waWlMb2dnaW5nRW5hYmxlZCB8fCBmYWxzZTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gTG9nZ2VyO1xyXG59KCkpO1xuXG5leHBvcnQgeyBMb2dMZXZlbCwgTG9nZ2VyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Mb2dnZXIuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHY2LjEuMCAyMDIyLTAyLTA4ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBfX2F3YWl0ZXIsIF9fZ2VuZXJhdG9yIH0gZnJvbSAnLi4vX3ZpcnR1YWwvX3RzbGliLmpzJztcbmltcG9ydCB7IEF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0F1dGhFcnJvci5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgREVGQVVMVF9DUllQVE9fSU1QTEVNRU5UQVRJT04gPSB7XHJcbiAgICBjcmVhdGVOZXdHdWlkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG5vdEltcGxFcnIgPSBcIkNyeXB0byBpbnRlcmZhY2UgLSBjcmVhdGVOZXdHdWlkKCkgaGFzIG5vdCBiZWVuIGltcGxlbWVudGVkXCI7XHJcbiAgICAgICAgdGhyb3cgQXV0aEVycm9yLmNyZWF0ZVVuZXhwZWN0ZWRFcnJvcihub3RJbXBsRXJyKTtcclxuICAgIH0sXHJcbiAgICBiYXNlNjREZWNvZGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbm90SW1wbEVyciA9IFwiQ3J5cHRvIGludGVyZmFjZSAtIGJhc2U2NERlY29kZSgpIGhhcyBub3QgYmVlbiBpbXBsZW1lbnRlZFwiO1xyXG4gICAgICAgIHRocm93IEF1dGhFcnJvci5jcmVhdGVVbmV4cGVjdGVkRXJyb3Iobm90SW1wbEVycik7XHJcbiAgICB9LFxyXG4gICAgYmFzZTY0RW5jb2RlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG5vdEltcGxFcnIgPSBcIkNyeXB0byBpbnRlcmZhY2UgLSBiYXNlNjRFbmNvZGUoKSBoYXMgbm90IGJlZW4gaW1wbGVtZW50ZWRcIjtcclxuICAgICAgICB0aHJvdyBBdXRoRXJyb3IuY3JlYXRlVW5leHBlY3RlZEVycm9yKG5vdEltcGxFcnIpO1xyXG4gICAgfSxcclxuICAgIGdlbmVyYXRlUGtjZUNvZGVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbm90SW1wbEVycjtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgbm90SW1wbEVyciA9IFwiQ3J5cHRvIGludGVyZmFjZSAtIGdlbmVyYXRlUGtjZUNvZGVzKCkgaGFzIG5vdCBiZWVuIGltcGxlbWVudGVkXCI7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBBdXRoRXJyb3IuY3JlYXRlVW5leHBlY3RlZEVycm9yKG5vdEltcGxFcnIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBnZXRQdWJsaWNLZXlUaHVtYnByaW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbm90SW1wbEVycjtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgbm90SW1wbEVyciA9IFwiQ3J5cHRvIGludGVyZmFjZSAtIGdldFB1YmxpY0tleVRodW1icHJpbnQoKSBoYXMgbm90IGJlZW4gaW1wbGVtZW50ZWRcIjtcclxuICAgICAgICAgICAgICAgIHRocm93IEF1dGhFcnJvci5jcmVhdGVVbmV4cGVjdGVkRXJyb3Iobm90SW1wbEVycik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIHJlbW92ZVRva2VuQmluZGluZ0tleTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIG5vdEltcGxFcnI7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIG5vdEltcGxFcnIgPSBcIkNyeXB0byBpbnRlcmZhY2UgLSByZW1vdmVUb2tlbkJpbmRpbmdLZXkoKSBoYXMgbm90IGJlZW4gaW1wbGVtZW50ZWRcIjtcclxuICAgICAgICAgICAgICAgIHRocm93IEF1dGhFcnJvci5jcmVhdGVVbmV4cGVjdGVkRXJyb3Iobm90SW1wbEVycik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIGNsZWFyS2V5c3RvcmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBub3RJbXBsRXJyO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBub3RJbXBsRXJyID0gXCJDcnlwdG8gaW50ZXJmYWNlIC0gY2xlYXJLZXlzdG9yZSgpIGhhcyBub3QgYmVlbiBpbXBsZW1lbnRlZFwiO1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgQXV0aEVycm9yLmNyZWF0ZVVuZXhwZWN0ZWRFcnJvcihub3RJbXBsRXJyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgc2lnbkp3dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIG5vdEltcGxFcnI7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIG5vdEltcGxFcnIgPSBcIkNyeXB0byBpbnRlcmZhY2UgLSBzaWduSnd0KCkgaGFzIG5vdCBiZWVuIGltcGxlbWVudGVkXCI7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBBdXRoRXJyb3IuY3JlYXRlVW5leHBlY3RlZEVycm9yKG5vdEltcGxFcnIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBoYXNoU3RyaW5nOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbm90SW1wbEVycjtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgbm90SW1wbEVyciA9IFwiQ3J5cHRvIGludGVyZmFjZSAtIGhhc2hTdHJpbmcoKSBoYXMgbm90IGJlZW4gaW1wbGVtZW50ZWRcIjtcclxuICAgICAgICAgICAgICAgIHRocm93IEF1dGhFcnJvci5jcmVhdGVVbmV4cGVjdGVkRXJyb3Iobm90SW1wbEVycik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59O1xuXG5leHBvcnQgeyBERUZBVUxUX0NSWVBUT19JTVBMRU1FTlRBVElPTiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SUNyeXB0by5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjYuMS4wIDIwMjItMDItMDggKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gJy4uL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgeyBBdXRoRXJyb3IgfSBmcm9tICcuL0F1dGhFcnJvci5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQ2xpZW50QXV0aEVycm9yTWVzc2FnZSBjbGFzcyBjb250YWluaW5nIHN0cmluZyBjb25zdGFudHMgdXNlZCBieSBlcnJvciBjb2RlcyBhbmQgbWVzc2FnZXMuXHJcbiAqL1xyXG52YXIgQ2xpZW50QXV0aEVycm9yTWVzc2FnZSA9IHtcclxuICAgIGNsaWVudEluZm9EZWNvZGluZ0Vycm9yOiB7XHJcbiAgICAgICAgY29kZTogXCJjbGllbnRfaW5mb19kZWNvZGluZ19lcnJvclwiLFxyXG4gICAgICAgIGRlc2M6IFwiVGhlIGNsaWVudCBpbmZvIGNvdWxkIG5vdCBiZSBwYXJzZWQvZGVjb2RlZCBjb3JyZWN0bHkuIFBsZWFzZSByZXZpZXcgdGhlIHRyYWNlIHRvIGRldGVybWluZSB0aGUgcm9vdCBjYXVzZS5cIlxyXG4gICAgfSxcclxuICAgIGNsaWVudEluZm9FbXB0eUVycm9yOiB7XHJcbiAgICAgICAgY29kZTogXCJjbGllbnRfaW5mb19lbXB0eV9lcnJvclwiLFxyXG4gICAgICAgIGRlc2M6IFwiVGhlIGNsaWVudCBpbmZvIHdhcyBlbXB0eS4gUGxlYXNlIHJldmlldyB0aGUgdHJhY2UgdG8gZGV0ZXJtaW5lIHRoZSByb290IGNhdXNlLlwiXHJcbiAgICB9LFxyXG4gICAgdG9rZW5QYXJzaW5nRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBcInRva2VuX3BhcnNpbmdfZXJyb3JcIixcclxuICAgICAgICBkZXNjOiBcIlRva2VuIGNhbm5vdCBiZSBwYXJzZWQuIFBsZWFzZSByZXZpZXcgc3RhY2sgdHJhY2UgdG8gZGV0ZXJtaW5lIHJvb3QgY2F1c2UuXCJcclxuICAgIH0sXHJcbiAgICBudWxsT3JFbXB0eVRva2VuOiB7XHJcbiAgICAgICAgY29kZTogXCJudWxsX29yX2VtcHR5X3Rva2VuXCIsXHJcbiAgICAgICAgZGVzYzogXCJUaGUgdG9rZW4gaXMgbnVsbCBvciBlbXB0eS4gUGxlYXNlIHJldmlldyB0aGUgdHJhY2UgdG8gZGV0ZXJtaW5lIHRoZSByb290IGNhdXNlLlwiXHJcbiAgICB9LFxyXG4gICAgZW5kcG9pbnRSZXNvbHV0aW9uRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBcImVuZHBvaW50c19yZXNvbHV0aW9uX2Vycm9yXCIsXHJcbiAgICAgICAgZGVzYzogXCJFcnJvcjogY291bGQgbm90IHJlc29sdmUgZW5kcG9pbnRzLiBQbGVhc2UgY2hlY2sgbmV0d29yayBhbmQgdHJ5IGFnYWluLlwiXHJcbiAgICB9LFxyXG4gICAgbmV0d29ya0Vycm9yOiB7XHJcbiAgICAgICAgY29kZTogXCJuZXR3b3JrX2Vycm9yXCIsXHJcbiAgICAgICAgZGVzYzogXCJOZXR3b3JrIHJlcXVlc3QgZmFpbGVkLiBQbGVhc2UgY2hlY2sgbmV0d29yayB0cmFjZSB0byBkZXRlcm1pbmUgcm9vdCBjYXVzZS5cIlxyXG4gICAgfSxcclxuICAgIHVuYWJsZVRvR2V0T3BlbmlkQ29uZmlnRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBcIm9wZW5pZF9jb25maWdfZXJyb3JcIixcclxuICAgICAgICBkZXNjOiBcIkNvdWxkIG5vdCByZXRyaWV2ZSBlbmRwb2ludHMuIENoZWNrIHlvdXIgYXV0aG9yaXR5IGFuZCB2ZXJpZnkgdGhlIC53ZWxsLWtub3duL29wZW5pZC1jb25maWd1cmF0aW9uIGVuZHBvaW50IHJldHVybnMgdGhlIHJlcXVpcmVkIGVuZHBvaW50cy5cIlxyXG4gICAgfSxcclxuICAgIGhhc2hOb3REZXNlcmlhbGl6ZWQ6IHtcclxuICAgICAgICBjb2RlOiBcImhhc2hfbm90X2Rlc2VyaWFsaXplZFwiLFxyXG4gICAgICAgIGRlc2M6IFwiVGhlIGhhc2ggcGFyYW1ldGVycyBjb3VsZCBub3QgYmUgZGVzZXJpYWxpemVkLiBQbGVhc2UgcmV2aWV3IHRoZSB0cmFjZSB0byBkZXRlcm1pbmUgdGhlIHJvb3QgY2F1c2UuXCJcclxuICAgIH0sXHJcbiAgICBibGFua0d1aWRHZW5lcmF0ZWQ6IHtcclxuICAgICAgICBjb2RlOiBcImJsYW5rX2d1aWRfZ2VuZXJhdGVkXCIsXHJcbiAgICAgICAgZGVzYzogXCJUaGUgZ3VpZCBnZW5lcmF0ZWQgd2FzIGJsYW5rLiBQbGVhc2UgcmV2aWV3IHRoZSB0cmFjZSB0byBkZXRlcm1pbmUgdGhlIHJvb3QgY2F1c2UuXCJcclxuICAgIH0sXHJcbiAgICBpbnZhbGlkU3RhdGVFcnJvcjoge1xyXG4gICAgICAgIGNvZGU6IFwiaW52YWxpZF9zdGF0ZVwiLFxyXG4gICAgICAgIGRlc2M6IFwiU3RhdGUgd2FzIG5vdCB0aGUgZXhwZWN0ZWQgZm9ybWF0LiBQbGVhc2UgY2hlY2sgdGhlIGxvZ3MgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHJlcXVlc3Qgd2FzIHNlbnQgdXNpbmcgUHJvdG9jb2xVdGlscy5zZXRSZXF1ZXN0U3RhdGUoKS5cIlxyXG4gICAgfSxcclxuICAgIHN0YXRlTWlzbWF0Y2hFcnJvcjoge1xyXG4gICAgICAgIGNvZGU6IFwic3RhdGVfbWlzbWF0Y2hcIixcclxuICAgICAgICBkZXNjOiBcIlN0YXRlIG1pc21hdGNoIGVycm9yLiBQbGVhc2UgY2hlY2sgeW91ciBuZXR3b3JrLiBDb250aW51ZWQgcmVxdWVzdHMgbWF5IGNhdXNlIGNhY2hlIG92ZXJmbG93LlwiXHJcbiAgICB9LFxyXG4gICAgc3RhdGVOb3RGb3VuZEVycm9yOiB7XHJcbiAgICAgICAgY29kZTogXCJzdGF0ZV9ub3RfZm91bmRcIixcclxuICAgICAgICBkZXNjOiBcIlN0YXRlIG5vdCBmb3VuZFwiXHJcbiAgICB9LFxyXG4gICAgbm9uY2VNaXNtYXRjaEVycm9yOiB7XHJcbiAgICAgICAgY29kZTogXCJub25jZV9taXNtYXRjaFwiLFxyXG4gICAgICAgIGRlc2M6IFwiTm9uY2UgbWlzbWF0Y2ggZXJyb3IuIFRoaXMgbWF5IGJlIGNhdXNlZCBieSBhIHJhY2UgY29uZGl0aW9uIGluIGNvbmN1cnJlbnQgcmVxdWVzdHMuXCJcclxuICAgIH0sXHJcbiAgICBub25jZU5vdEZvdW5kRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBcIm5vbmNlX25vdF9mb3VuZFwiLFxyXG4gICAgICAgIGRlc2M6IFwibm9uY2Ugbm90IGZvdW5kXCJcclxuICAgIH0sXHJcbiAgICBub1Rva2Vuc0ZvdW5kRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBcIm5vX3Rva2Vuc19mb3VuZFwiLFxyXG4gICAgICAgIGRlc2M6IFwiTm8gdG9rZW5zIHdlcmUgZm91bmQgZm9yIHRoZSBnaXZlbiBzY29wZXMsIGFuZCBubyBhdXRob3JpemF0aW9uIGNvZGUgd2FzIHBhc3NlZCB0byBhY3F1aXJlVG9rZW4uIFlvdSBtdXN0IHJldHJpZXZlIGFuIGF1dGhvcml6YXRpb24gY29kZSBiZWZvcmUgbWFraW5nIGEgY2FsbCB0byBhY3F1aXJlVG9rZW4oKS5cIlxyXG4gICAgfSxcclxuICAgIG11bHRpcGxlTWF0Y2hpbmdUb2tlbnM6IHtcclxuICAgICAgICBjb2RlOiBcIm11bHRpcGxlX21hdGNoaW5nX3Rva2Vuc1wiLFxyXG4gICAgICAgIGRlc2M6IFwiVGhlIGNhY2hlIGNvbnRhaW5zIG11bHRpcGxlIHRva2VucyBzYXRpc2Z5aW5nIHRoZSByZXF1aXJlbWVudHMuIFwiICtcclxuICAgICAgICAgICAgXCJDYWxsIEFjcXVpcmVUb2tlbiBhZ2FpbiBwcm92aWRpbmcgbW9yZSByZXF1aXJlbWVudHMgc3VjaCBhcyBhdXRob3JpdHkgb3IgYWNjb3VudC5cIlxyXG4gICAgfSxcclxuICAgIG11bHRpcGxlTWF0Y2hpbmdBY2NvdW50czoge1xyXG4gICAgICAgIGNvZGU6IFwibXVsdGlwbGVfbWF0Y2hpbmdfYWNjb3VudHNcIixcclxuICAgICAgICBkZXNjOiBcIlRoZSBjYWNoZSBjb250YWlucyBtdWx0aXBsZSBhY2NvdW50cyBzYXRpc2Z5aW5nIHRoZSBnaXZlbiBwYXJhbWV0ZXJzLiBQbGVhc2UgcGFzcyBtb3JlIGluZm8gdG8gb2J0YWluIHRoZSBjb3JyZWN0IGFjY291bnRcIlxyXG4gICAgfSxcclxuICAgIG11bHRpcGxlTWF0Y2hpbmdBcHBNZXRhZGF0YToge1xyXG4gICAgICAgIGNvZGU6IFwibXVsdGlwbGVfbWF0Y2hpbmdfYXBwTWV0YWRhdGFcIixcclxuICAgICAgICBkZXNjOiBcIlRoZSBjYWNoZSBjb250YWlucyBtdWx0aXBsZSBhcHBNZXRhZGF0YSBzYXRpc2Z5aW5nIHRoZSBnaXZlbiBwYXJhbWV0ZXJzLiBQbGVhc2UgcGFzcyBtb3JlIGluZm8gdG8gb2J0YWluIHRoZSBjb3JyZWN0IGFwcE1ldGFkYXRhXCJcclxuICAgIH0sXHJcbiAgICB0b2tlblJlcXVlc3RDYW5ub3RCZU1hZGU6IHtcclxuICAgICAgICBjb2RlOiBcInJlcXVlc3RfY2Fubm90X2JlX21hZGVcIixcclxuICAgICAgICBkZXNjOiBcIlRva2VuIHJlcXVlc3QgY2Fubm90IGJlIG1hZGUgd2l0aG91dCBhdXRob3JpemF0aW9uIGNvZGUgb3IgcmVmcmVzaCB0b2tlbi5cIlxyXG4gICAgfSxcclxuICAgIGFwcGVuZEVtcHR5U2NvcGVFcnJvcjoge1xyXG4gICAgICAgIGNvZGU6IFwiY2Fubm90X2FwcGVuZF9lbXB0eV9zY29wZVwiLFxyXG4gICAgICAgIGRlc2M6IFwiQ2Fubm90IGFwcGVuZCBudWxsIG9yIGVtcHR5IHNjb3BlIHRvIFNjb3BlU2V0LiBQbGVhc2UgY2hlY2sgdGhlIHN0YWNrIHRyYWNlIGZvciBtb3JlIGluZm8uXCJcclxuICAgIH0sXHJcbiAgICByZW1vdmVFbXB0eVNjb3BlRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBcImNhbm5vdF9yZW1vdmVfZW1wdHlfc2NvcGVcIixcclxuICAgICAgICBkZXNjOiBcIkNhbm5vdCByZW1vdmUgbnVsbCBvciBlbXB0eSBzY29wZSBmcm9tIFNjb3BlU2V0LiBQbGVhc2UgY2hlY2sgdGhlIHN0YWNrIHRyYWNlIGZvciBtb3JlIGluZm8uXCJcclxuICAgIH0sXHJcbiAgICBhcHBlbmRTY29wZVNldEVycm9yOiB7XHJcbiAgICAgICAgY29kZTogXCJjYW5ub3RfYXBwZW5kX3Njb3Blc2V0XCIsXHJcbiAgICAgICAgZGVzYzogXCJDYW5ub3QgYXBwZW5kIFNjb3BlU2V0IGR1ZSB0byBlcnJvci5cIlxyXG4gICAgfSxcclxuICAgIGVtcHR5SW5wdXRTY29wZVNldEVycm9yOiB7XHJcbiAgICAgICAgY29kZTogXCJlbXB0eV9pbnB1dF9zY29wZXNldFwiLFxyXG4gICAgICAgIGRlc2M6IFwiRW1wdHkgaW5wdXQgU2NvcGVTZXQgY2Fubm90IGJlIHByb2Nlc3NlZC5cIlxyXG4gICAgfSxcclxuICAgIERldmljZUNvZGVQb2xsaW5nQ2FuY2VsbGVkOiB7XHJcbiAgICAgICAgY29kZTogXCJkZXZpY2VfY29kZV9wb2xsaW5nX2NhbmNlbGxlZFwiLFxyXG4gICAgICAgIGRlc2M6IFwiQ2FsbGVyIGhhcyBjYW5jZWxsZWQgdG9rZW4gZW5kcG9pbnQgcG9sbGluZyBkdXJpbmcgZGV2aWNlIGNvZGUgZmxvdyBieSBzZXR0aW5nIERldmljZUNvZGVSZXF1ZXN0LmNhbmNlbCA9IHRydWUuXCJcclxuICAgIH0sXHJcbiAgICBEZXZpY2VDb2RlRXhwaXJlZDoge1xyXG4gICAgICAgIGNvZGU6IFwiZGV2aWNlX2NvZGVfZXhwaXJlZFwiLFxyXG4gICAgICAgIGRlc2M6IFwiRGV2aWNlIGNvZGUgaXMgZXhwaXJlZC5cIlxyXG4gICAgfSxcclxuICAgIERldmljZUNvZGVVbmtub3duRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBcImRldmljZV9jb2RlX3Vua25vd25fZXJyb3JcIixcclxuICAgICAgICBkZXNjOiBcIkRldmljZSBjb2RlIHN0b3BwZWQgcG9sbGluZyBmb3IgdW5rbm93biByZWFzb25zLlwiXHJcbiAgICB9LFxyXG4gICAgTm9BY2NvdW50SW5TaWxlbnRSZXF1ZXN0OiB7XHJcbiAgICAgICAgY29kZTogXCJub19hY2NvdW50X2luX3NpbGVudF9yZXF1ZXN0XCIsXHJcbiAgICAgICAgZGVzYzogXCJQbGVhc2UgcGFzcyBhbiBhY2NvdW50IG9iamVjdCwgc2lsZW50IGZsb3cgaXMgbm90IHN1cHBvcnRlZCB3aXRob3V0IGFjY291bnQgaW5mb3JtYXRpb25cIlxyXG4gICAgfSxcclxuICAgIGludmFsaWRDYWNoZVJlY29yZDoge1xyXG4gICAgICAgIGNvZGU6IFwiaW52YWxpZF9jYWNoZV9yZWNvcmRcIixcclxuICAgICAgICBkZXNjOiBcIkNhY2hlIHJlY29yZCBvYmplY3Qgd2FzIG51bGwgb3IgdW5kZWZpbmVkLlwiXHJcbiAgICB9LFxyXG4gICAgaW52YWxpZENhY2hlRW52aXJvbm1lbnQ6IHtcclxuICAgICAgICBjb2RlOiBcImludmFsaWRfY2FjaGVfZW52aXJvbm1lbnRcIixcclxuICAgICAgICBkZXNjOiBcIkludmFsaWQgZW52aXJvbm1lbnQgd2hlbiBhdHRlbXB0aW5nIHRvIGNyZWF0ZSBjYWNoZSBlbnRyeVwiXHJcbiAgICB9LFxyXG4gICAgbm9BY2NvdW50Rm91bmQ6IHtcclxuICAgICAgICBjb2RlOiBcIm5vX2FjY291bnRfZm91bmRcIixcclxuICAgICAgICBkZXNjOiBcIk5vIGFjY291bnQgZm91bmQgaW4gY2FjaGUgZm9yIGdpdmVuIGtleS5cIlxyXG4gICAgfSxcclxuICAgIENhY2hlUGx1Z2luRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBcIm5vIGNhY2hlIHBsdWdpbiBzZXQgb24gQ2FjaGVNYW5hZ2VyXCIsXHJcbiAgICAgICAgZGVzYzogXCJJQ2FjaGVQbHVnaW4gbmVlZHMgdG8gYmUgc2V0IGJlZm9yZSB1c2luZyByZWFkRnJvbVN0b3JhZ2Ugb3Igd3JpdGVGcm9tU3RvcmFnZVwiXHJcbiAgICB9LFxyXG4gICAgbm9DcnlwdG9PYmo6IHtcclxuICAgICAgICBjb2RlOiBcIm5vX2NyeXB0b19vYmplY3RcIixcclxuICAgICAgICBkZXNjOiBcIk5vIGNyeXB0byBvYmplY3QgZGV0ZWN0ZWQuIFRoaXMgaXMgcmVxdWlyZWQgZm9yIHRoZSBmb2xsb3dpbmcgb3BlcmF0aW9uOiBcIlxyXG4gICAgfSxcclxuICAgIGludmFsaWRDYWNoZVR5cGU6IHtcclxuICAgICAgICBjb2RlOiBcImludmFsaWRfY2FjaGVfdHlwZVwiLFxyXG4gICAgICAgIGRlc2M6IFwiSW52YWxpZCBjYWNoZSB0eXBlXCJcclxuICAgIH0sXHJcbiAgICB1bmV4cGVjdGVkQWNjb3VudFR5cGU6IHtcclxuICAgICAgICBjb2RlOiBcInVuZXhwZWN0ZWRfYWNjb3VudF90eXBlXCIsXHJcbiAgICAgICAgZGVzYzogXCJVbmV4cGVjdGVkIGFjY291bnQgdHlwZS5cIlxyXG4gICAgfSxcclxuICAgIHVuZXhwZWN0ZWRDcmVkZW50aWFsVHlwZToge1xyXG4gICAgICAgIGNvZGU6IFwidW5leHBlY3RlZF9jcmVkZW50aWFsX3R5cGVcIixcclxuICAgICAgICBkZXNjOiBcIlVuZXhwZWN0ZWQgY3JlZGVudGlhbCB0eXBlLlwiXHJcbiAgICB9LFxyXG4gICAgaW52YWxpZEFzc2VydGlvbjoge1xyXG4gICAgICAgIGNvZGU6IFwiaW52YWxpZF9hc3NlcnRpb25cIixcclxuICAgICAgICBkZXNjOiBcIkNsaWVudCBhc3NlcnRpb24gbXVzdCBtZWV0IHJlcXVpcmVtZW50cyBkZXNjcmliZWQgaW4gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzc1MTVcIlxyXG4gICAgfSxcclxuICAgIGludmFsaWRDbGllbnRDcmVkZW50aWFsOiB7XHJcbiAgICAgICAgY29kZTogXCJpbnZhbGlkX2NsaWVudF9jcmVkZW50aWFsXCIsXHJcbiAgICAgICAgZGVzYzogXCJDbGllbnQgY3JlZGVudGlhbCAoc2VjcmV0LCBjZXJ0aWZpY2F0ZSwgb3IgYXNzZXJ0aW9uKSBtdXN0IG5vdCBiZSBlbXB0eSB3aGVuIGNyZWF0aW5nIGEgY29uZmlkZW50aWFsIGNsaWVudC4gQW4gYXBwbGljYXRpb24gc2hvdWxkIGF0IG1vc3QgaGF2ZSBvbmUgY3JlZGVudGlhbFwiXHJcbiAgICB9LFxyXG4gICAgdG9rZW5SZWZyZXNoUmVxdWlyZWQ6IHtcclxuICAgICAgICBjb2RlOiBcInRva2VuX3JlZnJlc2hfcmVxdWlyZWRcIixcclxuICAgICAgICBkZXNjOiBcIkNhbm5vdCByZXR1cm4gdG9rZW4gZnJvbSBjYWNoZSBiZWNhdXNlIGl0IG11c3QgYmUgcmVmcmVzaGVkLiBUaGlzIG1heSBiZSBkdWUgdG8gb25lIG9mIHRoZSBmb2xsb3dpbmcgcmVhc29uczogZm9yY2VSZWZyZXNoIHBhcmFtZXRlciBpcyBzZXQgdG8gdHJ1ZSwgY2xhaW1zIGhhdmUgYmVlbiByZXF1ZXN0ZWQsIHRoZXJlIGlzIG5vIGNhY2hlZCBhY2Nlc3MgdG9rZW4gb3IgaXQgaXMgZXhwaXJlZC5cIlxyXG4gICAgfSxcclxuICAgIHVzZXJUaW1lb3V0UmVhY2hlZDoge1xyXG4gICAgICAgIGNvZGU6IFwidXNlcl90aW1lb3V0X3JlYWNoZWRcIixcclxuICAgICAgICBkZXNjOiBcIlVzZXIgZGVmaW5lZCB0aW1lb3V0IGZvciBkZXZpY2UgY29kZSBwb2xsaW5nIHJlYWNoZWRcIixcclxuICAgIH0sXHJcbiAgICB0b2tlbkNsYWltc1JlcXVpcmVkOiB7XHJcbiAgICAgICAgY29kZTogXCJ0b2tlbl9jbGFpbXNfY25mX3JlcXVpcmVkX2Zvcl9zaWduZWRqd3RcIixcclxuICAgICAgICBkZXNjOiBcIkNhbm5vdCBnZW5lcmF0ZSBhIFBPUCBqd3QgaWYgdGhlIHRva2VuX2NsYWltcyBhcmUgbm90IHBvcHVsYXRlZFwiXHJcbiAgICB9LFxyXG4gICAgbm9BdXRob3JpemF0aW9uQ29kZUZyb21TZXJ2ZXI6IHtcclxuICAgICAgICBjb2RlOiBcImF1dGhvcml6YXRpb25fY29kZV9taXNzaW5nX2Zyb21fc2VydmVyX3Jlc3BvbnNlXCIsXHJcbiAgICAgICAgZGVzYzogXCJTZXJ2ZXIgcmVzcG9uc2UgZG9lcyBub3QgY29udGFpbiBhbiBhdXRob3JpemF0aW9uIGNvZGUgdG8gcHJvY2VlZFwiXHJcbiAgICB9LFxyXG4gICAgbm9BenVyZVJlZ2lvbkRldGVjdGVkOiB7XHJcbiAgICAgICAgY29kZTogXCJub19henVyZV9yZWdpb25fZGV0ZWN0ZWRcIixcclxuICAgICAgICBkZXNjOiBcIk5vIGF6dXJlIHJlZ2lvbiB3YXMgZGV0ZWN0ZWQgYW5kIG5vIGZhbGxiYWNrIHdhcyBtYWRlIGF2YWlsYWJsZVwiXHJcbiAgICB9LFxyXG4gICAgYWNjZXNzVG9rZW5FbnRpdHlOdWxsRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBcImFjY2Vzc190b2tlbl9lbnRpdHlfbnVsbFwiLFxyXG4gICAgICAgIGRlc2M6IFwiQWNjZXNzIHRva2VuIGVudGl0eSBpcyBudWxsLCBwbGVhc2UgY2hlY2sgbG9ncyBhbmQgY2FjaGUgdG8gZW5zdXJlIGEgdmFsaWQgYWNjZXNzIHRva2VuIGlzIHByZXNlbnQuXCJcclxuICAgIH0sXHJcbiAgICBiaW5kaW5nS2V5Tm90UmVtb3ZlZEVycm9yOiB7XHJcbiAgICAgICAgY29kZTogXCJiaW5kaW5nX2tleV9ub3RfcmVtb3ZlZFwiLFxyXG4gICAgICAgIGRlc2M6IFwiQ291bGQgbm90IHJlbW92ZSB0aGUgY3JlZGVudGlhbCdzIGJpbmRpbmcga2V5IGZyb20gc3RvcmFnZS5cIlxyXG4gICAgfSxcclxuICAgIGxvZ291dE5vdFN1cHBvcnRlZDoge1xyXG4gICAgICAgIGNvZGU6IFwiZW5kX3Nlc3Npb25fZW5kcG9pbnRfbm90X3N1cHBvcnRlZFwiLFxyXG4gICAgICAgIGRlc2M6IFwiUHJvdmlkZWQgYXV0aG9yaXR5IGRvZXMgbm90IHN1cHBvcnQgbG9nb3V0LlwiXHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBFcnJvciB0aHJvd24gd2hlbiB0aGVyZSBpcyBhbiBlcnJvciBpbiB0aGUgY2xpZW50IGNvZGUgcnVubmluZyBvbiB0aGUgYnJvd3Nlci5cclxuICovXHJcbnZhciBDbGllbnRBdXRoRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQ2xpZW50QXV0aEVycm9yLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQ2xpZW50QXV0aEVycm9yKGVycm9yQ29kZSwgZXJyb3JNZXNzYWdlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZXJyb3JDb2RlLCBlcnJvck1lc3NhZ2UpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMubmFtZSA9IFwiQ2xpZW50QXV0aEVycm9yXCI7XHJcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKF90aGlzLCBDbGllbnRBdXRoRXJyb3IucHJvdG90eXBlKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gZXJyb3IgdGhyb3duIHdoZW4gY2xpZW50IGluZm8gb2JqZWN0IGRvZXNuJ3QgZGVjb2RlIGNvcnJlY3RseS5cclxuICAgICAqIEBwYXJhbSBjYXVnaHRFcnJvclxyXG4gICAgICovXHJcbiAgICBDbGllbnRBdXRoRXJyb3IuY3JlYXRlQ2xpZW50SW5mb0RlY29kaW5nRXJyb3IgPSBmdW5jdGlvbiAoY2F1Z2h0RXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudEF1dGhFcnJvcihDbGllbnRBdXRoRXJyb3JNZXNzYWdlLmNsaWVudEluZm9EZWNvZGluZ0Vycm9yLmNvZGUsIENsaWVudEF1dGhFcnJvck1lc3NhZ2UuY2xpZW50SW5mb0RlY29kaW5nRXJyb3IuZGVzYyArIFwiIEZhaWxlZCB3aXRoIGVycm9yOiBcIiArIGNhdWdodEVycm9yKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gZXJyb3IgdGhyb3duIGlmIHRoZSBjbGllbnQgaW5mbyBpcyBlbXB0eS5cclxuICAgICAqIEBwYXJhbSByYXdDbGllbnRJbmZvXHJcbiAgICAgKi9cclxuICAgIENsaWVudEF1dGhFcnJvci5jcmVhdGVDbGllbnRJbmZvRW1wdHlFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudEF1dGhFcnJvcihDbGllbnRBdXRoRXJyb3JNZXNzYWdlLmNsaWVudEluZm9FbXB0eUVycm9yLmNvZGUsIFwiXCIgKyBDbGllbnRBdXRoRXJyb3JNZXNzYWdlLmNsaWVudEluZm9FbXB0eUVycm9yLmRlc2MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBlcnJvciB0aHJvd24gd2hlbiB0aGUgaWQgdG9rZW4gZXh0cmFjdGlvbiBlcnJvcnMgb3V0LlxyXG4gICAgICogQHBhcmFtIGVyclxyXG4gICAgICovXHJcbiAgICBDbGllbnRBdXRoRXJyb3IuY3JlYXRlVG9rZW5QYXJzaW5nRXJyb3IgPSBmdW5jdGlvbiAoY2F1Z2h0RXh0cmFjdGlvbkVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRBdXRoRXJyb3IoQ2xpZW50QXV0aEVycm9yTWVzc2FnZS50b2tlblBhcnNpbmdFcnJvci5jb2RlLCBDbGllbnRBdXRoRXJyb3JNZXNzYWdlLnRva2VuUGFyc2luZ0Vycm9yLmRlc2MgKyBcIiBGYWlsZWQgd2l0aCBlcnJvcjogXCIgKyBjYXVnaHRFeHRyYWN0aW9uRXJyb3IpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBlcnJvciB0aHJvd24gd2hlbiB0aGUgaWQgdG9rZW4gc3RyaW5nIGlzIG51bGwgb3IgZW1wdHkuXHJcbiAgICAgKiBAcGFyYW0gaW52YWxpZFJhd1Rva2VuU3RyaW5nXHJcbiAgICAgKi9cclxuICAgIENsaWVudEF1dGhFcnJvci5jcmVhdGVUb2tlbk51bGxPckVtcHR5RXJyb3IgPSBmdW5jdGlvbiAoaW52YWxpZFJhd1Rva2VuU3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRBdXRoRXJyb3IoQ2xpZW50QXV0aEVycm9yTWVzc2FnZS5udWxsT3JFbXB0eVRva2VuLmNvZGUsIENsaWVudEF1dGhFcnJvck1lc3NhZ2UubnVsbE9yRW1wdHlUb2tlbi5kZXNjICsgXCIgUmF3IFRva2VuIFZhbHVlOiBcIiArIGludmFsaWRSYXdUb2tlblN0cmluZyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIGVycm9yIHRocm93biB3aGVuIHRoZSBlbmRwb2ludCBkaXNjb3ZlcnkgZG9lc24ndCBjb21wbGV0ZSBjb3JyZWN0bHkuXHJcbiAgICAgKi9cclxuICAgIENsaWVudEF1dGhFcnJvci5jcmVhdGVFbmRwb2ludERpc2NvdmVyeUluY29tcGxldGVFcnJvciA9IGZ1bmN0aW9uIChlcnJEZXRhaWwpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudEF1dGhFcnJvcihDbGllbnRBdXRoRXJyb3JNZXNzYWdlLmVuZHBvaW50UmVzb2x1dGlvbkVycm9yLmNvZGUsIENsaWVudEF1dGhFcnJvck1lc3NhZ2UuZW5kcG9pbnRSZXNvbHV0aW9uRXJyb3IuZGVzYyArIFwiIERldGFpbDogXCIgKyBlcnJEZXRhaWwpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBlcnJvciB0aHJvd24gd2hlbiB0aGUgZmV0Y2ggY2xpZW50IHRocm93c1xyXG4gICAgICovXHJcbiAgICBDbGllbnRBdXRoRXJyb3IuY3JlYXRlTmV0d29ya0Vycm9yID0gZnVuY3Rpb24gKGVuZHBvaW50LCBlcnJEZXRhaWwpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudEF1dGhFcnJvcihDbGllbnRBdXRoRXJyb3JNZXNzYWdlLm5ldHdvcmtFcnJvci5jb2RlLCBDbGllbnRBdXRoRXJyb3JNZXNzYWdlLm5ldHdvcmtFcnJvci5kZXNjICsgXCIgfCBGZXRjaCBjbGllbnQgdGhyZXc6IFwiICsgZXJyRGV0YWlsICsgXCIgfCBBdHRlbXB0ZWQgdG8gcmVhY2g6IFwiICsgZW5kcG9pbnQuc3BsaXQoXCI/XCIpWzBdKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gZXJyb3IgdGhyb3duIHdoZW4gdGhlIG9wZW5pZC1jb25maWd1cmF0aW9uIGVuZHBvaW50IGNhbm5vdCBiZSByZWFjaGVkIG9yIGRvZXMgbm90IGNvbnRhaW4gdGhlIHJlcXVpcmVkIGRhdGFcclxuICAgICAqL1xyXG4gICAgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZVVuYWJsZVRvR2V0T3BlbmlkQ29uZmlnRXJyb3IgPSBmdW5jdGlvbiAoZXJyRGV0YWlsKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRBdXRoRXJyb3IoQ2xpZW50QXV0aEVycm9yTWVzc2FnZS51bmFibGVUb0dldE9wZW5pZENvbmZpZ0Vycm9yLmNvZGUsIENsaWVudEF1dGhFcnJvck1lc3NhZ2UudW5hYmxlVG9HZXRPcGVuaWRDb25maWdFcnJvci5kZXNjICsgXCIgQXR0ZW1wdGVkIHRvIHJldHJpZXZlIGVuZHBvaW50cyBmcm9tOiBcIiArIGVyckRldGFpbCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIGVycm9yIHRocm93biB3aGVuIHRoZSBoYXNoIGNhbm5vdCBiZSBkZXNlcmlhbGl6ZWQuXHJcbiAgICAgKiBAcGFyYW0gaGFzaFBhcmFtT2JqXHJcbiAgICAgKi9cclxuICAgIENsaWVudEF1dGhFcnJvci5jcmVhdGVIYXNoTm90RGVzZXJpYWxpemVkRXJyb3IgPSBmdW5jdGlvbiAoaGFzaFBhcmFtT2JqKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRBdXRoRXJyb3IoQ2xpZW50QXV0aEVycm9yTWVzc2FnZS5oYXNoTm90RGVzZXJpYWxpemVkLmNvZGUsIENsaWVudEF1dGhFcnJvck1lc3NhZ2UuaGFzaE5vdERlc2VyaWFsaXplZC5kZXNjICsgXCIgR2l2ZW4gT2JqZWN0OiBcIiArIGhhc2hQYXJhbU9iaik7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIGVycm9yIHRocm93biB3aGVuIHRoZSBzdGF0ZSBjYW5ub3QgYmUgcGFyc2VkLlxyXG4gICAgICogQHBhcmFtIGludmFsaWRTdGF0ZVxyXG4gICAgICovXHJcbiAgICBDbGllbnRBdXRoRXJyb3IuY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IgPSBmdW5jdGlvbiAoaW52YWxpZFN0YXRlLCBlcnJvclN0cmluZykge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2xpZW50QXV0aEVycm9yKENsaWVudEF1dGhFcnJvck1lc3NhZ2UuaW52YWxpZFN0YXRlRXJyb3IuY29kZSwgQ2xpZW50QXV0aEVycm9yTWVzc2FnZS5pbnZhbGlkU3RhdGVFcnJvci5kZXNjICsgXCIgSW52YWxpZCBTdGF0ZTogXCIgKyBpbnZhbGlkU3RhdGUgKyBcIiwgUm9vdCBFcnI6IFwiICsgZXJyb3JTdHJpbmcpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBlcnJvciB0aHJvd24gd2hlbiB0d28gc3RhdGVzIGRvIG5vdCBtYXRjaC5cclxuICAgICAqL1xyXG4gICAgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZVN0YXRlTWlzbWF0Y2hFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudEF1dGhFcnJvcihDbGllbnRBdXRoRXJyb3JNZXNzYWdlLnN0YXRlTWlzbWF0Y2hFcnJvci5jb2RlLCBDbGllbnRBdXRoRXJyb3JNZXNzYWdlLnN0YXRlTWlzbWF0Y2hFcnJvci5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gZXJyb3IgdGhyb3duIHdoZW4gdGhlIHN0YXRlIGlzIG5vdCBwcmVzZW50XHJcbiAgICAgKiBAcGFyYW0gbWlzc2luZ1N0YXRlXHJcbiAgICAgKi9cclxuICAgIENsaWVudEF1dGhFcnJvci5jcmVhdGVTdGF0ZU5vdEZvdW5kRXJyb3IgPSBmdW5jdGlvbiAobWlzc2luZ1N0YXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRBdXRoRXJyb3IoQ2xpZW50QXV0aEVycm9yTWVzc2FnZS5zdGF0ZU5vdEZvdW5kRXJyb3IuY29kZSwgQ2xpZW50QXV0aEVycm9yTWVzc2FnZS5zdGF0ZU5vdEZvdW5kRXJyb3IuZGVzYyArIFwiOiAgXCIgKyBtaXNzaW5nU3RhdGUpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBlcnJvciB0aHJvd24gd2hlbiB0aGUgbm9uY2UgZG9lcyBub3QgbWF0Y2guXHJcbiAgICAgKi9cclxuICAgIENsaWVudEF1dGhFcnJvci5jcmVhdGVOb25jZU1pc21hdGNoRXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRBdXRoRXJyb3IoQ2xpZW50QXV0aEVycm9yTWVzc2FnZS5ub25jZU1pc21hdGNoRXJyb3IuY29kZSwgQ2xpZW50QXV0aEVycm9yTWVzc2FnZS5ub25jZU1pc21hdGNoRXJyb3IuZGVzYyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIGVycm9yIHRocm93biB3aGVuIHRoZSBtbm9uY2UgaXMgbm90IHByZXNlbnRcclxuICAgICAqIEBwYXJhbSBtaXNzaW5nTm9uY2VcclxuICAgICAqL1xyXG4gICAgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZU5vbmNlTm90Rm91bmRFcnJvciA9IGZ1bmN0aW9uIChtaXNzaW5nTm9uY2UpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudEF1dGhFcnJvcihDbGllbnRBdXRoRXJyb3JNZXNzYWdlLm5vbmNlTm90Rm91bmRFcnJvci5jb2RlLCBDbGllbnRBdXRoRXJyb3JNZXNzYWdlLm5vbmNlTm90Rm91bmRFcnJvci5kZXNjICsgXCI6ICBcIiArIG1pc3NpbmdOb25jZSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaHJvd3MgZXJyb3Igd2hlbiBtdWx0aXBsZSB0b2tlbnMgYXJlIGluIGNhY2hlLlxyXG4gICAgICovXHJcbiAgICBDbGllbnRBdXRoRXJyb3IuY3JlYXRlTXVsdGlwbGVNYXRjaGluZ1Rva2Vuc0luQ2FjaGVFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudEF1dGhFcnJvcihDbGllbnRBdXRoRXJyb3JNZXNzYWdlLm11bHRpcGxlTWF0Y2hpbmdUb2tlbnMuY29kZSwgQ2xpZW50QXV0aEVycm9yTWVzc2FnZS5tdWx0aXBsZU1hdGNoaW5nVG9rZW5zLmRlc2MgKyBcIi5cIik7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaHJvd3MgZXJyb3Igd2hlbiBtdWx0aXBsZSBhY2NvdW50cyBhcmUgaW4gY2FjaGUgZm9yIHRoZSBnaXZlbiBwYXJhbXNcclxuICAgICAqL1xyXG4gICAgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZU11bHRpcGxlTWF0Y2hpbmdBY2NvdW50c0luQ2FjaGVFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudEF1dGhFcnJvcihDbGllbnRBdXRoRXJyb3JNZXNzYWdlLm11bHRpcGxlTWF0Y2hpbmdBY2NvdW50cy5jb2RlLCBDbGllbnRBdXRoRXJyb3JNZXNzYWdlLm11bHRpcGxlTWF0Y2hpbmdBY2NvdW50cy5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRocm93cyBlcnJvciB3aGVuIG11bHRpcGxlIGFwcE1ldGFkYSBhcmUgaW4gY2FjaGUgZm9yIHRoZSBnaXZlbiBjbGllbnRJZC5cclxuICAgICAqL1xyXG4gICAgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZU11bHRpcGxlTWF0Y2hpbmdBcHBNZXRhZGF0YUluQ2FjaGVFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudEF1dGhFcnJvcihDbGllbnRBdXRoRXJyb3JNZXNzYWdlLm11bHRpcGxlTWF0Y2hpbmdBcHBNZXRhZGF0YS5jb2RlLCBDbGllbnRBdXRoRXJyb3JNZXNzYWdlLm11bHRpcGxlTWF0Y2hpbmdBcHBNZXRhZGF0YS5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRocm93cyBlcnJvciB3aGVuIG5vIGF1dGggY29kZSBvciByZWZyZXNoIHRva2VuIGlzIGdpdmVuIHRvIFNlcnZlclRva2VuUmVxdWVzdFBhcmFtZXRlcnMuXHJcbiAgICAgKi9cclxuICAgIENsaWVudEF1dGhFcnJvci5jcmVhdGVUb2tlblJlcXVlc3RDYW5ub3RCZU1hZGVFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudEF1dGhFcnJvcihDbGllbnRBdXRoRXJyb3JNZXNzYWdlLnRva2VuUmVxdWVzdENhbm5vdEJlTWFkZS5jb2RlLCBDbGllbnRBdXRoRXJyb3JNZXNzYWdlLnRva2VuUmVxdWVzdENhbm5vdEJlTWFkZS5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRocm93cyBlcnJvciB3aGVuIGF0dGVtcHRpbmcgdG8gYXBwZW5kIGEgbnVsbCwgdW5kZWZpbmVkIG9yIGVtcHR5IHNjb3BlIHRvIGEgc2V0XHJcbiAgICAgKiBAcGFyYW0gZ2l2ZW5TY29wZVxyXG4gICAgICovXHJcbiAgICBDbGllbnRBdXRoRXJyb3IuY3JlYXRlQXBwZW5kRW1wdHlTY29wZVRvU2V0RXJyb3IgPSBmdW5jdGlvbiAoZ2l2ZW5TY29wZSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2xpZW50QXV0aEVycm9yKENsaWVudEF1dGhFcnJvck1lc3NhZ2UuYXBwZW5kRW1wdHlTY29wZUVycm9yLmNvZGUsIENsaWVudEF1dGhFcnJvck1lc3NhZ2UuYXBwZW5kRW1wdHlTY29wZUVycm9yLmRlc2MgKyBcIiBHaXZlbiBTY29wZTogXCIgKyBnaXZlblNjb3BlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRocm93cyBlcnJvciB3aGVuIGF0dGVtcHRpbmcgdG8gYXBwZW5kIGEgbnVsbCwgdW5kZWZpbmVkIG9yIGVtcHR5IHNjb3BlIHRvIGEgc2V0XHJcbiAgICAgKiBAcGFyYW0gZ2l2ZW5TY29wZVxyXG4gICAgICovXHJcbiAgICBDbGllbnRBdXRoRXJyb3IuY3JlYXRlUmVtb3ZlRW1wdHlTY29wZUZyb21TZXRFcnJvciA9IGZ1bmN0aW9uIChnaXZlblNjb3BlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRBdXRoRXJyb3IoQ2xpZW50QXV0aEVycm9yTWVzc2FnZS5yZW1vdmVFbXB0eVNjb3BlRXJyb3IuY29kZSwgQ2xpZW50QXV0aEVycm9yTWVzc2FnZS5yZW1vdmVFbXB0eVNjb3BlRXJyb3IuZGVzYyArIFwiIEdpdmVuIFNjb3BlOiBcIiArIGdpdmVuU2NvcGUpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGhyb3dzIGVycm9yIHdoZW4gYXR0ZW1wdGluZyB0byBhcHBlbmQgbnVsbCBvciBlbXB0eSBTY29wZVNldC5cclxuICAgICAqIEBwYXJhbSBhcHBlbmRFcnJvclxyXG4gICAgICovXHJcbiAgICBDbGllbnRBdXRoRXJyb3IuY3JlYXRlQXBwZW5kU2NvcGVTZXRFcnJvciA9IGZ1bmN0aW9uIChhcHBlbmRFcnJvcikge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2xpZW50QXV0aEVycm9yKENsaWVudEF1dGhFcnJvck1lc3NhZ2UuYXBwZW5kU2NvcGVTZXRFcnJvci5jb2RlLCBDbGllbnRBdXRoRXJyb3JNZXNzYWdlLmFwcGVuZFNjb3BlU2V0RXJyb3IuZGVzYyArIFwiIERldGFpbCBFcnJvcjogXCIgKyBhcHBlbmRFcnJvcik7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaHJvd3MgZXJyb3IgaWYgU2NvcGVTZXQgaXMgbnVsbCBvciB1bmRlZmluZWQuXHJcbiAgICAgKiBAcGFyYW0gZ2l2ZW5TY29wZVNldFxyXG4gICAgICovXHJcbiAgICBDbGllbnRBdXRoRXJyb3IuY3JlYXRlRW1wdHlJbnB1dFNjb3BlU2V0RXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRBdXRoRXJyb3IoQ2xpZW50QXV0aEVycm9yTWVzc2FnZS5lbXB0eUlucHV0U2NvcGVTZXRFcnJvci5jb2RlLCBcIlwiICsgQ2xpZW50QXV0aEVycm9yTWVzc2FnZS5lbXB0eUlucHV0U2NvcGVTZXRFcnJvci5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRocm93cyBlcnJvciBpZiB1c2VyIHNldHMgQ2FuY2VsbGF0aW9uVG9rZW4uY2FuY2VsID0gdHJ1ZSBkdXJpbmcgcG9sbGluZyBvZiB0b2tlbiBlbmRwb2ludCBkdXJpbmcgZGV2aWNlIGNvZGUgZmxvd1xyXG4gICAgICovXHJcbiAgICBDbGllbnRBdXRoRXJyb3IuY3JlYXRlRGV2aWNlQ29kZUNhbmNlbGxlZEVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2xpZW50QXV0aEVycm9yKENsaWVudEF1dGhFcnJvck1lc3NhZ2UuRGV2aWNlQ29kZVBvbGxpbmdDYW5jZWxsZWQuY29kZSwgXCJcIiArIENsaWVudEF1dGhFcnJvck1lc3NhZ2UuRGV2aWNlQ29kZVBvbGxpbmdDYW5jZWxsZWQuZGVzYyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaHJvd3MgZXJyb3IgaWYgZGV2aWNlIGNvZGUgaXMgZXhwaXJlZFxyXG4gICAgICovXHJcbiAgICBDbGllbnRBdXRoRXJyb3IuY3JlYXRlRGV2aWNlQ29kZUV4cGlyZWRFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudEF1dGhFcnJvcihDbGllbnRBdXRoRXJyb3JNZXNzYWdlLkRldmljZUNvZGVFeHBpcmVkLmNvZGUsIFwiXCIgKyBDbGllbnRBdXRoRXJyb3JNZXNzYWdlLkRldmljZUNvZGVFeHBpcmVkLmRlc2MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGhyb3dzIGVycm9yIGlmIGRldmljZSBjb2RlIGlzIGV4cGlyZWRcclxuICAgICAqL1xyXG4gICAgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZURldmljZUNvZGVVbmtub3duRXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRBdXRoRXJyb3IoQ2xpZW50QXV0aEVycm9yTWVzc2FnZS5EZXZpY2VDb2RlVW5rbm93bkVycm9yLmNvZGUsIFwiXCIgKyBDbGllbnRBdXRoRXJyb3JNZXNzYWdlLkRldmljZUNvZGVVbmtub3duRXJyb3IuZGVzYyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaHJvd3MgZXJyb3Igd2hlbiBzaWxlbnQgcmVxdWVzdHMgYXJlIG1hZGUgd2l0aG91dCBhbiBhY2NvdW50IG9iamVjdFxyXG4gICAgICovXHJcbiAgICBDbGllbnRBdXRoRXJyb3IuY3JlYXRlTm9BY2NvdW50SW5TaWxlbnRSZXF1ZXN0RXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRBdXRoRXJyb3IoQ2xpZW50QXV0aEVycm9yTWVzc2FnZS5Ob0FjY291bnRJblNpbGVudFJlcXVlc3QuY29kZSwgXCJcIiArIENsaWVudEF1dGhFcnJvck1lc3NhZ2UuTm9BY2NvdW50SW5TaWxlbnRSZXF1ZXN0LmRlc2MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGhyb3dzIGVycm9yIHdoZW4gY2FjaGUgcmVjb3JkIGlzIG51bGwgb3IgdW5kZWZpbmVkLlxyXG4gICAgICovXHJcbiAgICBDbGllbnRBdXRoRXJyb3IuY3JlYXRlTnVsbE9yVW5kZWZpbmVkQ2FjaGVSZWNvcmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRBdXRoRXJyb3IoQ2xpZW50QXV0aEVycm9yTWVzc2FnZS5pbnZhbGlkQ2FjaGVSZWNvcmQuY29kZSwgQ2xpZW50QXV0aEVycm9yTWVzc2FnZS5pbnZhbGlkQ2FjaGVSZWNvcmQuZGVzYyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaHJvd3MgZXJyb3Igd2hlbiBwcm92aWRlZCBlbnZpcm9ubWVudCBpcyBub3QgcGFydCBvZiB0aGUgQ2xvdWREaXNjb3ZlcnlNZXRhZGF0YSBvYmplY3RcclxuICAgICAqL1xyXG4gICAgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZUludmFsaWRDYWNoZUVudmlyb25tZW50RXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRBdXRoRXJyb3IoQ2xpZW50QXV0aEVycm9yTWVzc2FnZS5pbnZhbGlkQ2FjaGVFbnZpcm9ubWVudC5jb2RlLCBDbGllbnRBdXRoRXJyb3JNZXNzYWdlLmludmFsaWRDYWNoZUVudmlyb25tZW50LmRlc2MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGhyb3dzIGVycm9yIHdoZW4gYWNjb3VudCBpcyBub3QgZm91bmQgaW4gY2FjaGUuXHJcbiAgICAgKi9cclxuICAgIENsaWVudEF1dGhFcnJvci5jcmVhdGVOb0FjY291bnRGb3VuZEVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2xpZW50QXV0aEVycm9yKENsaWVudEF1dGhFcnJvck1lc3NhZ2Uubm9BY2NvdW50Rm91bmQuY29kZSwgQ2xpZW50QXV0aEVycm9yTWVzc2FnZS5ub0FjY291bnRGb3VuZC5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRocm93cyBlcnJvciBpZiBJQ2FjaGVQbHVnaW4gbm90IHNldCBvbiBDYWNoZU1hbmFnZXIuXHJcbiAgICAgKi9cclxuICAgIENsaWVudEF1dGhFcnJvci5jcmVhdGVDYWNoZVBsdWdpbkVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2xpZW50QXV0aEVycm9yKENsaWVudEF1dGhFcnJvck1lc3NhZ2UuQ2FjaGVQbHVnaW5FcnJvci5jb2RlLCBcIlwiICsgQ2xpZW50QXV0aEVycm9yTWVzc2FnZS5DYWNoZVBsdWdpbkVycm9yLmRlc2MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGhyb3dzIGVycm9yIGlmIGNyeXB0byBvYmplY3Qgbm90IGZvdW5kLlxyXG4gICAgICogQHBhcmFtIG9wZXJhdGlvbk5hbWVcclxuICAgICAqL1xyXG4gICAgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZU5vQ3J5cHRvT2JqZWN0RXJyb3IgPSBmdW5jdGlvbiAob3BlcmF0aW9uTmFtZSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2xpZW50QXV0aEVycm9yKENsaWVudEF1dGhFcnJvck1lc3NhZ2Uubm9DcnlwdG9PYmouY29kZSwgXCJcIiArIENsaWVudEF1dGhFcnJvck1lc3NhZ2Uubm9DcnlwdG9PYmouZGVzYyArIG9wZXJhdGlvbk5hbWUpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGhyb3dzIGVycm9yIGlmIGNhY2hlIHR5cGUgaXMgaW52YWxpZC5cclxuICAgICAqL1xyXG4gICAgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZUludmFsaWRDYWNoZVR5cGVFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudEF1dGhFcnJvcihDbGllbnRBdXRoRXJyb3JNZXNzYWdlLmludmFsaWRDYWNoZVR5cGUuY29kZSwgXCJcIiArIENsaWVudEF1dGhFcnJvck1lc3NhZ2UuaW52YWxpZENhY2hlVHlwZS5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRocm93cyBlcnJvciBpZiB1bmV4cGVjdGVkIGFjY291bnQgdHlwZS5cclxuICAgICAqL1xyXG4gICAgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZVVuZXhwZWN0ZWRBY2NvdW50VHlwZUVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2xpZW50QXV0aEVycm9yKENsaWVudEF1dGhFcnJvck1lc3NhZ2UudW5leHBlY3RlZEFjY291bnRUeXBlLmNvZGUsIFwiXCIgKyBDbGllbnRBdXRoRXJyb3JNZXNzYWdlLnVuZXhwZWN0ZWRBY2NvdW50VHlwZS5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRocm93cyBlcnJvciBpZiB1bmV4cGVjdGVkIGNyZWRlbnRpYWwgdHlwZS5cclxuICAgICAqL1xyXG4gICAgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZVVuZXhwZWN0ZWRDcmVkZW50aWFsVHlwZUVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2xpZW50QXV0aEVycm9yKENsaWVudEF1dGhFcnJvck1lc3NhZ2UudW5leHBlY3RlZENyZWRlbnRpYWxUeXBlLmNvZGUsIFwiXCIgKyBDbGllbnRBdXRoRXJyb3JNZXNzYWdlLnVuZXhwZWN0ZWRDcmVkZW50aWFsVHlwZS5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRocm93cyBlcnJvciBpZiBjbGllbnQgYXNzZXJ0aW9uIGlzIG5vdCB2YWxpZC5cclxuICAgICAqL1xyXG4gICAgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZUludmFsaWRBc3NlcnRpb25FcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudEF1dGhFcnJvcihDbGllbnRBdXRoRXJyb3JNZXNzYWdlLmludmFsaWRBc3NlcnRpb24uY29kZSwgXCJcIiArIENsaWVudEF1dGhFcnJvck1lc3NhZ2UuaW52YWxpZEFzc2VydGlvbi5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRocm93cyBlcnJvciBpZiBjbGllbnQgYXNzZXJ0aW9uIGlzIG5vdCB2YWxpZC5cclxuICAgICAqL1xyXG4gICAgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZUludmFsaWRDcmVkZW50aWFsRXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRBdXRoRXJyb3IoQ2xpZW50QXV0aEVycm9yTWVzc2FnZS5pbnZhbGlkQ2xpZW50Q3JlZGVudGlhbC5jb2RlLCBcIlwiICsgQ2xpZW50QXV0aEVycm9yTWVzc2FnZS5pbnZhbGlkQ2xpZW50Q3JlZGVudGlhbC5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRocm93cyBlcnJvciBpZiB0b2tlbiBjYW5ub3QgYmUgcmV0cmlldmVkIGZyb20gY2FjaGUgZHVlIHRvIHJlZnJlc2ggYmVpbmcgcmVxdWlyZWQuXHJcbiAgICAgKi9cclxuICAgIENsaWVudEF1dGhFcnJvci5jcmVhdGVSZWZyZXNoUmVxdWlyZWRFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudEF1dGhFcnJvcihDbGllbnRBdXRoRXJyb3JNZXNzYWdlLnRva2VuUmVmcmVzaFJlcXVpcmVkLmNvZGUsIENsaWVudEF1dGhFcnJvck1lc3NhZ2UudG9rZW5SZWZyZXNoUmVxdWlyZWQuZGVzYyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaHJvd3MgZXJyb3IgaWYgdGhlIHVzZXIgZGVmaW5lZCB0aW1lb3V0IGlzIHJlYWNoZWQuXHJcbiAgICAgKi9cclxuICAgIENsaWVudEF1dGhFcnJvci5jcmVhdGVVc2VyVGltZW91dFJlYWNoZWRFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudEF1dGhFcnJvcihDbGllbnRBdXRoRXJyb3JNZXNzYWdlLnVzZXJUaW1lb3V0UmVhY2hlZC5jb2RlLCBDbGllbnRBdXRoRXJyb3JNZXNzYWdlLnVzZXJUaW1lb3V0UmVhY2hlZC5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKlxyXG4gICAgICogVGhyb3dzIGVycm9yIGlmIHRva2VuIGNsYWltcyBhcmUgbm90IHBvcHVsYXRlZCBmb3IgYSBzaWduZWQgand0IGdlbmVyYXRpb25cclxuICAgICAqL1xyXG4gICAgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZVRva2VuQ2xhaW1zUmVxdWlyZWRFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudEF1dGhFcnJvcihDbGllbnRBdXRoRXJyb3JNZXNzYWdlLnRva2VuQ2xhaW1zUmVxdWlyZWQuY29kZSwgQ2xpZW50QXV0aEVycm9yTWVzc2FnZS50b2tlbkNsYWltc1JlcXVpcmVkLmRlc2MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGhyb3dzIGVycm9yIHdoZW4gdGhlIGF1dGhvcml6YXRpb24gY29kZSBpcyBtaXNzaW5nIGZyb20gdGhlIHNlcnZlciByZXNwb25zZVxyXG4gICAgICovXHJcbiAgICBDbGllbnRBdXRoRXJyb3IuY3JlYXRlTm9BdXRoQ29kZUluU2VydmVyUmVzcG9uc2VFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudEF1dGhFcnJvcihDbGllbnRBdXRoRXJyb3JNZXNzYWdlLm5vQXV0aG9yaXphdGlvbkNvZGVGcm9tU2VydmVyLmNvZGUsIENsaWVudEF1dGhFcnJvck1lc3NhZ2Uubm9BdXRob3JpemF0aW9uQ29kZUZyb21TZXJ2ZXIuZGVzYyk7XHJcbiAgICB9O1xyXG4gICAgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZUJpbmRpbmdLZXlOb3RSZW1vdmVkRXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRBdXRoRXJyb3IoQ2xpZW50QXV0aEVycm9yTWVzc2FnZS5iaW5kaW5nS2V5Tm90UmVtb3ZlZEVycm9yLmNvZGUsIENsaWVudEF1dGhFcnJvck1lc3NhZ2UuYmluZGluZ0tleU5vdFJlbW92ZWRFcnJvci5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRocm93biB3aGVuIGxvZ291dCBpcyBhdHRlbXB0ZWQgZm9yIGFuIGF1dGhvcml0eSB0aGF0IGRvZXNudCBoYXZlIGFuIGVuZF9zZXNzaW9uX2VuZHBvaW50XHJcbiAgICAgKi9cclxuICAgIENsaWVudEF1dGhFcnJvci5jcmVhdGVMb2dvdXROb3RTdXBwb3J0ZWRFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudEF1dGhFcnJvcihDbGllbnRBdXRoRXJyb3JNZXNzYWdlLmxvZ291dE5vdFN1cHBvcnRlZC5jb2RlLCBDbGllbnRBdXRoRXJyb3JNZXNzYWdlLmxvZ291dE5vdFN1cHBvcnRlZC5kZXNjKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ2xpZW50QXV0aEVycm9yO1xyXG59KEF1dGhFcnJvcikpO1xuXG5leHBvcnQgeyBDbGllbnRBdXRoRXJyb3IsIENsaWVudEF1dGhFcnJvck1lc3NhZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNsaWVudEF1dGhFcnJvci5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjYuMS4wIDIwMjItMDItMDggKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IENsaWVudEF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0NsaWVudEF1dGhFcnJvci5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQGhpZGRlblxyXG4gKi9cclxudmFyIFN0cmluZ1V0aWxzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gU3RyaW5nVXRpbHMoKSB7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGRlY29kZSBhIEpXVFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBhdXRoVG9rZW5cclxuICAgICAqL1xyXG4gICAgU3RyaW5nVXRpbHMuZGVjb2RlQXV0aFRva2VuID0gZnVuY3Rpb24gKGF1dGhUb2tlbikge1xyXG4gICAgICAgIGlmIChTdHJpbmdVdGlscy5pc0VtcHR5KGF1dGhUb2tlbikpIHtcclxuICAgICAgICAgICAgdGhyb3cgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZVRva2VuTnVsbE9yRW1wdHlFcnJvcihhdXRoVG9rZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdG9rZW5QYXJ0c1JlZ2V4ID0gL14oW15cXC5cXHNdKilcXC4oW15cXC5cXHNdKylcXC4oW15cXC5cXHNdKikkLztcclxuICAgICAgICB2YXIgbWF0Y2hlcyA9IHRva2VuUGFydHNSZWdleC5leGVjKGF1dGhUb2tlbik7XHJcbiAgICAgICAgaWYgKCFtYXRjaGVzIHx8IG1hdGNoZXMubGVuZ3RoIDwgNCkge1xyXG4gICAgICAgICAgICB0aHJvdyBDbGllbnRBdXRoRXJyb3IuY3JlYXRlVG9rZW5QYXJzaW5nRXJyb3IoXCJHaXZlbiB0b2tlbiBpcyBtYWxmb3JtZWQ6IFwiICsgSlNPTi5zdHJpbmdpZnkoYXV0aFRva2VuKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjcmFja2VkVG9rZW4gPSB7XHJcbiAgICAgICAgICAgIGhlYWRlcjogbWF0Y2hlc1sxXSxcclxuICAgICAgICAgICAgSldTUGF5bG9hZDogbWF0Y2hlc1syXSxcclxuICAgICAgICAgICAgSldTU2lnOiBtYXRjaGVzWzNdXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gY3JhY2tlZFRva2VuO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSBzdHJpbmcgaXMgZW1wdHkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHN0clxyXG4gICAgICovXHJcbiAgICBTdHJpbmdVdGlscy5pc0VtcHR5ID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgICAgIHJldHVybiAodHlwZW9mIHN0ciA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhc3RyIHx8IDAgPT09IHN0ci5sZW5ndGgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgc3RyaW5naWZpZWQgb2JqZWN0IGlzIGVtcHR5XHJcbiAgICAgKiBAcGFyYW0gc3RyT2JqXHJcbiAgICAgKi9cclxuICAgIFN0cmluZ1V0aWxzLmlzRW1wdHlPYmogPSBmdW5jdGlvbiAoc3RyT2JqKSB7XHJcbiAgICAgICAgaWYgKHN0ck9iaiAmJiAhU3RyaW5nVXRpbHMuaXNFbXB0eShzdHJPYmopKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0gSlNPTi5wYXJzZShzdHJPYmopO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG4gICAgU3RyaW5nVXRpbHMuc3RhcnRzV2l0aCA9IGZ1bmN0aW9uIChzdHIsIHNlYXJjaCkge1xyXG4gICAgICAgIHJldHVybiBzdHIuaW5kZXhPZihzZWFyY2gpID09PSAwO1xyXG4gICAgfTtcclxuICAgIFN0cmluZ1V0aWxzLmVuZHNXaXRoID0gZnVuY3Rpb24gKHN0ciwgc2VhcmNoKSB7XHJcbiAgICAgICAgcmV0dXJuIChzdHIubGVuZ3RoID49IHNlYXJjaC5sZW5ndGgpICYmIChzdHIubGFzdEluZGV4T2Yoc2VhcmNoKSA9PT0gKHN0ci5sZW5ndGggLSBzZWFyY2gubGVuZ3RoKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJzZXMgc3RyaW5nIGludG8gYW4gb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBxdWVyeVxyXG4gICAgICovXHJcbiAgICBTdHJpbmdVdGlscy5xdWVyeVN0cmluZ1RvT2JqZWN0ID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XHJcbiAgICAgICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgICAgIHZhciBwYXJhbXMgPSBxdWVyeS5zcGxpdChcIiZcIik7XHJcbiAgICAgICAgdmFyIGRlY29kZSA9IGZ1bmN0aW9uIChzKSB7IHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocy5yZXBsYWNlKC9cXCsvZywgXCIgXCIpKTsgfTtcclxuICAgICAgICBwYXJhbXMuZm9yRWFjaChmdW5jdGlvbiAocGFpcikge1xyXG4gICAgICAgICAgICBpZiAocGFpci50cmltKCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfYSA9IHBhaXIuc3BsaXQoLz0oLispL2csIDIpLCBrZXkgPSBfYVswXSwgdmFsdWUgPSBfYVsxXTsgLy8gU3BsaXQgb24gdGhlIGZpcnN0IG9jY3VyZW5jZSBvZiB0aGUgJz0nIGNoYXJhY3RlclxyXG4gICAgICAgICAgICAgICAgaWYgKGtleSAmJiB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9ialtkZWNvZGUoa2V5KV0gPSBkZWNvZGUodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRyaW1zIGVudHJpZXMgaW4gYW4gYXJyYXkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGFyclxyXG4gICAgICovXHJcbiAgICBTdHJpbmdVdGlscy50cmltQXJyYXlFbnRyaWVzID0gZnVuY3Rpb24gKGFycikge1xyXG4gICAgICAgIHJldHVybiBhcnIubWFwKGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gZW50cnkudHJpbSgpOyB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgZW1wdHkgc3RyaW5ncyBmcm9tIGFycmF5XHJcbiAgICAgKiBAcGFyYW0gYXJyXHJcbiAgICAgKi9cclxuICAgIFN0cmluZ1V0aWxzLnJlbW92ZUVtcHR5U3RyaW5nc0Zyb21BcnJheSA9IGZ1bmN0aW9uIChhcnIpIHtcclxuICAgICAgICByZXR1cm4gYXJyLmZpbHRlcihmdW5jdGlvbiAoZW50cnkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICFTdHJpbmdVdGlscy5pc0VtcHR5KGVudHJ5KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEF0dGVtcHRzIHRvIHBhcnNlIGEgc3RyaW5nIGludG8gSlNPTlxyXG4gICAgICogQHBhcmFtIHN0clxyXG4gICAgICovXHJcbiAgICBTdHJpbmdVdGlscy5qc29uUGFyc2VIZWxwZXIgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGVzdHMgaWYgYSBnaXZlbiBzdHJpbmcgbWF0Y2hlcyBhIGdpdmVuIHBhdHRlcm4sIHdpdGggc3VwcG9ydCBmb3Igd2lsZGNhcmRzIGFuZCBxdWVyaWVzLlxyXG4gICAgICogQHBhcmFtIHBhdHRlcm4gV2lsZGNhcmQgcGF0dGVybiB0byBzdHJpbmcgbWF0Y2guIFN1cHBvcnRzIFwiKlwiIGZvciB3aWxkY2FyZHMgYW5kIFwiP1wiIGZvciBxdWVyaWVzXHJcbiAgICAgKiBAcGFyYW0gaW5wdXQgU3RyaW5nIHRvIG1hdGNoIGFnYWluc3RcclxuICAgICAqL1xyXG4gICAgU3RyaW5nVXRpbHMubWF0Y2hQYXR0ZXJuID0gZnVuY3Rpb24gKHBhdHRlcm4sIGlucHV0KSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogV2lsZGNhcmQgc3VwcG9ydDogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzMxMTcyNDgvNDg4ODU1OVxyXG4gICAgICAgICAqIFF1ZXJpZXM6IHJlcGxhY2VzIFwiP1wiIGluIHN0cmluZyB3aXRoIGVzY2FwZWQgXCJcXD9cIiBmb3IgcmVnZXggdGVzdFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAocGF0dGVybi5yZXBsYWNlKC9cXFxcL2csIFwiXFxcXFxcXFxcIikucmVwbGFjZSgvXFwqL2csIFwiW14gXSpcIikucmVwbGFjZSgvXFw/L2csIFwiXFxcXFxcP1wiKSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgc2VjdXJpdHkvZGV0ZWN0LW5vbi1saXRlcmFsLXJlZ2V4cFxyXG4gICAgICAgIHJldHVybiByZWdleC50ZXN0KGlucHV0KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gU3RyaW5nVXRpbHM7XHJcbn0oKSk7XG5cbmV4cG9ydCB7IFN0cmluZ1V0aWxzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdHJpbmdVdGlscy5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjYuMS4wIDIwMjItMDItMDggKi9cbid1c2Ugc3RyaWN0Jztcbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgQXp1cmVDbG91ZEluc3RhbmNlO1xyXG4oZnVuY3Rpb24gKEF6dXJlQ2xvdWRJbnN0YW5jZSkge1xyXG4gICAgLy8gQXp1cmVDbG91ZEluc3RhbmNlIGlzIG5vdCBzcGVjaWZpZWQuXHJcbiAgICBBenVyZUNsb3VkSW5zdGFuY2VbQXp1cmVDbG91ZEluc3RhbmNlW1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XHJcbiAgICAvLyBNaWNyb3NvZnQgQXp1cmUgcHVibGljIGNsb3VkXHJcbiAgICBBenVyZUNsb3VkSW5zdGFuY2VbXCJBenVyZVB1YmxpY1wiXSA9IFwiaHR0cHM6Ly9sb2dpbi5taWNyb3NvZnRvbmxpbmUuY29tXCI7XHJcbiAgICAvLyBNaWNyb3NvZnQgQ2hpbmVzZSBuYXRpb25hbCBjbG91ZFxyXG4gICAgQXp1cmVDbG91ZEluc3RhbmNlW1wiQXp1cmVDaGluYVwiXSA9IFwiaHR0cHM6Ly9sb2dpbi5jaGluYWNsb3VkYXBpLmNuXCI7XHJcbiAgICAvLyBNaWNyb3NvZnQgR2VybWFuIG5hdGlvbmFsIGNsb3VkIChcIkJsYWNrIEZvcmVzdFwiKVxyXG4gICAgQXp1cmVDbG91ZEluc3RhbmNlW1wiQXp1cmVHZXJtYW55XCJdID0gXCJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5kZVwiO1xyXG4gICAgLy8gVVMgR292ZXJubWVudCBjbG91ZFxyXG4gICAgQXp1cmVDbG91ZEluc3RhbmNlW1wiQXp1cmVVc0dvdmVybm1lbnRcIl0gPSBcImh0dHBzOi8vbG9naW4ubWljcm9zb2Z0b25saW5lLnVzXCI7XHJcbn0pKEF6dXJlQ2xvdWRJbnN0YW5jZSB8fCAoQXp1cmVDbG91ZEluc3RhbmNlID0ge30pKTtcblxuZXhwb3J0IHsgQXp1cmVDbG91ZEluc3RhbmNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BdXRob3JpdHlPcHRpb25zLmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2Ni4xLjAgMjAyMi0wMi0wOCAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgQ3JlZGVudGlhbFR5cGUsIENhY2hlVHlwZSwgQ29uc3RhbnRzLCBTZXBhcmF0b3JzLCBBdXRoZW50aWNhdGlvblNjaGVtZSB9IGZyb20gJy4uLy4uL3V0aWxzL0NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBDbGllbnRBdXRoRXJyb3IgfSBmcm9tICcuLi8uLi9lcnJvci9DbGllbnRBdXRoRXJyb3IuanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEJhc2UgdHlwZSBmb3IgY3JlZGVudGlhbHMgdG8gYmUgc3RvcmVkIGluIHRoZSBjYWNoZTogZWc6IEFDQ0VTU19UT0tFTiwgSURfVE9LRU4gZXRjXHJcbiAqXHJcbiAqIEtleTpWYWx1ZSBTY2hlbWE6XHJcbiAqXHJcbiAqIEtleTogPGhvbWVfYWNjb3VudF9pZCo+LTxlbnZpcm9ubWVudD4tPGNyZWRlbnRpYWxfdHlwZT4tPGNsaWVudF9pZD4tPHJlYWxtKj4tPHRhcmdldCo+LTxyZXF1ZXN0ZWRDbGFpbXMqPi08c2NoZW1lKj5cclxuICpcclxuICogVmFsdWUgU2NoZW1hOlxyXG4gKiB7XHJcbiAqICAgICAgaG9tZUFjY291bnRJZDogaG9tZSBhY2NvdW50IGlkZW50aWZpZXIgZm9yIHRoZSBhdXRoIHNjaGVtZSxcclxuICogICAgICBlbnZpcm9ubWVudDogZW50aXR5IHRoYXQgaXNzdWVkIHRoZSB0b2tlbiwgcmVwcmVzZW50ZWQgYXMgYSBmdWxsIGhvc3RcclxuICogICAgICBjcmVkZW50aWFsVHlwZTogVHlwZSBvZiBjcmVkZW50aWFsIGFzIGEgc3RyaW5nLCBjYW4gYmUgb25lIG9mIHRoZSBmb2xsb3dpbmc6IFJlZnJlc2hUb2tlbiwgQWNjZXNzVG9rZW4sIElkVG9rZW4sIFBhc3N3b3JkLCBDb29raWUsIENlcnRpZmljYXRlLCBPdGhlclxyXG4gKiAgICAgIGNsaWVudElkOiBjbGllbnQgSUQgb2YgdGhlIGFwcGxpY2F0aW9uXHJcbiAqICAgICAgc2VjcmV0OiBBY3R1YWwgY3JlZGVudGlhbCBhcyBhIHN0cmluZ1xyXG4gKiAgICAgIGZhbWlseUlkOiBGYW1pbHkgSUQgaWRlbnRpZmllciwgdXN1YWxseSBvbmx5IHVzZWQgZm9yIHJlZnJlc2ggdG9rZW5zXHJcbiAqICAgICAgcmVhbG06IEZ1bGwgdGVuYW50IG9yIG9yZ2FuaXphdGlvbmFsIGlkZW50aWZpZXIgdGhhdCB0aGUgYWNjb3VudCBiZWxvbmdzIHRvXHJcbiAqICAgICAgdGFyZ2V0OiBQZXJtaXNzaW9ucyB0aGF0IGFyZSBpbmNsdWRlZCBpbiB0aGUgdG9rZW4sIG9yIGZvciByZWZyZXNoIHRva2VucywgdGhlIHJlc291cmNlIGlkZW50aWZpZXIuXHJcbiAqICAgICAgb2JvQXNzZXJ0aW9uOiBhY2Nlc3MgdG9rZW4gcGFzc2VkIGluIGFzIHBhcnQgb2YgT0JPIHJlcXVlc3RcclxuICogICAgICB0b2tlblR5cGU6IE1hdGNoZXMgdGhlIGF1dGhlbnRpY2F0aW9uIHNjaGVtZSBmb3Igd2hpY2ggdGhlIHRva2VuIHdhcyBpc3N1ZWQgKGkuZS4gQmVhcmVyIG9yIHBvcClcclxuICogICAgICByZXF1ZXN0ZWRDbGFpbXNIYXNoOiBNYXRjaGVzIHRoZSBTSEEgMjU2IGhhc2ggb2YgdGhlIGNsYWltcyBvYmplY3QgaW5jbHVkZWQgaW4gdGhlIHRva2VuIHJlcXVlc3RcclxuICogfVxyXG4gKi9cclxudmFyIENyZWRlbnRpYWxFbnRpdHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBDcmVkZW50aWFsRW50aXR5KCkge1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSBBY2NvdW50IElkIGtleSBjb21wb25lbnQgYXMgcGVyIHRoZSBzY2hlbWE6IDxob21lX2FjY291bnRfaWQ+LTxlbnZpcm9ubWVudD5cclxuICAgICAqL1xyXG4gICAgQ3JlZGVudGlhbEVudGl0eS5wcm90b3R5cGUuZ2VuZXJhdGVBY2NvdW50SWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIENyZWRlbnRpYWxFbnRpdHkuZ2VuZXJhdGVBY2NvdW50SWRGb3JDYWNoZUtleSh0aGlzLmhvbWVBY2NvdW50SWQsIHRoaXMuZW52aXJvbm1lbnQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGUgQ3JlZGVudGlhbCBJZCBrZXkgY29tcG9uZW50IGFzIHBlciB0aGUgc2NoZW1hOiA8Y3JlZGVudGlhbF90eXBlPi08Y2xpZW50X2lkPi08cmVhbG0+XHJcbiAgICAgKi9cclxuICAgIENyZWRlbnRpYWxFbnRpdHkucHJvdG90eXBlLmdlbmVyYXRlQ3JlZGVudGlhbElkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBDcmVkZW50aWFsRW50aXR5LmdlbmVyYXRlQ3JlZGVudGlhbElkRm9yQ2FjaGVLZXkodGhpcy5jcmVkZW50aWFsVHlwZSwgdGhpcy5jbGllbnRJZCwgdGhpcy5yZWFsbSwgdGhpcy5mYW1pbHlJZCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSB0YXJnZXQga2V5IGNvbXBvbmVudCBhcyBwZXIgc2NoZW1hOiA8dGFyZ2V0PlxyXG4gICAgICovXHJcbiAgICBDcmVkZW50aWFsRW50aXR5LnByb3RvdHlwZS5nZW5lcmF0ZVRhcmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gQ3JlZGVudGlhbEVudGl0eS5nZW5lcmF0ZVRhcmdldEZvckNhY2hlS2V5KHRoaXMudGFyZ2V0KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIGdlbmVyYXRlcyBjcmVkZW50aWFsIGtleVxyXG4gICAgICovXHJcbiAgICBDcmVkZW50aWFsRW50aXR5LnByb3RvdHlwZS5nZW5lcmF0ZUNyZWRlbnRpYWxLZXkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIENyZWRlbnRpYWxFbnRpdHkuZ2VuZXJhdGVDcmVkZW50aWFsQ2FjaGVLZXkodGhpcy5ob21lQWNjb3VudElkLCB0aGlzLmVudmlyb25tZW50LCB0aGlzLmNyZWRlbnRpYWxUeXBlLCB0aGlzLmNsaWVudElkLCB0aGlzLnJlYWxtLCB0aGlzLnRhcmdldCwgdGhpcy5mYW1pbHlJZCwgdGhpcy50b2tlblR5cGUsIHRoaXMucmVxdWVzdGVkQ2xhaW1zSGFzaCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHRoZSB0eXBlIG9mIHRoZSBjYWNoZSAoaW4gdGhpcyBjYXNlIGNyZWRlbnRpYWwpXHJcbiAgICAgKi9cclxuICAgIENyZWRlbnRpYWxFbnRpdHkucHJvdG90eXBlLmdlbmVyYXRlVHlwZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuY3JlZGVudGlhbFR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBDcmVkZW50aWFsVHlwZS5JRF9UT0tFTjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBDYWNoZVR5cGUuSURfVE9LRU47XHJcbiAgICAgICAgICAgIGNhc2UgQ3JlZGVudGlhbFR5cGUuQUNDRVNTX1RPS0VOOlxyXG4gICAgICAgICAgICBjYXNlIENyZWRlbnRpYWxUeXBlLkFDQ0VTU19UT0tFTl9XSVRIX0FVVEhfU0NIRU1FOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIENhY2hlVHlwZS5BQ0NFU1NfVE9LRU47XHJcbiAgICAgICAgICAgIGNhc2UgQ3JlZGVudGlhbFR5cGUuUkVGUkVTSF9UT0tFTjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBDYWNoZVR5cGUuUkVGUkVTSF9UT0tFTjtcclxuICAgICAgICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZVVuZXhwZWN0ZWRDcmVkZW50aWFsVHlwZUVycm9yKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBoZWxwZXIgZnVuY3Rpb24gdG8gcmV0dXJuIGBDcmVkZW50aWFsVHlwZWBcclxuICAgICAqIEBwYXJhbSBrZXlcclxuICAgICAqL1xyXG4gICAgQ3JlZGVudGlhbEVudGl0eS5nZXRDcmVkZW50aWFsVHlwZSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAvLyBGaXJzdCBrZXl3b3JkIHNlYXJjaCB3aWxsIG1hdGNoIGFsbCBcIkFjY2Vzc1Rva2VuXCIgYW5kIFwiQWNjZXNzVG9rZW5fV2l0aF9BdXRoU2NoZW1lXCIgY3JlZGVudGlhbHNcclxuICAgICAgICBpZiAoa2V5LmluZGV4T2YoQ3JlZGVudGlhbFR5cGUuQUNDRVNTX1RPS0VOLnRvTG93ZXJDYXNlKCkpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAvLyBQZXJmb3JtIHNlY29uZCBzZWFyY2ggdG8gZGlmZmVyZW50aWF0ZSBiZXR3ZWVuIFwiQWNjZXNzVG9rZW5cIiBhbmQgXCJBY2Nlc3NUb2tlbl9XaXRoX0F1dGhTY2hlbWVcIiBjcmVkZW50aWFsIHR5cGVzXHJcbiAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZihDcmVkZW50aWFsVHlwZS5BQ0NFU1NfVE9LRU5fV0lUSF9BVVRIX1NDSEVNRS50b0xvd2VyQ2FzZSgpKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBDcmVkZW50aWFsVHlwZS5BQ0NFU1NfVE9LRU5fV0lUSF9BVVRIX1NDSEVNRTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gQ3JlZGVudGlhbFR5cGUuQUNDRVNTX1RPS0VOO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChrZXkuaW5kZXhPZihDcmVkZW50aWFsVHlwZS5JRF9UT0tFTi50b0xvd2VyQ2FzZSgpKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIENyZWRlbnRpYWxUeXBlLklEX1RPS0VOO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChrZXkuaW5kZXhPZihDcmVkZW50aWFsVHlwZS5SRUZSRVNIX1RPS0VOLnRvTG93ZXJDYXNlKCkpICE9PSAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQ3JlZGVudGlhbFR5cGUuUkVGUkVTSF9UT0tFTjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIENvbnN0YW50cy5OT1RfREVGSU5FRDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIGdlbmVyYXRlcyBjcmVkZW50aWFsIGtleVxyXG4gICAgICogPGhvbWVfYWNjb3VudF9pZCo+LVxcPGVudmlyb25tZW50Pi08Y3JlZGVudGlhbF90eXBlPi08Y2xpZW50X2lkPi08cmVhbG1cXCo+LTx0YXJnZXRcXCo+LTxzY2hlbWVcXCo+XHJcbiAgICAgKi9cclxuICAgIENyZWRlbnRpYWxFbnRpdHkuZ2VuZXJhdGVDcmVkZW50aWFsQ2FjaGVLZXkgPSBmdW5jdGlvbiAoaG9tZUFjY291bnRJZCwgZW52aXJvbm1lbnQsIGNyZWRlbnRpYWxUeXBlLCBjbGllbnRJZCwgcmVhbG0sIHRhcmdldCwgZmFtaWx5SWQsIHRva2VuVHlwZSwgcmVxdWVzdGVkQ2xhaW1zSGFzaCkge1xyXG4gICAgICAgIHZhciBjcmVkZW50aWFsS2V5ID0gW1xyXG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRlQWNjb3VudElkRm9yQ2FjaGVLZXkoaG9tZUFjY291bnRJZCwgZW52aXJvbm1lbnQpLFxyXG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRlQ3JlZGVudGlhbElkRm9yQ2FjaGVLZXkoY3JlZGVudGlhbFR5cGUsIGNsaWVudElkLCByZWFsbSwgZmFtaWx5SWQpLFxyXG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRlVGFyZ2V0Rm9yQ2FjaGVLZXkodGFyZ2V0KSxcclxuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUNsYWltc0hhc2hGb3JDYWNoZUtleShyZXF1ZXN0ZWRDbGFpbXNIYXNoKSxcclxuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZVNjaGVtZUZvckNhY2hlS2V5KHRva2VuVHlwZSlcclxuICAgICAgICBdO1xyXG4gICAgICAgIHJldHVybiBjcmVkZW50aWFsS2V5LmpvaW4oU2VwYXJhdG9ycy5DQUNIRV9LRVlfU0VQQVJBVE9SKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogZ2VuZXJhdGVzIEFjY291bnQgSWQgZm9yIGtleXNcclxuICAgICAqIEBwYXJhbSBob21lQWNjb3VudElkXHJcbiAgICAgKiBAcGFyYW0gZW52aXJvbm1lbnRcclxuICAgICAqL1xyXG4gICAgQ3JlZGVudGlhbEVudGl0eS5nZW5lcmF0ZUFjY291bnRJZEZvckNhY2hlS2V5ID0gZnVuY3Rpb24gKGhvbWVBY2NvdW50SWQsIGVudmlyb25tZW50KSB7XHJcbiAgICAgICAgdmFyIGFjY291bnRJZCA9IFtob21lQWNjb3VudElkLCBlbnZpcm9ubWVudF07XHJcbiAgICAgICAgcmV0dXJuIGFjY291bnRJZC5qb2luKFNlcGFyYXRvcnMuQ0FDSEVfS0VZX1NFUEFSQVRPUikudG9Mb3dlckNhc2UoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlcyBDcmVkZW50aWFsIElkIGZvciBrZXlzXHJcbiAgICAgKiBAcGFyYW0gY3JlZGVudGlhbFR5cGVcclxuICAgICAqIEBwYXJhbSByZWFsbVxyXG4gICAgICogQHBhcmFtIGNsaWVudElkXHJcbiAgICAgKiBAcGFyYW0gZmFtaWx5SWRcclxuICAgICAqL1xyXG4gICAgQ3JlZGVudGlhbEVudGl0eS5nZW5lcmF0ZUNyZWRlbnRpYWxJZEZvckNhY2hlS2V5ID0gZnVuY3Rpb24gKGNyZWRlbnRpYWxUeXBlLCBjbGllbnRJZCwgcmVhbG0sIGZhbWlseUlkKSB7XHJcbiAgICAgICAgdmFyIGNsaWVudE9yRmFtaWx5SWQgPSBjcmVkZW50aWFsVHlwZSA9PT0gQ3JlZGVudGlhbFR5cGUuUkVGUkVTSF9UT0tFTlxyXG4gICAgICAgICAgICA/IGZhbWlseUlkIHx8IGNsaWVudElkXHJcbiAgICAgICAgICAgIDogY2xpZW50SWQ7XHJcbiAgICAgICAgdmFyIGNyZWRlbnRpYWxJZCA9IFtcclxuICAgICAgICAgICAgY3JlZGVudGlhbFR5cGUsXHJcbiAgICAgICAgICAgIGNsaWVudE9yRmFtaWx5SWQsXHJcbiAgICAgICAgICAgIHJlYWxtIHx8IFwiXCIsXHJcbiAgICAgICAgXTtcclxuICAgICAgICByZXR1cm4gY3JlZGVudGlhbElkLmpvaW4oU2VwYXJhdG9ycy5DQUNIRV9LRVlfU0VQQVJBVE9SKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGUgdGFyZ2V0IGtleSBjb21wb25lbnQgYXMgcGVyIHNjaGVtYTogPHRhcmdldD5cclxuICAgICAqL1xyXG4gICAgQ3JlZGVudGlhbEVudGl0eS5nZW5lcmF0ZVRhcmdldEZvckNhY2hlS2V5ID0gZnVuY3Rpb24gKHNjb3Blcykge1xyXG4gICAgICAgIHJldHVybiAoc2NvcGVzIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSByZXF1ZXN0ZWQgY2xhaW1zIGtleSBjb21wb25lbnQgYXMgcGVyIHNjaGVtYTogPHJlcXVlc3RlZENsYWltcz5cclxuICAgICAqL1xyXG4gICAgQ3JlZGVudGlhbEVudGl0eS5nZW5lcmF0ZUNsYWltc0hhc2hGb3JDYWNoZUtleSA9IGZ1bmN0aW9uIChyZXF1ZXN0ZWRDbGFpbXNIYXNoKSB7XHJcbiAgICAgICAgcmV0dXJuIChyZXF1ZXN0ZWRDbGFpbXNIYXNoIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSBzY2hlbWUga2V5IGNvbXBvbmVuZXQgYXMgcGVyIHNjaGVtYTogPHNjaGVtZT5cclxuICAgICAqL1xyXG4gICAgQ3JlZGVudGlhbEVudGl0eS5nZW5lcmF0ZVNjaGVtZUZvckNhY2hlS2V5ID0gZnVuY3Rpb24gKHRva2VuVHlwZSkge1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogUG9QIFRva2VucyBhbmQgU1NIIGNlcnRzIGluY2x1ZGUgc2NoZW1lIGluIGNhY2hlIGtleVxyXG4gICAgICAgICAqIENhc3QgdG8gbG93ZXJjYXNlIHRvIGhhbmRsZSBcImJlYXJlclwiIGZyb20gQURGU1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHJldHVybiAodG9rZW5UeXBlICYmIHRva2VuVHlwZS50b0xvd2VyQ2FzZSgpICE9PSBBdXRoZW50aWNhdGlvblNjaGVtZS5CRUFSRVIudG9Mb3dlckNhc2UoKSkgPyB0b2tlblR5cGUudG9Mb3dlckNhc2UoKSA6IFwiXCI7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENyZWRlbnRpYWxFbnRpdHk7XHJcbn0oKSk7XG5cbmV4cG9ydCB7IENyZWRlbnRpYWxFbnRpdHkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNyZWRlbnRpYWxFbnRpdHkuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHY2LjEuMCAyMDIyLTAyLTA4ICovXG4ndXNlIHN0cmljdCc7XG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEF1dGhvcml0eSB0eXBlcyBzdXBwb3J0ZWQgYnkgTVNBTC5cclxuICovXHJcbnZhciBBdXRob3JpdHlUeXBlO1xyXG4oZnVuY3Rpb24gKEF1dGhvcml0eVR5cGUpIHtcclxuICAgIEF1dGhvcml0eVR5cGVbQXV0aG9yaXR5VHlwZVtcIkRlZmF1bHRcIl0gPSAwXSA9IFwiRGVmYXVsdFwiO1xyXG4gICAgQXV0aG9yaXR5VHlwZVtBdXRob3JpdHlUeXBlW1wiQWRmc1wiXSA9IDFdID0gXCJBZGZzXCI7XHJcbn0pKEF1dGhvcml0eVR5cGUgfHwgKEF1dGhvcml0eVR5cGUgPSB7fSkpO1xuXG5leHBvcnQgeyBBdXRob3JpdHlUeXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BdXRob3JpdHlUeXBlLmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2Ni4xLjAgMjAyMi0wMi0wOCAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSAnLi4vX3ZpcnR1YWwvX3RzbGliLmpzJztcbmltcG9ydCB7IENsaWVudEF1dGhFcnJvciB9IGZyb20gJy4vQ2xpZW50QXV0aEVycm9yLmpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlIGNsYXNzIGNvbnRhaW5pbmcgc3RyaW5nIGNvbnN0YW50cyB1c2VkIGJ5IGVycm9yIGNvZGVzIGFuZCBtZXNzYWdlcy5cclxuICovXHJcbnZhciBDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlID0ge1xyXG4gICAgcmVkaXJlY3RVcmlOb3RTZXQ6IHtcclxuICAgICAgICBjb2RlOiBcInJlZGlyZWN0X3VyaV9lbXB0eVwiLFxyXG4gICAgICAgIGRlc2M6IFwiQSByZWRpcmVjdCBVUkkgaXMgcmVxdWlyZWQgZm9yIGFsbCBjYWxscywgYW5kIG5vbmUgaGFzIGJlZW4gc2V0LlwiXHJcbiAgICB9LFxyXG4gICAgcG9zdExvZ291dFVyaU5vdFNldDoge1xyXG4gICAgICAgIGNvZGU6IFwicG9zdF9sb2dvdXRfdXJpX2VtcHR5XCIsXHJcbiAgICAgICAgZGVzYzogXCJBIHBvc3QgbG9nb3V0IHJlZGlyZWN0IGhhcyBub3QgYmVlbiBzZXQuXCJcclxuICAgIH0sXHJcbiAgICBjbGFpbXNSZXF1ZXN0UGFyc2luZ0Vycm9yOiB7XHJcbiAgICAgICAgY29kZTogXCJjbGFpbXNfcmVxdWVzdF9wYXJzaW5nX2Vycm9yXCIsXHJcbiAgICAgICAgZGVzYzogXCJDb3VsZCBub3QgcGFyc2UgdGhlIGdpdmVuIGNsYWltcyByZXF1ZXN0IG9iamVjdC5cIlxyXG4gICAgfSxcclxuICAgIGF1dGhvcml0eVVyaUluc2VjdXJlOiB7XHJcbiAgICAgICAgY29kZTogXCJhdXRob3JpdHlfdXJpX2luc2VjdXJlXCIsXHJcbiAgICAgICAgZGVzYzogXCJBdXRob3JpdHkgVVJJcyBtdXN0IHVzZSBodHRwcy4gIFBsZWFzZSBzZWUgaGVyZSBmb3IgdmFsaWQgYXV0aG9yaXR5IGNvbmZpZ3VyYXRpb24gb3B0aW9uczogaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvYXp1cmUvYWN0aXZlLWRpcmVjdG9yeS9kZXZlbG9wL21zYWwtanMtaW5pdGlhbGl6aW5nLWNsaWVudC1hcHBsaWNhdGlvbnMjY29uZmlndXJhdGlvbi1vcHRpb25zXCJcclxuICAgIH0sXHJcbiAgICB1cmxQYXJzZUVycm9yOiB7XHJcbiAgICAgICAgY29kZTogXCJ1cmxfcGFyc2VfZXJyb3JcIixcclxuICAgICAgICBkZXNjOiBcIlVSTCBjb3VsZCBub3QgYmUgcGFyc2VkIGludG8gYXBwcm9wcmlhdGUgc2VnbWVudHMuXCJcclxuICAgIH0sXHJcbiAgICB1cmxFbXB0eUVycm9yOiB7XHJcbiAgICAgICAgY29kZTogXCJlbXB0eV91cmxfZXJyb3JcIixcclxuICAgICAgICBkZXNjOiBcIlVSTCB3YXMgZW1wdHkgb3IgbnVsbC5cIlxyXG4gICAgfSxcclxuICAgIGVtcHR5U2NvcGVzRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBcImVtcHR5X2lucHV0X3Njb3Blc19lcnJvclwiLFxyXG4gICAgICAgIGRlc2M6IFwiU2NvcGVzIGNhbm5vdCBiZSBwYXNzZWQgYXMgbnVsbCwgdW5kZWZpbmVkIG9yIGVtcHR5IGFycmF5IGJlY2F1c2UgdGhleSBhcmUgcmVxdWlyZWQgdG8gb2J0YWluIGFuIGFjY2VzcyB0b2tlbi5cIlxyXG4gICAgfSxcclxuICAgIG5vbkFycmF5U2NvcGVzRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBcIm5vbmFycmF5X2lucHV0X3Njb3Blc19lcnJvclwiLFxyXG4gICAgICAgIGRlc2M6IFwiU2NvcGVzIGNhbm5vdCBiZSBwYXNzZWQgYXMgbm9uLWFycmF5LlwiXHJcbiAgICB9LFxyXG4gICAgY2xpZW50SWRTaW5nbGVTY29wZUVycm9yOiB7XHJcbiAgICAgICAgY29kZTogXCJjbGllbnRpZF9pbnB1dF9zY29wZXNfZXJyb3JcIixcclxuICAgICAgICBkZXNjOiBcIkNsaWVudCBJRCBjYW4gb25seSBiZSBwcm92aWRlZCBhcyBhIHNpbmdsZSBzY29wZS5cIlxyXG4gICAgfSxcclxuICAgIGludmFsaWRQcm9tcHQ6IHtcclxuICAgICAgICBjb2RlOiBcImludmFsaWRfcHJvbXB0X3ZhbHVlXCIsXHJcbiAgICAgICAgZGVzYzogXCJTdXBwb3J0ZWQgcHJvbXB0IHZhbHVlcyBhcmUgJ2xvZ2luJywgJ3NlbGVjdF9hY2NvdW50JywgJ2NvbnNlbnQnLCAnY3JlYXRlJyBhbmQgJ25vbmUnLiAgUGxlYXNlIHNlZSBoZXJlIGZvciB2YWxpZCBjb25maWd1cmF0aW9uIG9wdGlvbnM6IGh0dHBzOi8vYXp1cmVhZC5naXRodWIuaW8vbWljcm9zb2Z0LWF1dGhlbnRpY2F0aW9uLWxpYnJhcnktZm9yLWpzL3JlZi9tb2R1bGVzL19henVyZV9tc2FsX2NvbW1vbi5odG1sI2NvbW1vbmF1dGhvcml6YXRpb251cmxyZXF1ZXN0XCIsXHJcbiAgICB9LFxyXG4gICAgaW52YWxpZENsYWltc1JlcXVlc3Q6IHtcclxuICAgICAgICBjb2RlOiBcImludmFsaWRfY2xhaW1zXCIsXHJcbiAgICAgICAgZGVzYzogXCJHaXZlbiBjbGFpbXMgcGFyYW1ldGVyIG11c3QgYmUgYSBzdHJpbmdpZmllZCBKU09OIG9iamVjdC5cIlxyXG4gICAgfSxcclxuICAgIHRva2VuUmVxdWVzdEVtcHR5RXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBcInRva2VuX3JlcXVlc3RfZW1wdHlcIixcclxuICAgICAgICBkZXNjOiBcIlRva2VuIHJlcXVlc3Qgd2FzIGVtcHR5IGFuZCBub3QgZm91bmQgaW4gY2FjaGUuXCJcclxuICAgIH0sXHJcbiAgICBsb2dvdXRSZXF1ZXN0RW1wdHlFcnJvcjoge1xyXG4gICAgICAgIGNvZGU6IFwibG9nb3V0X3JlcXVlc3RfZW1wdHlcIixcclxuICAgICAgICBkZXNjOiBcIlRoZSBsb2dvdXQgcmVxdWVzdCB3YXMgbnVsbCBvciB1bmRlZmluZWQuXCJcclxuICAgIH0sXHJcbiAgICBpbnZhbGlkQ29kZUNoYWxsZW5nZU1ldGhvZDoge1xyXG4gICAgICAgIGNvZGU6IFwiaW52YWxpZF9jb2RlX2NoYWxsZW5nZV9tZXRob2RcIixcclxuICAgICAgICBkZXNjOiBcImNvZGVfY2hhbGxlbmdlX21ldGhvZCBwYXNzZWQgaXMgaW52YWxpZC4gVmFsaWQgdmFsdWVzIGFyZSBcXFwicGxhaW5cXFwiIGFuZCBcXFwiUzI1NlxcXCIuXCJcclxuICAgIH0sXHJcbiAgICBpbnZhbGlkQ29kZUNoYWxsZW5nZVBhcmFtczoge1xyXG4gICAgICAgIGNvZGU6IFwicGtjZV9wYXJhbXNfbWlzc2luZ1wiLFxyXG4gICAgICAgIGRlc2M6IFwiQm90aCBwYXJhbXM6IGNvZGVfY2hhbGxlbmdlIGFuZCBjb2RlX2NoYWxsZW5nZV9tZXRob2QgYXJlIHRvIGJlIHBhc3NlZCBpZiB0byBiZSBzZW50IGluIHRoZSByZXF1ZXN0XCJcclxuICAgIH0sXHJcbiAgICBpbnZhbGlkQ2xvdWREaXNjb3ZlcnlNZXRhZGF0YToge1xyXG4gICAgICAgIGNvZGU6IFwiaW52YWxpZF9jbG91ZF9kaXNjb3ZlcnlfbWV0YWRhdGFcIixcclxuICAgICAgICBkZXNjOiBcIkludmFsaWQgY2xvdWREaXNjb3ZlcnlNZXRhZGF0YSBwcm92aWRlZC4gTXVzdCBiZSBhIHN0cmluZ2lmaWVkIEpTT04gb2JqZWN0IGNvbnRhaW5pbmcgdGVuYW50X2Rpc2NvdmVyeV9lbmRwb2ludCBhbmQgbWV0YWRhdGEgZmllbGRzXCJcclxuICAgIH0sXHJcbiAgICBpbnZhbGlkQXV0aG9yaXR5TWV0YWRhdGE6IHtcclxuICAgICAgICBjb2RlOiBcImludmFsaWRfYXV0aG9yaXR5X21ldGFkYXRhXCIsXHJcbiAgICAgICAgZGVzYzogXCJJbnZhbGlkIGF1dGhvcml0eU1ldGFkYXRhIHByb3ZpZGVkLiBNdXN0IGJ5IGEgc3RyaW5naWZpZWQgSlNPTiBvYmplY3QgY29udGFpbmluZyBhdXRob3JpemF0aW9uX2VuZHBvaW50LCB0b2tlbl9lbmRwb2ludCwgaXNzdWVyIGZpZWxkcy5cIlxyXG4gICAgfSxcclxuICAgIHVudHJ1c3RlZEF1dGhvcml0eToge1xyXG4gICAgICAgIGNvZGU6IFwidW50cnVzdGVkX2F1dGhvcml0eVwiLFxyXG4gICAgICAgIGRlc2M6IFwiVGhlIHByb3ZpZGVkIGF1dGhvcml0eSBpcyBub3QgYSB0cnVzdGVkIGF1dGhvcml0eS4gUGxlYXNlIGluY2x1ZGUgdGhpcyBhdXRob3JpdHkgaW4gdGhlIGtub3duQXV0aG9yaXRpZXMgY29uZmlnIHBhcmFtZXRlci5cIlxyXG4gICAgfSxcclxuICAgIGludmFsaWRBenVyZUNsb3VkSW5zdGFuY2U6IHtcclxuICAgICAgICBjb2RlOiBcImludmFsaWRfYXp1cmVfY2xvdWRfaW5zdGFuY2VcIixcclxuICAgICAgICBkZXNjOiBcIkludmFsaWQgQXp1cmVDbG91ZEluc3RhbmNlIHByb3ZpZGVkLiBQbGVhc2UgcmVmZXIgTVNBTCBKUyBkb2NzOiBha3MubXMvbXNhbGpzL2F6dXJlX2Nsb3VkX2luc3RhbmNlIGZvciB2YWxpZCB2YWx1ZXNcIlxyXG4gICAgfSxcclxuICAgIG1pc3NpbmdTc2hKd2s6IHtcclxuICAgICAgICBjb2RlOiBcIm1pc3Npbmdfc3NoX2p3a1wiLFxyXG4gICAgICAgIGRlc2M6IFwiTWlzc2luZyBzc2hKd2sgaW4gU1NIIGNlcnRpZmljYXRlIHJlcXVlc3QuIEEgc3RyaW5naWZpZWQgSlNPTiBXZWIgS2V5IGlzIHJlcXVpcmVkIHdoZW4gdXNpbmcgdGhlIFNTSCBhdXRoZW50aWNhdGlvbiBzY2hlbWUuXCJcclxuICAgIH0sXHJcbiAgICBtaXNzaW5nU3NoS2lkOiB7XHJcbiAgICAgICAgY29kZTogXCJtaXNzaW5nX3NzaF9raWRcIixcclxuICAgICAgICBkZXNjOiBcIk1pc3Npbmcgc3NoS2lkIGluIFNTSCBjZXJ0aWZpY2F0ZSByZXF1ZXN0LiBBIHN0cmluZyB0aGF0IHVuaXF1ZWx5IGlkZW50aWZpZXMgdGhlIHB1YmxpYyBTU0gga2V5IGlzIHJlcXVpcmVkIHdoZW4gdXNpbmcgdGhlIFNTSCBhdXRoZW50aWNhdGlvbiBzY2hlbWUuXCJcclxuICAgIH0sXHJcbiAgICBtaXNzaW5nTm9uY2VBdXRoZW50aWNhdGlvbkhlYWRlcjoge1xyXG4gICAgICAgIGNvZGU6IFwibWlzc2luZ19ub25jZV9hdXRoZW50aWNhdGlvbl9oZWFkZXJcIixcclxuICAgICAgICBkZXNjOiBcIlVuYWJsZSB0byBmaW5kIGFuIGF1dGhlbnRpY2F0aW9uIGhlYWRlciBjb250YWluaW5nIHNlcnZlciBub25jZS4gRWl0aGVyIHRoZSBBdXRoZW50aWNhdGlvbi1JbmZvIG9yIFdXVy1BdXRoZW50aWNhdGUgaGVhZGVycyBtdXN0IGJlIHByZXNlbnQgaW4gb3JkZXIgdG8gb2J0YWluIGEgc2VydmVyIG5vbmNlLlwiXHJcbiAgICB9LFxyXG4gICAgaW52YWxpZEF1dGhlbnRpY2F0aW9uSGVhZGVyOiB7XHJcbiAgICAgICAgY29kZTogXCJpbnZhbGlkX2F1dGhlbnRpY2F0aW9uX2hlYWRlclwiLFxyXG4gICAgICAgIGRlc2M6IFwiSW52YWxpZCBhdXRoZW50aWNhdGlvbiBoZWFkZXIgcHJvdmlkZWRcIlxyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogRXJyb3IgdGhyb3duIHdoZW4gdGhlcmUgaXMgYW4gZXJyb3IgaW4gY29uZmlndXJhdGlvbiBvZiB0aGUgTVNBTC5qcyBsaWJyYXJ5LlxyXG4gKi9cclxudmFyIENsaWVudENvbmZpZ3VyYXRpb25FcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhDbGllbnRDb25maWd1cmF0aW9uRXJyb3IsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IoZXJyb3JDb2RlLCBlcnJvck1lc3NhZ2UpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBlcnJvckNvZGUsIGVycm9yTWVzc2FnZSkgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5uYW1lID0gXCJDbGllbnRDb25maWd1cmF0aW9uRXJyb3JcIjtcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoX3RoaXMsIENsaWVudENvbmZpZ3VyYXRpb25FcnJvci5wcm90b3R5cGUpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBlcnJvciB0aHJvd24gd2hlbiB0aGUgcmVkaXJlY3QgdXJpIGlzIGVtcHR5IChub3Qgc2V0IGJ5IGNhbGxlcilcclxuICAgICAqL1xyXG4gICAgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLmNyZWF0ZVJlZGlyZWN0VXJpRW1wdHlFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudENvbmZpZ3VyYXRpb25FcnJvcihDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlLnJlZGlyZWN0VXJpTm90U2V0LmNvZGUsIENsaWVudENvbmZpZ3VyYXRpb25FcnJvck1lc3NhZ2UucmVkaXJlY3RVcmlOb3RTZXQuZGVzYyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIGVycm9yIHRocm93biB3aGVuIHRoZSBwb3N0LWxvZ291dCByZWRpcmVjdCB1cmkgaXMgZW1wdHkgKG5vdCBzZXQgYnkgY2FsbGVyKVxyXG4gICAgICovXHJcbiAgICBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IuY3JlYXRlUG9zdExvZ291dFJlZGlyZWN0VXJpRW1wdHlFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudENvbmZpZ3VyYXRpb25FcnJvcihDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlLnBvc3RMb2dvdXRVcmlOb3RTZXQuY29kZSwgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZS5wb3N0TG9nb3V0VXJpTm90U2V0LmRlc2MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBlcnJvciB0aHJvd24gd2hlbiB0aGUgY2xhaW1zIHJlcXVlc3QgY291bGQgbm90IGJlIHN1Y2Nlc3NmdWxseSBwYXJzZWRcclxuICAgICAqL1xyXG4gICAgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLmNyZWF0ZUNsYWltc1JlcXVlc3RQYXJzaW5nRXJyb3IgPSBmdW5jdGlvbiAoY2xhaW1zUmVxdWVzdFBhcnNlRXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudENvbmZpZ3VyYXRpb25FcnJvcihDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlLmNsYWltc1JlcXVlc3RQYXJzaW5nRXJyb3IuY29kZSwgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZS5jbGFpbXNSZXF1ZXN0UGFyc2luZ0Vycm9yLmRlc2MgKyBcIiBHaXZlbiB2YWx1ZTogXCIgKyBjbGFpbXNSZXF1ZXN0UGFyc2VFcnJvcik7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIGVycm9yIHRocm93biBpZiBhdXRob3JpdHkgdXJpIGlzIGdpdmVuIGFuIGluc2VjdXJlIHByb3RvY29sLlxyXG4gICAgICogQHBhcmFtIHVybFN0cmluZ1xyXG4gICAgICovXHJcbiAgICBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IuY3JlYXRlSW5zZWN1cmVBdXRob3JpdHlVcmlFcnJvciA9IGZ1bmN0aW9uICh1cmxTdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudENvbmZpZ3VyYXRpb25FcnJvcihDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlLmF1dGhvcml0eVVyaUluc2VjdXJlLmNvZGUsIENsaWVudENvbmZpZ3VyYXRpb25FcnJvck1lc3NhZ2UuYXV0aG9yaXR5VXJpSW5zZWN1cmUuZGVzYyArIFwiIEdpdmVuIFVSSTogXCIgKyB1cmxTdHJpbmcpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBlcnJvciB0aHJvd24gaWYgVVJMIHN0cmluZyBkb2VzIG5vdCBwYXJzZSBpbnRvIHNlcGFyYXRlIHNlZ21lbnRzLlxyXG4gICAgICogQHBhcmFtIHVybFN0cmluZ1xyXG4gICAgICovXHJcbiAgICBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IuY3JlYXRlVXJsUGFyc2VFcnJvciA9IGZ1bmN0aW9uICh1cmxQYXJzZUVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IoQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZS51cmxQYXJzZUVycm9yLmNvZGUsIENsaWVudENvbmZpZ3VyYXRpb25FcnJvck1lc3NhZ2UudXJsUGFyc2VFcnJvci5kZXNjICsgXCIgR2l2ZW4gRXJyb3I6IFwiICsgdXJsUGFyc2VFcnJvcik7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIGVycm9yIHRocm93biBpZiBVUkwgc3RyaW5nIGlzIGVtcHR5IG9yIG51bGwuXHJcbiAgICAgKiBAcGFyYW0gdXJsU3RyaW5nXHJcbiAgICAgKi9cclxuICAgIENsaWVudENvbmZpZ3VyYXRpb25FcnJvci5jcmVhdGVVcmxFbXB0eUVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yKENsaWVudENvbmZpZ3VyYXRpb25FcnJvck1lc3NhZ2UudXJsRW1wdHlFcnJvci5jb2RlLCBDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlLnVybEVtcHR5RXJyb3IuZGVzYyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBFcnJvciB0aHJvd24gd2hlbiBzY29wZXMgYXJlIGVtcHR5LlxyXG4gICAgICogQHBhcmFtIHNjb3Blc1ZhbHVlXHJcbiAgICAgKi9cclxuICAgIENsaWVudENvbmZpZ3VyYXRpb25FcnJvci5jcmVhdGVFbXB0eVNjb3Blc0FycmF5RXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IoQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZS5lbXB0eVNjb3Blc0Vycm9yLmNvZGUsIFwiXCIgKyBDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlLmVtcHR5U2NvcGVzRXJyb3IuZGVzYyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBFcnJvciB0aHJvd24gd2hlbiBjbGllbnQgaWQgc2NvcGUgaXMgbm90IHByb3ZpZGVkIGFzIHNpbmdsZSBzY29wZS5cclxuICAgICAqIEBwYXJhbSBpbnB1dFNjb3Blc1xyXG4gICAgICovXHJcbiAgICBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IuY3JlYXRlQ2xpZW50SWRTaW5nbGVTY29wZUVycm9yID0gZnVuY3Rpb24gKGlucHV0U2NvcGVzKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IoQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZS5jbGllbnRJZFNpbmdsZVNjb3BlRXJyb3IuY29kZSwgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZS5jbGllbnRJZFNpbmdsZVNjb3BlRXJyb3IuZGVzYyArIFwiIEdpdmVuIFNjb3BlczogXCIgKyBpbnB1dFNjb3Blcyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBFcnJvciB0aHJvd24gd2hlbiBwcm9tcHQgaXMgbm90IGFuIGFsbG93ZWQgdHlwZS5cclxuICAgICAqIEBwYXJhbSBwcm9tcHRWYWx1ZVxyXG4gICAgICovXHJcbiAgICBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IuY3JlYXRlSW52YWxpZFByb21wdEVycm9yID0gZnVuY3Rpb24gKHByb21wdFZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IoQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZS5pbnZhbGlkUHJvbXB0LmNvZGUsIENsaWVudENvbmZpZ3VyYXRpb25FcnJvck1lc3NhZ2UuaW52YWxpZFByb21wdC5kZXNjICsgXCIgR2l2ZW4gdmFsdWU6IFwiICsgcHJvbXB0VmFsdWUpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBlcnJvciB0aHJvd24gd2hlbiBjbGFpbXMgcGFyYW1ldGVyIGlzIG5vdCBhIHN0cmluZ2lmaWVkIEpTT04gb2JqZWN0XHJcbiAgICAgKi9cclxuICAgIENsaWVudENvbmZpZ3VyYXRpb25FcnJvci5jcmVhdGVJbnZhbGlkQ2xhaW1zUmVxdWVzdEVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yKENsaWVudENvbmZpZ3VyYXRpb25FcnJvck1lc3NhZ2UuaW52YWxpZENsYWltc1JlcXVlc3QuY29kZSwgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZS5pbnZhbGlkQ2xhaW1zUmVxdWVzdC5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRocm93cyBlcnJvciB3aGVuIHRva2VuIHJlcXVlc3QgaXMgZW1wdHkgYW5kIG5vdGhpbmcgY2FjaGVkIGluIHN0b3JhZ2UuXHJcbiAgICAgKi9cclxuICAgIENsaWVudENvbmZpZ3VyYXRpb25FcnJvci5jcmVhdGVFbXB0eUxvZ291dFJlcXVlc3RFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudENvbmZpZ3VyYXRpb25FcnJvcihDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlLmxvZ291dFJlcXVlc3RFbXB0eUVycm9yLmNvZGUsIENsaWVudENvbmZpZ3VyYXRpb25FcnJvck1lc3NhZ2UubG9nb3V0UmVxdWVzdEVtcHR5RXJyb3IuZGVzYyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaHJvd3MgZXJyb3Igd2hlbiB0b2tlbiByZXF1ZXN0IGlzIGVtcHR5IGFuZCBub3RoaW5nIGNhY2hlZCBpbiBzdG9yYWdlLlxyXG4gICAgICovXHJcbiAgICBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IuY3JlYXRlRW1wdHlUb2tlblJlcXVlc3RFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudENvbmZpZ3VyYXRpb25FcnJvcihDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlLnRva2VuUmVxdWVzdEVtcHR5RXJyb3IuY29kZSwgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZS50b2tlblJlcXVlc3RFbXB0eUVycm9yLmRlc2MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGhyb3dzIGVycm9yIHdoZW4gYW4gaW52YWxpZCBjb2RlX2NoYWxsZW5nZV9tZXRob2QgaXMgcGFzc2VkIGJ5IHRoZSB1c2VyXHJcbiAgICAgKi9cclxuICAgIENsaWVudENvbmZpZ3VyYXRpb25FcnJvci5jcmVhdGVJbnZhbGlkQ29kZUNoYWxsZW5nZU1ldGhvZEVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yKENsaWVudENvbmZpZ3VyYXRpb25FcnJvck1lc3NhZ2UuaW52YWxpZENvZGVDaGFsbGVuZ2VNZXRob2QuY29kZSwgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZS5pbnZhbGlkQ29kZUNoYWxsZW5nZU1ldGhvZC5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRocm93cyBlcnJvciB3aGVuIGJvdGggcGFyYW1zOiBjb2RlX2NoYWxsZW5nZSBhbmQgY29kZV9jaGFsbGVuZ2VfbWV0aG9kIGFyZSBub3QgcGFzc2VkIHRvZ2V0aGVyXHJcbiAgICAgKi9cclxuICAgIENsaWVudENvbmZpZ3VyYXRpb25FcnJvci5jcmVhdGVJbnZhbGlkQ29kZUNoYWxsZW5nZVBhcmFtc0Vycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yKENsaWVudENvbmZpZ3VyYXRpb25FcnJvck1lc3NhZ2UuaW52YWxpZENvZGVDaGFsbGVuZ2VQYXJhbXMuY29kZSwgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZS5pbnZhbGlkQ29kZUNoYWxsZW5nZVBhcmFtcy5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRocm93cyBhbiBlcnJvciB3aGVuIHRoZSB1c2VyIHBhc3NlcyBpbnZhbGlkIGNsb3VkRGlzY292ZXJ5TWV0YWRhdGFcclxuICAgICAqL1xyXG4gICAgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLmNyZWF0ZUludmFsaWRDbG91ZERpc2NvdmVyeU1ldGFkYXRhRXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IoQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZS5pbnZhbGlkQ2xvdWREaXNjb3ZlcnlNZXRhZGF0YS5jb2RlLCBDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlLmludmFsaWRDbG91ZERpc2NvdmVyeU1ldGFkYXRhLmRlc2MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGhyb3dzIGFuIGVycm9yIHdoZW4gdGhlIHVzZXIgcGFzc2VzIGludmFsaWQgY2xvdWREaXNjb3ZlcnlNZXRhZGF0YVxyXG4gICAgICovXHJcbiAgICBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IuY3JlYXRlSW52YWxpZEF1dGhvcml0eU1ldGFkYXRhRXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IoQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZS5pbnZhbGlkQXV0aG9yaXR5TWV0YWRhdGEuY29kZSwgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZS5pbnZhbGlkQXV0aG9yaXR5TWV0YWRhdGEuZGVzYyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaHJvd3MgZXJyb3Igd2hlbiBwcm92aWRlZCBhdXRob3JpdHkgaXMgbm90IGEgbWVtYmVyIG9mIHRoZSB0cnVzdGVkIGhvc3QgbGlzdFxyXG4gICAgICovXHJcbiAgICBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IuY3JlYXRlVW50cnVzdGVkQXV0aG9yaXR5RXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IoQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZS51bnRydXN0ZWRBdXRob3JpdHkuY29kZSwgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZS51bnRydXN0ZWRBdXRob3JpdHkuZGVzYyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaHJvd3MgZXJyb3Igd2hlbiB0aGUgQXp1cmVDbG91ZEluc3RhbmNlIGlzIHNldCB0byBhbiBpbnZhbGlkIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIENsaWVudENvbmZpZ3VyYXRpb25FcnJvci5jcmVhdGVJbnZhbGlkQXp1cmVDbG91ZEluc3RhbmNlRXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IoQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZS5pbnZhbGlkQXp1cmVDbG91ZEluc3RhbmNlLmNvZGUsIENsaWVudENvbmZpZ3VyYXRpb25FcnJvck1lc3NhZ2UuaW52YWxpZEF6dXJlQ2xvdWRJbnN0YW5jZS5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRocm93cyBhbiBlcnJvciB3aGVuIHRoZSBhdXRoZW50aWNhdGlvbiBzY2hlbWUgaXMgc2V0IHRvIFNTSCBidXQgdGhlIFNTSCBwdWJsaWMga2V5IGlzIG9taXR0ZWQgZnJvbSB0aGUgcmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IuY3JlYXRlTWlzc2luZ1NzaEp3a0Vycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yKENsaWVudENvbmZpZ3VyYXRpb25FcnJvck1lc3NhZ2UubWlzc2luZ1NzaEp3ay5jb2RlLCBDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlLm1pc3NpbmdTc2hKd2suZGVzYyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaHJvd3MgYW4gZXJyb3Igd2hlbiB0aGUgYXV0aGVudGljYXRpb24gc2NoZW1lIGlzIHNldCB0byBTU0ggYnV0IHRoZSBTU0ggcHVibGljIGtleSBJRCBpcyBvbWl0dGVkIGZyb20gdGhlIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLmNyZWF0ZU1pc3NpbmdTc2hLaWRFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudENvbmZpZ3VyYXRpb25FcnJvcihDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlLm1pc3NpbmdTc2hLaWQuY29kZSwgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZS5taXNzaW5nU3NoS2lkLmRlc2MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGhyb3dzIGVycm9yIHdoZW4gcHJvdmlkZWQgaGVhZGVycyBkb24ndCBjb250YWluIGEgaGVhZGVyIHRoYXQgYSBzZXJ2ZXIgbm9uY2UgY2FuIGJlIGV4dHJhY3RlZCBmcm9tXHJcbiAgICAgKi9cclxuICAgIENsaWVudENvbmZpZ3VyYXRpb25FcnJvci5jcmVhdGVNaXNzaW5nTm9uY2VBdXRoZW50aWNhdGlvbkhlYWRlcnNFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudENvbmZpZ3VyYXRpb25FcnJvcihDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlLm1pc3NpbmdOb25jZUF1dGhlbnRpY2F0aW9uSGVhZGVyLmNvZGUsIENsaWVudENvbmZpZ3VyYXRpb25FcnJvck1lc3NhZ2UubWlzc2luZ05vbmNlQXV0aGVudGljYXRpb25IZWFkZXIuZGVzYyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaHJvd3MgZXJyb3Igd2hlbiBhIHByb3ZpZGVkIGhlYWRlciBpcyBpbnZhbGlkIGluIGFueSB3YXlcclxuICAgICAqL1xyXG4gICAgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLmNyZWF0ZUludmFsaWRBdXRoZW50aWNhdGlvbkhlYWRlckVycm9yID0gZnVuY3Rpb24gKGludmFsaWRIZWFkZXJOYW1lLCBkZXRhaWxzKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IoQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZS5pbnZhbGlkQXV0aGVudGljYXRpb25IZWFkZXIuY29kZSwgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZS5pbnZhbGlkQXV0aGVudGljYXRpb25IZWFkZXIuZGVzYyArIFwiLiBJbnZhbGlkIGhlYWRlcjogXCIgKyBpbnZhbGlkSGVhZGVyTmFtZSArIFwiLiBEZXRhaWxzOiBcIiArIGRldGFpbHMpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDbGllbnRDb25maWd1cmF0aW9uRXJyb3I7XHJcbn0oQ2xpZW50QXV0aEVycm9yKSk7XG5cbmV4cG9ydCB7IENsaWVudENvbmZpZ3VyYXRpb25FcnJvciwgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2xpZW50Q29uZmlndXJhdGlvbkVycm9yLmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2Ni4xLjAgMjAyMi0wMi0wOCAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgX19zcHJlYWRBcnJheXMgfSBmcm9tICcuLi9fdmlydHVhbC9fdHNsaWIuanMnO1xuaW1wb3J0IHsgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLmpzJztcbmltcG9ydCB7IFN0cmluZ1V0aWxzIH0gZnJvbSAnLi4vdXRpbHMvU3RyaW5nVXRpbHMuanMnO1xuaW1wb3J0IHsgQ2xpZW50QXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50QXV0aEVycm9yLmpzJztcbmltcG9ydCB7IE9JRENfU0NPUEVTIH0gZnJvbSAnLi4vdXRpbHMvQ29uc3RhbnRzLmpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBUaGUgU2NvcGVTZXQgY2xhc3MgY3JlYXRlcyBhIHNldCBvZiBzY29wZXMuIFNjb3BlcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZSwgdW5pcXVlIHZhbHVlcywgc28gdGhlIFNldCBvYmplY3QgaW4gSlMgbWFrZXNcclxuICogdGhlIG1vc3Qgc2Vuc2UgdG8gaW1wbGVtZW50IGZvciB0aGlzIGNsYXNzLiBBbGwgc2NvcGVzIGFyZSB0cmltbWVkIGFuZCBjb252ZXJ0ZWQgdG8gbG93ZXIgY2FzZSBzdHJpbmdzIGluIGludGVyc2VjdGlvbiBhbmQgdW5pb24gZnVuY3Rpb25zXHJcbiAqIHRvIGVuc3VyZSB1bmlxdWVuZXNzIG9mIHN0cmluZ3MuXHJcbiAqL1xyXG52YXIgU2NvcGVTZXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBTY29wZVNldChpbnB1dFNjb3Blcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgLy8gRmlsdGVyIGVtcHR5IHN0cmluZyBhbmQgbnVsbC91bmRlZmluZWQgYXJyYXkgaXRlbXNcclxuICAgICAgICB2YXIgc2NvcGVBcnIgPSBpbnB1dFNjb3BlcyA/IFN0cmluZ1V0aWxzLnRyaW1BcnJheUVudHJpZXMoX19zcHJlYWRBcnJheXMoaW5wdXRTY29wZXMpKSA6IFtdO1xyXG4gICAgICAgIHZhciBmaWx0ZXJlZElucHV0ID0gc2NvcGVBcnIgPyBTdHJpbmdVdGlscy5yZW1vdmVFbXB0eVN0cmluZ3NGcm9tQXJyYXkoc2NvcGVBcnIpIDogW107XHJcbiAgICAgICAgLy8gVmFsaWRhdGUgYW5kIGZpbHRlciBzY29wZXMgKHZhbGlkYXRlIGZ1bmN0aW9uIHRocm93cyBpZiB2YWxpZGF0aW9uIGZhaWxzKVxyXG4gICAgICAgIHRoaXMudmFsaWRhdGVJbnB1dFNjb3BlcyhmaWx0ZXJlZElucHV0KTtcclxuICAgICAgICB0aGlzLnNjb3BlcyA9IG5ldyBTZXQoKTsgLy8gSXRlcmF0b3IgaW4gY29uc3RydWN0b3Igbm90IHN1cHBvcnRlZCBieSBJRTExXHJcbiAgICAgICAgZmlsdGVyZWRJbnB1dC5mb3JFYWNoKGZ1bmN0aW9uIChzY29wZSkgeyByZXR1cm4gX3RoaXMuc2NvcGVzLmFkZChzY29wZSk7IH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBGYWN0b3J5IG1ldGhvZCB0byBjcmVhdGUgU2NvcGVTZXQgZnJvbSBzcGFjZS1kZWxpbWl0ZWQgc3RyaW5nXHJcbiAgICAgKiBAcGFyYW0gaW5wdXRTY29wZVN0cmluZ1xyXG4gICAgICogQHBhcmFtIGFwcENsaWVudElkXHJcbiAgICAgKiBAcGFyYW0gc2NvcGVzUmVxdWlyZWRcclxuICAgICAqL1xyXG4gICAgU2NvcGVTZXQuZnJvbVN0cmluZyA9IGZ1bmN0aW9uIChpbnB1dFNjb3BlU3RyaW5nKSB7XHJcbiAgICAgICAgdmFyIHNjb3BlU3RyaW5nID0gaW5wdXRTY29wZVN0cmluZyB8fCBcIlwiO1xyXG4gICAgICAgIHZhciBpbnB1dFNjb3BlcyA9IHNjb3BlU3RyaW5nLnNwbGl0KFwiIFwiKTtcclxuICAgICAgICByZXR1cm4gbmV3IFNjb3BlU2V0KGlucHV0U2NvcGVzKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFVzZWQgdG8gdmFsaWRhdGUgdGhlIHNjb3BlcyBpbnB1dCBwYXJhbWV0ZXIgcmVxdWVzdGVkICBieSB0aGUgZGV2ZWxvcGVyLlxyXG4gICAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBpbnB1dFNjb3BlcyAtIERldmVsb3BlciByZXF1ZXN0ZWQgcGVybWlzc2lvbnMuIE5vdCBhbGwgc2NvcGVzIGFyZSBndWFyYW50ZWVkIHRvIGJlIGluY2x1ZGVkIGluIHRoZSBhY2Nlc3MgdG9rZW4gcmV0dXJuZWQuXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNjb3Blc1JlcXVpcmVkIC0gQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHNjb3BlcyBhcnJheSBpcyByZXF1aXJlZCBvciBub3RcclxuICAgICAqL1xyXG4gICAgU2NvcGVTZXQucHJvdG90eXBlLnZhbGlkYXRlSW5wdXRTY29wZXMgPSBmdW5jdGlvbiAoaW5wdXRTY29wZXMpIHtcclxuICAgICAgICAvLyBDaGVjayBpZiBzY29wZXMgYXJlIHJlcXVpcmVkIGJ1dCBub3QgZ2l2ZW4gb3IgaXMgYW4gZW1wdHkgYXJyYXlcclxuICAgICAgICBpZiAoIWlucHV0U2NvcGVzIHx8IGlucHV0U2NvcGVzLmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgdGhyb3cgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLmNyZWF0ZUVtcHR5U2NvcGVzQXJyYXlFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgZ2l2ZW4gc2NvcGUgaXMgcHJlc2VudCBpbiB0aGlzIHNldCBvZiBzY29wZXMuXHJcbiAgICAgKiBAcGFyYW0gc2NvcGVcclxuICAgICAqL1xyXG4gICAgU2NvcGVTZXQucHJvdG90eXBlLmNvbnRhaW5zU2NvcGUgPSBmdW5jdGlvbiAoc2NvcGUpIHtcclxuICAgICAgICB2YXIgbG93ZXJDYXNlU2NvcGVzID0gdGhpcy5wcmludFNjb3Blc0xvd2VyQ2FzZSgpLnNwbGl0KFwiIFwiKTtcclxuICAgICAgICB2YXIgbG93ZXJDYXNlU2NvcGVzU2V0ID0gbmV3IFNjb3BlU2V0KGxvd2VyQ2FzZVNjb3Blcyk7XHJcbiAgICAgICAgLy8gY29tcGFyZSBsb3dlcmNhc2Ugc2NvcGVzXHJcbiAgICAgICAgcmV0dXJuICFTdHJpbmdVdGlscy5pc0VtcHR5KHNjb3BlKSA/IGxvd2VyQ2FzZVNjb3Blc1NldC5zY29wZXMuaGFzKHNjb3BlLnRvTG93ZXJDYXNlKCkpIDogZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIHNldCBvZiBzY29wZXMgaXMgcHJlc2VudCBpbiB0aGlzIHNldCBvZiBzY29wZXMuXHJcbiAgICAgKiBAcGFyYW0gc2NvcGVTZXRcclxuICAgICAqL1xyXG4gICAgU2NvcGVTZXQucHJvdG90eXBlLmNvbnRhaW5zU2NvcGVTZXQgPSBmdW5jdGlvbiAoc2NvcGVTZXQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICghc2NvcGVTZXQgfHwgc2NvcGVTZXQuc2NvcGVzLnNpemUgPD0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAodGhpcy5zY29wZXMuc2l6ZSA+PSBzY29wZVNldC5zY29wZXMuc2l6ZSAmJiBzY29wZVNldC5hc0FycmF5KCkuZXZlcnkoZnVuY3Rpb24gKHNjb3BlKSB7IHJldHVybiBfdGhpcy5jb250YWluc1Njb3BlKHNjb3BlKTsgfSkpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgc2V0IG9mIHNjb3BlcyBjb250YWlucyBvbmx5IHRoZSBkZWZhdWx0c1xyXG4gICAgICovXHJcbiAgICBTY29wZVNldC5wcm90b3R5cGUuY29udGFpbnNPbmx5T0lEQ1Njb3BlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBkZWZhdWx0U2NvcGVDb3VudCA9IDA7XHJcbiAgICAgICAgT0lEQ19TQ09QRVMuZm9yRWFjaChmdW5jdGlvbiAoZGVmYXVsdFNjb3BlKSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5jb250YWluc1Njb3BlKGRlZmF1bHRTY29wZSkpIHtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHRTY29wZUNvdW50ICs9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY29wZXMuc2l6ZSA9PT0gZGVmYXVsdFNjb3BlQ291bnQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBlbmRzIHNpbmdsZSBzY29wZSBpZiBwYXNzZWRcclxuICAgICAqIEBwYXJhbSBuZXdTY29wZVxyXG4gICAgICovXHJcbiAgICBTY29wZVNldC5wcm90b3R5cGUuYXBwZW5kU2NvcGUgPSBmdW5jdGlvbiAobmV3U2NvcGUpIHtcclxuICAgICAgICBpZiAoIVN0cmluZ1V0aWxzLmlzRW1wdHkobmV3U2NvcGUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NvcGVzLmFkZChuZXdTY29wZS50cmltKCkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEFwcGVuZHMgbXVsdGlwbGUgc2NvcGVzIGlmIHBhc3NlZFxyXG4gICAgICogQHBhcmFtIG5ld1Njb3Blc1xyXG4gICAgICovXHJcbiAgICBTY29wZVNldC5wcm90b3R5cGUuYXBwZW5kU2NvcGVzID0gZnVuY3Rpb24gKG5ld1Njb3Blcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbmV3U2NvcGVzLmZvckVhY2goZnVuY3Rpb24gKG5ld1Njb3BlKSB7IHJldHVybiBfdGhpcy5hcHBlbmRTY29wZShuZXdTY29wZSk7IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBDbGllbnRBdXRoRXJyb3IuY3JlYXRlQXBwZW5kU2NvcGVTZXRFcnJvcihlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGVsZW1lbnQgZnJvbSBzZXQgb2Ygc2NvcGVzLlxyXG4gICAgICogQHBhcmFtIHNjb3BlXHJcbiAgICAgKi9cclxuICAgIFNjb3BlU2V0LnByb3RvdHlwZS5yZW1vdmVTY29wZSA9IGZ1bmN0aW9uIChzY29wZSkge1xyXG4gICAgICAgIGlmIChTdHJpbmdVdGlscy5pc0VtcHR5KHNjb3BlKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBDbGllbnRBdXRoRXJyb3IuY3JlYXRlUmVtb3ZlRW1wdHlTY29wZUZyb21TZXRFcnJvcihzY29wZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2NvcGVzLmRlbGV0ZShzY29wZS50cmltKCkpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBkZWZhdWx0IHNjb3BlcyBmcm9tIHNldCBvZiBzY29wZXNcclxuICAgICAqIFByaW1hcmlseSB1c2VkIHRvIHByZXZlbnQgY2FjaGUgbWlzc2VzIGlmIHRoZSBkZWZhdWx0IHNjb3BlcyBhcmUgbm90IHJldHVybmVkIGZyb20gdGhlIHNlcnZlclxyXG4gICAgICovXHJcbiAgICBTY29wZVNldC5wcm90b3R5cGUucmVtb3ZlT0lEQ1Njb3BlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIE9JRENfU0NPUEVTLmZvckVhY2goZnVuY3Rpb24gKGRlZmF1bHRTY29wZSkge1xyXG4gICAgICAgICAgICBfdGhpcy5zY29wZXMuZGVsZXRlKGRlZmF1bHRTY29wZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb21iaW5lcyBhbiBhcnJheSBvZiBzY29wZXMgd2l0aCB0aGUgY3VycmVudCBzZXQgb2Ygc2NvcGVzLlxyXG4gICAgICogQHBhcmFtIG90aGVyU2NvcGVzXHJcbiAgICAgKi9cclxuICAgIFNjb3BlU2V0LnByb3RvdHlwZS51bmlvblNjb3BlU2V0cyA9IGZ1bmN0aW9uIChvdGhlclNjb3Blcykge1xyXG4gICAgICAgIGlmICghb3RoZXJTY29wZXMpIHtcclxuICAgICAgICAgICAgdGhyb3cgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZUVtcHR5SW5wdXRTY29wZVNldEVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB1bmlvblNjb3BlcyA9IG5ldyBTZXQoKTsgLy8gSXRlcmF0b3IgaW4gY29uc3RydWN0b3Igbm90IHN1cHBvcnRlZCBpbiBJRTExXHJcbiAgICAgICAgb3RoZXJTY29wZXMuc2NvcGVzLmZvckVhY2goZnVuY3Rpb24gKHNjb3BlKSB7IHJldHVybiB1bmlvblNjb3Blcy5hZGQoc2NvcGUudG9Mb3dlckNhc2UoKSk7IH0pO1xyXG4gICAgICAgIHRoaXMuc2NvcGVzLmZvckVhY2goZnVuY3Rpb24gKHNjb3BlKSB7IHJldHVybiB1bmlvblNjb3Blcy5hZGQoc2NvcGUudG9Mb3dlckNhc2UoKSk7IH0pO1xyXG4gICAgICAgIHJldHVybiB1bmlvblNjb3BlcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIHNjb3BlcyBpbnRlcnNlY3QgYmV0d2VlbiB0aGlzIHNldCBhbmQgYW5vdGhlci5cclxuICAgICAqIEBwYXJhbSBvdGhlclNjb3Blc1xyXG4gICAgICovXHJcbiAgICBTY29wZVNldC5wcm90b3R5cGUuaW50ZXJzZWN0aW5nU2NvcGVTZXRzID0gZnVuY3Rpb24gKG90aGVyU2NvcGVzKSB7XHJcbiAgICAgICAgaWYgKCFvdGhlclNjb3Blcykge1xyXG4gICAgICAgICAgICB0aHJvdyBDbGllbnRBdXRoRXJyb3IuY3JlYXRlRW1wdHlJbnB1dFNjb3BlU2V0RXJyb3IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRG8gbm90IGFsbG93IE9JREMgc2NvcGVzIHRvIGJlIHRoZSBvbmx5IGludGVyc2VjdGluZyBzY29wZXNcclxuICAgICAgICBpZiAoIW90aGVyU2NvcGVzLmNvbnRhaW5zT25seU9JRENTY29wZXMoKSkge1xyXG4gICAgICAgICAgICBvdGhlclNjb3Blcy5yZW1vdmVPSURDU2NvcGVzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB1bmlvblNjb3BlcyA9IHRoaXMudW5pb25TY29wZVNldHMob3RoZXJTY29wZXMpO1xyXG4gICAgICAgIHZhciBzaXplT3RoZXJTY29wZXMgPSBvdGhlclNjb3Blcy5nZXRTY29wZUNvdW50KCk7XHJcbiAgICAgICAgdmFyIHNpemVUaGlzU2NvcGVzID0gdGhpcy5nZXRTY29wZUNvdW50KCk7XHJcbiAgICAgICAgdmFyIHNpemVVbmlvblNjb3BlcyA9IHVuaW9uU2NvcGVzLnNpemU7XHJcbiAgICAgICAgcmV0dXJuIHNpemVVbmlvblNjb3BlcyA8IChzaXplVGhpc1Njb3BlcyArIHNpemVPdGhlclNjb3Blcyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHNpemUgb2Ygc2V0IG9mIHNjb3Blcy5cclxuICAgICAqL1xyXG4gICAgU2NvcGVTZXQucHJvdG90eXBlLmdldFNjb3BlQ291bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGVzLnNpemU7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBzY29wZXMgYXMgYW4gYXJyYXkgb2Ygc3RyaW5nIHZhbHVlc1xyXG4gICAgICovXHJcbiAgICBTY29wZVNldC5wcm90b3R5cGUuYXNBcnJheSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYXJyYXkgPSBbXTtcclxuICAgICAgICB0aGlzLnNjb3Blcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIGFycmF5LnB1c2godmFsKTsgfSk7XHJcbiAgICAgICAgcmV0dXJuIGFycmF5O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUHJpbnRzIHNjb3BlcyBpbnRvIGEgc3BhY2UtZGVsaW1pdGVkIHN0cmluZ1xyXG4gICAgICovXHJcbiAgICBTY29wZVNldC5wcm90b3R5cGUucHJpbnRTY29wZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NvcGVzKSB7XHJcbiAgICAgICAgICAgIHZhciBzY29wZUFyciA9IHRoaXMuYXNBcnJheSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gc2NvcGVBcnIuam9pbihcIiBcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUHJpbnRzIHNjb3BlcyBpbnRvIGEgc3BhY2UtZGVsaW1pdGVkIGxvd2VyLWNhc2Ugc3RyaW5nICh1c2VkIGZvciBjYWNoaW5nKVxyXG4gICAgICovXHJcbiAgICBTY29wZVNldC5wcm90b3R5cGUucHJpbnRTY29wZXNMb3dlckNhc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJpbnRTY29wZXMoKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBTY29wZVNldDtcclxufSgpKTtcblxuZXhwb3J0IHsgU2NvcGVTZXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNjb3BlU2V0LmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2Ni4xLjAgMjAyMi0wMi0wOCAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgQ2xpZW50QXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50QXV0aEVycm9yLmpzJztcbmltcG9ydCB7IFN0cmluZ1V0aWxzIH0gZnJvbSAnLi4vdXRpbHMvU3RyaW5nVXRpbHMuanMnO1xuaW1wb3J0IHsgQ29uc3RhbnRzLCBTZXBhcmF0b3JzIH0gZnJvbSAnLi4vdXRpbHMvQ29uc3RhbnRzLmpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBGdW5jdGlvbiB0byBidWlsZCBhIGNsaWVudCBpbmZvIG9iamVjdCBmcm9tIHNlcnZlciBjbGllbnRJbmZvIHN0cmluZ1xyXG4gKiBAcGFyYW0gcmF3Q2xpZW50SW5mb1xyXG4gKiBAcGFyYW0gY3J5cHRvXHJcbiAqL1xyXG5mdW5jdGlvbiBidWlsZENsaWVudEluZm8ocmF3Q2xpZW50SW5mbywgY3J5cHRvKSB7XHJcbiAgICBpZiAoU3RyaW5nVXRpbHMuaXNFbXB0eShyYXdDbGllbnRJbmZvKSkge1xyXG4gICAgICAgIHRocm93IENsaWVudEF1dGhFcnJvci5jcmVhdGVDbGllbnRJbmZvRW1wdHlFcnJvcigpO1xyXG4gICAgfVxyXG4gICAgdHJ5IHtcclxuICAgICAgICB2YXIgZGVjb2RlZENsaWVudEluZm8gPSBjcnlwdG8uYmFzZTY0RGVjb2RlKHJhd0NsaWVudEluZm8pO1xyXG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRlY29kZWRDbGllbnRJbmZvKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgdGhyb3cgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZUNsaWVudEluZm9EZWNvZGluZ0Vycm9yKGUpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBGdW5jdGlvbiB0byBidWlsZCBhIGNsaWVudCBpbmZvIG9iamVjdCBmcm9tIGNhY2hlZCBob21lQWNjb3VudElkIHN0cmluZ1xyXG4gKiBAcGFyYW0gaG9tZUFjY291bnRJZFxyXG4gKi9cclxuZnVuY3Rpb24gYnVpbGRDbGllbnRJbmZvRnJvbUhvbWVBY2NvdW50SWQoaG9tZUFjY291bnRJZCkge1xyXG4gICAgaWYgKFN0cmluZ1V0aWxzLmlzRW1wdHkoaG9tZUFjY291bnRJZCkpIHtcclxuICAgICAgICB0aHJvdyBDbGllbnRBdXRoRXJyb3IuY3JlYXRlQ2xpZW50SW5mb0RlY29kaW5nRXJyb3IoXCJIb21lIGFjY291bnQgSUQgd2FzIGVtcHR5LlwiKTtcclxuICAgIH1cclxuICAgIHZhciBjbGllbnRJbmZvUGFydHMgPSBob21lQWNjb3VudElkLnNwbGl0KFNlcGFyYXRvcnMuQ0xJRU5UX0lORk9fU0VQQVJBVE9SLCAyKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdWlkOiBjbGllbnRJbmZvUGFydHNbMF0sXHJcbiAgICAgICAgdXRpZDogY2xpZW50SW5mb1BhcnRzLmxlbmd0aCA8IDIgPyBDb25zdGFudHMuRU1QVFlfU1RSSU5HIDogY2xpZW50SW5mb1BhcnRzWzFdXHJcbiAgICB9O1xyXG59XG5cbmV4cG9ydCB7IGJ1aWxkQ2xpZW50SW5mbywgYnVpbGRDbGllbnRJbmZvRnJvbUhvbWVBY2NvdW50SWQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNsaWVudEluZm8uanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHY2LjEuMCAyMDIyLTAyLTA4ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBTZXBhcmF0b3JzLCBDYWNoZUFjY291bnRUeXBlLCBDYWNoZVR5cGUsIENvbnN0YW50cyB9IGZyb20gJy4uLy4uL3V0aWxzL0NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBidWlsZENsaWVudEluZm8gfSBmcm9tICcuLi8uLi9hY2NvdW50L0NsaWVudEluZm8uanMnO1xuaW1wb3J0IHsgU3RyaW5nVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscy9TdHJpbmdVdGlscy5qcyc7XG5pbXBvcnQgeyBDbGllbnRBdXRoRXJyb3IgfSBmcm9tICcuLi8uLi9lcnJvci9DbGllbnRBdXRoRXJyb3IuanMnO1xuaW1wb3J0IHsgQXV0aG9yaXR5VHlwZSB9IGZyb20gJy4uLy4uL2F1dGhvcml0eS9BdXRob3JpdHlUeXBlLmpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBUeXBlIHRoYXQgZGVmaW5lcyByZXF1aXJlZCBhbmQgb3B0aW9uYWwgcGFyYW1ldGVycyBmb3IgYW4gQWNjb3VudCBmaWVsZCAoYmFzZWQgb24gdW5pdmVyc2FsIGNhY2hlIHNjaGVtYSBpbXBsZW1lbnRlZCBieSBhbGwgTVNBTHMpLlxyXG4gKlxyXG4gKiBLZXkgOiBWYWx1ZSBTY2hlbWFcclxuICpcclxuICogS2V5OiA8aG9tZV9hY2NvdW50X2lkPi08ZW52aXJvbm1lbnQ+LTxyZWFsbSo+XHJcbiAqXHJcbiAqIFZhbHVlIFNjaGVtYTpcclxuICoge1xyXG4gKiAgICAgIGhvbWVBY2NvdW50SWQ6IGhvbWUgYWNjb3VudCBpZGVudGlmaWVyIGZvciB0aGUgYXV0aCBzY2hlbWUsXHJcbiAqICAgICAgZW52aXJvbm1lbnQ6IGVudGl0eSB0aGF0IGlzc3VlZCB0aGUgdG9rZW4sIHJlcHJlc2VudGVkIGFzIGEgZnVsbCBob3N0XHJcbiAqICAgICAgcmVhbG06IEZ1bGwgdGVuYW50IG9yIG9yZ2FuaXphdGlvbmFsIGlkZW50aWZpZXIgdGhhdCB0aGUgYWNjb3VudCBiZWxvbmdzIHRvXHJcbiAqICAgICAgbG9jYWxBY2NvdW50SWQ6IE9yaWdpbmFsIHRlbmFudC1zcGVjaWZpYyBhY2NvdW50SUQsIHVzdWFsbHkgdXNlZCBmb3IgbGVnYWN5IGNhc2VzXHJcbiAqICAgICAgdXNlcm5hbWU6IHByaW1hcnkgdXNlcm5hbWUgdGhhdCByZXByZXNlbnRzIHRoZSB1c2VyLCB1c3VhbGx5IGNvcnJlc3BvbmRzIHRvIHByZWZlcnJlZF91c2VybmFtZSBpbiB0aGUgdjIgZW5kcHRcclxuICogICAgICBhdXRob3JpdHlUeXBlOiBBY2NvdW50cyBhdXRob3JpdHkgdHlwZSBhcyBhIHN0cmluZ1xyXG4gKiAgICAgIG5hbWU6IEZ1bGwgbmFtZSBmb3IgdGhlIGFjY291bnQsIGluY2x1ZGluZyBnaXZlbiBuYW1lIGFuZCBmYW1pbHkgbmFtZSxcclxuICogICAgICBjbGllbnRJbmZvOiBGdWxsIGJhc2U2NCBlbmNvZGVkIGNsaWVudCBpbmZvIHJlY2VpdmVkIGZyb20gRVNUU1xyXG4gKiAgICAgIGxhc3RNb2RpZmljYXRpb25UaW1lOiBsYXN0IHRpbWUgdGhpcyBlbnRpdHkgd2FzIG1vZGlmaWVkIGluIHRoZSBjYWNoZVxyXG4gKiAgICAgIGxhc3RNb2RpZmljYXRpb25BcHA6XHJcbiAqICAgICAgb2JvQXNzZXJ0aW9uOiBhY2Nlc3MgdG9rZW4gcGFzc2VkIGluIGFzIHBhcnQgb2YgT0JPIHJlcXVlc3RcclxuICogICAgICBpZFRva2VuQ2xhaW1zOiBPYmplY3QgY29udGFpbmluZyBjbGFpbXMgcGFyc2VkIGZyb20gSUQgdG9rZW5cclxuICogfVxyXG4gKi9cclxudmFyIEFjY291bnRFbnRpdHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBBY2NvdW50RW50aXR5KCkge1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSBBY2NvdW50IElkIGtleSBjb21wb25lbnQgYXMgcGVyIHRoZSBzY2hlbWE6IDxob21lX2FjY291bnRfaWQ+LTxlbnZpcm9ubWVudD5cclxuICAgICAqL1xyXG4gICAgQWNjb3VudEVudGl0eS5wcm90b3R5cGUuZ2VuZXJhdGVBY2NvdW50SWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFjY291bnRJZCA9IFt0aGlzLmhvbWVBY2NvdW50SWQsIHRoaXMuZW52aXJvbm1lbnRdO1xyXG4gICAgICAgIHJldHVybiBhY2NvdW50SWQuam9pbihTZXBhcmF0b3JzLkNBQ0hFX0tFWV9TRVBBUkFUT1IpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSBBY2NvdW50IENhY2hlIEtleSBhcyBwZXIgdGhlIHNjaGVtYTogPGhvbWVfYWNjb3VudF9pZD4tPGVudmlyb25tZW50Pi08cmVhbG0qPlxyXG4gICAgICovXHJcbiAgICBBY2NvdW50RW50aXR5LnByb3RvdHlwZS5nZW5lcmF0ZUFjY291bnRLZXkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIEFjY291bnRFbnRpdHkuZ2VuZXJhdGVBY2NvdW50Q2FjaGVLZXkoe1xyXG4gICAgICAgICAgICBob21lQWNjb3VudElkOiB0aGlzLmhvbWVBY2NvdW50SWQsXHJcbiAgICAgICAgICAgIGVudmlyb25tZW50OiB0aGlzLmVudmlyb25tZW50LFxyXG4gICAgICAgICAgICB0ZW5hbnRJZDogdGhpcy5yZWFsbSxcclxuICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsXHJcbiAgICAgICAgICAgIGxvY2FsQWNjb3VudElkOiB0aGlzLmxvY2FsQWNjb3VudElkXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHRoZSB0eXBlIG9mIHRoZSBjYWNoZSAoaW4gdGhpcyBjYXNlIGFjY291bnQpXHJcbiAgICAgKi9cclxuICAgIEFjY291bnRFbnRpdHkucHJvdG90eXBlLmdlbmVyYXRlVHlwZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuYXV0aG9yaXR5VHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIENhY2hlQWNjb3VudFR5cGUuQURGU19BQ0NPVU5UX1RZUEU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQ2FjaGVUeXBlLkFERlM7XHJcbiAgICAgICAgICAgIGNhc2UgQ2FjaGVBY2NvdW50VHlwZS5NU0FWMV9BQ0NPVU5UX1RZUEU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQ2FjaGVUeXBlLk1TQTtcclxuICAgICAgICAgICAgY2FzZSBDYWNoZUFjY291bnRUeXBlLk1TU1RTX0FDQ09VTlRfVFlQRTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBDYWNoZVR5cGUuTVNTVFM7XHJcbiAgICAgICAgICAgIGNhc2UgQ2FjaGVBY2NvdW50VHlwZS5HRU5FUklDX0FDQ09VTlRfVFlQRTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBDYWNoZVR5cGUuR0VORVJJQztcclxuICAgICAgICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZVVuZXhwZWN0ZWRBY2NvdW50VHlwZUVycm9yKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBBY2NvdW50SW5mbyBpbnRlcmZhY2UgZm9yIHRoaXMgYWNjb3VudC5cclxuICAgICAqL1xyXG4gICAgQWNjb3VudEVudGl0eS5wcm90b3R5cGUuZ2V0QWNjb3VudEluZm8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaG9tZUFjY291bnRJZDogdGhpcy5ob21lQWNjb3VudElkLFxyXG4gICAgICAgICAgICBlbnZpcm9ubWVudDogdGhpcy5lbnZpcm9ubWVudCxcclxuICAgICAgICAgICAgdGVuYW50SWQ6IHRoaXMucmVhbG0sXHJcbiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLFxyXG4gICAgICAgICAgICBsb2NhbEFjY291bnRJZDogdGhpcy5sb2NhbEFjY291bnRJZCxcclxuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxyXG4gICAgICAgICAgICBpZFRva2VuQ2xhaW1zOiB0aGlzLmlkVG9rZW5DbGFpbXNcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGVzIGFjY291bnQga2V5IGZyb20gaW50ZXJmYWNlXHJcbiAgICAgKiBAcGFyYW0gYWNjb3VudEludGVyZmFjZVxyXG4gICAgICovXHJcbiAgICBBY2NvdW50RW50aXR5LmdlbmVyYXRlQWNjb3VudENhY2hlS2V5ID0gZnVuY3Rpb24gKGFjY291bnRJbnRlcmZhY2UpIHtcclxuICAgICAgICB2YXIgYWNjb3VudEtleSA9IFtcclxuICAgICAgICAgICAgYWNjb3VudEludGVyZmFjZS5ob21lQWNjb3VudElkLFxyXG4gICAgICAgICAgICBhY2NvdW50SW50ZXJmYWNlLmVudmlyb25tZW50IHx8IFwiXCIsXHJcbiAgICAgICAgICAgIGFjY291bnRJbnRlcmZhY2UudGVuYW50SWQgfHwgXCJcIixcclxuICAgICAgICBdO1xyXG4gICAgICAgIHJldHVybiBhY2NvdW50S2V5LmpvaW4oU2VwYXJhdG9ycy5DQUNIRV9LRVlfU0VQQVJBVE9SKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQnVpbGQgQWNjb3VudCBjYWNoZSBmcm9tIElkVG9rZW4sIGNsaWVudEluZm8gYW5kIGF1dGhvcml0eS9wb2xpY3kuIEFzc29jaWF0ZWQgd2l0aCBBQUQuXHJcbiAgICAgKiBAcGFyYW0gY2xpZW50SW5mb1xyXG4gICAgICogQHBhcmFtIGF1dGhvcml0eVxyXG4gICAgICogQHBhcmFtIGlkVG9rZW5cclxuICAgICAqIEBwYXJhbSBwb2xpY3lcclxuICAgICAqL1xyXG4gICAgQWNjb3VudEVudGl0eS5jcmVhdGVBY2NvdW50ID0gZnVuY3Rpb24gKGNsaWVudEluZm8sIGhvbWVBY2NvdW50SWQsIGlkVG9rZW4sIGF1dGhvcml0eSwgb2JvQXNzZXJ0aW9uLCBjbG91ZEdyYXBoSG9zdE5hbWUsIG1zR3JhcGhIb3N0LCBlbnZpcm9ubWVudCkge1xyXG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xyXG4gICAgICAgIHZhciBhY2NvdW50ID0gbmV3IEFjY291bnRFbnRpdHkoKTtcclxuICAgICAgICBhY2NvdW50LmF1dGhvcml0eVR5cGUgPSBDYWNoZUFjY291bnRUeXBlLk1TU1RTX0FDQ09VTlRfVFlQRTtcclxuICAgICAgICBhY2NvdW50LmNsaWVudEluZm8gPSBjbGllbnRJbmZvO1xyXG4gICAgICAgIGFjY291bnQuaG9tZUFjY291bnRJZCA9IGhvbWVBY2NvdW50SWQ7XHJcbiAgICAgICAgdmFyIGVudiA9IGVudmlyb25tZW50IHx8IChhdXRob3JpdHkgJiYgYXV0aG9yaXR5LmdldFByZWZlcnJlZENhY2hlKCkpO1xyXG4gICAgICAgIGlmICghZW52KSB7XHJcbiAgICAgICAgICAgIHRocm93IENsaWVudEF1dGhFcnJvci5jcmVhdGVJbnZhbGlkQ2FjaGVFbnZpcm9ubWVudEVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFjY291bnQuZW52aXJvbm1lbnQgPSBlbnY7XHJcbiAgICAgICAgLy8gbm9uIEFBRCBzY2VuYXJpb3MgY2FuIGhhdmUgZW1wdHkgcmVhbG1cclxuICAgICAgICBhY2NvdW50LnJlYWxtID0gKChfYSA9IGlkVG9rZW4gPT09IG51bGwgfHwgaWRUb2tlbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogaWRUb2tlbi5jbGFpbXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50aWQpIHx8IFwiXCI7XHJcbiAgICAgICAgYWNjb3VudC5vYm9Bc3NlcnRpb24gPSBvYm9Bc3NlcnRpb247XHJcbiAgICAgICAgaWYgKGlkVG9rZW4pIHtcclxuICAgICAgICAgICAgYWNjb3VudC5pZFRva2VuQ2xhaW1zID0gaWRUb2tlbi5jbGFpbXM7XHJcbiAgICAgICAgICAgIC8vIEhvdyBkbyB5b3UgYWNjb3VudCBmb3IgTVNBIENJRCBoZXJlP1xyXG4gICAgICAgICAgICBhY2NvdW50LmxvY2FsQWNjb3VudElkID0gKChfYiA9IGlkVG9rZW4gPT09IG51bGwgfHwgaWRUb2tlbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogaWRUb2tlbi5jbGFpbXMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5vaWQpIHx8ICgoX2MgPSBpZFRva2VuID09PSBudWxsIHx8IGlkVG9rZW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlkVG9rZW4uY2xhaW1zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Muc3ViKSB8fCBcIlwiO1xyXG4gICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgKiBJbiBCMkMgc2NlbmFyaW9zIHRoZSBlbWFpbHMgY2xhaW0gaXMgdXNlZCBpbnN0ZWFkIG9mIHByZWZlcnJlZF91c2VybmFtZSBhbmQgaXQgaXMgYW4gYXJyYXkuIEluIG1vc3QgY2FzZXMgaXQgd2lsbCBjb250YWluIGEgc2luZ2xlIGVtYWlsLlxyXG4gICAgICAgICAgICAgKiBUaGlzIGZpZWxkIHNob3VsZCBub3QgYmUgcmVsaWVkIHVwb24gaWYgYSBjdXN0b20gcG9saWN5IGlzIGNvbmZpZ3VyZWQgdG8gcmV0dXJuIG1vcmUgdGhhbiAxIGVtYWlsLlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgYWNjb3VudC51c2VybmFtZSA9ICgoX2QgPSBpZFRva2VuID09PSBudWxsIHx8IGlkVG9rZW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlkVG9rZW4uY2xhaW1zKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QucHJlZmVycmVkX3VzZXJuYW1lKSB8fCAoKChfZSA9IGlkVG9rZW4gPT09IG51bGwgfHwgaWRUb2tlbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogaWRUb2tlbi5jbGFpbXMpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5lbWFpbHMpID8gaWRUb2tlbi5jbGFpbXMuZW1haWxzWzBdIDogXCJcIik7XHJcbiAgICAgICAgICAgIGFjY291bnQubmFtZSA9IChfZiA9IGlkVG9rZW4gPT09IG51bGwgfHwgaWRUb2tlbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogaWRUb2tlbi5jbGFpbXMpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5uYW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhY2NvdW50LmNsb3VkR3JhcGhIb3N0TmFtZSA9IGNsb3VkR3JhcGhIb3N0TmFtZTtcclxuICAgICAgICBhY2NvdW50Lm1zR3JhcGhIb3N0ID0gbXNHcmFwaEhvc3Q7XHJcbiAgICAgICAgcmV0dXJuIGFjY291bnQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBCdWlsZHMgbm9uLUFBRC9BREZTIGFjY291bnQuXHJcbiAgICAgKiBAcGFyYW0gYXV0aG9yaXR5XHJcbiAgICAgKiBAcGFyYW0gaWRUb2tlblxyXG4gICAgICovXHJcbiAgICBBY2NvdW50RW50aXR5LmNyZWF0ZUdlbmVyaWNBY2NvdW50ID0gZnVuY3Rpb24gKGhvbWVBY2NvdW50SWQsIGlkVG9rZW4sIGF1dGhvcml0eSwgb2JvQXNzZXJ0aW9uLCBjbG91ZEdyYXBoSG9zdE5hbWUsIG1zR3JhcGhIb3N0LCBlbnZpcm9ubWVudCkge1xyXG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcclxuICAgICAgICB2YXIgYWNjb3VudCA9IG5ldyBBY2NvdW50RW50aXR5KCk7XHJcbiAgICAgICAgYWNjb3VudC5hdXRob3JpdHlUeXBlID0gKGF1dGhvcml0eSAmJiBhdXRob3JpdHkuYXV0aG9yaXR5VHlwZSA9PT0gQXV0aG9yaXR5VHlwZS5BZGZzKSA/IENhY2hlQWNjb3VudFR5cGUuQURGU19BQ0NPVU5UX1RZUEUgOiBDYWNoZUFjY291bnRUeXBlLkdFTkVSSUNfQUNDT1VOVF9UWVBFO1xyXG4gICAgICAgIGFjY291bnQuaG9tZUFjY291bnRJZCA9IGhvbWVBY2NvdW50SWQ7XHJcbiAgICAgICAgLy8gbm9uIEFBRCBzY2VuYXJpb3MgY2FuIGhhdmUgZW1wdHkgcmVhbG1cclxuICAgICAgICBhY2NvdW50LnJlYWxtID0gXCJcIjtcclxuICAgICAgICBhY2NvdW50Lm9ib0Fzc2VydGlvbiA9IG9ib0Fzc2VydGlvbjtcclxuICAgICAgICB2YXIgZW52ID0gZW52aXJvbm1lbnQgfHwgYXV0aG9yaXR5ICYmIGF1dGhvcml0eS5nZXRQcmVmZXJyZWRDYWNoZSgpO1xyXG4gICAgICAgIGlmICghZW52KSB7XHJcbiAgICAgICAgICAgIHRocm93IENsaWVudEF1dGhFcnJvci5jcmVhdGVJbnZhbGlkQ2FjaGVFbnZpcm9ubWVudEVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpZFRva2VuKSB7XHJcbiAgICAgICAgICAgIC8vIEhvdyBkbyB5b3UgYWNjb3VudCBmb3IgTVNBIENJRCBoZXJlP1xyXG4gICAgICAgICAgICBhY2NvdW50LmxvY2FsQWNjb3VudElkID0gKChfYSA9IGlkVG9rZW4gPT09IG51bGwgfHwgaWRUb2tlbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogaWRUb2tlbi5jbGFpbXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vaWQpIHx8ICgoX2IgPSBpZFRva2VuID09PSBudWxsIHx8IGlkVG9rZW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlkVG9rZW4uY2xhaW1zKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc3ViKSB8fCBcIlwiO1xyXG4gICAgICAgICAgICAvLyB1cG4gY2xhaW0gZm9yIG1vc3QgQURGUyBzY2VuYXJpb3NcclxuICAgICAgICAgICAgYWNjb3VudC51c2VybmFtZSA9ICgoX2MgPSBpZFRva2VuID09PSBudWxsIHx8IGlkVG9rZW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlkVG9rZW4uY2xhaW1zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudXBuKSB8fCBcIlwiO1xyXG4gICAgICAgICAgICBhY2NvdW50Lm5hbWUgPSAoKF9kID0gaWRUb2tlbiA9PT0gbnVsbCB8fCBpZFRva2VuID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpZFRva2VuLmNsYWltcykgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLm5hbWUpIHx8IFwiXCI7XHJcbiAgICAgICAgICAgIGFjY291bnQuaWRUb2tlbkNsYWltcyA9IGlkVG9rZW4gPT09IG51bGwgfHwgaWRUb2tlbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogaWRUb2tlbi5jbGFpbXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFjY291bnQuZW52aXJvbm1lbnQgPSBlbnY7XHJcbiAgICAgICAgYWNjb3VudC5jbG91ZEdyYXBoSG9zdE5hbWUgPSBjbG91ZEdyYXBoSG9zdE5hbWU7XHJcbiAgICAgICAgYWNjb3VudC5tc0dyYXBoSG9zdCA9IG1zR3JhcGhIb3N0O1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogYWRkIHVuaXF1ZU5hbWUgdG8gY2xhaW1zXHJcbiAgICAgICAgICogYWNjb3VudC5uYW1lID0gaWRUb2tlbi5jbGFpbXMudW5pcXVlTmFtZTtcclxuICAgICAgICAgKi9cclxuICAgICAgICByZXR1cm4gYWNjb3VudDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlIEhvbWVBY2NvdW50SWQgZnJvbSBzZXJ2ZXIgcmVzcG9uc2VcclxuICAgICAqIEBwYXJhbSBzZXJ2ZXJDbGllbnRJbmZvXHJcbiAgICAgKiBAcGFyYW0gYXV0aFR5cGVcclxuICAgICAqL1xyXG4gICAgQWNjb3VudEVudGl0eS5nZW5lcmF0ZUhvbWVBY2NvdW50SWQgPSBmdW5jdGlvbiAoc2VydmVyQ2xpZW50SW5mbywgYXV0aFR5cGUsIGxvZ2dlciwgY3J5cHRvT2JqLCBpZFRva2VuKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIHZhciBhY2NvdW50SWQgPSAoKF9hID0gaWRUb2tlbiA9PT0gbnVsbCB8fCBpZFRva2VuID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpZFRva2VuLmNsYWltcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN1YikgPyBpZFRva2VuLmNsYWltcy5zdWIgOiBDb25zdGFudHMuRU1QVFlfU1RSSU5HO1xyXG4gICAgICAgIC8vIHNpbmNlIEFERlMgZG9lcyBub3QgaGF2ZSB0aWQgYW5kIGRvZXMgbm90IHNldCBjbGllbnRfaW5mb1xyXG4gICAgICAgIGlmIChhdXRoVHlwZSA9PT0gQXV0aG9yaXR5VHlwZS5BZGZzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhY2NvdW50SWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGZvciBjYXNlcyB3aGVyZSB0aGVyZSBpcyBjbGllbnRJbmZvXHJcbiAgICAgICAgaWYgKHNlcnZlckNsaWVudEluZm8pIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHZhciBjbGllbnRJbmZvID0gYnVpbGRDbGllbnRJbmZvKHNlcnZlckNsaWVudEluZm8sIGNyeXB0b09iaik7XHJcbiAgICAgICAgICAgICAgICBpZiAoIVN0cmluZ1V0aWxzLmlzRW1wdHkoY2xpZW50SW5mby51aWQpICYmICFTdHJpbmdVdGlscy5pc0VtcHR5KGNsaWVudEluZm8udXRpZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcIiArIGNsaWVudEluZm8udWlkICsgU2VwYXJhdG9ycy5DTElFTlRfSU5GT19TRVBBUkFUT1IgKyBjbGllbnRJbmZvLnV0aWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBkZWZhdWx0IHRvIFwic3ViXCIgY2xhaW1cclxuICAgICAgICBsb2dnZXIudmVyYm9zZShcIk5vIGNsaWVudCBpbmZvIGluIHJlc3BvbnNlXCIpO1xyXG4gICAgICAgIHJldHVybiBhY2NvdW50SWQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBWYWxpZGF0ZXMgYW4gZW50aXR5OiBjaGVja3MgZm9yIGFsbCBleHBlY3RlZCBwYXJhbXNcclxuICAgICAqIEBwYXJhbSBlbnRpdHlcclxuICAgICAqL1xyXG4gICAgQWNjb3VudEVudGl0eS5pc0FjY291bnRFbnRpdHkgPSBmdW5jdGlvbiAoZW50aXR5KSB7XHJcbiAgICAgICAgaWYgKCFlbnRpdHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKGVudGl0eS5oYXNPd25Qcm9wZXJ0eShcImhvbWVBY2NvdW50SWRcIikgJiZcclxuICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwiZW52aXJvbm1lbnRcIikgJiZcclxuICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwicmVhbG1cIikgJiZcclxuICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwibG9jYWxBY2NvdW50SWRcIikgJiZcclxuICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwidXNlcm5hbWVcIikgJiZcclxuICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwiYXV0aG9yaXR5VHlwZVwiKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIHdoZXRoZXIgMiBhY2NvdW50SW5mbyBvYmplY3RzIHJlcHJlc2VudCB0aGUgc2FtZSBhY2NvdW50XHJcbiAgICAgKiBAcGFyYW0gYWNjb3VudEFcclxuICAgICAqIEBwYXJhbSBhY2NvdW50QlxyXG4gICAgICogQHBhcmFtIGNvbXBhcmVDbGFpbXMgLSBJZiBzZXQgdG8gdHJ1ZSBpZFRva2VuQ2xhaW1zIHdpbGwgYWxzbyBiZSBjb21wYXJlZCB0byBkZXRlcm1pbmUgYWNjb3VudCBlcXVhbGl0eVxyXG4gICAgICovXHJcbiAgICBBY2NvdW50RW50aXR5LmFjY291bnRJbmZvSXNFcXVhbCA9IGZ1bmN0aW9uIChhY2NvdW50QSwgYWNjb3VudEIsIGNvbXBhcmVDbGFpbXMpIHtcclxuICAgICAgICBpZiAoIWFjY291bnRBIHx8ICFhY2NvdW50Qikge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjbGFpbXNNYXRjaCA9IHRydWU7IC8vIGRlZmF1bHQgdG8gdHJ1ZSBzbyBhcyB0byBub3QgZmFpbCBjb21wYXJpc29uIGJlbG93IGlmIGNvbXBhcmVDbGFpbXM6IGZhbHNlXHJcbiAgICAgICAgaWYgKGNvbXBhcmVDbGFpbXMpIHtcclxuICAgICAgICAgICAgdmFyIGFjY291bnRBQ2xhaW1zID0gKGFjY291bnRBLmlkVG9rZW5DbGFpbXMgfHwge30pO1xyXG4gICAgICAgICAgICB2YXIgYWNjb3VudEJDbGFpbXMgPSAoYWNjb3VudEIuaWRUb2tlbkNsYWltcyB8fCB7fSk7XHJcbiAgICAgICAgICAgIC8vIGlzc3VlZCBhdCB0aW1lc3RhbXAgYW5kIG5vbmNlIGFyZSBleHBlY3RlZCB0byBjaGFuZ2UgZWFjaCB0aW1lIGEgbmV3IGlkIHRva2VuIGlzIGFjcXVpcmVkXHJcbiAgICAgICAgICAgIGNsYWltc01hdGNoID0gKGFjY291bnRBQ2xhaW1zLmlhdCA9PT0gYWNjb3VudEJDbGFpbXMuaWF0KSAmJlxyXG4gICAgICAgICAgICAgICAgKGFjY291bnRBQ2xhaW1zLm5vbmNlID09PSBhY2NvdW50QkNsYWltcy5ub25jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoYWNjb3VudEEuaG9tZUFjY291bnRJZCA9PT0gYWNjb3VudEIuaG9tZUFjY291bnRJZCkgJiZcclxuICAgICAgICAgICAgKGFjY291bnRBLmxvY2FsQWNjb3VudElkID09PSBhY2NvdW50Qi5sb2NhbEFjY291bnRJZCkgJiZcclxuICAgICAgICAgICAgKGFjY291bnRBLnVzZXJuYW1lID09PSBhY2NvdW50Qi51c2VybmFtZSkgJiZcclxuICAgICAgICAgICAgKGFjY291bnRBLnRlbmFudElkID09PSBhY2NvdW50Qi50ZW5hbnRJZCkgJiZcclxuICAgICAgICAgICAgKGFjY291bnRBLmVudmlyb25tZW50ID09PSBhY2NvdW50Qi5lbnZpcm9ubWVudCkgJiZcclxuICAgICAgICAgICAgY2xhaW1zTWF0Y2g7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEFjY291bnRFbnRpdHk7XHJcbn0oKSk7XG5cbmV4cG9ydCB7IEFjY291bnRFbnRpdHkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFjY291bnRFbnRpdHkuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHY2LjEuMCAyMDIyLTAyLTA4ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBDbGllbnRBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9DbGllbnRBdXRoRXJyb3IuanMnO1xuaW1wb3J0IHsgU3RyaW5nVXRpbHMgfSBmcm9tICcuLi91dGlscy9TdHJpbmdVdGlscy5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogSldUIFRva2VuIHJlcHJlc2VudGF0aW9uIGNsYXNzLiBQYXJzZXMgdG9rZW4gc3RyaW5nIGFuZCBnZW5lcmF0ZXMgY2xhaW1zIG9iamVjdC5cclxuICovXHJcbnZhciBBdXRoVG9rZW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBBdXRoVG9rZW4ocmF3VG9rZW4sIGNyeXB0bykge1xyXG4gICAgICAgIGlmIChTdHJpbmdVdGlscy5pc0VtcHR5KHJhd1Rva2VuKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBDbGllbnRBdXRoRXJyb3IuY3JlYXRlVG9rZW5OdWxsT3JFbXB0eUVycm9yKHJhd1Rva2VuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yYXdUb2tlbiA9IHJhd1Rva2VuO1xyXG4gICAgICAgIHRoaXMuY2xhaW1zID0gQXV0aFRva2VuLmV4dHJhY3RUb2tlbkNsYWltcyhyYXdUb2tlbiwgY3J5cHRvKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRXh0cmFjdCB0b2tlbiBieSBkZWNvZGluZyB0aGUgcmF3VG9rZW5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZW5jb2RlZFRva2VuXHJcbiAgICAgKi9cclxuICAgIEF1dGhUb2tlbi5leHRyYWN0VG9rZW5DbGFpbXMgPSBmdW5jdGlvbiAoZW5jb2RlZFRva2VuLCBjcnlwdG8pIHtcclxuICAgICAgICB2YXIgZGVjb2RlZFRva2VuID0gU3RyaW5nVXRpbHMuZGVjb2RlQXV0aFRva2VuKGVuY29kZWRUb2tlbik7XHJcbiAgICAgICAgLy8gdG9rZW4gd2lsbCBiZSBkZWNvZGVkIHRvIGdldCB0aGUgdXNlcm5hbWVcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgYmFzZTY0VG9rZW5QYXlsb2FkID0gZGVjb2RlZFRva2VuLkpXU1BheWxvYWQ7XHJcbiAgICAgICAgICAgIC8vIGJhc2U2NERlY29kZSgpIHNob3VsZCB0aHJvdyBhbiBlcnJvciBpZiB0aGVyZSBpcyBhbiBpc3N1ZVxyXG4gICAgICAgICAgICB2YXIgYmFzZTY0RGVjb2RlZCA9IGNyeXB0by5iYXNlNjREZWNvZGUoYmFzZTY0VG9rZW5QYXlsb2FkKTtcclxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoYmFzZTY0RGVjb2RlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgdGhyb3cgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZVRva2VuUGFyc2luZ0Vycm9yKGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBBdXRoVG9rZW47XHJcbn0oKSk7XG5cbmV4cG9ydCB7IEF1dGhUb2tlbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXV0aFRva2VuLmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2Ni4xLjAgMjAyMi0wMi0wOCAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgX19hd2FpdGVyLCBfX2dlbmVyYXRvciwgX19leHRlbmRzIH0gZnJvbSAnLi4vX3ZpcnR1YWwvX3RzbGliLmpzJztcbmltcG9ydCB7IENvbnN0YW50cywgQ3JlZGVudGlhbFR5cGUsIEF1dGhlbnRpY2F0aW9uU2NoZW1lLCBDYWNoZVNjaGVtYVR5cGUsIFRIRV9GQU1JTFlfSUQsIEFQUF9NRVRBREFUQSwgQVVUSE9SSVRZX01FVEFEQVRBX0NPTlNUQU5UUyB9IGZyb20gJy4uL3V0aWxzL0NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBDcmVkZW50aWFsRW50aXR5IH0gZnJvbSAnLi9lbnRpdGllcy9DcmVkZW50aWFsRW50aXR5LmpzJztcbmltcG9ydCB7IFNjb3BlU2V0IH0gZnJvbSAnLi4vcmVxdWVzdC9TY29wZVNldC5qcyc7XG5pbXBvcnQgeyBBY2NvdW50RW50aXR5IH0gZnJvbSAnLi9lbnRpdGllcy9BY2NvdW50RW50aXR5LmpzJztcbmltcG9ydCB7IEF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0F1dGhFcnJvci5qcyc7XG5pbXBvcnQgeyBDbGllbnRBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9DbGllbnRBdXRoRXJyb3IuanMnO1xuaW1wb3J0IHsgQXV0aFRva2VuIH0gZnJvbSAnLi4vYWNjb3VudC9BdXRoVG9rZW4uanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEludGVyZmFjZSBjbGFzcyB3aGljaCBpbXBsZW1lbnQgY2FjaGUgc3RvcmFnZSBmdW5jdGlvbnMgdXNlZCBieSBNU0FMIHRvIHBlcmZvcm0gdmFsaWRpdHkgY2hlY2tzLCBhbmQgc3RvcmUgdG9rZW5zLlxyXG4gKi9cclxudmFyIENhY2hlTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIENhY2hlTWFuYWdlcihjbGllbnRJZCwgY3J5cHRvSW1wbCkge1xyXG4gICAgICAgIHRoaXMuY2xpZW50SWQgPSBjbGllbnRJZDtcclxuICAgICAgICB0aGlzLmNyeXB0b0ltcGwgPSBjcnlwdG9JbXBsO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFsbCBhY2NvdW50cyBpbiBjYWNoZVxyXG4gICAgICovXHJcbiAgICBDYWNoZU1hbmFnZXIucHJvdG90eXBlLmdldEFsbEFjY291bnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRBY2NvdW50cyA9IHRoaXMuZ2V0QWNjb3VudHNGaWx0ZXJlZEJ5KCk7XHJcbiAgICAgICAgdmFyIGFjY291bnRWYWx1ZXMgPSBPYmplY3Qua2V5cyhjdXJyZW50QWNjb3VudHMpLm1hcChmdW5jdGlvbiAoYWNjb3VudEtleSkgeyByZXR1cm4gY3VycmVudEFjY291bnRzW2FjY291bnRLZXldOyB9KTtcclxuICAgICAgICB2YXIgbnVtQWNjb3VudHMgPSBhY2NvdW50VmFsdWVzLmxlbmd0aDtcclxuICAgICAgICBpZiAobnVtQWNjb3VudHMgPCAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBhbGxBY2NvdW50cyA9IGFjY291bnRWYWx1ZXMubWFwKGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFjY291bnRFbnRpdHkgPSBDYWNoZU1hbmFnZXIudG9PYmplY3QobmV3IEFjY291bnRFbnRpdHkoKSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGFjY291bnRJbmZvID0gYWNjb3VudEVudGl0eS5nZXRBY2NvdW50SW5mbygpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlkVG9rZW4gPSBfdGhpcy5yZWFkSWRUb2tlbkZyb21DYWNoZShfdGhpcy5jbGllbnRJZCwgYWNjb3VudEluZm8pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlkVG9rZW4gJiYgIWFjY291bnRJbmZvLmlkVG9rZW5DbGFpbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBhY2NvdW50SW5mby5pZFRva2VuQ2xhaW1zID0gbmV3IEF1dGhUb2tlbihpZFRva2VuLnNlY3JldCwgX3RoaXMuY3J5cHRvSW1wbCkuY2xhaW1zO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjY291bnRJbmZvO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGFsbEFjY291bnRzO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIHNhdmVzIGEgY2FjaGUgcmVjb3JkXHJcbiAgICAgKiBAcGFyYW0gY2FjaGVSZWNvcmRcclxuICAgICAqL1xyXG4gICAgQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5zYXZlQ2FjaGVSZWNvcmQgPSBmdW5jdGlvbiAoY2FjaGVSZWNvcmQpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2FjaGVSZWNvcmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IENsaWVudEF1dGhFcnJvci5jcmVhdGVOdWxsT3JVbmRlZmluZWRDYWNoZVJlY29yZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIWNhY2hlUmVjb3JkLmFjY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QWNjb3VudChjYWNoZVJlY29yZC5hY2NvdW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISFjYWNoZVJlY29yZC5pZFRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldElkVG9rZW5DcmVkZW50aWFsKGNhY2hlUmVjb3JkLmlkVG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghISFjYWNoZVJlY29yZC5hY2Nlc3NUb2tlbikgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc2F2ZUFjY2Vzc1Rva2VuKGNhY2hlUmVjb3JkLmFjY2Vzc1Rva2VuKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIWNhY2hlUmVjb3JkLnJlZnJlc2hUb2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRSZWZyZXNoVG9rZW5DcmVkZW50aWFsKGNhY2hlUmVjb3JkLnJlZnJlc2hUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhY2FjaGVSZWNvcmQuYXBwTWV0YWRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QXBwTWV0YWRhdGEoY2FjaGVSZWNvcmQuYXBwTWV0YWRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBzYXZlcyBhY2Nlc3MgdG9rZW4gY3JlZGVudGlhbFxyXG4gICAgICogQHBhcmFtIGNyZWRlbnRpYWxcclxuICAgICAqL1xyXG4gICAgQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5zYXZlQWNjZXNzVG9rZW4gPSBmdW5jdGlvbiAoY3JlZGVudGlhbCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRUb2tlbkNhY2hlLCBjdXJyZW50U2NvcGVzLCBjdXJyZW50QWNjZXNzVG9rZW5zLCByZW1vdmVkQWNjZXNzVG9rZW5zXzE7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUb2tlbkNhY2hlID0gdGhpcy5nZXRDcmVkZW50aWFsc0ZpbHRlcmVkQnkoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50SWQ6IGNyZWRlbnRpYWwuY2xpZW50SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsVHlwZTogY3JlZGVudGlhbC5jcmVkZW50aWFsVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudmlyb25tZW50OiBjcmVkZW50aWFsLmVudmlyb25tZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9tZUFjY291bnRJZDogY3JlZGVudGlhbC5ob21lQWNjb3VudElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhbG06IGNyZWRlbnRpYWwucmVhbG0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlblR5cGU6IGNyZWRlbnRpYWwudG9rZW5UeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdGVkQ2xhaW1zSGFzaDogY3JlZGVudGlhbC5yZXF1ZXN0ZWRDbGFpbXNIYXNoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2NvcGVzID0gU2NvcGVTZXQuZnJvbVN0cmluZyhjcmVkZW50aWFsLnRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRBY2Nlc3NUb2tlbnMgPSBPYmplY3Qua2V5cyhjdXJyZW50VG9rZW5DYWNoZS5hY2Nlc3NUb2tlbnMpLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBjdXJyZW50VG9rZW5DYWNoZS5hY2Nlc3NUb2tlbnNba2V5XTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudEFjY2Vzc1Rva2VucykgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZWRBY2Nlc3NUb2tlbnNfMSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50QWNjZXNzVG9rZW5zLmZvckVhY2goZnVuY3Rpb24gKHRva2VuRW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG9rZW5TY29wZVNldCA9IFNjb3BlU2V0LmZyb21TdHJpbmcodG9rZW5FbnRpdHkudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlblNjb3BlU2V0LmludGVyc2VjdGluZ1Njb3BlU2V0cyhjdXJyZW50U2NvcGVzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZWRBY2Nlc3NUb2tlbnNfMS5wdXNoKF90aGlzLnJlbW92ZUNyZWRlbnRpYWwodG9rZW5FbnRpdHkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIFByb21pc2UuYWxsKHJlbW92ZWRBY2Nlc3NUb2tlbnNfMSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEFjY2Vzc1Rva2VuQ3JlZGVudGlhbChjcmVkZW50aWFsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIHJldHJpZXZlIGFjY291bnRzIG1hdGNoaW5nIGFsbCBwcm92aWRlZCBmaWx0ZXJzOyBpZiBubyBmaWx0ZXIgaXMgc2V0LCBnZXQgYWxsIGFjY291bnRzXHJcbiAgICAgKiBub3QgY2hlY2tpbmcgZm9yIGNhc2luZyBhcyBrZXlzIGFyZSBhbGwgZ2VuZXJhdGVkIGluIGxvd2VyIGNhc2UsIHJlbWVtYmVyIHRvIGNvbnZlcnQgdG8gbG93ZXIgY2FzZSBpZiBvYmplY3QgcHJvcGVydGllcyBhcmUgY29tcGFyZWRcclxuICAgICAqIEBwYXJhbSBob21lQWNjb3VudElkXHJcbiAgICAgKiBAcGFyYW0gZW52aXJvbm1lbnRcclxuICAgICAqIEBwYXJhbSByZWFsbVxyXG4gICAgICovXHJcbiAgICBDYWNoZU1hbmFnZXIucHJvdG90eXBlLmdldEFjY291bnRzRmlsdGVyZWRCeSA9IGZ1bmN0aW9uIChhY2NvdW50RmlsdGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWNjb3VudHNGaWx0ZXJlZEJ5SW50ZXJuYWwoYWNjb3VudEZpbHRlciA/IGFjY291bnRGaWx0ZXIuaG9tZUFjY291bnRJZCA6IFwiXCIsIGFjY291bnRGaWx0ZXIgPyBhY2NvdW50RmlsdGVyLmVudmlyb25tZW50IDogXCJcIiwgYWNjb3VudEZpbHRlciA/IGFjY291bnRGaWx0ZXIucmVhbG0gOiBcIlwiKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIHJldHJpZXZlIGFjY291bnRzIG1hdGNoaW5nIGFsbCBwcm92aWRlZCBmaWx0ZXJzOyBpZiBubyBmaWx0ZXIgaXMgc2V0LCBnZXQgYWxsIGFjY291bnRzXHJcbiAgICAgKiBub3QgY2hlY2tpbmcgZm9yIGNhc2luZyBhcyBrZXlzIGFyZSBhbGwgZ2VuZXJhdGVkIGluIGxvd2VyIGNhc2UsIHJlbWVtYmVyIHRvIGNvbnZlcnQgdG8gbG93ZXIgY2FzZSBpZiBvYmplY3QgcHJvcGVydGllcyBhcmUgY29tcGFyZWRcclxuICAgICAqIEBwYXJhbSBob21lQWNjb3VudElkXHJcbiAgICAgKiBAcGFyYW0gZW52aXJvbm1lbnRcclxuICAgICAqIEBwYXJhbSByZWFsbVxyXG4gICAgICovXHJcbiAgICBDYWNoZU1hbmFnZXIucHJvdG90eXBlLmdldEFjY291bnRzRmlsdGVyZWRCeUludGVybmFsID0gZnVuY3Rpb24gKGhvbWVBY2NvdW50SWQsIGVudmlyb25tZW50LCByZWFsbSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGFsbENhY2hlS2V5cyA9IHRoaXMuZ2V0S2V5cygpO1xyXG4gICAgICAgIHZhciBtYXRjaGluZ0FjY291bnRzID0ge307XHJcbiAgICAgICAgYWxsQ2FjaGVLZXlzLmZvckVhY2goZnVuY3Rpb24gKGNhY2hlS2V5KSB7XHJcbiAgICAgICAgICAgIHZhciBlbnRpdHkgPSBfdGhpcy5nZXRBY2NvdW50KGNhY2hlS2V5KTtcclxuICAgICAgICAgICAgaWYgKCFlbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoISFob21lQWNjb3VudElkICYmICFfdGhpcy5tYXRjaEhvbWVBY2NvdW50SWQoZW50aXR5LCBob21lQWNjb3VudElkKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghIWVudmlyb25tZW50ICYmICFfdGhpcy5tYXRjaEVudmlyb25tZW50KGVudGl0eSwgZW52aXJvbm1lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCEhcmVhbG0gJiYgIV90aGlzLm1hdGNoUmVhbG0oZW50aXR5LCByZWFsbSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtYXRjaGluZ0FjY291bnRzW2NhY2hlS2V5XSA9IGVudGl0eTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbWF0Y2hpbmdBY2NvdW50cztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIHJldHJpZXZlIGNyZWRlbnRhaWxzIG1hdGNoaW5nIGFsbCBwcm92aWRlZCBmaWx0ZXJzOyBpZiBubyBmaWx0ZXIgaXMgc2V0LCBnZXQgYWxsIGNyZWRlbnRpYWxzXHJcbiAgICAgKiBAcGFyYW0gaG9tZUFjY291bnRJZFxyXG4gICAgICogQHBhcmFtIGVudmlyb25tZW50XHJcbiAgICAgKiBAcGFyYW0gY3JlZGVudGlhbFR5cGVcclxuICAgICAqIEBwYXJhbSBjbGllbnRJZFxyXG4gICAgICogQHBhcmFtIHJlYWxtXHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0XHJcbiAgICAgKi9cclxuICAgIENhY2hlTWFuYWdlci5wcm90b3R5cGUuZ2V0Q3JlZGVudGlhbHNGaWx0ZXJlZEJ5ID0gZnVuY3Rpb24gKGZpbHRlcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENyZWRlbnRpYWxzRmlsdGVyZWRCeUludGVybmFsKGZpbHRlci5ob21lQWNjb3VudElkLCBmaWx0ZXIuZW52aXJvbm1lbnQsIGZpbHRlci5jcmVkZW50aWFsVHlwZSwgZmlsdGVyLmNsaWVudElkLCBmaWx0ZXIuZmFtaWx5SWQsIGZpbHRlci5yZWFsbSwgZmlsdGVyLnRhcmdldCwgZmlsdGVyLm9ib0Fzc2VydGlvbiwgZmlsdGVyLnRva2VuVHlwZSwgZmlsdGVyLmtleUlkLCBmaWx0ZXIucmVxdWVzdGVkQ2xhaW1zSGFzaCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTdXBwb3J0IGZ1bmN0aW9uIHRvIGhlbHAgbWF0Y2ggY3JlZGVudGlhbHNcclxuICAgICAqIEBwYXJhbSBob21lQWNjb3VudElkXHJcbiAgICAgKiBAcGFyYW0gZW52aXJvbm1lbnRcclxuICAgICAqIEBwYXJhbSBjcmVkZW50aWFsVHlwZVxyXG4gICAgICogQHBhcmFtIGNsaWVudElkXHJcbiAgICAgKiBAcGFyYW0gcmVhbG1cclxuICAgICAqIEBwYXJhbSB0YXJnZXRcclxuICAgICAqIEBwYXJhbSBvYm9Bc3NlcnRpb25cclxuICAgICAqIEBwYXJhbSB0b2tlblR5cGVcclxuICAgICAqL1xyXG4gICAgQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5nZXRDcmVkZW50aWFsc0ZpbHRlcmVkQnlJbnRlcm5hbCA9IGZ1bmN0aW9uIChob21lQWNjb3VudElkLCBlbnZpcm9ubWVudCwgY3JlZGVudGlhbFR5cGUsIGNsaWVudElkLCBmYW1pbHlJZCwgcmVhbG0sIHRhcmdldCwgb2JvQXNzZXJ0aW9uLCB0b2tlblR5cGUsIGtleUlkLCByZXF1ZXN0ZWRDbGFpbXNIYXNoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgYWxsQ2FjaGVLZXlzID0gdGhpcy5nZXRLZXlzKCk7XHJcbiAgICAgICAgdmFyIG1hdGNoaW5nQ3JlZGVudGlhbHMgPSB7XHJcbiAgICAgICAgICAgIGlkVG9rZW5zOiB7fSxcclxuICAgICAgICAgICAgYWNjZXNzVG9rZW5zOiB7fSxcclxuICAgICAgICAgICAgcmVmcmVzaFRva2Vuczoge30sXHJcbiAgICAgICAgfTtcclxuICAgICAgICBhbGxDYWNoZUtleXMuZm9yRWFjaChmdW5jdGlvbiAoY2FjaGVLZXkpIHtcclxuICAgICAgICAgICAgLy8gZG9uJ3QgcGFyc2UgYW55IG5vbi1jcmVkZW50aWFsIHR5cGUgY2FjaGUgZW50aXRpZXNcclxuICAgICAgICAgICAgdmFyIGNyZWRUeXBlID0gQ3JlZGVudGlhbEVudGl0eS5nZXRDcmVkZW50aWFsVHlwZShjYWNoZUtleSk7XHJcbiAgICAgICAgICAgIGlmIChjcmVkVHlwZSA9PT0gQ29uc3RhbnRzLk5PVF9ERUZJTkVEKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQXR0ZW1wdCByZXRyaWV2YWxcclxuICAgICAgICAgICAgdmFyIGVudGl0eSA9IF90aGlzLmdldFNwZWNpZmljQ3JlZGVudGlhbChjYWNoZUtleSwgY3JlZFR5cGUpO1xyXG4gICAgICAgICAgICBpZiAoIWVudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghIW9ib0Fzc2VydGlvbiAmJiAhX3RoaXMubWF0Y2hPYm9Bc3NlcnRpb24oZW50aXR5LCBvYm9Bc3NlcnRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCEhaG9tZUFjY291bnRJZCAmJiAhX3RoaXMubWF0Y2hIb21lQWNjb3VudElkKGVudGl0eSwgaG9tZUFjY291bnRJZCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoISFlbnZpcm9ubWVudCAmJiAhX3RoaXMubWF0Y2hFbnZpcm9ubWVudChlbnRpdHksIGVudmlyb25tZW50KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghIXJlYWxtICYmICFfdGhpcy5tYXRjaFJlYWxtKGVudGl0eSwgcmVhbG0pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCEhY3JlZGVudGlhbFR5cGUgJiYgIV90aGlzLm1hdGNoQ3JlZGVudGlhbFR5cGUoZW50aXR5LCBjcmVkZW50aWFsVHlwZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoISFjbGllbnRJZCAmJiAhX3RoaXMubWF0Y2hDbGllbnRJZChlbnRpdHksIGNsaWVudElkKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghIWZhbWlseUlkICYmICFfdGhpcy5tYXRjaEZhbWlseUlkKGVudGl0eSwgZmFtaWx5SWQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICogaWRUb2tlbnMgZG8gbm90IGhhdmUgXCJ0YXJnZXRcIiwgdGFyZ2V0IHNwZWNpZmljIHJlZnJlc2hUb2tlbnMgZG8gZXhpc3QgZm9yIHNvbWUgdHlwZXMgb2YgYXV0aGVudGljYXRpb25cclxuICAgICAgICAgICAgICogUmVzb3VyY2Ugc3BlY2lmaWMgcmVmcmVzaCB0b2tlbnMgY2FzZSB3aWxsIGJlIGFkZGVkIHdoZW4gdGhlIHN1cHBvcnQgaXMgZGVlbWVkIG5lY2Vzc2FyeVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgaWYgKCEhdGFyZ2V0ICYmICFfdGhpcy5tYXRjaFRhcmdldChlbnRpdHksIHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBJZiByZXF1ZXN0IE9SIGNhY2hlZCBlbnRpdHkgaGFzIHJlcXVlc3RlZCBDbGFpbXMgSGFzaCwgY2hlY2sgaWYgdGhleSBtYXRjaFxyXG4gICAgICAgICAgICBpZiAocmVxdWVzdGVkQ2xhaW1zSGFzaCB8fCBlbnRpdHkucmVxdWVzdGVkQ2xhaW1zSGFzaCkge1xyXG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgbWF0Y2ggaWYgZWl0aGVyIGlzIHVuZGVmaW5lZCBvciB0aGV5IGFyZSBkaWZmZXJlbnRcclxuICAgICAgICAgICAgICAgIGlmIChlbnRpdHkucmVxdWVzdGVkQ2xhaW1zSGFzaCAhPT0gcmVxdWVzdGVkQ2xhaW1zSGFzaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBBY2Nlc3MgVG9rZW4gd2l0aCBBdXRoIFNjaGVtZSBzcGVjaWZpYyBtYXRjaGluZ1xyXG4gICAgICAgICAgICBpZiAoY3JlZGVudGlhbFR5cGUgPT09IENyZWRlbnRpYWxUeXBlLkFDQ0VTU19UT0tFTl9XSVRIX0FVVEhfU0NIRU1FKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoISF0b2tlblR5cGUgJiYgIV90aGlzLm1hdGNoVG9rZW5UeXBlKGVudGl0eSwgdG9rZW5UeXBlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIEtleUlkIChzc2hLaWQpIGluIHJlcXVlc3QgbXVzdCBtYXRjaCBjYWNoZWQgU1NIIGNlcnRpZmljYXRlIGtleUlkIGJlY2F1c2UgU1NIIGNlcnQgaXMgYm91bmQgdG8gYSBzcGVjaWZpYyBrZXlcclxuICAgICAgICAgICAgICAgIGlmICh0b2tlblR5cGUgPT09IEF1dGhlbnRpY2F0aW9uU2NoZW1lLlNTSCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXlJZCAmJiAhX3RoaXMubWF0Y2hLZXlJZChlbnRpdHksIGtleUlkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEF0IHRoaXMgcG9pbnQsIHRoZSBlbnRpdHkgbWF0Y2hlcyB0aGUgcmVxdWVzdCwgdXBkYXRlIGNhY2hlIGtleSBpZiBrZXkgc2NoZW1hIGhhcyBjaGFuZ2VkXHJcbiAgICAgICAgICAgIHZhciB1cGRhdGVkQ2FjaGVLZXkgPSBfdGhpcy51cGRhdGVDcmVkZW50aWFsQ2FjaGVLZXkoY2FjaGVLZXksIGVudGl0eSk7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoY3JlZFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgQ3JlZGVudGlhbFR5cGUuSURfVE9LRU46XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hpbmdDcmVkZW50aWFscy5pZFRva2Vuc1t1cGRhdGVkQ2FjaGVLZXldID0gZW50aXR5O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBDcmVkZW50aWFsVHlwZS5BQ0NFU1NfVE9LRU46XHJcbiAgICAgICAgICAgICAgICBjYXNlIENyZWRlbnRpYWxUeXBlLkFDQ0VTU19UT0tFTl9XSVRIX0FVVEhfU0NIRU1FOlxyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoaW5nQ3JlZGVudGlhbHMuYWNjZXNzVG9rZW5zW3VwZGF0ZWRDYWNoZUtleV0gPSBlbnRpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIENyZWRlbnRpYWxUeXBlLlJFRlJFU0hfVE9LRU46XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hpbmdDcmVkZW50aWFscy5yZWZyZXNoVG9rZW5zW3VwZGF0ZWRDYWNoZUtleV0gPSBlbnRpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbWF0Y2hpbmdDcmVkZW50aWFscztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIHJldHJpZXZlIGFwcE1ldGFkYXRhIG1hdGNoaW5nIGFsbCBwcm92aWRlZCBmaWx0ZXJzOyBpZiBubyBmaWx0ZXIgaXMgc2V0LCBnZXQgYWxsIGFwcE1ldGFkYXRhXHJcbiAgICAgKiBAcGFyYW0gZmlsdGVyXHJcbiAgICAgKi9cclxuICAgIENhY2hlTWFuYWdlci5wcm90b3R5cGUuZ2V0QXBwTWV0YWRhdGFGaWx0ZXJlZEJ5ID0gZnVuY3Rpb24gKGZpbHRlcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEFwcE1ldGFkYXRhRmlsdGVyZWRCeUludGVybmFsKGZpbHRlci5lbnZpcm9ubWVudCwgZmlsdGVyLmNsaWVudElkKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFN1cHBvcnQgZnVuY3Rpb24gdG8gaGVscCBtYXRjaCBhcHBNZXRhZGF0YVxyXG4gICAgICogQHBhcmFtIGVudmlyb25tZW50XHJcbiAgICAgKiBAcGFyYW0gY2xpZW50SWRcclxuICAgICAqL1xyXG4gICAgQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5nZXRBcHBNZXRhZGF0YUZpbHRlcmVkQnlJbnRlcm5hbCA9IGZ1bmN0aW9uIChlbnZpcm9ubWVudCwgY2xpZW50SWQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBhbGxDYWNoZUtleXMgPSB0aGlzLmdldEtleXMoKTtcclxuICAgICAgICB2YXIgbWF0Y2hpbmdBcHBNZXRhZGF0YSA9IHt9O1xyXG4gICAgICAgIGFsbENhY2hlS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChjYWNoZUtleSkge1xyXG4gICAgICAgICAgICAvLyBkb24ndCBwYXJzZSBhbnkgbm9uLWFwcE1ldGFkYXRhIHR5cGUgY2FjaGUgZW50aXRpZXNcclxuICAgICAgICAgICAgaWYgKCFfdGhpcy5pc0FwcE1ldGFkYXRhKGNhY2hlS2V5KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEF0dGVtcHQgcmV0cmlldmFsXHJcbiAgICAgICAgICAgIHZhciBlbnRpdHkgPSBfdGhpcy5nZXRBcHBNZXRhZGF0YShjYWNoZUtleSk7XHJcbiAgICAgICAgICAgIGlmICghZW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCEhZW52aXJvbm1lbnQgJiYgIV90aGlzLm1hdGNoRW52aXJvbm1lbnQoZW50aXR5LCBlbnZpcm9ubWVudCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoISFjbGllbnRJZCAmJiAhX3RoaXMubWF0Y2hDbGllbnRJZChlbnRpdHksIGNsaWVudElkKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1hdGNoaW5nQXBwTWV0YWRhdGFbY2FjaGVLZXldID0gZW50aXR5O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBtYXRjaGluZ0FwcE1ldGFkYXRhO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogcmV0cmlldmUgYXV0aG9yaXR5TWV0YWRhdGEgdGhhdCBjb250YWlucyBhIG1hdGNoaW5nIGFsaWFzXHJcbiAgICAgKiBAcGFyYW0gZmlsdGVyXHJcbiAgICAgKi9cclxuICAgIENhY2hlTWFuYWdlci5wcm90b3R5cGUuZ2V0QXV0aG9yaXR5TWV0YWRhdGFCeUFsaWFzID0gZnVuY3Rpb24gKGhvc3QpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBhbGxDYWNoZUtleXMgPSB0aGlzLmdldEF1dGhvcml0eU1ldGFkYXRhS2V5cygpO1xyXG4gICAgICAgIHZhciBtYXRjaGVkRW50aXR5ID0gbnVsbDtcclxuICAgICAgICBhbGxDYWNoZUtleXMuZm9yRWFjaChmdW5jdGlvbiAoY2FjaGVLZXkpIHtcclxuICAgICAgICAgICAgLy8gZG9uJ3QgcGFyc2UgYW55IG5vbi1hdXRob3JpdHlNZXRhZGF0YSB0eXBlIGNhY2hlIGVudGl0aWVzXHJcbiAgICAgICAgICAgIGlmICghX3RoaXMuaXNBdXRob3JpdHlNZXRhZGF0YShjYWNoZUtleSkgfHwgY2FjaGVLZXkuaW5kZXhPZihfdGhpcy5jbGllbnRJZCkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQXR0ZW1wdCByZXRyaWV2YWxcclxuICAgICAgICAgICAgdmFyIGVudGl0eSA9IF90aGlzLmdldEF1dGhvcml0eU1ldGFkYXRhKGNhY2hlS2V5KTtcclxuICAgICAgICAgICAgaWYgKCFlbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZW50aXR5LmFsaWFzZXMuaW5kZXhPZihob3N0KSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtYXRjaGVkRW50aXR5ID0gZW50aXR5O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBtYXRjaGVkRW50aXR5O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhbGwgYWNjb3VudHMgYW5kIHJlbGF0ZWQgdG9rZW5zIGZyb20gY2FjaGUuXHJcbiAgICAgKi9cclxuICAgIENhY2hlTWFuYWdlci5wcm90b3R5cGUucmVtb3ZlQWxsQWNjb3VudHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgYWxsQ2FjaGVLZXlzLCByZW1vdmVkQWNjb3VudHM7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbENhY2hlS2V5cyA9IHRoaXMuZ2V0S2V5cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVkQWNjb3VudHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsQ2FjaGVLZXlzLmZvckVhY2goZnVuY3Rpb24gKGNhY2hlS2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW50aXR5ID0gX3RoaXMuZ2V0QWNjb3VudChjYWNoZUtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZWRBY2NvdW50cy5wdXNoKF90aGlzLnJlbW92ZUFjY291bnQoY2FjaGVLZXkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIFByb21pc2UuYWxsKHJlbW92ZWRBY2NvdW50cyldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdHJ1ZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyBhIGJvb2xlYW4gaWYgdGhlIGdpdmVuIGFjY291bnQgaXMgcmVtb3ZlZFxyXG4gICAgICogQHBhcmFtIGFjY291bnRcclxuICAgICAqL1xyXG4gICAgQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5yZW1vdmVBY2NvdW50ID0gZnVuY3Rpb24gKGFjY291bnRLZXkpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBhY2NvdW50O1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50ID0gdGhpcy5nZXRBY2NvdW50KGFjY291bnRLZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFjY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IENsaWVudEF1dGhFcnJvci5jcmVhdGVOb0FjY291bnRGb3VuZEVycm9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW1vdmVBY2NvdW50Q29udGV4dChhY2NvdW50KV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gWzIgLypyZXR1cm4qLywgKChfYS5zZW50KCkpICYmIHRoaXMucmVtb3ZlSXRlbShhY2NvdW50S2V5LCBDYWNoZVNjaGVtYVR5cGUuQUNDT1VOVCkpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIGEgYm9vbGVhbiBpZiB0aGUgZ2l2ZW4gYWNjb3VudCBpcyByZW1vdmVkXHJcbiAgICAgKiBAcGFyYW0gYWNjb3VudFxyXG4gICAgICovXHJcbiAgICBDYWNoZU1hbmFnZXIucHJvdG90eXBlLnJlbW92ZUFjY291bnRDb250ZXh0ID0gZnVuY3Rpb24gKGFjY291bnQpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBhbGxDYWNoZUtleXMsIGFjY291bnRJZCwgcmVtb3ZlZENyZWRlbnRpYWxzO1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxDYWNoZUtleXMgPSB0aGlzLmdldEtleXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudElkID0gYWNjb3VudC5nZW5lcmF0ZUFjY291bnRJZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVkQ3JlZGVudGlhbHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsQ2FjaGVLZXlzLmZvckVhY2goZnVuY3Rpb24gKGNhY2hlS2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCBwYXJzZSBhbnkgbm9uLWNyZWRlbnRpYWwgdHlwZSBjYWNoZSBlbnRpdGllc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWRUeXBlID0gQ3JlZGVudGlhbEVudGl0eS5nZXRDcmVkZW50aWFsVHlwZShjYWNoZUtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlZFR5cGUgPT09IENvbnN0YW50cy5OT1RfREVGSU5FRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYWNoZUVudGl0eSA9IF90aGlzLmdldFNwZWNpZmljQ3JlZGVudGlhbChjYWNoZUtleSwgY3JlZFR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhY2FjaGVFbnRpdHkgJiYgYWNjb3VudElkID09PSBjYWNoZUVudGl0eS5nZW5lcmF0ZUFjY291bnRJZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZENyZWRlbnRpYWxzLnB1c2goX3RoaXMucmVtb3ZlQ3JlZGVudGlhbChjYWNoZUVudGl0eSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgUHJvbWlzZS5hbGwocmVtb3ZlZENyZWRlbnRpYWxzKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0cnVlXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIGEgYm9vbGVhbiBpZiB0aGUgZ2l2ZW4gY3JlZGVudGlhbCBpcyByZW1vdmVkXHJcbiAgICAgKiBAcGFyYW0gY3JlZGVudGlhbFxyXG4gICAgICovXHJcbiAgICBDYWNoZU1hbmFnZXIucHJvdG90eXBlLnJlbW92ZUNyZWRlbnRpYWwgPSBmdW5jdGlvbiAoY3JlZGVudGlhbCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGtleSwgYWNjZXNzVG9rZW5XaXRoQXV0aFNjaGVtZUVudGl0eSwga2lkO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBjcmVkZW50aWFsLmdlbmVyYXRlQ3JlZGVudGlhbEtleSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShjcmVkZW50aWFsLmNyZWRlbnRpYWxUeXBlLnRvTG93ZXJDYXNlKCkgPT09IENyZWRlbnRpYWxUeXBlLkFDQ0VTU19UT0tFTl9XSVRIX0FVVEhfU0NIRU1FLnRvTG93ZXJDYXNlKCkpKSByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoY3JlZGVudGlhbC50b2tlblR5cGUgPT09IEF1dGhlbnRpY2F0aW9uU2NoZW1lLlBPUCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbldpdGhBdXRoU2NoZW1lRW50aXR5ID0gY3JlZGVudGlhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAga2lkID0gYWNjZXNzVG9rZW5XaXRoQXV0aFNjaGVtZUVudGl0eS5rZXlJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFraWQpIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzEsIDMsICwgNF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmNyeXB0b0ltcGwucmVtb3ZlVG9rZW5CaW5kaW5nS2V5KGtpZCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZUJpbmRpbmdLZXlOb3RSZW1vdmVkRXJyb3IoKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLnJlbW92ZUl0ZW0oa2V5LCBDYWNoZVNjaGVtYVR5cGUuQ1JFREVOVElBTCldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYWxsIGFwcCBtZXRhZGF0YSBvYmplY3RzIGZyb20gY2FjaGUuXHJcbiAgICAgKi9cclxuICAgIENhY2hlTWFuYWdlci5wcm90b3R5cGUucmVtb3ZlQXBwTWV0YWRhdGEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgYWxsQ2FjaGVLZXlzID0gdGhpcy5nZXRLZXlzKCk7XHJcbiAgICAgICAgYWxsQ2FjaGVLZXlzLmZvckVhY2goZnVuY3Rpb24gKGNhY2hlS2V5KSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5pc0FwcE1ldGFkYXRhKGNhY2hlS2V5KSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucmVtb3ZlSXRlbShjYWNoZUtleSwgQ2FjaGVTY2hlbWFUeXBlLkFQUF9NRVRBREFUQSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHJpZXZlIHRoZSBjYWNoZWQgY3JlZGVudGlhbHMgaW50byBhIGNhY2hlcmVjb3JkXHJcbiAgICAgKiBAcGFyYW0gYWNjb3VudFxyXG4gICAgICogQHBhcmFtIGNsaWVudElkXHJcbiAgICAgKiBAcGFyYW0gc2NvcGVzXHJcbiAgICAgKiBAcGFyYW0gZW52aXJvbm1lbnRcclxuICAgICAqIEBwYXJhbSBhdXRoU2NoZW1lXHJcbiAgICAgKi9cclxuICAgIENhY2hlTWFuYWdlci5wcm90b3R5cGUucmVhZENhY2hlUmVjb3JkID0gZnVuY3Rpb24gKGFjY291bnQsIGNsaWVudElkLCByZXF1ZXN0LCBlbnZpcm9ubWVudCkge1xyXG4gICAgICAgIHZhciBjYWNoZWRBY2NvdW50ID0gdGhpcy5yZWFkQWNjb3VudEZyb21DYWNoZShhY2NvdW50KTtcclxuICAgICAgICB2YXIgY2FjaGVkSWRUb2tlbiA9IHRoaXMucmVhZElkVG9rZW5Gcm9tQ2FjaGUoY2xpZW50SWQsIGFjY291bnQpO1xyXG4gICAgICAgIHZhciBjYWNoZWRBY2Nlc3NUb2tlbiA9IHRoaXMucmVhZEFjY2Vzc1Rva2VuRnJvbUNhY2hlKGNsaWVudElkLCBhY2NvdW50LCByZXF1ZXN0KTtcclxuICAgICAgICB2YXIgY2FjaGVkUmVmcmVzaFRva2VuID0gdGhpcy5yZWFkUmVmcmVzaFRva2VuRnJvbUNhY2hlKGNsaWVudElkLCBhY2NvdW50LCBmYWxzZSk7XHJcbiAgICAgICAgdmFyIGNhY2hlZEFwcE1ldGFkYXRhID0gdGhpcy5yZWFkQXBwTWV0YWRhdGFGcm9tQ2FjaGUoZW52aXJvbm1lbnQsIGNsaWVudElkKTtcclxuICAgICAgICBpZiAoY2FjaGVkQWNjb3VudCAmJiBjYWNoZWRJZFRva2VuKSB7XHJcbiAgICAgICAgICAgIGNhY2hlZEFjY291bnQuaWRUb2tlbkNsYWltcyA9IG5ldyBBdXRoVG9rZW4oY2FjaGVkSWRUb2tlbi5zZWNyZXQsIHRoaXMuY3J5cHRvSW1wbCkuY2xhaW1zO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBhY2NvdW50OiBjYWNoZWRBY2NvdW50LFxyXG4gICAgICAgICAgICBpZFRva2VuOiBjYWNoZWRJZFRva2VuLFxyXG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogY2FjaGVkQWNjZXNzVG9rZW4sXHJcbiAgICAgICAgICAgIHJlZnJlc2hUb2tlbjogY2FjaGVkUmVmcmVzaFRva2VuLFxyXG4gICAgICAgICAgICBhcHBNZXRhZGF0YTogY2FjaGVkQXBwTWV0YWRhdGEsXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHJpZXZlIEFjY291bnRFbnRpdHkgZnJvbSBjYWNoZVxyXG4gICAgICogQHBhcmFtIGFjY291bnRcclxuICAgICAqL1xyXG4gICAgQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5yZWFkQWNjb3VudEZyb21DYWNoZSA9IGZ1bmN0aW9uIChhY2NvdW50KSB7XHJcbiAgICAgICAgdmFyIGFjY291bnRLZXkgPSBBY2NvdW50RW50aXR5LmdlbmVyYXRlQWNjb3VudENhY2hlS2V5KGFjY291bnQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEFjY291bnQoYWNjb3VudEtleSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXRyaWV2ZSBJZFRva2VuRW50aXR5IGZyb20gY2FjaGVcclxuICAgICAqIEBwYXJhbSBjbGllbnRJZFxyXG4gICAgICogQHBhcmFtIGFjY291bnRcclxuICAgICAqIEBwYXJhbSBpbnB1dFJlYWxtXHJcbiAgICAgKi9cclxuICAgIENhY2hlTWFuYWdlci5wcm90b3R5cGUucmVhZElkVG9rZW5Gcm9tQ2FjaGUgPSBmdW5jdGlvbiAoY2xpZW50SWQsIGFjY291bnQpIHtcclxuICAgICAgICB2YXIgaWRUb2tlbkZpbHRlciA9IHtcclxuICAgICAgICAgICAgaG9tZUFjY291bnRJZDogYWNjb3VudC5ob21lQWNjb3VudElkLFxyXG4gICAgICAgICAgICBlbnZpcm9ubWVudDogYWNjb3VudC5lbnZpcm9ubWVudCxcclxuICAgICAgICAgICAgY3JlZGVudGlhbFR5cGU6IENyZWRlbnRpYWxUeXBlLklEX1RPS0VOLFxyXG4gICAgICAgICAgICBjbGllbnRJZDogY2xpZW50SWQsXHJcbiAgICAgICAgICAgIHJlYWxtOiBhY2NvdW50LnRlbmFudElkLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGNyZWRlbnRpYWxDYWNoZSA9IHRoaXMuZ2V0Q3JlZGVudGlhbHNGaWx0ZXJlZEJ5KGlkVG9rZW5GaWx0ZXIpO1xyXG4gICAgICAgIHZhciBpZFRva2VucyA9IE9iamVjdC5rZXlzKGNyZWRlbnRpYWxDYWNoZS5pZFRva2VucykubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGNyZWRlbnRpYWxDYWNoZS5pZFRva2Vuc1trZXldOyB9KTtcclxuICAgICAgICB2YXIgbnVtSWRUb2tlbnMgPSBpZFRva2Vucy5sZW5ndGg7XHJcbiAgICAgICAgaWYgKG51bUlkVG9rZW5zIDwgMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobnVtSWRUb2tlbnMgPiAxKSB7XHJcbiAgICAgICAgICAgIHRocm93IENsaWVudEF1dGhFcnJvci5jcmVhdGVNdWx0aXBsZU1hdGNoaW5nVG9rZW5zSW5DYWNoZUVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpZFRva2Vuc1swXTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHJpZXZlIEFjY2Vzc1Rva2VuRW50aXR5IGZyb20gY2FjaGVcclxuICAgICAqIEBwYXJhbSBjbGllbnRJZFxyXG4gICAgICogQHBhcmFtIGFjY291bnRcclxuICAgICAqIEBwYXJhbSBzY29wZXNcclxuICAgICAqIEBwYXJhbSBhdXRoU2NoZW1lXHJcbiAgICAgKi9cclxuICAgIENhY2hlTWFuYWdlci5wcm90b3R5cGUucmVhZEFjY2Vzc1Rva2VuRnJvbUNhY2hlID0gZnVuY3Rpb24gKGNsaWVudElkLCBhY2NvdW50LCByZXF1ZXN0KSB7XHJcbiAgICAgICAgdmFyIHNjb3BlcyA9IG5ldyBTY29wZVNldChyZXF1ZXN0LnNjb3BlcyB8fCBbXSk7XHJcbiAgICAgICAgdmFyIGF1dGhTY2hlbWUgPSByZXF1ZXN0LmF1dGhlbnRpY2F0aW9uU2NoZW1lIHx8IEF1dGhlbnRpY2F0aW9uU2NoZW1lLkJFQVJFUjtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIERpc3Rpbmd1aXNoIGJldHdlZW4gQmVhcmVyIGFuZCBQb1AvU1NIIHRva2VuIGNhY2hlIHR5cGVzXHJcbiAgICAgICAgICogQ2FzdCB0byBsb3dlcmNhc2UgdG8gaGFuZGxlIFwiYmVhcmVyXCIgZnJvbSBBREZTXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdmFyIGNyZWRlbnRpYWxUeXBlID0gKGF1dGhTY2hlbWUgJiYgYXV0aFNjaGVtZS50b0xvd2VyQ2FzZSgpICE9PSBBdXRoZW50aWNhdGlvblNjaGVtZS5CRUFSRVIudG9Mb3dlckNhc2UoKSkgPyBDcmVkZW50aWFsVHlwZS5BQ0NFU1NfVE9LRU5fV0lUSF9BVVRIX1NDSEVNRSA6IENyZWRlbnRpYWxUeXBlLkFDQ0VTU19UT0tFTjtcclxuICAgICAgICB2YXIgYWNjZXNzVG9rZW5GaWx0ZXIgPSB7XHJcbiAgICAgICAgICAgIGhvbWVBY2NvdW50SWQ6IGFjY291bnQuaG9tZUFjY291bnRJZCxcclxuICAgICAgICAgICAgZW52aXJvbm1lbnQ6IGFjY291bnQuZW52aXJvbm1lbnQsXHJcbiAgICAgICAgICAgIGNyZWRlbnRpYWxUeXBlOiBjcmVkZW50aWFsVHlwZSxcclxuICAgICAgICAgICAgY2xpZW50SWQ6IGNsaWVudElkLFxyXG4gICAgICAgICAgICByZWFsbTogYWNjb3VudC50ZW5hbnRJZCxcclxuICAgICAgICAgICAgdGFyZ2V0OiBzY29wZXMucHJpbnRTY29wZXNMb3dlckNhc2UoKSxcclxuICAgICAgICAgICAgdG9rZW5UeXBlOiBhdXRoU2NoZW1lLFxyXG4gICAgICAgICAgICBrZXlJZDogcmVxdWVzdC5zc2hLaWQsXHJcbiAgICAgICAgICAgIHJlcXVlc3RlZENsYWltc0hhc2g6IHJlcXVlc3QucmVxdWVzdGVkQ2xhaW1zSGFzaFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGNyZWRlbnRpYWxDYWNoZSA9IHRoaXMuZ2V0Q3JlZGVudGlhbHNGaWx0ZXJlZEJ5KGFjY2Vzc1Rva2VuRmlsdGVyKTtcclxuICAgICAgICB2YXIgYWNjZXNzVG9rZW5zID0gT2JqZWN0LmtleXMoY3JlZGVudGlhbENhY2hlLmFjY2Vzc1Rva2VucykubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGNyZWRlbnRpYWxDYWNoZS5hY2Nlc3NUb2tlbnNba2V5XTsgfSk7XHJcbiAgICAgICAgdmFyIG51bUFjY2Vzc1Rva2VucyA9IGFjY2Vzc1Rva2Vucy5sZW5ndGg7XHJcbiAgICAgICAgaWYgKG51bUFjY2Vzc1Rva2VucyA8IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG51bUFjY2Vzc1Rva2VucyA+IDEpIHtcclxuICAgICAgICAgICAgdGhyb3cgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZU11bHRpcGxlTWF0Y2hpbmdUb2tlbnNJbkNhY2hlRXJyb3IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFjY2Vzc1Rva2Vuc1swXTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciB0byByZXRyaWV2ZSB0aGUgYXBwcm9wcmlhdGUgcmVmcmVzaCB0b2tlbiBmcm9tIGNhY2hlXHJcbiAgICAgKiBAcGFyYW0gY2xpZW50SWRcclxuICAgICAqIEBwYXJhbSBhY2NvdW50XHJcbiAgICAgKiBAcGFyYW0gZmFtaWx5UlRcclxuICAgICAqL1xyXG4gICAgQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5yZWFkUmVmcmVzaFRva2VuRnJvbUNhY2hlID0gZnVuY3Rpb24gKGNsaWVudElkLCBhY2NvdW50LCBmYW1pbHlSVCkge1xyXG4gICAgICAgIHZhciBpZCA9IGZhbWlseVJUID8gVEhFX0ZBTUlMWV9JRCA6IHVuZGVmaW5lZDtcclxuICAgICAgICB2YXIgcmVmcmVzaFRva2VuRmlsdGVyID0ge1xyXG4gICAgICAgICAgICBob21lQWNjb3VudElkOiBhY2NvdW50LmhvbWVBY2NvdW50SWQsXHJcbiAgICAgICAgICAgIGVudmlyb25tZW50OiBhY2NvdW50LmVudmlyb25tZW50LFxyXG4gICAgICAgICAgICBjcmVkZW50aWFsVHlwZTogQ3JlZGVudGlhbFR5cGUuUkVGUkVTSF9UT0tFTixcclxuICAgICAgICAgICAgY2xpZW50SWQ6IGNsaWVudElkLFxyXG4gICAgICAgICAgICBmYW1pbHlJZDogaWRcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBjcmVkZW50aWFsQ2FjaGUgPSB0aGlzLmdldENyZWRlbnRpYWxzRmlsdGVyZWRCeShyZWZyZXNoVG9rZW5GaWx0ZXIpO1xyXG4gICAgICAgIHZhciByZWZyZXNoVG9rZW5zID0gT2JqZWN0LmtleXMoY3JlZGVudGlhbENhY2hlLnJlZnJlc2hUb2tlbnMpLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBjcmVkZW50aWFsQ2FjaGUucmVmcmVzaFRva2Vuc1trZXldOyB9KTtcclxuICAgICAgICB2YXIgbnVtUmVmcmVzaFRva2VucyA9IHJlZnJlc2hUb2tlbnMubGVuZ3RoO1xyXG4gICAgICAgIGlmIChudW1SZWZyZXNoVG9rZW5zIDwgMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYWRkcmVzcyB0aGUgZWxzZSBjYXNlIGFmdGVyIHJlbW92ZSBmdW5jdGlvbnMgYWRkcmVzcyBlbnZpcm9ubWVudCBhbGlhc2VzXHJcbiAgICAgICAgcmV0dXJuIHJlZnJlc2hUb2tlbnNbMF07XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXRyaWV2ZSBBcHBNZXRhZGF0YUVudGl0eSBmcm9tIGNhY2hlXHJcbiAgICAgKi9cclxuICAgIENhY2hlTWFuYWdlci5wcm90b3R5cGUucmVhZEFwcE1ldGFkYXRhRnJvbUNhY2hlID0gZnVuY3Rpb24gKGVudmlyb25tZW50LCBjbGllbnRJZCkge1xyXG4gICAgICAgIHZhciBhcHBNZXRhZGF0YUZpbHRlciA9IHtcclxuICAgICAgICAgICAgZW52aXJvbm1lbnQ6IGVudmlyb25tZW50LFxyXG4gICAgICAgICAgICBjbGllbnRJZDogY2xpZW50SWQsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgYXBwTWV0YWRhdGEgPSB0aGlzLmdldEFwcE1ldGFkYXRhRmlsdGVyZWRCeShhcHBNZXRhZGF0YUZpbHRlcik7XHJcbiAgICAgICAgdmFyIGFwcE1ldGFkYXRhRW50cmllcyA9IE9iamVjdC5rZXlzKGFwcE1ldGFkYXRhKS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gYXBwTWV0YWRhdGFba2V5XTsgfSk7XHJcbiAgICAgICAgdmFyIG51bUFwcE1ldGFkYXRhID0gYXBwTWV0YWRhdGFFbnRyaWVzLmxlbmd0aDtcclxuICAgICAgICBpZiAobnVtQXBwTWV0YWRhdGEgPCAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChudW1BcHBNZXRhZGF0YSA+IDEpIHtcclxuICAgICAgICAgICAgdGhyb3cgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZU11bHRpcGxlTWF0Y2hpbmdBcHBNZXRhZGF0YUluQ2FjaGVFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXBwTWV0YWRhdGFFbnRyaWVzWzBdO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIHRoZSBmYW1pbHlfaWQgdmFsdWUgYXNzb2NpYXRlZCAgd2l0aCBGT0NJXHJcbiAgICAgKiBAcGFyYW0gZW52aXJvbm1lbnRcclxuICAgICAqIEBwYXJhbSBjbGllbnRJZFxyXG4gICAgICovXHJcbiAgICBDYWNoZU1hbmFnZXIucHJvdG90eXBlLmlzQXBwTWV0YWRhdGFGT0NJID0gZnVuY3Rpb24gKGVudmlyb25tZW50LCBjbGllbnRJZCkge1xyXG4gICAgICAgIHZhciBhcHBNZXRhZGF0YSA9IHRoaXMucmVhZEFwcE1ldGFkYXRhRnJvbUNhY2hlKGVudmlyb25tZW50LCBjbGllbnRJZCk7XHJcbiAgICAgICAgcmV0dXJuICEhKGFwcE1ldGFkYXRhICYmIGFwcE1ldGFkYXRhLmZhbWlseUlkID09PSBUSEVfRkFNSUxZX0lEKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIGhlbHBlciB0byBtYXRjaCBhY2NvdW50IGlkc1xyXG4gICAgICogQHBhcmFtIHZhbHVlXHJcbiAgICAgKiBAcGFyYW0gaG9tZUFjY291bnRJZFxyXG4gICAgICovXHJcbiAgICBDYWNoZU1hbmFnZXIucHJvdG90eXBlLm1hdGNoSG9tZUFjY291bnRJZCA9IGZ1bmN0aW9uIChlbnRpdHksIGhvbWVBY2NvdW50SWQpIHtcclxuICAgICAgICByZXR1cm4gISEoZW50aXR5LmhvbWVBY2NvdW50SWQgJiYgaG9tZUFjY291bnRJZCA9PT0gZW50aXR5LmhvbWVBY2NvdW50SWQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogaGVscGVyIHRvIG1hdGNoIGFzc2VydGlvblxyXG4gICAgICogQHBhcmFtIHZhbHVlXHJcbiAgICAgKiBAcGFyYW0gb2JvQXNzZXJ0aW9uXHJcbiAgICAgKi9cclxuICAgIENhY2hlTWFuYWdlci5wcm90b3R5cGUubWF0Y2hPYm9Bc3NlcnRpb24gPSBmdW5jdGlvbiAoZW50aXR5LCBvYm9Bc3NlcnRpb24pIHtcclxuICAgICAgICByZXR1cm4gISEoZW50aXR5Lm9ib0Fzc2VydGlvbiAmJiBvYm9Bc3NlcnRpb24gPT09IGVudGl0eS5vYm9Bc3NlcnRpb24pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogaGVscGVyIHRvIG1hdGNoIGVudmlyb25tZW50XHJcbiAgICAgKiBAcGFyYW0gdmFsdWVcclxuICAgICAqIEBwYXJhbSBlbnZpcm9ubWVudFxyXG4gICAgICovXHJcbiAgICBDYWNoZU1hbmFnZXIucHJvdG90eXBlLm1hdGNoRW52aXJvbm1lbnQgPSBmdW5jdGlvbiAoZW50aXR5LCBlbnZpcm9ubWVudCkge1xyXG4gICAgICAgIHZhciBjbG91ZE1ldGFkYXRhID0gdGhpcy5nZXRBdXRob3JpdHlNZXRhZGF0YUJ5QWxpYXMoZW52aXJvbm1lbnQpO1xyXG4gICAgICAgIGlmIChjbG91ZE1ldGFkYXRhICYmIGNsb3VkTWV0YWRhdGEuYWxpYXNlcy5pbmRleE9mKGVudGl0eS5lbnZpcm9ubWVudCkgPiAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogaGVscGVyIHRvIG1hdGNoIGNyZWRlbnRpYWwgdHlwZVxyXG4gICAgICogQHBhcmFtIGVudGl0eVxyXG4gICAgICogQHBhcmFtIGNyZWRlbnRpYWxUeXBlXHJcbiAgICAgKi9cclxuICAgIENhY2hlTWFuYWdlci5wcm90b3R5cGUubWF0Y2hDcmVkZW50aWFsVHlwZSA9IGZ1bmN0aW9uIChlbnRpdHksIGNyZWRlbnRpYWxUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIChlbnRpdHkuY3JlZGVudGlhbFR5cGUgJiYgY3JlZGVudGlhbFR5cGUudG9Mb3dlckNhc2UoKSA9PT0gZW50aXR5LmNyZWRlbnRpYWxUeXBlLnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogaGVscGVyIHRvIG1hdGNoIGNsaWVudCBpZHNcclxuICAgICAqIEBwYXJhbSBlbnRpdHlcclxuICAgICAqIEBwYXJhbSBjbGllbnRJZFxyXG4gICAgICovXHJcbiAgICBDYWNoZU1hbmFnZXIucHJvdG90eXBlLm1hdGNoQ2xpZW50SWQgPSBmdW5jdGlvbiAoZW50aXR5LCBjbGllbnRJZCkge1xyXG4gICAgICAgIHJldHVybiAhIShlbnRpdHkuY2xpZW50SWQgJiYgY2xpZW50SWQgPT09IGVudGl0eS5jbGllbnRJZCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBoZWxwZXIgdG8gbWF0Y2ggZmFtaWx5IGlkc1xyXG4gICAgICogQHBhcmFtIGVudGl0eVxyXG4gICAgICogQHBhcmFtIGZhbWlseUlkXHJcbiAgICAgKi9cclxuICAgIENhY2hlTWFuYWdlci5wcm90b3R5cGUubWF0Y2hGYW1pbHlJZCA9IGZ1bmN0aW9uIChlbnRpdHksIGZhbWlseUlkKSB7XHJcbiAgICAgICAgcmV0dXJuICEhKGVudGl0eS5mYW1pbHlJZCAmJiBmYW1pbHlJZCA9PT0gZW50aXR5LmZhbWlseUlkKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIGhlbHBlciB0byBtYXRjaCByZWFsbVxyXG4gICAgICogQHBhcmFtIGVudGl0eVxyXG4gICAgICogQHBhcmFtIHJlYWxtXHJcbiAgICAgKi9cclxuICAgIENhY2hlTWFuYWdlci5wcm90b3R5cGUubWF0Y2hSZWFsbSA9IGZ1bmN0aW9uIChlbnRpdHksIHJlYWxtKSB7XHJcbiAgICAgICAgcmV0dXJuICEhKGVudGl0eS5yZWFsbSAmJiByZWFsbSA9PT0gZW50aXR5LnJlYWxtKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdGFyZ2V0IHNjb3BlcyBhcmUgYSBzdWJzZXQgb2YgdGhlIGN1cnJlbnQgZW50aXR5J3Mgc2NvcGVzLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAgICAgKiBAcGFyYW0gZW50aXR5XHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0XHJcbiAgICAgKi9cclxuICAgIENhY2hlTWFuYWdlci5wcm90b3R5cGUubWF0Y2hUYXJnZXQgPSBmdW5jdGlvbiAoZW50aXR5LCB0YXJnZXQpIHtcclxuICAgICAgICB2YXIgaXNOb3RBY2Nlc3NUb2tlbkNyZWRlbnRpYWwgPSAoZW50aXR5LmNyZWRlbnRpYWxUeXBlICE9PSBDcmVkZW50aWFsVHlwZS5BQ0NFU1NfVE9LRU4gJiYgZW50aXR5LmNyZWRlbnRpYWxUeXBlICE9PSBDcmVkZW50aWFsVHlwZS5BQ0NFU1NfVE9LRU5fV0lUSF9BVVRIX1NDSEVNRSk7XHJcbiAgICAgICAgaWYgKGlzTm90QWNjZXNzVG9rZW5DcmVkZW50aWFsIHx8ICFlbnRpdHkudGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGVudGl0eVNjb3BlU2V0ID0gU2NvcGVTZXQuZnJvbVN0cmluZyhlbnRpdHkudGFyZ2V0KTtcclxuICAgICAgICB2YXIgcmVxdWVzdFRhcmdldFNjb3BlU2V0ID0gU2NvcGVTZXQuZnJvbVN0cmluZyh0YXJnZXQpO1xyXG4gICAgICAgIGlmICghcmVxdWVzdFRhcmdldFNjb3BlU2V0LmNvbnRhaW5zT25seU9JRENTY29wZXMoKSkge1xyXG4gICAgICAgICAgICByZXF1ZXN0VGFyZ2V0U2NvcGVTZXQucmVtb3ZlT0lEQ1Njb3BlcygpOyAvLyBpZ25vcmUgT0lEQyBzY29wZXNcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJlcXVlc3RUYXJnZXRTY29wZVNldC5yZW1vdmVTY29wZShDb25zdGFudHMuT0ZGTElORV9BQ0NFU1NfU0NPUEUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZW50aXR5U2NvcGVTZXQuY29udGFpbnNTY29wZVNldChyZXF1ZXN0VGFyZ2V0U2NvcGVTZXQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBjcmVkZW50aWFsJ3MgdG9rZW5UeXBlIG9yIEF1dGhlbnRpY2F0aW9uIFNjaGVtZSBtYXRjaGVzIHRoZSBvbmUgaW4gdGhlIHJlcXVlc3QsIGZhbHNlIG90aGVyd2lzZVxyXG4gICAgICogQHBhcmFtIGVudGl0eVxyXG4gICAgICogQHBhcmFtIHRva2VuVHlwZVxyXG4gICAgICovXHJcbiAgICBDYWNoZU1hbmFnZXIucHJvdG90eXBlLm1hdGNoVG9rZW5UeXBlID0gZnVuY3Rpb24gKGVudGl0eSwgdG9rZW5UeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuICEhKGVudGl0eS50b2tlblR5cGUgJiYgZW50aXR5LnRva2VuVHlwZSA9PT0gdG9rZW5UeXBlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgY3JlZGVudGlhbCdzIGtleUlkIG1hdGNoZXMgdGhlIG9uZSBpbiB0aGUgcmVxdWVzdCwgZmFsc2Ugb3RoZXJ3aXNlXHJcbiAgICAgKiBAcGFyYW0gZW50aXR5XHJcbiAgICAgKiBAcGFyYW0gdG9rZW5UeXBlXHJcbiAgICAgKi9cclxuICAgIENhY2hlTWFuYWdlci5wcm90b3R5cGUubWF0Y2hLZXlJZCA9IGZ1bmN0aW9uIChlbnRpdHksIGtleUlkKSB7XHJcbiAgICAgICAgcmV0dXJuICEhKGVudGl0eS5rZXlJZCAmJiBlbnRpdHkua2V5SWQgPT09IGtleUlkKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgaWYgYSBnaXZlbiBjYWNoZSBlbnRpdHkgaXMgb2YgdGhlIHR5cGUgYXBwbWV0YWRhdGFcclxuICAgICAqIEBwYXJhbSBrZXlcclxuICAgICAqL1xyXG4gICAgQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5pc0FwcE1ldGFkYXRhID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHJldHVybiBrZXkuaW5kZXhPZihBUFBfTUVUQURBVEEpICE9PSAtMTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgaWYgYSBnaXZlbiBjYWNoZSBlbnRpdHkgaXMgb2YgdGhlIHR5cGUgYXV0aG9yaXR5bWV0YWRhdGFcclxuICAgICAqIEBwYXJhbSBrZXlcclxuICAgICAqL1xyXG4gICAgQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5pc0F1dGhvcml0eU1ldGFkYXRhID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHJldHVybiBrZXkuaW5kZXhPZihBVVRIT1JJVFlfTUVUQURBVEFfQ09OU1RBTlRTLkNBQ0hFX0tFWSkgIT09IC0xO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyBjYWNoZSBrZXkgdXNlZCBmb3IgY2xvdWQgaW5zdGFuY2UgbWV0YWRhdGFcclxuICAgICAqL1xyXG4gICAgQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5nZW5lcmF0ZUF1dGhvcml0eU1ldGFkYXRhQ2FjaGVLZXkgPSBmdW5jdGlvbiAoYXV0aG9yaXR5KSB7XHJcbiAgICAgICAgcmV0dXJuIEFVVEhPUklUWV9NRVRBREFUQV9DT05TVEFOVFMuQ0FDSEVfS0VZICsgXCItXCIgKyB0aGlzLmNsaWVudElkICsgXCItXCIgKyBhdXRob3JpdHk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBzcGVjaWZpYyBjcmVkZW50aWFsIChJZFRva2VuL0FjY2Vzc1Rva2VuL1JlZnJlc2hUb2tlbikgZnJvbSB0aGUgY2FjaGVcclxuICAgICAqIEBwYXJhbSBrZXlcclxuICAgICAqIEBwYXJhbSBjcmVkVHlwZVxyXG4gICAgICovXHJcbiAgICBDYWNoZU1hbmFnZXIucHJvdG90eXBlLmdldFNwZWNpZmljQ3JlZGVudGlhbCA9IGZ1bmN0aW9uIChrZXksIGNyZWRUeXBlKSB7XHJcbiAgICAgICAgc3dpdGNoIChjcmVkVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIENyZWRlbnRpYWxUeXBlLklEX1RPS0VOOiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRJZFRva2VuQ3JlZGVudGlhbChrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgQ3JlZGVudGlhbFR5cGUuQUNDRVNTX1RPS0VOOlxyXG4gICAgICAgICAgICBjYXNlIENyZWRlbnRpYWxUeXBlLkFDQ0VTU19UT0tFTl9XSVRIX0FVVEhfU0NIRU1FOiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRBY2Nlc3NUb2tlbkNyZWRlbnRpYWwoa2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIENyZWRlbnRpYWxUeXBlLlJFRlJFU0hfVE9LRU46IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFJlZnJlc2hUb2tlbkNyZWRlbnRpYWwoa2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIHRvIGNvbnZlcnQgc2VyaWFsaXplZCBkYXRhIHRvIG9iamVjdFxyXG4gICAgICogQHBhcmFtIG9ialxyXG4gICAgICogQHBhcmFtIGpzb25cclxuICAgICAqL1xyXG4gICAgQ2FjaGVNYW5hZ2VyLnRvT2JqZWN0ID0gZnVuY3Rpb24gKG9iaiwganNvbikge1xyXG4gICAgICAgIGZvciAodmFyIHByb3BlcnR5TmFtZSBpbiBqc29uKSB7XHJcbiAgICAgICAgICAgIG9ialtwcm9wZXJ0eU5hbWVdID0ganNvbltwcm9wZXJ0eU5hbWVdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDYWNoZU1hbmFnZXI7XHJcbn0oKSk7XHJcbnZhciBEZWZhdWx0U3RvcmFnZUNsYXNzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKERlZmF1bHRTdG9yYWdlQ2xhc3MsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBEZWZhdWx0U3RvcmFnZUNsYXNzKCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIERlZmF1bHRTdG9yYWdlQ2xhc3MucHJvdG90eXBlLnNldEFjY291bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG5vdEltcGxFcnIgPSBcIlN0b3JhZ2UgaW50ZXJmYWNlIC0gc2V0QWNjb3VudCgpIGhhcyBub3QgYmVlbiBpbXBsZW1lbnRlZCBmb3IgdGhlIGNhY2hlU3RvcmFnZSBpbnRlcmZhY2UuXCI7XHJcbiAgICAgICAgdGhyb3cgQXV0aEVycm9yLmNyZWF0ZVVuZXhwZWN0ZWRFcnJvcihub3RJbXBsRXJyKTtcclxuICAgIH07XHJcbiAgICBEZWZhdWx0U3RvcmFnZUNsYXNzLnByb3RvdHlwZS5nZXRBY2NvdW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBub3RJbXBsRXJyID0gXCJTdG9yYWdlIGludGVyZmFjZSAtIGdldEFjY291bnQoKSBoYXMgbm90IGJlZW4gaW1wbGVtZW50ZWQgZm9yIHRoZSBjYWNoZVN0b3JhZ2UgaW50ZXJmYWNlLlwiO1xyXG4gICAgICAgIHRocm93IEF1dGhFcnJvci5jcmVhdGVVbmV4cGVjdGVkRXJyb3Iobm90SW1wbEVycik7XHJcbiAgICB9O1xyXG4gICAgRGVmYXVsdFN0b3JhZ2VDbGFzcy5wcm90b3R5cGUuc2V0SWRUb2tlbkNyZWRlbnRpYWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG5vdEltcGxFcnIgPSBcIlN0b3JhZ2UgaW50ZXJmYWNlIC0gc2V0SWRUb2tlbkNyZWRlbnRpYWwoKSBoYXMgbm90IGJlZW4gaW1wbGVtZW50ZWQgZm9yIHRoZSBjYWNoZVN0b3JhZ2UgaW50ZXJmYWNlLlwiO1xyXG4gICAgICAgIHRocm93IEF1dGhFcnJvci5jcmVhdGVVbmV4cGVjdGVkRXJyb3Iobm90SW1wbEVycik7XHJcbiAgICB9O1xyXG4gICAgRGVmYXVsdFN0b3JhZ2VDbGFzcy5wcm90b3R5cGUuZ2V0SWRUb2tlbkNyZWRlbnRpYWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG5vdEltcGxFcnIgPSBcIlN0b3JhZ2UgaW50ZXJmYWNlIC0gZ2V0SWRUb2tlbkNyZWRlbnRpYWwoKSBoYXMgbm90IGJlZW4gaW1wbGVtZW50ZWQgZm9yIHRoZSBjYWNoZVN0b3JhZ2UgaW50ZXJmYWNlLlwiO1xyXG4gICAgICAgIHRocm93IEF1dGhFcnJvci5jcmVhdGVVbmV4cGVjdGVkRXJyb3Iobm90SW1wbEVycik7XHJcbiAgICB9O1xyXG4gICAgRGVmYXVsdFN0b3JhZ2VDbGFzcy5wcm90b3R5cGUuc2V0QWNjZXNzVG9rZW5DcmVkZW50aWFsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBub3RJbXBsRXJyID0gXCJTdG9yYWdlIGludGVyZmFjZSAtIHNldEFjY2Vzc1Rva2VuQ3JlZGVudGlhbCgpIGhhcyBub3QgYmVlbiBpbXBsZW1lbnRlZCBmb3IgdGhlIGNhY2hlU3RvcmFnZSBpbnRlcmZhY2UuXCI7XHJcbiAgICAgICAgdGhyb3cgQXV0aEVycm9yLmNyZWF0ZVVuZXhwZWN0ZWRFcnJvcihub3RJbXBsRXJyKTtcclxuICAgIH07XHJcbiAgICBEZWZhdWx0U3RvcmFnZUNsYXNzLnByb3RvdHlwZS5nZXRBY2Nlc3NUb2tlbkNyZWRlbnRpYWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG5vdEltcGxFcnIgPSBcIlN0b3JhZ2UgaW50ZXJmYWNlIC0gZ2V0QWNjZXNzVG9rZW5DcmVkZW50aWFsKCkgaGFzIG5vdCBiZWVuIGltcGxlbWVudGVkIGZvciB0aGUgY2FjaGVTdG9yYWdlIGludGVyZmFjZS5cIjtcclxuICAgICAgICB0aHJvdyBBdXRoRXJyb3IuY3JlYXRlVW5leHBlY3RlZEVycm9yKG5vdEltcGxFcnIpO1xyXG4gICAgfTtcclxuICAgIERlZmF1bHRTdG9yYWdlQ2xhc3MucHJvdG90eXBlLnNldFJlZnJlc2hUb2tlbkNyZWRlbnRpYWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG5vdEltcGxFcnIgPSBcIlN0b3JhZ2UgaW50ZXJmYWNlIC0gc2V0UmVmcmVzaFRva2VuQ3JlZGVudGlhbCgpIGhhcyBub3QgYmVlbiBpbXBsZW1lbnRlZCBmb3IgdGhlIGNhY2hlU3RvcmFnZSBpbnRlcmZhY2UuXCI7XHJcbiAgICAgICAgdGhyb3cgQXV0aEVycm9yLmNyZWF0ZVVuZXhwZWN0ZWRFcnJvcihub3RJbXBsRXJyKTtcclxuICAgIH07XHJcbiAgICBEZWZhdWx0U3RvcmFnZUNsYXNzLnByb3RvdHlwZS5nZXRSZWZyZXNoVG9rZW5DcmVkZW50aWFsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBub3RJbXBsRXJyID0gXCJTdG9yYWdlIGludGVyZmFjZSAtIGdldFJlZnJlc2hUb2tlbkNyZWRlbnRpYWwoKSBoYXMgbm90IGJlZW4gaW1wbGVtZW50ZWQgZm9yIHRoZSBjYWNoZVN0b3JhZ2UgaW50ZXJmYWNlLlwiO1xyXG4gICAgICAgIHRocm93IEF1dGhFcnJvci5jcmVhdGVVbmV4cGVjdGVkRXJyb3Iobm90SW1wbEVycik7XHJcbiAgICB9O1xyXG4gICAgRGVmYXVsdFN0b3JhZ2VDbGFzcy5wcm90b3R5cGUuc2V0QXBwTWV0YWRhdGEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG5vdEltcGxFcnIgPSBcIlN0b3JhZ2UgaW50ZXJmYWNlIC0gc2V0QXBwTWV0YWRhdGEoKSBoYXMgbm90IGJlZW4gaW1wbGVtZW50ZWQgZm9yIHRoZSBjYWNoZVN0b3JhZ2UgaW50ZXJmYWNlLlwiO1xyXG4gICAgICAgIHRocm93IEF1dGhFcnJvci5jcmVhdGVVbmV4cGVjdGVkRXJyb3Iobm90SW1wbEVycik7XHJcbiAgICB9O1xyXG4gICAgRGVmYXVsdFN0b3JhZ2VDbGFzcy5wcm90b3R5cGUuZ2V0QXBwTWV0YWRhdGEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG5vdEltcGxFcnIgPSBcIlN0b3JhZ2UgaW50ZXJmYWNlIC0gZ2V0QXBwTWV0YWRhdGEoKSBoYXMgbm90IGJlZW4gaW1wbGVtZW50ZWQgZm9yIHRoZSBjYWNoZVN0b3JhZ2UgaW50ZXJmYWNlLlwiO1xyXG4gICAgICAgIHRocm93IEF1dGhFcnJvci5jcmVhdGVVbmV4cGVjdGVkRXJyb3Iobm90SW1wbEVycik7XHJcbiAgICB9O1xyXG4gICAgRGVmYXVsdFN0b3JhZ2VDbGFzcy5wcm90b3R5cGUuc2V0U2VydmVyVGVsZW1ldHJ5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBub3RJbXBsRXJyID0gXCJTdG9yYWdlIGludGVyZmFjZSAtIHNldFNlcnZlclRlbGVtZXRyeSgpIGhhcyBub3QgYmVlbiBpbXBsZW1lbnRlZCBmb3IgdGhlIGNhY2hlU3RvcmFnZSBpbnRlcmZhY2UuXCI7XHJcbiAgICAgICAgdGhyb3cgQXV0aEVycm9yLmNyZWF0ZVVuZXhwZWN0ZWRFcnJvcihub3RJbXBsRXJyKTtcclxuICAgIH07XHJcbiAgICBEZWZhdWx0U3RvcmFnZUNsYXNzLnByb3RvdHlwZS5nZXRTZXJ2ZXJUZWxlbWV0cnkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG5vdEltcGxFcnIgPSBcIlN0b3JhZ2UgaW50ZXJmYWNlIC0gZ2V0U2VydmVyVGVsZW1ldHJ5KCkgaGFzIG5vdCBiZWVuIGltcGxlbWVudGVkIGZvciB0aGUgY2FjaGVTdG9yYWdlIGludGVyZmFjZS5cIjtcclxuICAgICAgICB0aHJvdyBBdXRoRXJyb3IuY3JlYXRlVW5leHBlY3RlZEVycm9yKG5vdEltcGxFcnIpO1xyXG4gICAgfTtcclxuICAgIERlZmF1bHRTdG9yYWdlQ2xhc3MucHJvdG90eXBlLnNldEF1dGhvcml0eU1ldGFkYXRhID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBub3RJbXBsRXJyID0gXCJTdG9yYWdlIGludGVyZmFjZSAtIHNldEF1dGhvcml0eU1ldGFkYXRhKCkgaGFzIG5vdCBiZWVuIGltcGxlbWVudGVkIGZvciB0aGUgY2FjaGVTdG9yYWdlIGludGVyZmFjZS5cIjtcclxuICAgICAgICB0aHJvdyBBdXRoRXJyb3IuY3JlYXRlVW5leHBlY3RlZEVycm9yKG5vdEltcGxFcnIpO1xyXG4gICAgfTtcclxuICAgIERlZmF1bHRTdG9yYWdlQ2xhc3MucHJvdG90eXBlLmdldEF1dGhvcml0eU1ldGFkYXRhID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBub3RJbXBsRXJyID0gXCJTdG9yYWdlIGludGVyZmFjZSAtIGdldEF1dGhvcml0eU1ldGFkYXRhKCkgaGFzIG5vdCBiZWVuIGltcGxlbWVudGVkIGZvciB0aGUgY2FjaGVTdG9yYWdlIGludGVyZmFjZS5cIjtcclxuICAgICAgICB0aHJvdyBBdXRoRXJyb3IuY3JlYXRlVW5leHBlY3RlZEVycm9yKG5vdEltcGxFcnIpO1xyXG4gICAgfTtcclxuICAgIERlZmF1bHRTdG9yYWdlQ2xhc3MucHJvdG90eXBlLmdldEF1dGhvcml0eU1ldGFkYXRhS2V5cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbm90SW1wbEVyciA9IFwiU3RvcmFnZSBpbnRlcmZhY2UgLSBnZXRBdXRob3JpdHlNZXRhZGF0YUtleXMoKSBoYXMgbm90IGJlZW4gaW1wbGVtZW50ZWQgZm9yIHRoZSBjYWNoZVN0b3JhZ2UgaW50ZXJmYWNlLlwiO1xyXG4gICAgICAgIHRocm93IEF1dGhFcnJvci5jcmVhdGVVbmV4cGVjdGVkRXJyb3Iobm90SW1wbEVycik7XHJcbiAgICB9O1xyXG4gICAgRGVmYXVsdFN0b3JhZ2VDbGFzcy5wcm90b3R5cGUuc2V0VGhyb3R0bGluZ0NhY2hlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBub3RJbXBsRXJyID0gXCJTdG9yYWdlIGludGVyZmFjZSAtIHNldFRocm90dGxpbmdDYWNoZSgpIGhhcyBub3QgYmVlbiBpbXBsZW1lbnRlZCBmb3IgdGhlIGNhY2hlU3RvcmFnZSBpbnRlcmZhY2UuXCI7XHJcbiAgICAgICAgdGhyb3cgQXV0aEVycm9yLmNyZWF0ZVVuZXhwZWN0ZWRFcnJvcihub3RJbXBsRXJyKTtcclxuICAgIH07XHJcbiAgICBEZWZhdWx0U3RvcmFnZUNsYXNzLnByb3RvdHlwZS5nZXRUaHJvdHRsaW5nQ2FjaGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG5vdEltcGxFcnIgPSBcIlN0b3JhZ2UgaW50ZXJmYWNlIC0gZ2V0VGhyb3R0bGluZ0NhY2hlKCkgaGFzIG5vdCBiZWVuIGltcGxlbWVudGVkIGZvciB0aGUgY2FjaGVTdG9yYWdlIGludGVyZmFjZS5cIjtcclxuICAgICAgICB0aHJvdyBBdXRoRXJyb3IuY3JlYXRlVW5leHBlY3RlZEVycm9yKG5vdEltcGxFcnIpO1xyXG4gICAgfTtcclxuICAgIERlZmF1bHRTdG9yYWdlQ2xhc3MucHJvdG90eXBlLnJlbW92ZUl0ZW0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG5vdEltcGxFcnIgPSBcIlN0b3JhZ2UgaW50ZXJmYWNlIC0gcmVtb3ZlSXRlbSgpIGhhcyBub3QgYmVlbiBpbXBsZW1lbnRlZCBmb3IgdGhlIGNhY2hlU3RvcmFnZSBpbnRlcmZhY2UuXCI7XHJcbiAgICAgICAgdGhyb3cgQXV0aEVycm9yLmNyZWF0ZVVuZXhwZWN0ZWRFcnJvcihub3RJbXBsRXJyKTtcclxuICAgIH07XHJcbiAgICBEZWZhdWx0U3RvcmFnZUNsYXNzLnByb3RvdHlwZS5jb250YWluc0tleSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbm90SW1wbEVyciA9IFwiU3RvcmFnZSBpbnRlcmZhY2UgLSBjb250YWluc0tleSgpIGhhcyBub3QgYmVlbiBpbXBsZW1lbnRlZCBmb3IgdGhlIGNhY2hlU3RvcmFnZSBpbnRlcmZhY2UuXCI7XHJcbiAgICAgICAgdGhyb3cgQXV0aEVycm9yLmNyZWF0ZVVuZXhwZWN0ZWRFcnJvcihub3RJbXBsRXJyKTtcclxuICAgIH07XHJcbiAgICBEZWZhdWx0U3RvcmFnZUNsYXNzLnByb3RvdHlwZS5nZXRLZXlzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBub3RJbXBsRXJyID0gXCJTdG9yYWdlIGludGVyZmFjZSAtIGdldEtleXMoKSBoYXMgbm90IGJlZW4gaW1wbGVtZW50ZWQgZm9yIHRoZSBjYWNoZVN0b3JhZ2UgaW50ZXJmYWNlLlwiO1xyXG4gICAgICAgIHRocm93IEF1dGhFcnJvci5jcmVhdGVVbmV4cGVjdGVkRXJyb3Iobm90SW1wbEVycik7XHJcbiAgICB9O1xyXG4gICAgRGVmYXVsdFN0b3JhZ2VDbGFzcy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbm90SW1wbEVycjtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgbm90SW1wbEVyciA9IFwiU3RvcmFnZSBpbnRlcmZhY2UgLSBjbGVhcigpIGhhcyBub3QgYmVlbiBpbXBsZW1lbnRlZCBmb3IgdGhlIGNhY2hlU3RvcmFnZSBpbnRlcmZhY2UuXCI7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBBdXRoRXJyb3IuY3JlYXRlVW5leHBlY3RlZEVycm9yKG5vdEltcGxFcnIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBEZWZhdWx0U3RvcmFnZUNsYXNzLnByb3RvdHlwZS51cGRhdGVDcmVkZW50aWFsQ2FjaGVLZXkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG5vdEltcGxFcnIgPSBcIlN0b3JhZ2UgaW50ZXJmYWNlIC0gdXBkYXRlQ3JlZGVudGlhbENhY2hlS2V5KCkgaGFzIG5vdCBiZWVuIGltcGxlbWVudGVkIGZvciB0aGUgY2FjaGVTdG9yYWdlIGludGVyZmFjZS5cIjtcclxuICAgICAgICB0aHJvdyBBdXRoRXJyb3IuY3JlYXRlVW5leHBlY3RlZEVycm9yKG5vdEltcGxFcnIpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBEZWZhdWx0U3RvcmFnZUNsYXNzO1xyXG59KENhY2hlTWFuYWdlcikpO1xuXG5leHBvcnQgeyBDYWNoZU1hbmFnZXIsIERlZmF1bHRTdG9yYWdlQ2xhc3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhY2hlTWFuYWdlci5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjYuMS4wIDIwMjItMDItMDggKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IF9fYXNzaWduLCBfX2F3YWl0ZXIsIF9fZ2VuZXJhdG9yIH0gZnJvbSAnLi4vX3ZpcnR1YWwvX3RzbGliLmpzJztcbmltcG9ydCB7IERFRkFVTFRfQ1JZUFRPX0lNUExFTUVOVEFUSU9OIH0gZnJvbSAnLi4vY3J5cHRvL0lDcnlwdG8uanMnO1xuaW1wb3J0IHsgQXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQXV0aEVycm9yLmpzJztcbmltcG9ydCB7IExvZ0xldmVsIH0gZnJvbSAnLi4vbG9nZ2VyL0xvZ2dlci5qcyc7XG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tICcuLi91dGlscy9Db25zdGFudHMuanMnO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gJy4uL3BhY2thZ2VNZXRhZGF0YS5qcyc7XG5pbXBvcnQgeyBBenVyZUNsb3VkSW5zdGFuY2UgfSBmcm9tICcuLi9hdXRob3JpdHkvQXV0aG9yaXR5T3B0aW9ucy5qcyc7XG5pbXBvcnQgeyBEZWZhdWx0U3RvcmFnZUNsYXNzIH0gZnJvbSAnLi4vY2FjaGUvQ2FjaGVNYW5hZ2VyLmpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8vIFRva2VuIHJlbmV3YWwgb2Zmc2V0IGRlZmF1bHQgaW4gc2Vjb25kc1xyXG52YXIgREVGQVVMVF9UT0tFTl9SRU5FV0FMX09GRlNFVF9TRUMgPSAzMDA7XHJcbnZhciBERUZBVUxUX1NZU1RFTV9PUFRJT05TID0ge1xyXG4gICAgdG9rZW5SZW5ld2FsT2Zmc2V0U2Vjb25kczogREVGQVVMVF9UT0tFTl9SRU5FV0FMX09GRlNFVF9TRUMsXHJcbiAgICBwcmV2ZW50Q29yc1ByZWZsaWdodDogZmFsc2UsXHJcbiAgICBwcm94eVVybDogXCJcIixcclxufTtcclxudmFyIERFRkFVTFRfTE9HR0VSX0lNUExFTUVOVEFUSU9OID0ge1xyXG4gICAgbG9nZ2VyQ2FsbGJhY2s6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBhbGxvdyB1c2VycyB0byBub3Qgc2V0IGxvZ2dlckNhbGxiYWNrXHJcbiAgICB9LFxyXG4gICAgcGlpTG9nZ2luZ0VuYWJsZWQ6IGZhbHNlLFxyXG4gICAgbG9nTGV2ZWw6IExvZ0xldmVsLkluZm8sXHJcbiAgICBjb3JyZWxhdGlvbklkOiBcIlwiXHJcbn07XHJcbnZhciBERUZBVUxUX05FVFdPUktfSU1QTEVNRU5UQVRJT04gPSB7XHJcbiAgICBzZW5kR2V0UmVxdWVzdEFzeW5jOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbm90SW1wbEVycjtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgbm90SW1wbEVyciA9IFwiTmV0d29yayBpbnRlcmZhY2UgLSBzZW5kR2V0UmVxdWVzdEFzeW5jKCkgaGFzIG5vdCBiZWVuIGltcGxlbWVudGVkXCI7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBBdXRoRXJyb3IuY3JlYXRlVW5leHBlY3RlZEVycm9yKG5vdEltcGxFcnIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBzZW5kUG9zdFJlcXVlc3RBc3luYzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIG5vdEltcGxFcnI7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIG5vdEltcGxFcnIgPSBcIk5ldHdvcmsgaW50ZXJmYWNlIC0gc2VuZFBvc3RSZXF1ZXN0QXN5bmMoKSBoYXMgbm90IGJlZW4gaW1wbGVtZW50ZWRcIjtcclxuICAgICAgICAgICAgICAgIHRocm93IEF1dGhFcnJvci5jcmVhdGVVbmV4cGVjdGVkRXJyb3Iobm90SW1wbEVycik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59O1xyXG52YXIgREVGQVVMVF9MSUJSQVJZX0lORk8gPSB7XHJcbiAgICBza3U6IENvbnN0YW50cy5TS1UsXHJcbiAgICB2ZXJzaW9uOiB2ZXJzaW9uLFxyXG4gICAgY3B1OiBcIlwiLFxyXG4gICAgb3M6IFwiXCJcclxufTtcclxudmFyIERFRkFVTFRfQ0xJRU5UX0NSRURFTlRJQUxTID0ge1xyXG4gICAgY2xpZW50U2VjcmV0OiBcIlwiLFxyXG4gICAgY2xpZW50QXNzZXJ0aW9uOiB1bmRlZmluZWRcclxufTtcclxudmFyIERFRkFVTFRfQVpVUkVfQ0xPVURfT1BUSU9OUyA9IHtcclxuICAgIGF6dXJlQ2xvdWRJbnN0YW5jZTogQXp1cmVDbG91ZEluc3RhbmNlLk5vbmUsXHJcbiAgICB0ZW5hbnQ6IFwiXCIgKyBDb25zdGFudHMuREVGQVVMVF9DT01NT05fVEVOQU5UXHJcbn07XHJcbi8qKlxyXG4gKiBGdW5jdGlvbiB0aGF0IHNldHMgdGhlIGRlZmF1bHQgb3B0aW9ucyB3aGVuIG5vdCBleHBsaWNpdGx5IGNvbmZpZ3VyZWQgZnJvbSBhcHAgZGV2ZWxvcGVyXHJcbiAqXHJcbiAqIEBwYXJhbSBDb25maWd1cmF0aW9uXHJcbiAqXHJcbiAqIEByZXR1cm5zIENvbmZpZ3VyYXRpb25cclxuICovXHJcbmZ1bmN0aW9uIGJ1aWxkQ2xpZW50Q29uZmlndXJhdGlvbihfYSkge1xyXG4gICAgdmFyIHVzZXJBdXRoT3B0aW9ucyA9IF9hLmF1dGhPcHRpb25zLCB1c2VyU3lzdGVtT3B0aW9ucyA9IF9hLnN5c3RlbU9wdGlvbnMsIHVzZXJMb2dnZXJPcHRpb24gPSBfYS5sb2dnZXJPcHRpb25zLCBzdG9yYWdlSW1wbGVtZW50YXRpb24gPSBfYS5zdG9yYWdlSW50ZXJmYWNlLCBuZXR3b3JrSW1wbGVtZW50YXRpb24gPSBfYS5uZXR3b3JrSW50ZXJmYWNlLCBjcnlwdG9JbXBsZW1lbnRhdGlvbiA9IF9hLmNyeXB0b0ludGVyZmFjZSwgY2xpZW50Q3JlZGVudGlhbHMgPSBfYS5jbGllbnRDcmVkZW50aWFscywgbGlicmFyeUluZm8gPSBfYS5saWJyYXJ5SW5mbywgc2VydmVyVGVsZW1ldHJ5TWFuYWdlciA9IF9hLnNlcnZlclRlbGVtZXRyeU1hbmFnZXIsIHBlcnNpc3RlbmNlUGx1Z2luID0gX2EucGVyc2lzdGVuY2VQbHVnaW4sIHNlcmlhbGl6YWJsZUNhY2hlID0gX2Euc2VyaWFsaXphYmxlQ2FjaGU7XHJcbiAgICB2YXIgbG9nZ2VyT3B0aW9ucyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBERUZBVUxUX0xPR0dFUl9JTVBMRU1FTlRBVElPTiksIHVzZXJMb2dnZXJPcHRpb24pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBhdXRoT3B0aW9uczogYnVpbGRBdXRoT3B0aW9ucyh1c2VyQXV0aE9wdGlvbnMpLFxyXG4gICAgICAgIHN5c3RlbU9wdGlvbnM6IF9fYXNzaWduKF9fYXNzaWduKHt9LCBERUZBVUxUX1NZU1RFTV9PUFRJT05TKSwgdXNlclN5c3RlbU9wdGlvbnMpLFxyXG4gICAgICAgIGxvZ2dlck9wdGlvbnM6IGxvZ2dlck9wdGlvbnMsXHJcbiAgICAgICAgc3RvcmFnZUludGVyZmFjZTogc3RvcmFnZUltcGxlbWVudGF0aW9uIHx8IG5ldyBEZWZhdWx0U3RvcmFnZUNsYXNzKHVzZXJBdXRoT3B0aW9ucy5jbGllbnRJZCwgREVGQVVMVF9DUllQVE9fSU1QTEVNRU5UQVRJT04pLFxyXG4gICAgICAgIG5ldHdvcmtJbnRlcmZhY2U6IG5ldHdvcmtJbXBsZW1lbnRhdGlvbiB8fCBERUZBVUxUX05FVFdPUktfSU1QTEVNRU5UQVRJT04sXHJcbiAgICAgICAgY3J5cHRvSW50ZXJmYWNlOiBjcnlwdG9JbXBsZW1lbnRhdGlvbiB8fCBERUZBVUxUX0NSWVBUT19JTVBMRU1FTlRBVElPTixcclxuICAgICAgICBjbGllbnRDcmVkZW50aWFsczogY2xpZW50Q3JlZGVudGlhbHMgfHwgREVGQVVMVF9DTElFTlRfQ1JFREVOVElBTFMsXHJcbiAgICAgICAgbGlicmFyeUluZm86IF9fYXNzaWduKF9fYXNzaWduKHt9LCBERUZBVUxUX0xJQlJBUllfSU5GTyksIGxpYnJhcnlJbmZvKSxcclxuICAgICAgICBzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyOiBzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyIHx8IG51bGwsXHJcbiAgICAgICAgcGVyc2lzdGVuY2VQbHVnaW46IHBlcnNpc3RlbmNlUGx1Z2luIHx8IG51bGwsXHJcbiAgICAgICAgc2VyaWFsaXphYmxlQ2FjaGU6IHNlcmlhbGl6YWJsZUNhY2hlIHx8IG51bGxcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIENvbnN0cnVjdCBhdXRob3B0aW9ucyBmcm9tIHRoZSBjbGllbnQgYW5kIHBsYXRmb3JtIHBhc3NlZCB2YWx1ZXNcclxuICogQHBhcmFtIGF1dGhPcHRpb25zXHJcbiAqL1xyXG5mdW5jdGlvbiBidWlsZEF1dGhPcHRpb25zKGF1dGhPcHRpb25zKSB7XHJcbiAgICByZXR1cm4gX19hc3NpZ24oeyBjbGllbnRDYXBhYmlsaXRpZXM6IFtdLCBhenVyZUNsb3VkT3B0aW9uczogREVGQVVMVF9BWlVSRV9DTE9VRF9PUFRJT05TIH0sIGF1dGhPcHRpb25zKTtcclxufVxuXG5leHBvcnQgeyBERUZBVUxUX1NZU1RFTV9PUFRJT05TLCBidWlsZENsaWVudENvbmZpZ3VyYXRpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNsaWVudENvbmZpZ3VyYXRpb24uanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHY2LjEuMCAyMDIyLTAyLTA4ICovXG4ndXNlIHN0cmljdCc7XG4vKiBlc2xpbnQtZGlzYWJsZSBoZWFkZXIvaGVhZGVyICovXHJcbnZhciBuYW1lID0gXCJAYXp1cmUvbXNhbC1jb21tb25cIjtcclxudmFyIHZlcnNpb24gPSBcIjYuMS4wXCI7XG5cbmV4cG9ydCB7IG5hbWUsIHZlcnNpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhY2thZ2VNZXRhZGF0YS5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjYuMS4wIDIwMjItMDItMDggKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gJy4uL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgeyBBdXRoRXJyb3IgfSBmcm9tICcuL0F1dGhFcnJvci5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogRXJyb3IgdGhyb3duIHdoZW4gdGhlcmUgaXMgYW4gZXJyb3Igd2l0aCB0aGUgc2VydmVyIGNvZGUsIGZvciBleGFtcGxlLCB1bmF2YWlsYWJpbGl0eS5cclxuICovXHJcbnZhciBTZXJ2ZXJFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTZXJ2ZXJFcnJvciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFNlcnZlckVycm9yKGVycm9yQ29kZSwgZXJyb3JNZXNzYWdlLCBzdWJFcnJvcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGVycm9yQ29kZSwgZXJyb3JNZXNzYWdlLCBzdWJFcnJvcikgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5uYW1lID0gXCJTZXJ2ZXJFcnJvclwiO1xyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihfdGhpcywgU2VydmVyRXJyb3IucHJvdG90eXBlKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gU2VydmVyRXJyb3I7XHJcbn0oQXV0aEVycm9yKSk7XG5cbmV4cG9ydCB7IFNlcnZlckVycm9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TZXJ2ZXJFcnJvci5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjYuMS4wIDIwMjItMDItMDggKi9cbid1c2Ugc3RyaWN0Jztcbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgQ2NzQ3JlZGVudGlhbFR5cGU7XHJcbihmdW5jdGlvbiAoQ2NzQ3JlZGVudGlhbFR5cGUpIHtcclxuICAgIENjc0NyZWRlbnRpYWxUeXBlW1wiSE9NRV9BQ0NPVU5UX0lEXCJdID0gXCJob21lX2FjY291bnRfaWRcIjtcclxuICAgIENjc0NyZWRlbnRpYWxUeXBlW1wiVVBOXCJdID0gXCJVUE5cIjtcclxufSkoQ2NzQ3JlZGVudGlhbFR5cGUgfHwgKENjc0NyZWRlbnRpYWxUeXBlID0ge30pKTtcblxuZXhwb3J0IHsgQ2NzQ3JlZGVudGlhbFR5cGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNjc0NyZWRlbnRpYWwuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHY2LjEuMCAyMDIyLTAyLTA4ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBUaHJvdHRsaW5nQ29uc3RhbnRzLCBDYWNoZVNjaGVtYVR5cGUsIENvbnN0YW50cywgSGVhZGVyTmFtZXMgfSBmcm9tICcuLi91dGlscy9Db25zdGFudHMuanMnO1xuaW1wb3J0IHsgU2VydmVyRXJyb3IgfSBmcm9tICcuLi9lcnJvci9TZXJ2ZXJFcnJvci5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgVGhyb3R0bGluZ1V0aWxzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVGhyb3R0bGluZ1V0aWxzKCkge1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQcmVwYXJlcyBhIFJlcXVlc3RUaHVtYnByaW50IHRvIGJlIHN0b3JlZCBhcyBhIGtleS5cclxuICAgICAqIEBwYXJhbSB0aHVtYnByaW50XHJcbiAgICAgKi9cclxuICAgIFRocm90dGxpbmdVdGlscy5nZW5lcmF0ZVRocm90dGxpbmdTdG9yYWdlS2V5ID0gZnVuY3Rpb24gKHRodW1icHJpbnQpIHtcclxuICAgICAgICByZXR1cm4gVGhyb3R0bGluZ0NvbnN0YW50cy5USFJPVFRMSU5HX1BSRUZJWCArIFwiLlwiICsgSlNPTi5zdHJpbmdpZnkodGh1bWJwcmludCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtcyBuZWNlc3NhcnkgdGhyb3R0bGluZyBjaGVja3MgYmVmb3JlIGEgbmV0d29yayByZXF1ZXN0LlxyXG4gICAgICogQHBhcmFtIGNhY2hlTWFuYWdlclxyXG4gICAgICogQHBhcmFtIHRodW1icHJpbnRcclxuICAgICAqL1xyXG4gICAgVGhyb3R0bGluZ1V0aWxzLnByZVByb2Nlc3MgPSBmdW5jdGlvbiAoY2FjaGVNYW5hZ2VyLCB0aHVtYnByaW50KSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIHZhciBrZXkgPSBUaHJvdHRsaW5nVXRpbHMuZ2VuZXJhdGVUaHJvdHRsaW5nU3RvcmFnZUtleSh0aHVtYnByaW50KTtcclxuICAgICAgICB2YXIgdmFsdWUgPSBjYWNoZU1hbmFnZXIuZ2V0VGhyb3R0bGluZ0NhY2hlKGtleSk7XHJcbiAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZS50aHJvdHRsZVRpbWUgPCBEYXRlLm5vdygpKSB7XHJcbiAgICAgICAgICAgICAgICBjYWNoZU1hbmFnZXIucmVtb3ZlSXRlbShrZXksIENhY2hlU2NoZW1hVHlwZS5USFJPVFRMSU5HKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgU2VydmVyRXJyb3IoKChfYSA9IHZhbHVlLmVycm9yQ29kZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5qb2luKFwiIFwiKSkgfHwgQ29uc3RhbnRzLkVNUFRZX1NUUklORywgdmFsdWUuZXJyb3JNZXNzYWdlLCB2YWx1ZS5zdWJFcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUGVyZm9ybXMgbmVjZXNzYXJ5IHRocm90dGxpbmcgY2hlY2tzIGFmdGVyIGEgbmV0d29yayByZXF1ZXN0LlxyXG4gICAgICogQHBhcmFtIGNhY2hlTWFuYWdlclxyXG4gICAgICogQHBhcmFtIHRodW1icHJpbnRcclxuICAgICAqIEBwYXJhbSByZXNwb25zZVxyXG4gICAgICovXHJcbiAgICBUaHJvdHRsaW5nVXRpbHMucG9zdFByb2Nlc3MgPSBmdW5jdGlvbiAoY2FjaGVNYW5hZ2VyLCB0aHVtYnByaW50LCByZXNwb25zZSkge1xyXG4gICAgICAgIGlmIChUaHJvdHRsaW5nVXRpbHMuY2hlY2tSZXNwb25zZVN0YXR1cyhyZXNwb25zZSkgfHwgVGhyb3R0bGluZ1V0aWxzLmNoZWNrUmVzcG9uc2VGb3JSZXRyeUFmdGVyKHJlc3BvbnNlKSkge1xyXG4gICAgICAgICAgICB2YXIgdGh1bWJwcmludFZhbHVlID0ge1xyXG4gICAgICAgICAgICAgICAgdGhyb3R0bGVUaW1lOiBUaHJvdHRsaW5nVXRpbHMuY2FsY3VsYXRlVGhyb3R0bGVUaW1lKHBhcnNlSW50KHJlc3BvbnNlLmhlYWRlcnNbSGVhZGVyTmFtZXMuUkVUUllfQUZURVJdKSksXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogcmVzcG9uc2UuYm9keS5lcnJvcixcclxuICAgICAgICAgICAgICAgIGVycm9yQ29kZXM6IHJlc3BvbnNlLmJvZHkuZXJyb3JfY29kZXMsXHJcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6IHJlc3BvbnNlLmJvZHkuZXJyb3JfZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICBzdWJFcnJvcjogcmVzcG9uc2UuYm9keS5zdWJlcnJvclxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjYWNoZU1hbmFnZXIuc2V0VGhyb3R0bGluZ0NhY2hlKFRocm90dGxpbmdVdGlscy5nZW5lcmF0ZVRocm90dGxpbmdTdG9yYWdlS2V5KHRodW1icHJpbnQpLCB0aHVtYnByaW50VmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBhIE5ldHdvcmtSZXNwb25zZSBvYmplY3QncyBzdGF0dXMgY29kZXMgYWdhaW5zdCA0Mjkgb3IgNXh4XHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VcclxuICAgICAqL1xyXG4gICAgVGhyb3R0bGluZ1V0aWxzLmNoZWNrUmVzcG9uc2VTdGF0dXMgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzID09PSA0MjkgfHwgcmVzcG9uc2Uuc3RhdHVzID49IDUwMCAmJiByZXNwb25zZS5zdGF0dXMgPCA2MDA7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgYSBOZXR3b3JrUmVzcG9uc2Ugb2JqZWN0J3MgUmV0cnlBZnRlciBoZWFkZXJcclxuICAgICAqIEBwYXJhbSByZXNwb25zZVxyXG4gICAgICovXHJcbiAgICBUaHJvdHRsaW5nVXRpbHMuY2hlY2tSZXNwb25zZUZvclJldHJ5QWZ0ZXIgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICBpZiAocmVzcG9uc2UuaGVhZGVycykge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShIZWFkZXJOYW1lcy5SRVRSWV9BRlRFUikgJiYgKHJlc3BvbnNlLnN0YXR1cyA8IDIwMCB8fCByZXNwb25zZS5zdGF0dXMgPj0gMzAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgVW5peC10aW1lIHZhbHVlIGZvciBhIHRocm90dGxlIHRvIGV4cGlyZSBnaXZlbiB0aHJvdHRsZVRpbWUgaW4gc2Vjb25kcy5cclxuICAgICAqIEBwYXJhbSB0aHJvdHRsZVRpbWVcclxuICAgICAqL1xyXG4gICAgVGhyb3R0bGluZ1V0aWxzLmNhbGN1bGF0ZVRocm90dGxlVGltZSA9IGZ1bmN0aW9uICh0aHJvdHRsZVRpbWUpIHtcclxuICAgICAgICB2YXIgdGltZSA9IHRocm90dGxlVGltZSA8PSAwID8gMCA6IHRocm90dGxlVGltZTtcclxuICAgICAgICB2YXIgY3VycmVudFNlY29uZHMgPSBEYXRlLm5vdygpIC8gMTAwMDtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLm1pbihjdXJyZW50U2Vjb25kcyArICh0aW1lIHx8IFRocm90dGxpbmdDb25zdGFudHMuREVGQVVMVF9USFJPVFRMRV9USU1FX1NFQ09ORFMpLCBjdXJyZW50U2Vjb25kcyArIFRocm90dGxpbmdDb25zdGFudHMuREVGQVVMVF9NQVhfVEhST1RUTEVfVElNRV9TRUNPTkRTKSAqIDEwMDApO1xyXG4gICAgfTtcclxuICAgIFRocm90dGxpbmdVdGlscy5yZW1vdmVUaHJvdHRsZSA9IGZ1bmN0aW9uIChjYWNoZU1hbmFnZXIsIGNsaWVudElkLCByZXF1ZXN0LCBob21lQWNjb3VudElkZW50aWZpZXIpIHtcclxuICAgICAgICB2YXIgdGh1bWJwcmludCA9IHtcclxuICAgICAgICAgICAgY2xpZW50SWQ6IGNsaWVudElkLFxyXG4gICAgICAgICAgICBhdXRob3JpdHk6IHJlcXVlc3QuYXV0aG9yaXR5LFxyXG4gICAgICAgICAgICBzY29wZXM6IHJlcXVlc3Quc2NvcGVzLFxyXG4gICAgICAgICAgICBob21lQWNjb3VudElkZW50aWZpZXI6IGhvbWVBY2NvdW50SWRlbnRpZmllcixcclxuICAgICAgICAgICAgY2xhaW1zOiByZXF1ZXN0LmNsYWltcyxcclxuICAgICAgICAgICAgYXV0aGVudGljYXRpb25TY2hlbWU6IHJlcXVlc3QuYXV0aGVudGljYXRpb25TY2hlbWUsXHJcbiAgICAgICAgICAgIHJlc291cmNlUmVxdWVzdE1ldGhvZDogcmVxdWVzdC5yZXNvdXJjZVJlcXVlc3RNZXRob2QsXHJcbiAgICAgICAgICAgIHJlc291cmNlUmVxdWVzdFVyaTogcmVxdWVzdC5yZXNvdXJjZVJlcXVlc3RVcmksXHJcbiAgICAgICAgICAgIHNockNsYWltczogcmVxdWVzdC5zaHJDbGFpbXMsXHJcbiAgICAgICAgICAgIHNzaEtpZDogcmVxdWVzdC5zc2hLaWRcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBrZXkgPSB0aGlzLmdlbmVyYXRlVGhyb3R0bGluZ1N0b3JhZ2VLZXkodGh1bWJwcmludCk7XHJcbiAgICAgICAgcmV0dXJuIGNhY2hlTWFuYWdlci5yZW1vdmVJdGVtKGtleSwgQ2FjaGVTY2hlbWFUeXBlLlRIUk9UVExJTkcpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBUaHJvdHRsaW5nVXRpbHM7XHJcbn0oKSk7XG5cbmV4cG9ydCB7IFRocm90dGxpbmdVdGlscyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGhyb3R0bGluZ1V0aWxzLmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2Ni4xLjAgMjAyMi0wMi0wOCAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgX19hd2FpdGVyLCBfX2dlbmVyYXRvciB9IGZyb20gJy4uL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgeyBUaHJvdHRsaW5nVXRpbHMgfSBmcm9tICcuL1Rocm90dGxpbmdVdGlscy5qcyc7XG5pbXBvcnQgeyBDbGllbnRBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9DbGllbnRBdXRoRXJyb3IuanMnO1xuaW1wb3J0IHsgQXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQXV0aEVycm9yLmpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbnZhciBOZXR3b3JrTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE5ldHdvcmtNYW5hZ2VyKG5ldHdvcmtDbGllbnQsIGNhY2hlTWFuYWdlcikge1xyXG4gICAgICAgIHRoaXMubmV0d29ya0NsaWVudCA9IG5ldHdvcmtDbGllbnQ7XHJcbiAgICAgICAgdGhpcy5jYWNoZU1hbmFnZXIgPSBjYWNoZU1hbmFnZXI7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFdyYXBzIHNlbmRQb3N0UmVxdWVzdEFzeW5jIHdpdGggbmVjZXNzYXJ5IHByZWZsaWdodCBhbmQgcG9zdGZsaWdodCBsb2dpY1xyXG4gICAgICogQHBhcmFtIHRodW1icHJpbnRcclxuICAgICAqIEBwYXJhbSB0b2tlbkVuZHBvaW50XHJcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBOZXR3b3JrTWFuYWdlci5wcm90b3R5cGUuc2VuZFBvc3RSZXF1ZXN0ID0gZnVuY3Rpb24gKHRodW1icHJpbnQsIHRva2VuRW5kcG9pbnQsIG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByZXNwb25zZSwgZV8xO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBUaHJvdHRsaW5nVXRpbHMucHJlUHJvY2Vzcyh0aGlzLmNhY2hlTWFuYWdlciwgdGh1bWJwcmludCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMSwgMywgLCA0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMubmV0d29ya0NsaWVudC5zZW5kUG9zdFJlcXVlc3RBc3luYyh0b2tlbkVuZHBvaW50LCBvcHRpb25zKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlXzEgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlXzEgaW5zdGFuY2VvZiBBdXRoRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVfMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IENsaWVudEF1dGhFcnJvci5jcmVhdGVOZXR3b3JrRXJyb3IodG9rZW5FbmRwb2ludCwgZV8xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGhyb3R0bGluZ1V0aWxzLnBvc3RQcm9jZXNzKHRoaXMuY2FjaGVNYW5hZ2VyLCB0aHVtYnByaW50LCByZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZXNwb25zZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBOZXR3b3JrTWFuYWdlcjtcclxufSgpKTtcblxuZXhwb3J0IHsgTmV0d29ya01hbmFnZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5ldHdvcmtNYW5hZ2VyLmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2Ni4xLjAgMjAyMi0wMi0wOCAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgX19hd2FpdGVyLCBfX2dlbmVyYXRvciB9IGZyb20gJy4uL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgeyBidWlsZENsaWVudENvbmZpZ3VyYXRpb24gfSBmcm9tICcuLi9jb25maWcvQ2xpZW50Q29uZmlndXJhdGlvbi5qcyc7XG5pbXBvcnQgeyBOZXR3b3JrTWFuYWdlciB9IGZyb20gJy4uL25ldHdvcmsvTmV0d29ya01hbmFnZXIuanMnO1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyL0xvZ2dlci5qcyc7XG5pbXBvcnQgeyBIZWFkZXJOYW1lcywgQ29uc3RhbnRzIH0gZnJvbSAnLi4vdXRpbHMvQ29uc3RhbnRzLmpzJztcbmltcG9ydCB7IG5hbWUsIHZlcnNpb24gfSBmcm9tICcuLi9wYWNrYWdlTWV0YWRhdGEuanMnO1xuaW1wb3J0IHsgQ2xpZW50QXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50QXV0aEVycm9yLmpzJztcbmltcG9ydCB7IENjc0NyZWRlbnRpYWxUeXBlIH0gZnJvbSAnLi4vYWNjb3VudC9DY3NDcmVkZW50aWFsLmpzJztcbmltcG9ydCB7IGJ1aWxkQ2xpZW50SW5mb0Zyb21Ib21lQWNjb3VudElkIH0gZnJvbSAnLi4vYWNjb3VudC9DbGllbnRJbmZvLmpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBCYXNlIGFwcGxpY2F0aW9uIGNsYXNzIHdoaWNoIHdpbGwgY29uc3RydWN0IHJlcXVlc3RzIHRvIHNlbmQgdG8gYW5kIGhhbmRsZSByZXNwb25zZXMgZnJvbSB0aGUgTWljcm9zb2Z0IFNUUyB1c2luZyB0aGUgYXV0aG9yaXphdGlvbiBjb2RlIGZsb3cuXHJcbiAqL1xyXG52YXIgQmFzZUNsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEJhc2VDbGllbnQoY29uZmlndXJhdGlvbikge1xyXG4gICAgICAgIC8vIFNldCB0aGUgY29uZmlndXJhdGlvblxyXG4gICAgICAgIHRoaXMuY29uZmlnID0gYnVpbGRDbGllbnRDb25maWd1cmF0aW9uKGNvbmZpZ3VyYXRpb24pO1xyXG4gICAgICAgIC8vIEluaXRpYWxpemUgdGhlIGxvZ2dlclxyXG4gICAgICAgIHRoaXMubG9nZ2VyID0gbmV3IExvZ2dlcih0aGlzLmNvbmZpZy5sb2dnZXJPcHRpb25zLCBuYW1lLCB2ZXJzaW9uKTtcclxuICAgICAgICAvLyBJbml0aWFsaXplIGNyeXB0b1xyXG4gICAgICAgIHRoaXMuY3J5cHRvVXRpbHMgPSB0aGlzLmNvbmZpZy5jcnlwdG9JbnRlcmZhY2U7XHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBzdG9yYWdlIGludGVyZmFjZVxyXG4gICAgICAgIHRoaXMuY2FjaGVNYW5hZ2VyID0gdGhpcy5jb25maWcuc3RvcmFnZUludGVyZmFjZTtcclxuICAgICAgICAvLyBTZXQgdGhlIG5ldHdvcmsgaW50ZXJmYWNlXHJcbiAgICAgICAgdGhpcy5uZXR3b3JrQ2xpZW50ID0gdGhpcy5jb25maWcubmV0d29ya0ludGVyZmFjZTtcclxuICAgICAgICAvLyBTZXQgdGhlIE5ldHdvcmtNYW5hZ2VyXHJcbiAgICAgICAgdGhpcy5uZXR3b3JrTWFuYWdlciA9IG5ldyBOZXR3b3JrTWFuYWdlcih0aGlzLm5ldHdvcmtDbGllbnQsIHRoaXMuY2FjaGVNYW5hZ2VyKTtcclxuICAgICAgICAvLyBTZXQgVGVsZW1ldHJ5TWFuYWdlclxyXG4gICAgICAgIHRoaXMuc2VydmVyVGVsZW1ldHJ5TWFuYWdlciA9IHRoaXMuY29uZmlnLnNlcnZlclRlbGVtZXRyeU1hbmFnZXI7XHJcbiAgICAgICAgLy8gc2V0IEF1dGhvcml0eVxyXG4gICAgICAgIHRoaXMuYXV0aG9yaXR5ID0gdGhpcy5jb25maWcuYXV0aE9wdGlvbnMuYXV0aG9yaXR5O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGRlZmF1bHQgaGVhZGVycyBmb3IgcmVxdWVzdHMgdG8gdG9rZW4gZW5kcG9pbnRcclxuICAgICAqL1xyXG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuY3JlYXRlVG9rZW5SZXF1ZXN0SGVhZGVycyA9IGZ1bmN0aW9uIChjY3NDcmVkKSB7XHJcbiAgICAgICAgdmFyIGhlYWRlcnMgPSB7fTtcclxuICAgICAgICBoZWFkZXJzW0hlYWRlck5hbWVzLkNPTlRFTlRfVFlQRV0gPSBDb25zdGFudHMuVVJMX0ZPUk1fQ09OVEVOVF9UWVBFO1xyXG4gICAgICAgIGlmICghdGhpcy5jb25maWcuc3lzdGVtT3B0aW9ucy5wcmV2ZW50Q29yc1ByZWZsaWdodCAmJiBjY3NDcmVkKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoY2NzQ3JlZC50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIENjc0NyZWRlbnRpYWxUeXBlLkhPTUVfQUNDT1VOVF9JRDpcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xpZW50SW5mbyA9IGJ1aWxkQ2xpZW50SW5mb0Zyb21Ib21lQWNjb3VudElkKGNjc0NyZWQuY3JlZGVudGlhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbSGVhZGVyTmFtZXMuQ0NTX0hFQURFUl0gPSBcIk9pZDpcIiArIGNsaWVudEluZm8udWlkICsgXCJAXCIgKyBjbGllbnRJbmZvLnV0aWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJDb3VsZCBub3QgcGFyc2UgaG9tZSBhY2NvdW50IElEIGZvciBDQ1MgSGVhZGVyOiBcIiArIGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQ2NzQ3JlZGVudGlhbFR5cGUuVVBOOlxyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbSGVhZGVyTmFtZXMuQ0NTX0hFQURFUl0gPSBcIlVQTjogXCIgKyBjY3NDcmVkLmNyZWRlbnRpYWw7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGhlYWRlcnM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBIdHRwIHBvc3QgdG8gdG9rZW4gZW5kcG9pbnRcclxuICAgICAqIEBwYXJhbSB0b2tlbkVuZHBvaW50XHJcbiAgICAgKiBAcGFyYW0gcXVlcnlTdHJpbmdcclxuICAgICAqIEBwYXJhbSBoZWFkZXJzXHJcbiAgICAgKiBAcGFyYW0gdGh1bWJwcmludFxyXG4gICAgICovXHJcbiAgICBCYXNlQ2xpZW50LnByb3RvdHlwZS5leGVjdXRlUG9zdFRvVG9rZW5FbmRwb2ludCA9IGZ1bmN0aW9uICh0b2tlbkVuZHBvaW50LCBxdWVyeVN0cmluZywgaGVhZGVycywgdGh1bWJwcmludCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3BvbnNlO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLm5ldHdvcmtNYW5hZ2VyLnNlbmRQb3N0UmVxdWVzdCh0aHVtYnByaW50LCB0b2tlbkVuZHBvaW50LCB7IGJvZHk6IHF1ZXJ5U3RyaW5nLCBoZWFkZXJzOiBoZWFkZXJzLCBwcm94eVVybDogdGhpcy5jb25maWcuc3lzdGVtT3B0aW9ucy5wcm94eVVybCB9KV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLnNlcnZlclRlbGVtZXRyeU1hbmFnZXIgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgNTAwICYmIHJlc3BvbnNlLnN0YXR1cyAhPT0gNDI5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUZWxlbWV0cnkgZGF0YSBzdWNjZXNzZnVsbHkgbG9nZ2VkIGJ5IHNlcnZlciwgY2xlYXIgVGVsZW1ldHJ5IGNhY2hlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5zZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLmNsZWFyVGVsZW1ldHJ5Q2FjaGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgcmVzcG9uc2VdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZXMgdGhlIGF1dGhvcml0eSBvYmplY3Qgb2YgdGhlIGNsaWVudC4gRW5kcG9pbnQgZGlzY292ZXJ5IG11c3QgYmUgY29tcGxldGVkLlxyXG4gICAgICogQHBhcmFtIHVwZGF0ZWRBdXRob3JpdHlcclxuICAgICAqL1xyXG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUudXBkYXRlQXV0aG9yaXR5ID0gZnVuY3Rpb24gKHVwZGF0ZWRBdXRob3JpdHkpIHtcclxuICAgICAgICBpZiAoIXVwZGF0ZWRBdXRob3JpdHkuZGlzY292ZXJ5Q29tcGxldGUoKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBDbGllbnRBdXRoRXJyb3IuY3JlYXRlRW5kcG9pbnREaXNjb3ZlcnlJbmNvbXBsZXRlRXJyb3IoXCJVcGRhdGVkIGF1dGhvcml0eSBoYXMgbm90IGNvbXBsZXRlZCBlbmRwb2ludCBkaXNjb3ZlcnkuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmF1dGhvcml0eSA9IHVwZGF0ZWRBdXRob3JpdHk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEJhc2VDbGllbnQ7XHJcbn0oKSk7XG5cbmV4cG9ydCB7IEJhc2VDbGllbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2VDbGllbnQuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHY2LjEuMCAyMDIyLTAyLTA4ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBfX2F3YWl0ZXIsIF9fZ2VuZXJhdG9yLCBfX2Fzc2lnbiB9IGZyb20gJy4uL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgeyBBdXRoVG9rZW4gfSBmcm9tICcuLi9hY2NvdW50L0F1dGhUb2tlbi5qcyc7XG5pbXBvcnQgeyBUaW1lVXRpbHMgfSBmcm9tICcuLi91dGlscy9UaW1lVXRpbHMuanMnO1xuaW1wb3J0IHsgVXJsU3RyaW5nIH0gZnJvbSAnLi4vdXJsL1VybFN0cmluZy5qcyc7XG5pbXBvcnQgeyBDbGllbnRBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9DbGllbnRBdXRoRXJyb3IuanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxudmFyIEtleUxvY2F0aW9uO1xyXG4oZnVuY3Rpb24gKEtleUxvY2F0aW9uKSB7XHJcbiAgICBLZXlMb2NhdGlvbltcIlNXXCJdID0gXCJzd1wiO1xyXG4gICAgS2V5TG9jYXRpb25bXCJVSFdcIl0gPSBcInVod1wiO1xyXG59KShLZXlMb2NhdGlvbiB8fCAoS2V5TG9jYXRpb24gPSB7fSkpO1xyXG52YXIgUG9wVG9rZW5HZW5lcmF0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBQb3BUb2tlbkdlbmVyYXRvcihjcnlwdG9VdGlscykge1xyXG4gICAgICAgIHRoaXMuY3J5cHRvVXRpbHMgPSBjcnlwdG9VdGlscztcclxuICAgIH1cclxuICAgIFBvcFRva2VuR2VuZXJhdG9yLnByb3RvdHlwZS5nZW5lcmF0ZUNuZiA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcmVxQ25mO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmdlbmVyYXRlS2lkKHJlcXVlc3QpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcUNuZiA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuY3J5cHRvVXRpbHMuYmFzZTY0RW5jb2RlKEpTT04uc3RyaW5naWZ5KHJlcUNuZikpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgUG9wVG9rZW5HZW5lcmF0b3IucHJvdG90eXBlLmdlbmVyYXRlS2lkID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBraWRUaHVtYnByaW50O1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmNyeXB0b1V0aWxzLmdldFB1YmxpY0tleVRodW1icHJpbnQocmVxdWVzdCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAga2lkVGh1bWJwcmludCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBraWQ6IGtpZFRodW1icHJpbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeG1zX2tzbDogS2V5TG9jYXRpb24uU1dcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBQb3BUb2tlbkdlbmVyYXRvci5wcm90b3R5cGUuc2lnblBvcFRva2VuID0gZnVuY3Rpb24gKGFjY2Vzc1Rva2VuLCByZXF1ZXN0KSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHRva2VuQ2xhaW1zO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XHJcbiAgICAgICAgICAgICAgICB0b2tlbkNsYWltcyA9IEF1dGhUb2tlbi5leHRyYWN0VG9rZW5DbGFpbXMoYWNjZXNzVG9rZW4sIHRoaXMuY3J5cHRvVXRpbHMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCEoKF9hID0gdG9rZW5DbGFpbXMgPT09IG51bGwgfHwgdG9rZW5DbGFpbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRva2VuQ2xhaW1zLmNuZikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmtpZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBDbGllbnRBdXRoRXJyb3IuY3JlYXRlVG9rZW5DbGFpbXNSZXF1aXJlZEVycm9yKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5zaWduUGF5bG9hZChhY2Nlc3NUb2tlbiwgdG9rZW5DbGFpbXMuY25mLmtpZCwgcmVxdWVzdCldO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBQb3BUb2tlbkdlbmVyYXRvci5wcm90b3R5cGUuc2lnblBheWxvYWQgPSBmdW5jdGlvbiAocGF5bG9hZCwga2lkLCByZXF1ZXN0LCBjbGFpbXMpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByZXNvdXJjZVJlcXVlc3RNZXRob2QsIHJlc291cmNlUmVxdWVzdFVyaSwgc2hyQ2xhaW1zLCBzaHJOb25jZSwgcmVzb3VyY2VVcmxTdHJpbmcsIHJlc291cmNlVXJsQ29tcG9uZW50cztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VSZXF1ZXN0TWV0aG9kID0gcmVxdWVzdC5yZXNvdXJjZVJlcXVlc3RNZXRob2QsIHJlc291cmNlUmVxdWVzdFVyaSA9IHJlcXVlc3QucmVzb3VyY2VSZXF1ZXN0VXJpLCBzaHJDbGFpbXMgPSByZXF1ZXN0LnNockNsYWltcywgc2hyTm9uY2UgPSByZXF1ZXN0LnNock5vbmNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZVVybFN0cmluZyA9IChyZXNvdXJjZVJlcXVlc3RVcmkpID8gbmV3IFVybFN0cmluZyhyZXNvdXJjZVJlcXVlc3RVcmkpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZVVybENvbXBvbmVudHMgPSByZXNvdXJjZVVybFN0cmluZyA9PT0gbnVsbCB8fCByZXNvdXJjZVVybFN0cmluZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzb3VyY2VVcmxTdHJpbmcuZ2V0VXJsQ29tcG9uZW50cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmNyeXB0b1V0aWxzLnNpZ25Kd3QoX19hc3NpZ24oeyBhdDogcGF5bG9hZCwgdHM6IFRpbWVVdGlscy5ub3dTZWNvbmRzKCksIG06IHJlc291cmNlUmVxdWVzdE1ldGhvZCA9PT0gbnVsbCB8fCByZXNvdXJjZVJlcXVlc3RNZXRob2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc291cmNlUmVxdWVzdE1ldGhvZC50b1VwcGVyQ2FzZSgpLCB1OiByZXNvdXJjZVVybENvbXBvbmVudHMgPT09IG51bGwgfHwgcmVzb3VyY2VVcmxDb21wb25lbnRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNvdXJjZVVybENvbXBvbmVudHMuSG9zdE5hbWVBbmRQb3J0LCBub25jZTogc2hyTm9uY2UgfHwgdGhpcy5jcnlwdG9VdGlscy5jcmVhdGVOZXdHdWlkKCksIHA6IHJlc291cmNlVXJsQ29tcG9uZW50cyA9PT0gbnVsbCB8fCByZXNvdXJjZVVybENvbXBvbmVudHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc291cmNlVXJsQ29tcG9uZW50cy5BYnNvbHV0ZVBhdGgsIHE6IChyZXNvdXJjZVVybENvbXBvbmVudHMgPT09IG51bGwgfHwgcmVzb3VyY2VVcmxDb21wb25lbnRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNvdXJjZVVybENvbXBvbmVudHMuUXVlcnlTdHJpbmcpID8gW1tdLCByZXNvdXJjZVVybENvbXBvbmVudHMuUXVlcnlTdHJpbmddIDogdW5kZWZpbmVkLCBjbGllbnRfY2xhaW1zOiBzaHJDbGFpbXMgfHwgdW5kZWZpbmVkIH0sIGNsYWltcyksIGtpZCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQb3BUb2tlbkdlbmVyYXRvcjtcclxufSgpKTtcblxuZXhwb3J0IHsgUG9wVG9rZW5HZW5lcmF0b3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvcFRva2VuR2VuZXJhdG9yLmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2Ni4xLjAgMjAyMi0wMi0wOCAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgU3RyaW5nVXRpbHMgfSBmcm9tICcuLi91dGlscy9TdHJpbmdVdGlscy5qcyc7XG5pbXBvcnQgeyBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvci9DbGllbnRDb25maWd1cmF0aW9uRXJyb3IuanMnO1xuaW1wb3J0IHsgQ29kZUNoYWxsZW5nZU1ldGhvZFZhbHVlcywgUHJvbXB0VmFsdWUgfSBmcm9tICcuLi91dGlscy9Db25zdGFudHMuanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFZhbGlkYXRlcyBzZXJ2ZXIgY29uc3VtYWJsZSBwYXJhbXMgZnJvbSB0aGUgXCJyZXF1ZXN0XCIgb2JqZWN0c1xyXG4gKi9cclxudmFyIFJlcXVlc3RWYWxpZGF0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBSZXF1ZXN0VmFsaWRhdG9yKCkge1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVdGlsaXR5IHRvIGNoZWNrIGlmIHRoZSBgcmVkaXJlY3RVcmlgIGluIHRoZSByZXF1ZXN0IGlzIGEgbm9uLW51bGwgdmFsdWVcclxuICAgICAqIEBwYXJhbSByZWRpcmVjdFVyaVxyXG4gICAgICovXHJcbiAgICBSZXF1ZXN0VmFsaWRhdG9yLnZhbGlkYXRlUmVkaXJlY3RVcmkgPSBmdW5jdGlvbiAocmVkaXJlY3RVcmkpIHtcclxuICAgICAgICBpZiAoU3RyaW5nVXRpbHMuaXNFbXB0eShyZWRpcmVjdFVyaSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLmNyZWF0ZVJlZGlyZWN0VXJpRW1wdHlFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFV0aWxpdHkgdG8gdmFsaWRhdGUgcHJvbXB0IHNlbnQgYnkgdGhlIHVzZXIgaW4gdGhlIHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSBwcm9tcHRcclxuICAgICAqL1xyXG4gICAgUmVxdWVzdFZhbGlkYXRvci52YWxpZGF0ZVByb21wdCA9IGZ1bmN0aW9uIChwcm9tcHQpIHtcclxuICAgICAgICB2YXIgcHJvbXB0VmFsdWVzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgdmFsdWUgaW4gUHJvbXB0VmFsdWUpIHtcclxuICAgICAgICAgICAgcHJvbXB0VmFsdWVzLnB1c2goUHJvbXB0VmFsdWVbdmFsdWVdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByb21wdFZhbHVlcy5pbmRleE9mKHByb21wdCkgPCAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IENsaWVudENvbmZpZ3VyYXRpb25FcnJvci5jcmVhdGVJbnZhbGlkUHJvbXB0RXJyb3IocHJvbXB0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUmVxdWVzdFZhbGlkYXRvci52YWxpZGF0ZUNsYWltcyA9IGZ1bmN0aW9uIChjbGFpbXMpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBKU09OLnBhcnNlKGNsYWltcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRocm93IENsaWVudENvbmZpZ3VyYXRpb25FcnJvci5jcmVhdGVJbnZhbGlkQ2xhaW1zUmVxdWVzdEVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVXRpbGl0eSB0byB2YWxpZGF0ZSBjb2RlX2NoYWxsZW5nZSBhbmQgY29kZV9jaGFsbGVuZ2VfbWV0aG9kXHJcbiAgICAgKiBAcGFyYW0gY29kZUNoYWxsZW5nZVxyXG4gICAgICogQHBhcmFtIGNvZGVDaGFsbGVuZ2VNZXRob2RcclxuICAgICAqL1xyXG4gICAgUmVxdWVzdFZhbGlkYXRvci52YWxpZGF0ZUNvZGVDaGFsbGVuZ2VQYXJhbXMgPSBmdW5jdGlvbiAoY29kZUNoYWxsZW5nZSwgY29kZUNoYWxsZW5nZU1ldGhvZCkge1xyXG4gICAgICAgIGlmIChTdHJpbmdVdGlscy5pc0VtcHR5KGNvZGVDaGFsbGVuZ2UpIHx8IFN0cmluZ1V0aWxzLmlzRW1wdHkoY29kZUNoYWxsZW5nZU1ldGhvZCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLmNyZWF0ZUludmFsaWRDb2RlQ2hhbGxlbmdlUGFyYW1zRXJyb3IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGVDb2RlQ2hhbGxlbmdlTWV0aG9kKGNvZGVDaGFsbGVuZ2VNZXRob2QpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFV0aWxpdHkgdG8gdmFsaWRhdGUgY29kZV9jaGFsbGVuZ2VfbWV0aG9kXHJcbiAgICAgKiBAcGFyYW0gY29kZUNoYWxsZW5nZU1ldGhvZFxyXG4gICAgICovXHJcbiAgICBSZXF1ZXN0VmFsaWRhdG9yLnZhbGlkYXRlQ29kZUNoYWxsZW5nZU1ldGhvZCA9IGZ1bmN0aW9uIChjb2RlQ2hhbGxlbmdlTWV0aG9kKSB7XHJcbiAgICAgICAgaWYgKFtcclxuICAgICAgICAgICAgQ29kZUNoYWxsZW5nZU1ldGhvZFZhbHVlcy5QTEFJTixcclxuICAgICAgICAgICAgQ29kZUNoYWxsZW5nZU1ldGhvZFZhbHVlcy5TMjU2XHJcbiAgICAgICAgXS5pbmRleE9mKGNvZGVDaGFsbGVuZ2VNZXRob2QpIDwgMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IuY3JlYXRlSW52YWxpZENvZGVDaGFsbGVuZ2VNZXRob2RFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgdW5uZWNlc3Nhcnkgb3IgZHVwbGljYXRlIHF1ZXJ5IHBhcmFtZXRlcnMgZnJvbSBleHRyYVF1ZXJ5UGFyYW1ldGVyc1xyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgUmVxdWVzdFZhbGlkYXRvci5zYW5pdGl6ZUVRUGFyYW1zID0gZnVuY3Rpb24gKGVRUGFyYW1zLCBxdWVyeVBhcmFtcykge1xyXG4gICAgICAgIGlmICghZVFQYXJhbXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSZW1vdmUgYW55IHF1ZXJ5IHBhcmFtZXRlcnMgYWxyZWFkeSBpbmNsdWRlZCBpbiBTU08gcGFyYW1zXHJcbiAgICAgICAgcXVlcnlQYXJhbXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xyXG4gICAgICAgICAgICBpZiAoZVFQYXJhbXNba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIGVRUGFyYW1zW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZVFQYXJhbXM7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFJlcXVlc3RWYWxpZGF0b3I7XHJcbn0oKSk7XG5cbmV4cG9ydCB7IFJlcXVlc3RWYWxpZGF0b3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlcXVlc3RWYWxpZGF0b3IuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHY2LjEuMCAyMDIyLTAyLTA4ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBfX3NwcmVhZEFycmF5cyB9IGZyb20gJy4uL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgeyBBQURTZXJ2ZXJQYXJhbUtleXMsIENvbnN0YW50cywgUmVzcG9uc2VNb2RlLCBPSURDX0RFRkFVTFRfU0NPUEVTLCBTU09UeXBlcywgSGVhZGVyTmFtZXMsIENMSUVOVF9JTkZPLCBDbGFpbXNSZXF1ZXN0S2V5cywgUGFzc3dvcmRHcmFudENvbnN0YW50cywgQXV0aGVudGljYXRpb25TY2hlbWUsIFRocm90dGxpbmdDb25zdGFudHMgfSBmcm9tICcuLi91dGlscy9Db25zdGFudHMuanMnO1xuaW1wb3J0IHsgU2NvcGVTZXQgfSBmcm9tICcuL1Njb3BlU2V0LmpzJztcbmltcG9ydCB7IENsaWVudENvbmZpZ3VyYXRpb25FcnJvciB9IGZyb20gJy4uL2Vycm9yL0NsaWVudENvbmZpZ3VyYXRpb25FcnJvci5qcyc7XG5pbXBvcnQgeyBSZXF1ZXN0VmFsaWRhdG9yIH0gZnJvbSAnLi9SZXF1ZXN0VmFsaWRhdG9yLmpzJztcbmltcG9ydCB7IFN0cmluZ1V0aWxzIH0gZnJvbSAnLi4vdXRpbHMvU3RyaW5nVXRpbHMuanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxudmFyIFJlcXVlc3RQYXJhbWV0ZXJCdWlsZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUmVxdWVzdFBhcmFtZXRlckJ1aWxkZXIoKSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgcmVzcG9uc2VfdHlwZSA9IGNvZGVcclxuICAgICAqL1xyXG4gICAgUmVxdWVzdFBhcmFtZXRlckJ1aWxkZXIucHJvdG90eXBlLmFkZFJlc3BvbnNlVHlwZUNvZGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChBQURTZXJ2ZXJQYXJhbUtleXMuUkVTUE9OU0VfVFlQRSwgZW5jb2RlVVJJQ29tcG9uZW50KENvbnN0YW50cy5DT0RFX1JFU1BPTlNFX1RZUEUpKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIGFkZCByZXNwb25zZV9tb2RlLiBkZWZhdWx0cyB0byBxdWVyeS5cclxuICAgICAqIEBwYXJhbSByZXNwb25zZU1vZGVcclxuICAgICAqL1xyXG4gICAgUmVxdWVzdFBhcmFtZXRlckJ1aWxkZXIucHJvdG90eXBlLmFkZFJlc3BvbnNlTW9kZSA9IGZ1bmN0aW9uIChyZXNwb25zZU1vZGUpIHtcclxuICAgICAgICB0aGlzLnBhcmFtZXRlcnMuc2V0KEFBRFNlcnZlclBhcmFtS2V5cy5SRVNQT05TRV9NT0RFLCBlbmNvZGVVUklDb21wb25lbnQoKHJlc3BvbnNlTW9kZSkgPyByZXNwb25zZU1vZGUgOiBSZXNwb25zZU1vZGUuUVVFUlkpKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIGFkZCBzY29wZXMuIHNldCBhZGRPaWRjU2NvcGVzIHRvIGZhbHNlIHRvIHByZXZlbnQgZGVmYXVsdCBzY29wZXMgaW4gbm9uLXVzZXIgc2NlbmFyaW9zXHJcbiAgICAgKiBAcGFyYW0gc2NvcGVTZXRcclxuICAgICAqIEBwYXJhbSBhZGRPaWRjU2NvcGVzXHJcbiAgICAgKi9cclxuICAgIFJlcXVlc3RQYXJhbWV0ZXJCdWlsZGVyLnByb3RvdHlwZS5hZGRTY29wZXMgPSBmdW5jdGlvbiAoc2NvcGVzLCBhZGRPaWRjU2NvcGVzKSB7XHJcbiAgICAgICAgaWYgKGFkZE9pZGNTY29wZXMgPT09IHZvaWQgMCkgeyBhZGRPaWRjU2NvcGVzID0gdHJ1ZTsgfVxyXG4gICAgICAgIHZhciByZXF1ZXN0U2NvcGVzID0gYWRkT2lkY1Njb3BlcyA/IF9fc3ByZWFkQXJyYXlzKHNjb3BlcyB8fCBbXSwgT0lEQ19ERUZBVUxUX1NDT1BFUykgOiBzY29wZXMgfHwgW107XHJcbiAgICAgICAgdmFyIHNjb3BlU2V0ID0gbmV3IFNjb3BlU2V0KHJlcXVlc3RTY29wZXMpO1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoQUFEU2VydmVyUGFyYW1LZXlzLlNDT1BFLCBlbmNvZGVVUklDb21wb25lbnQoc2NvcGVTZXQucHJpbnRTY29wZXMoKSkpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogYWRkIGNsaWVudElkXHJcbiAgICAgKiBAcGFyYW0gY2xpZW50SWRcclxuICAgICAqL1xyXG4gICAgUmVxdWVzdFBhcmFtZXRlckJ1aWxkZXIucHJvdG90eXBlLmFkZENsaWVudElkID0gZnVuY3Rpb24gKGNsaWVudElkKSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChBQURTZXJ2ZXJQYXJhbUtleXMuQ0xJRU5UX0lELCBlbmNvZGVVUklDb21wb25lbnQoY2xpZW50SWQpKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIGFkZCByZWRpcmVjdF91cmlcclxuICAgICAqIEBwYXJhbSByZWRpcmVjdFVyaVxyXG4gICAgICovXHJcbiAgICBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlci5wcm90b3R5cGUuYWRkUmVkaXJlY3RVcmkgPSBmdW5jdGlvbiAocmVkaXJlY3RVcmkpIHtcclxuICAgICAgICBSZXF1ZXN0VmFsaWRhdG9yLnZhbGlkYXRlUmVkaXJlY3RVcmkocmVkaXJlY3RVcmkpO1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoQUFEU2VydmVyUGFyYW1LZXlzLlJFRElSRUNUX1VSSSwgZW5jb2RlVVJJQ29tcG9uZW50KHJlZGlyZWN0VXJpKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgcG9zdCBsb2dvdXQgcmVkaXJlY3RVcmlcclxuICAgICAqIEBwYXJhbSByZWRpcmVjdFVyaVxyXG4gICAgICovXHJcbiAgICBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlci5wcm90b3R5cGUuYWRkUG9zdExvZ291dFJlZGlyZWN0VXJpID0gZnVuY3Rpb24gKHJlZGlyZWN0VXJpKSB7XHJcbiAgICAgICAgUmVxdWVzdFZhbGlkYXRvci52YWxpZGF0ZVJlZGlyZWN0VXJpKHJlZGlyZWN0VXJpKTtcclxuICAgICAgICB0aGlzLnBhcmFtZXRlcnMuc2V0KEFBRFNlcnZlclBhcmFtS2V5cy5QT1NUX0xPR09VVF9VUkksIGVuY29kZVVSSUNvbXBvbmVudChyZWRpcmVjdFVyaSkpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogYWRkIGlkX3Rva2VuX2hpbnQgdG8gbG9nb3V0IHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSBpZFRva2VuSGludFxyXG4gICAgICovXHJcbiAgICBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlci5wcm90b3R5cGUuYWRkSWRUb2tlbkhpbnQgPSBmdW5jdGlvbiAoaWRUb2tlbkhpbnQpIHtcclxuICAgICAgICB0aGlzLnBhcmFtZXRlcnMuc2V0KEFBRFNlcnZlclBhcmFtS2V5cy5JRF9UT0tFTl9ISU5ULCBlbmNvZGVVUklDb21wb25lbnQoaWRUb2tlbkhpbnQpKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIGFkZCBkb21haW5faGludFxyXG4gICAgICogQHBhcmFtIGRvbWFpbkhpbnRcclxuICAgICAqL1xyXG4gICAgUmVxdWVzdFBhcmFtZXRlckJ1aWxkZXIucHJvdG90eXBlLmFkZERvbWFpbkhpbnQgPSBmdW5jdGlvbiAoZG9tYWluSGludCkge1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoU1NPVHlwZXMuRE9NQUlOX0hJTlQsIGVuY29kZVVSSUNvbXBvbmVudChkb21haW5IaW50KSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgbG9naW5faGludFxyXG4gICAgICogQHBhcmFtIGxvZ2luSGludFxyXG4gICAgICovXHJcbiAgICBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlci5wcm90b3R5cGUuYWRkTG9naW5IaW50ID0gZnVuY3Rpb24gKGxvZ2luSGludCkge1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoU1NPVHlwZXMuTE9HSU5fSElOVCwgZW5jb2RlVVJJQ29tcG9uZW50KGxvZ2luSGludCkpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQWRkcyB0aGUgQ0NTIChDYWNoZSBDcmVkZW50aWFsIFNlcnZpY2UpIHF1ZXJ5IHBhcmFtZXRlciBmb3IgbG9naW5faGludFxyXG4gICAgICogQHBhcmFtIGxvZ2luSGludFxyXG4gICAgICovXHJcbiAgICBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlci5wcm90b3R5cGUuYWRkQ2NzVXBuID0gZnVuY3Rpb24gKGxvZ2luSGludCkge1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoSGVhZGVyTmFtZXMuQ0NTX0hFQURFUiwgZW5jb2RlVVJJQ29tcG9uZW50KFwiVVBOOlwiICsgbG9naW5IaW50KSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIHRoZSBDQ1MgKENhY2hlIENyZWRlbnRpYWwgU2VydmljZSkgcXVlcnkgcGFyYW1ldGVyIGZvciBhY2NvdW50IG9iamVjdFxyXG4gICAgICogQHBhcmFtIGxvZ2luSGludFxyXG4gICAgICovXHJcbiAgICBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlci5wcm90b3R5cGUuYWRkQ2NzT2lkID0gZnVuY3Rpb24gKGNsaWVudEluZm8pIHtcclxuICAgICAgICB0aGlzLnBhcmFtZXRlcnMuc2V0KEhlYWRlck5hbWVzLkNDU19IRUFERVIsIGVuY29kZVVSSUNvbXBvbmVudChcIk9pZDpcIiArIGNsaWVudEluZm8udWlkICsgXCJAXCIgKyBjbGllbnRJbmZvLnV0aWQpKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIGFkZCBzaWRcclxuICAgICAqIEBwYXJhbSBzaWRcclxuICAgICAqL1xyXG4gICAgUmVxdWVzdFBhcmFtZXRlckJ1aWxkZXIucHJvdG90eXBlLmFkZFNpZCA9IGZ1bmN0aW9uIChzaWQpIHtcclxuICAgICAgICB0aGlzLnBhcmFtZXRlcnMuc2V0KFNTT1R5cGVzLlNJRCwgZW5jb2RlVVJJQ29tcG9uZW50KHNpZCkpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogYWRkIGNsYWltc1xyXG4gICAgICogQHBhcmFtIGNsYWltc1xyXG4gICAgICovXHJcbiAgICBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlci5wcm90b3R5cGUuYWRkQ2xhaW1zID0gZnVuY3Rpb24gKGNsYWltcywgY2xpZW50Q2FwYWJpbGl0aWVzKSB7XHJcbiAgICAgICAgdmFyIG1lcmdlZENsYWltcyA9IHRoaXMuYWRkQ2xpZW50Q2FwYWJpbGl0aWVzVG9DbGFpbXMoY2xhaW1zLCBjbGllbnRDYXBhYmlsaXRpZXMpO1xyXG4gICAgICAgIFJlcXVlc3RWYWxpZGF0b3IudmFsaWRhdGVDbGFpbXMobWVyZ2VkQ2xhaW1zKTtcclxuICAgICAgICB0aGlzLnBhcmFtZXRlcnMuc2V0KEFBRFNlcnZlclBhcmFtS2V5cy5DTEFJTVMsIGVuY29kZVVSSUNvbXBvbmVudChtZXJnZWRDbGFpbXMpKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIGFkZCBjb3JyZWxhdGlvbklkXHJcbiAgICAgKiBAcGFyYW0gY29ycmVsYXRpb25JZFxyXG4gICAgICovXHJcbiAgICBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlci5wcm90b3R5cGUuYWRkQ29ycmVsYXRpb25JZCA9IGZ1bmN0aW9uIChjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChBQURTZXJ2ZXJQYXJhbUtleXMuQ0xJRU5UX1JFUVVFU1RfSUQsIGVuY29kZVVSSUNvbXBvbmVudChjb3JyZWxhdGlvbklkKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgbGlicmFyeSBpbmZvIHF1ZXJ5IHBhcmFtc1xyXG4gICAgICogQHBhcmFtIGxpYnJhcnlJbmZvXHJcbiAgICAgKi9cclxuICAgIFJlcXVlc3RQYXJhbWV0ZXJCdWlsZGVyLnByb3RvdHlwZS5hZGRMaWJyYXJ5SW5mbyA9IGZ1bmN0aW9uIChsaWJyYXJ5SW5mbykge1xyXG4gICAgICAgIC8vIFRlbGVtZXRyeSBJbmZvXHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChBQURTZXJ2ZXJQYXJhbUtleXMuWF9DTElFTlRfU0tVLCBsaWJyYXJ5SW5mby5za3UpO1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoQUFEU2VydmVyUGFyYW1LZXlzLlhfQ0xJRU5UX1ZFUiwgbGlicmFyeUluZm8udmVyc2lvbik7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChBQURTZXJ2ZXJQYXJhbUtleXMuWF9DTElFTlRfT1MsIGxpYnJhcnlJbmZvLm9zKTtcclxuICAgICAgICB0aGlzLnBhcmFtZXRlcnMuc2V0KEFBRFNlcnZlclBhcmFtS2V5cy5YX0NMSUVOVF9DUFUsIGxpYnJhcnlJbmZvLmNwdSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgcHJvbXB0XHJcbiAgICAgKiBAcGFyYW0gcHJvbXB0XHJcbiAgICAgKi9cclxuICAgIFJlcXVlc3RQYXJhbWV0ZXJCdWlsZGVyLnByb3RvdHlwZS5hZGRQcm9tcHQgPSBmdW5jdGlvbiAocHJvbXB0KSB7XHJcbiAgICAgICAgUmVxdWVzdFZhbGlkYXRvci52YWxpZGF0ZVByb21wdChwcm9tcHQpO1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoXCJcIiArIEFBRFNlcnZlclBhcmFtS2V5cy5QUk9NUFQsIGVuY29kZVVSSUNvbXBvbmVudChwcm9tcHQpKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIGFkZCBzdGF0ZVxyXG4gICAgICogQHBhcmFtIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIFJlcXVlc3RQYXJhbWV0ZXJCdWlsZGVyLnByb3RvdHlwZS5hZGRTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xyXG4gICAgICAgIGlmICghU3RyaW5nVXRpbHMuaXNFbXB0eShzdGF0ZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChBQURTZXJ2ZXJQYXJhbUtleXMuU1RBVEUsIGVuY29kZVVSSUNvbXBvbmVudChzdGF0ZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIGFkZCBub25jZVxyXG4gICAgICogQHBhcmFtIG5vbmNlXHJcbiAgICAgKi9cclxuICAgIFJlcXVlc3RQYXJhbWV0ZXJCdWlsZGVyLnByb3RvdHlwZS5hZGROb25jZSA9IGZ1bmN0aW9uIChub25jZSkge1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoQUFEU2VydmVyUGFyYW1LZXlzLk5PTkNFLCBlbmNvZGVVUklDb21wb25lbnQobm9uY2UpKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIGFkZCBjb2RlX2NoYWxsZW5nZSBhbmQgY29kZV9jaGFsbGVuZ2VfbWV0aG9kXHJcbiAgICAgKiAtIHRocm93IGlmIGVpdGhlciBvZiB0aGVtIGFyZSBub3QgcGFzc2VkXHJcbiAgICAgKiBAcGFyYW0gY29kZUNoYWxsZW5nZVxyXG4gICAgICogQHBhcmFtIGNvZGVDaGFsbGVuZ2VNZXRob2RcclxuICAgICAqL1xyXG4gICAgUmVxdWVzdFBhcmFtZXRlckJ1aWxkZXIucHJvdG90eXBlLmFkZENvZGVDaGFsbGVuZ2VQYXJhbXMgPSBmdW5jdGlvbiAoY29kZUNoYWxsZW5nZSwgY29kZUNoYWxsZW5nZU1ldGhvZCkge1xyXG4gICAgICAgIFJlcXVlc3RWYWxpZGF0b3IudmFsaWRhdGVDb2RlQ2hhbGxlbmdlUGFyYW1zKGNvZGVDaGFsbGVuZ2UsIGNvZGVDaGFsbGVuZ2VNZXRob2QpO1xyXG4gICAgICAgIGlmIChjb2RlQ2hhbGxlbmdlICYmIGNvZGVDaGFsbGVuZ2VNZXRob2QpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChBQURTZXJ2ZXJQYXJhbUtleXMuQ09ERV9DSEFMTEVOR0UsIGVuY29kZVVSSUNvbXBvbmVudChjb2RlQ2hhbGxlbmdlKSk7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoQUFEU2VydmVyUGFyYW1LZXlzLkNPREVfQ0hBTExFTkdFX01FVEhPRCwgZW5jb2RlVVJJQ29tcG9uZW50KGNvZGVDaGFsbGVuZ2VNZXRob2QpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IENsaWVudENvbmZpZ3VyYXRpb25FcnJvci5jcmVhdGVJbnZhbGlkQ29kZUNoYWxsZW5nZVBhcmFtc0Vycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogYWRkIHRoZSBgYXV0aG9yaXphdGlvbl9jb2RlYCBwYXNzZWQgYnkgdGhlIHVzZXIgdG8gZXhjaGFuZ2UgZm9yIGEgdG9rZW5cclxuICAgICAqIEBwYXJhbSBjb2RlXHJcbiAgICAgKi9cclxuICAgIFJlcXVlc3RQYXJhbWV0ZXJCdWlsZGVyLnByb3RvdHlwZS5hZGRBdXRob3JpemF0aW9uQ29kZSA9IGZ1bmN0aW9uIChjb2RlKSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChBQURTZXJ2ZXJQYXJhbUtleXMuQ09ERSwgZW5jb2RlVVJJQ29tcG9uZW50KGNvZGUpKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIGFkZCB0aGUgYGF1dGhvcml6YXRpb25fY29kZWAgcGFzc2VkIGJ5IHRoZSB1c2VyIHRvIGV4Y2hhbmdlIGZvciBhIHRva2VuXHJcbiAgICAgKiBAcGFyYW0gY29kZVxyXG4gICAgICovXHJcbiAgICBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlci5wcm90b3R5cGUuYWRkRGV2aWNlQ29kZSA9IGZ1bmN0aW9uIChjb2RlKSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChBQURTZXJ2ZXJQYXJhbUtleXMuREVWSUNFX0NPREUsIGVuY29kZVVSSUNvbXBvbmVudChjb2RlKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgdGhlIGByZWZyZXNoVG9rZW5gIHBhc3NlZCBieSB0aGUgdXNlclxyXG4gICAgICogQHBhcmFtIHJlZnJlc2hUb2tlblxyXG4gICAgICovXHJcbiAgICBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlci5wcm90b3R5cGUuYWRkUmVmcmVzaFRva2VuID0gZnVuY3Rpb24gKHJlZnJlc2hUb2tlbikge1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoQUFEU2VydmVyUGFyYW1LZXlzLlJFRlJFU0hfVE9LRU4sIGVuY29kZVVSSUNvbXBvbmVudChyZWZyZXNoVG9rZW4pKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIGFkZCB0aGUgYGNvZGVfdmVyaWZpZXJgIHBhc3NlZCBieSB0aGUgdXNlciB0byBleGNoYW5nZSBmb3IgYSB0b2tlblxyXG4gICAgICogQHBhcmFtIGNvZGVWZXJpZmllclxyXG4gICAgICovXHJcbiAgICBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlci5wcm90b3R5cGUuYWRkQ29kZVZlcmlmaWVyID0gZnVuY3Rpb24gKGNvZGVWZXJpZmllcikge1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoQUFEU2VydmVyUGFyYW1LZXlzLkNPREVfVkVSSUZJRVIsIGVuY29kZVVSSUNvbXBvbmVudChjb2RlVmVyaWZpZXIpKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIGFkZCBjbGllbnRfc2VjcmV0XHJcbiAgICAgKiBAcGFyYW0gY2xpZW50U2VjcmV0XHJcbiAgICAgKi9cclxuICAgIFJlcXVlc3RQYXJhbWV0ZXJCdWlsZGVyLnByb3RvdHlwZS5hZGRDbGllbnRTZWNyZXQgPSBmdW5jdGlvbiAoY2xpZW50U2VjcmV0KSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChBQURTZXJ2ZXJQYXJhbUtleXMuQ0xJRU5UX1NFQ1JFVCwgZW5jb2RlVVJJQ29tcG9uZW50KGNsaWVudFNlY3JldCkpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogYWRkIGNsaWVudEFzc2VydGlvbiBmb3IgY29uZmlkZW50aWFsIGNsaWVudCBmbG93c1xyXG4gICAgICogQHBhcmFtIGNsaWVudEFzc2VydGlvblxyXG4gICAgICovXHJcbiAgICBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlci5wcm90b3R5cGUuYWRkQ2xpZW50QXNzZXJ0aW9uID0gZnVuY3Rpb24gKGNsaWVudEFzc2VydGlvbikge1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoQUFEU2VydmVyUGFyYW1LZXlzLkNMSUVOVF9BU1NFUlRJT04sIGVuY29kZVVSSUNvbXBvbmVudChjbGllbnRBc3NlcnRpb24pKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIGFkZCBjbGllbnRBc3NlcnRpb25UeXBlIGZvciBjb25maWRlbnRpYWwgY2xpZW50IGZsb3dzXHJcbiAgICAgKiBAcGFyYW0gY2xpZW50QXNzZXJ0aW9uVHlwZVxyXG4gICAgICovXHJcbiAgICBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlci5wcm90b3R5cGUuYWRkQ2xpZW50QXNzZXJ0aW9uVHlwZSA9IGZ1bmN0aW9uIChjbGllbnRBc3NlcnRpb25UeXBlKSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChBQURTZXJ2ZXJQYXJhbUtleXMuQ0xJRU5UX0FTU0VSVElPTl9UWVBFLCBlbmNvZGVVUklDb21wb25lbnQoY2xpZW50QXNzZXJ0aW9uVHlwZSkpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogYWRkIE9CTyBhc3NlcnRpb24gZm9yIGNvbmZpZGVudGlhbCBjbGllbnQgZmxvd3NcclxuICAgICAqIEBwYXJhbSBjbGllbnRBc3NlcnRpb25cclxuICAgICAqL1xyXG4gICAgUmVxdWVzdFBhcmFtZXRlckJ1aWxkZXIucHJvdG90eXBlLmFkZE9ib0Fzc2VydGlvbiA9IGZ1bmN0aW9uIChvYm9Bc3NlcnRpb24pIHtcclxuICAgICAgICB0aGlzLnBhcmFtZXRlcnMuc2V0KEFBRFNlcnZlclBhcmFtS2V5cy5PQk9fQVNTRVJUSU9OLCBlbmNvZGVVUklDb21wb25lbnQob2JvQXNzZXJ0aW9uKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgZ3JhbnQgdHlwZVxyXG4gICAgICogQHBhcmFtIGdyYW50VHlwZVxyXG4gICAgICovXHJcbiAgICBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlci5wcm90b3R5cGUuYWRkUmVxdWVzdFRva2VuVXNlID0gZnVuY3Rpb24gKHRva2VuVXNlKSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChBQURTZXJ2ZXJQYXJhbUtleXMuUkVRVUVTVEVEX1RPS0VOX1VTRSwgZW5jb2RlVVJJQ29tcG9uZW50KHRva2VuVXNlKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgZ3JhbnQgdHlwZVxyXG4gICAgICogQHBhcmFtIGdyYW50VHlwZVxyXG4gICAgICovXHJcbiAgICBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlci5wcm90b3R5cGUuYWRkR3JhbnRUeXBlID0gZnVuY3Rpb24gKGdyYW50VHlwZSkge1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoQUFEU2VydmVyUGFyYW1LZXlzLkdSQU5UX1RZUEUsIGVuY29kZVVSSUNvbXBvbmVudChncmFudFR5cGUpKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIGFkZCBjbGllbnQgaW5mb1xyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgUmVxdWVzdFBhcmFtZXRlckJ1aWxkZXIucHJvdG90eXBlLmFkZENsaWVudEluZm8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChDTElFTlRfSU5GTywgXCIxXCIpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogYWRkIGV4dHJhUXVlcnlQYXJhbXNcclxuICAgICAqIEBwYXJhbSBlUXBhcmFtc1xyXG4gICAgICovXHJcbiAgICBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlci5wcm90b3R5cGUuYWRkRXh0cmFRdWVyeVBhcmFtZXRlcnMgPSBmdW5jdGlvbiAoZVFwYXJhbXMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIFJlcXVlc3RWYWxpZGF0b3Iuc2FuaXRpemVFUVBhcmFtcyhlUXBhcmFtcywgdGhpcy5wYXJhbWV0ZXJzKTtcclxuICAgICAgICBPYmplY3Qua2V5cyhlUXBhcmFtcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmFtZXRlcnMuc2V0KGtleSwgZVFwYXJhbXNba2V5XSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgUmVxdWVzdFBhcmFtZXRlckJ1aWxkZXIucHJvdG90eXBlLmFkZENsaWVudENhcGFiaWxpdGllc1RvQ2xhaW1zID0gZnVuY3Rpb24gKGNsYWltcywgY2xpZW50Q2FwYWJpbGl0aWVzKSB7XHJcbiAgICAgICAgdmFyIG1lcmdlZENsYWltcztcclxuICAgICAgICAvLyBQYXJzZSBwcm92aWRlZCBjbGFpbXMgaW50byBKU09OIG9iamVjdCBvciBpbml0aWFsaXplIGVtcHR5IG9iamVjdFxyXG4gICAgICAgIGlmICghY2xhaW1zKSB7XHJcbiAgICAgICAgICAgIG1lcmdlZENsYWltcyA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIG1lcmdlZENsYWltcyA9IEpTT04ucGFyc2UoY2xhaW1zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLmNyZWF0ZUludmFsaWRDbGFpbXNSZXF1ZXN0RXJyb3IoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2xpZW50Q2FwYWJpbGl0aWVzICYmIGNsaWVudENhcGFiaWxpdGllcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGlmICghbWVyZ2VkQ2xhaW1zLmhhc093blByb3BlcnR5KENsYWltc1JlcXVlc3RLZXlzLkFDQ0VTU19UT0tFTikpIHtcclxuICAgICAgICAgICAgICAgIC8vIEFkZCBhY2Nlc3NfdG9rZW4ga2V5IHRvIGNsYWltcyBvYmplY3RcclxuICAgICAgICAgICAgICAgIG1lcmdlZENsYWltc1tDbGFpbXNSZXF1ZXN0S2V5cy5BQ0NFU1NfVE9LRU5dID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQWRkIHhtc19jYyBjbGFpbSB3aXRoIHByb3ZpZGVkIGNsaWVudENhcGFiaWxpdGllcyB0byBhY2Nlc3NfdG9rZW4ga2V5XHJcbiAgICAgICAgICAgIG1lcmdlZENsYWltc1tDbGFpbXNSZXF1ZXN0S2V5cy5BQ0NFU1NfVE9LRU5dW0NsYWltc1JlcXVlc3RLZXlzLlhNU19DQ10gPSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZXM6IGNsaWVudENhcGFiaWxpdGllc1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkobWVyZ2VkQ2xhaW1zKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIGFkZHMgYHVzZXJuYW1lYCBmb3IgUGFzc3dvcmQgR3JhbnQgZmxvd1xyXG4gICAgICogQHBhcmFtIHVzZXJuYW1lXHJcbiAgICAgKi9cclxuICAgIFJlcXVlc3RQYXJhbWV0ZXJCdWlsZGVyLnByb3RvdHlwZS5hZGRVc2VybmFtZSA9IGZ1bmN0aW9uICh1c2VybmFtZSkge1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoUGFzc3dvcmRHcmFudENvbnN0YW50cy51c2VybmFtZSwgdXNlcm5hbWUpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogYWRkcyBgcGFzc3dvcmRgIGZvciBQYXNzd29yZCBHcmFudCBmbG93XHJcbiAgICAgKiBAcGFyYW0gcGFzc3dvcmRcclxuICAgICAqL1xyXG4gICAgUmVxdWVzdFBhcmFtZXRlckJ1aWxkZXIucHJvdG90eXBlLmFkZFBhc3N3b3JkID0gZnVuY3Rpb24gKHBhc3N3b3JkKSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChQYXNzd29yZEdyYW50Q29uc3RhbnRzLnBhc3N3b3JkLCBwYXNzd29yZCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgcG9wX2p3ayB0byBxdWVyeSBwYXJhbXNcclxuICAgICAqIEBwYXJhbSBjbmZTdHJpbmdcclxuICAgICAqL1xyXG4gICAgUmVxdWVzdFBhcmFtZXRlckJ1aWxkZXIucHJvdG90eXBlLmFkZFBvcFRva2VuID0gZnVuY3Rpb24gKGNuZlN0cmluZykge1xyXG4gICAgICAgIGlmICghU3RyaW5nVXRpbHMuaXNFbXB0eShjbmZTdHJpbmcpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoQUFEU2VydmVyUGFyYW1LZXlzLlRPS0VOX1RZUEUsIEF1dGhlbnRpY2F0aW9uU2NoZW1lLlBPUCk7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoQUFEU2VydmVyUGFyYW1LZXlzLlJFUV9DTkYsIGVuY29kZVVSSUNvbXBvbmVudChjbmZTdHJpbmcpKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgU1NIIEpXSyBhbmQga2V5IElEIHRvIHF1ZXJ5IHBhcmFtc1xyXG4gICAgICovXHJcbiAgICBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlci5wcm90b3R5cGUuYWRkU3NoSndrID0gZnVuY3Rpb24gKHNzaEp3a1N0cmluZykge1xyXG4gICAgICAgIGlmICghU3RyaW5nVXRpbHMuaXNFbXB0eShzc2hKd2tTdHJpbmcpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoQUFEU2VydmVyUGFyYW1LZXlzLlRPS0VOX1RZUEUsIEF1dGhlbnRpY2F0aW9uU2NoZW1lLlNTSCk7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoQUFEU2VydmVyUGFyYW1LZXlzLlJFUV9DTkYsIGVuY29kZVVSSUNvbXBvbmVudChzc2hKd2tTdHJpbmcpKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgc2VydmVyIHRlbGVtZXRyeSBmaWVsZHNcclxuICAgICAqIEBwYXJhbSBzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyXHJcbiAgICAgKi9cclxuICAgIFJlcXVlc3RQYXJhbWV0ZXJCdWlsZGVyLnByb3RvdHlwZS5hZGRTZXJ2ZXJUZWxlbWV0cnkgPSBmdW5jdGlvbiAoc2VydmVyVGVsZW1ldHJ5TWFuYWdlcikge1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoQUFEU2VydmVyUGFyYW1LZXlzLlhfQ0xJRU5UX0NVUlJfVEVMRU0sIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIuZ2VuZXJhdGVDdXJyZW50UmVxdWVzdEhlYWRlclZhbHVlKCkpO1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoQUFEU2VydmVyUGFyYW1LZXlzLlhfQ0xJRU5UX0xBU1RfVEVMRU0sIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIuZ2VuZXJhdGVMYXN0UmVxdWVzdEhlYWRlclZhbHVlKCkpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBwYXJhbWV0ZXIgdGhhdCBpbmRpY2F0ZXMgdG8gdGhlIHNlcnZlciB0aGF0IHRocm90dGxpbmcgaXMgc3VwcG9ydGVkXHJcbiAgICAgKi9cclxuICAgIFJlcXVlc3RQYXJhbWV0ZXJCdWlsZGVyLnByb3RvdHlwZS5hZGRUaHJvdHRsaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoQUFEU2VydmVyUGFyYW1LZXlzLlhfTVNfTElCX0NBUEFCSUxJVFksIFRocm90dGxpbmdDb25zdGFudHMuWF9NU19MSUJfQ0FQQUJJTElUWV9WQUxVRSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIGxvZ291dF9oaW50IHBhcmFtZXRlciBmb3IgXCJzaWxlbnRcIiBsb2dvdXQgd2hpY2ggcHJldmVudCBzZXJ2ZXIgYWNjb3VudCBwaWNrZXJcclxuICAgICAqL1xyXG4gICAgUmVxdWVzdFBhcmFtZXRlckJ1aWxkZXIucHJvdG90eXBlLmFkZExvZ291dEhpbnQgPSBmdW5jdGlvbiAobG9nb3V0SGludCkge1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoQUFEU2VydmVyUGFyYW1LZXlzLkxPR09VVF9ISU5ULCBlbmNvZGVVUklDb21wb25lbnQobG9nb3V0SGludCkpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVXRpbGl0eSB0byBjcmVhdGUgYSBVUkwgZnJvbSB0aGUgcGFyYW1zIG1hcFxyXG4gICAgICovXHJcbiAgICBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlci5wcm90b3R5cGUuY3JlYXRlUXVlcnlTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHF1ZXJ5UGFyYW1ldGVyQXJyYXkgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICB0aGlzLnBhcmFtZXRlcnMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xyXG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlckFycmF5LnB1c2goa2V5ICsgXCI9XCIgKyB2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHF1ZXJ5UGFyYW1ldGVyQXJyYXkuam9pbihcIiZcIik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFJlcXVlc3RQYXJhbWV0ZXJCdWlsZGVyO1xyXG59KCkpO1xuXG5leHBvcnQgeyBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVxdWVzdFBhcmFtZXRlckJ1aWxkZXIuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHY2LjEuMCAyMDIyLTAyLTA4ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tICcuLi8uLi9fdmlydHVhbC9fdHNsaWIuanMnO1xuaW1wb3J0IHsgQ3JlZGVudGlhbEVudGl0eSB9IGZyb20gJy4vQ3JlZGVudGlhbEVudGl0eS5qcyc7XG5pbXBvcnQgeyBDcmVkZW50aWFsVHlwZSB9IGZyb20gJy4uLy4uL3V0aWxzL0NvbnN0YW50cy5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogSURfVE9LRU4gQ2FjaGVcclxuICpcclxuICogS2V5OlZhbHVlIFNjaGVtYTpcclxuICpcclxuICogS2V5IEV4YW1wbGU6IHVpZC51dGlkLWxvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20taWR0b2tlbi1jbGllbnRJZC1jb250b3NvLmNvbS1cclxuICpcclxuICogVmFsdWUgU2NoZW1hOlxyXG4gKiB7XHJcbiAqICAgICAgaG9tZUFjY291bnRJZDogaG9tZSBhY2NvdW50IGlkZW50aWZpZXIgZm9yIHRoZSBhdXRoIHNjaGVtZSxcclxuICogICAgICBlbnZpcm9ubWVudDogZW50aXR5IHRoYXQgaXNzdWVkIHRoZSB0b2tlbiwgcmVwcmVzZW50ZWQgYXMgYSBmdWxsIGhvc3RcclxuICogICAgICBjcmVkZW50aWFsVHlwZTogVHlwZSBvZiBjcmVkZW50aWFsIGFzIGEgc3RyaW5nLCBjYW4gYmUgb25lIG9mIHRoZSBmb2xsb3dpbmc6IFJlZnJlc2hUb2tlbiwgQWNjZXNzVG9rZW4sIElkVG9rZW4sIFBhc3N3b3JkLCBDb29raWUsIENlcnRpZmljYXRlLCBPdGhlclxyXG4gKiAgICAgIGNsaWVudElkOiBjbGllbnQgSUQgb2YgdGhlIGFwcGxpY2F0aW9uXHJcbiAqICAgICAgc2VjcmV0OiBBY3R1YWwgY3JlZGVudGlhbCBhcyBhIHN0cmluZ1xyXG4gKiAgICAgIHJlYWxtOiBGdWxsIHRlbmFudCBvciBvcmdhbml6YXRpb25hbCBpZGVudGlmaWVyIHRoYXQgdGhlIGFjY291bnQgYmVsb25ncyB0b1xyXG4gKiB9XHJcbiAqL1xyXG52YXIgSWRUb2tlbkVudGl0eSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhJZFRva2VuRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gSWRUb2tlbkVudGl0eSgpIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBJZFRva2VuRW50aXR5XHJcbiAgICAgKiBAcGFyYW0gaG9tZUFjY291bnRJZFxyXG4gICAgICogQHBhcmFtIGF1dGhlbnRpY2F0aW9uUmVzdWx0XHJcbiAgICAgKiBAcGFyYW0gY2xpZW50SWRcclxuICAgICAqIEBwYXJhbSBhdXRob3JpdHlcclxuICAgICAqL1xyXG4gICAgSWRUb2tlbkVudGl0eS5jcmVhdGVJZFRva2VuRW50aXR5ID0gZnVuY3Rpb24gKGhvbWVBY2NvdW50SWQsIGVudmlyb25tZW50LCBpZFRva2VuLCBjbGllbnRJZCwgdGVuYW50SWQsIG9ib0Fzc2VydGlvbikge1xyXG4gICAgICAgIHZhciBpZFRva2VuRW50aXR5ID0gbmV3IElkVG9rZW5FbnRpdHkoKTtcclxuICAgICAgICBpZFRva2VuRW50aXR5LmNyZWRlbnRpYWxUeXBlID0gQ3JlZGVudGlhbFR5cGUuSURfVE9LRU47XHJcbiAgICAgICAgaWRUb2tlbkVudGl0eS5ob21lQWNjb3VudElkID0gaG9tZUFjY291bnRJZDtcclxuICAgICAgICBpZFRva2VuRW50aXR5LmVudmlyb25tZW50ID0gZW52aXJvbm1lbnQ7XHJcbiAgICAgICAgaWRUb2tlbkVudGl0eS5jbGllbnRJZCA9IGNsaWVudElkO1xyXG4gICAgICAgIGlkVG9rZW5FbnRpdHkuc2VjcmV0ID0gaWRUb2tlbjtcclxuICAgICAgICBpZFRva2VuRW50aXR5LnJlYWxtID0gdGVuYW50SWQ7XHJcbiAgICAgICAgaWRUb2tlbkVudGl0eS5vYm9Bc3NlcnRpb24gPSBvYm9Bc3NlcnRpb247XHJcbiAgICAgICAgcmV0dXJuIGlkVG9rZW5FbnRpdHk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBWYWxpZGF0ZXMgYW4gZW50aXR5OiBjaGVja3MgZm9yIGFsbCBleHBlY3RlZCBwYXJhbXNcclxuICAgICAqIEBwYXJhbSBlbnRpdHlcclxuICAgICAqL1xyXG4gICAgSWRUb2tlbkVudGl0eS5pc0lkVG9rZW5FbnRpdHkgPSBmdW5jdGlvbiAoZW50aXR5KSB7XHJcbiAgICAgICAgaWYgKCFlbnRpdHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKGVudGl0eS5oYXNPd25Qcm9wZXJ0eShcImhvbWVBY2NvdW50SWRcIikgJiZcclxuICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwiZW52aXJvbm1lbnRcIikgJiZcclxuICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwiY3JlZGVudGlhbFR5cGVcIikgJiZcclxuICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwicmVhbG1cIikgJiZcclxuICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwiY2xpZW50SWRcIikgJiZcclxuICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwic2VjcmV0XCIpICYmXHJcbiAgICAgICAgICAgIGVudGl0eVtcImNyZWRlbnRpYWxUeXBlXCJdID09PSBDcmVkZW50aWFsVHlwZS5JRF9UT0tFTik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIElkVG9rZW5FbnRpdHk7XHJcbn0oQ3JlZGVudGlhbEVudGl0eSkpO1xuXG5leHBvcnQgeyBJZFRva2VuRW50aXR5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JZFRva2VuRW50aXR5LmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2Ni4xLjAgMjAyMi0wMi0wOCAqL1xuJ3VzZSBzdHJpY3QnO1xuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBVdGlsaXR5IGNsYXNzIHdoaWNoIGV4cG9zZXMgZnVuY3Rpb25zIGZvciBtYW5hZ2luZyBkYXRlIGFuZCB0aW1lIG9wZXJhdGlvbnMuXHJcbiAqL1xyXG52YXIgVGltZVV0aWxzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVGltZVV0aWxzKCkge1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm4gdGhlIGN1cnJlbnQgdGltZSBpbiBVbml4IHRpbWUgKHNlY29uZHMpLlxyXG4gICAgICovXHJcbiAgICBUaW1lVXRpbHMubm93U2Vjb25kcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBEYXRlLmdldFRpbWUoKSByZXR1cm5zIGluIG1pbGxpc2Vjb25kcy5cclxuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDAuMCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBjaGVjayBpZiBhIHRva2VuIGlzIGV4cGlyZWQgYmFzZWQgb24gZ2l2ZW4gVVRDIHRpbWUgaW4gc2Vjb25kcy5cclxuICAgICAqIEBwYXJhbSBleHBpcmVzT25cclxuICAgICAqL1xyXG4gICAgVGltZVV0aWxzLmlzVG9rZW5FeHBpcmVkID0gZnVuY3Rpb24gKGV4cGlyZXNPbiwgb2Zmc2V0KSB7XHJcbiAgICAgICAgLy8gY2hlY2sgZm9yIGFjY2VzcyB0b2tlbiBleHBpcnlcclxuICAgICAgICB2YXIgZXhwaXJhdGlvblNlYyA9IE51bWJlcihleHBpcmVzT24pIHx8IDA7XHJcbiAgICAgICAgdmFyIG9mZnNldEN1cnJlbnRUaW1lU2VjID0gVGltZVV0aWxzLm5vd1NlY29uZHMoKSArIG9mZnNldDtcclxuICAgICAgICAvLyBJZiBjdXJyZW50IHRpbWUgKyBvZmZzZXQgaXMgZ3JlYXRlciB0aGFuIHRva2VuIGV4cGlyYXRpb24gdGltZSwgdGhlbiB0b2tlbiBpcyBleHBpcmVkLlxyXG4gICAgICAgIHJldHVybiAob2Zmc2V0Q3VycmVudFRpbWVTZWMgPiBleHBpcmF0aW9uU2VjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIElmIHRoZSBjdXJyZW50IHRpbWUgaXMgZWFybGllciB0aGFuIHRoZSB0aW1lIHRoYXQgYSB0b2tlbiB3YXMgY2FjaGVkIGF0LCB3ZSBtdXN0IGRpc2NhcmQgdGhlIHRva2VuXHJcbiAgICAgKiBpLmUuIFRoZSBzeXN0ZW0gY2xvY2sgd2FzIHR1cm5lZCBiYWNrIGFmdGVyIGFjcXVpcmluZyB0aGUgY2FjaGVkIHRva2VuXHJcbiAgICAgKiBAcGFyYW0gY2FjaGVkQXRcclxuICAgICAqIEBwYXJhbSBvZmZzZXRcclxuICAgICAqL1xyXG4gICAgVGltZVV0aWxzLndhc0Nsb2NrVHVybmVkQmFjayA9IGZ1bmN0aW9uIChjYWNoZWRBdCkge1xyXG4gICAgICAgIHZhciBjYWNoZWRBdFNlYyA9IE51bWJlcihjYWNoZWRBdCk7XHJcbiAgICAgICAgcmV0dXJuIGNhY2hlZEF0U2VjID4gVGltZVV0aWxzLm5vd1NlY29uZHMoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFdhaXRzIGZvciB0IG51bWJlciBvZiBtaWxsaXNlY29uZHNcclxuICAgICAqIEBwYXJhbSB0IG51bWJlclxyXG4gICAgICogQHBhcmFtIHZhbHVlIFRcclxuICAgICAqL1xyXG4gICAgVGltZVV0aWxzLmRlbGF5ID0gZnVuY3Rpb24gKHQsIHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUodmFsdWUpOyB9LCB0KTsgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFRpbWVVdGlscztcclxufSgpKTtcblxuZXhwb3J0IHsgVGltZVV0aWxzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaW1lVXRpbHMuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHY2LjEuMCAyMDIyLTAyLTA4ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tICcuLi8uLi9fdmlydHVhbC9fdHNsaWIuanMnO1xuaW1wb3J0IHsgQ3JlZGVudGlhbEVudGl0eSB9IGZyb20gJy4vQ3JlZGVudGlhbEVudGl0eS5qcyc7XG5pbXBvcnQgeyBDcmVkZW50aWFsVHlwZSwgQXV0aGVudGljYXRpb25TY2hlbWUgfSBmcm9tICcuLi8uLi91dGlscy9Db25zdGFudHMuanMnO1xuaW1wb3J0IHsgVGltZVV0aWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMvVGltZVV0aWxzLmpzJztcbmltcG9ydCB7IFN0cmluZ1V0aWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMvU3RyaW5nVXRpbHMuanMnO1xuaW1wb3J0IHsgQXV0aFRva2VuIH0gZnJvbSAnLi4vLi4vYWNjb3VudC9BdXRoVG9rZW4uanMnO1xuaW1wb3J0IHsgQ2xpZW50QXV0aEVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3IvQ2xpZW50QXV0aEVycm9yLmpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBBQ0NFU1NfVE9LRU4gQ3JlZGVudGlhbCBUeXBlXHJcbiAqXHJcbiAqIEtleTpWYWx1ZSBTY2hlbWE6XHJcbiAqXHJcbiAqIEtleSBFeGFtcGxlOiB1aWQudXRpZC1sb2dpbi5taWNyb3NvZnRvbmxpbmUuY29tLWFjY2Vzc3Rva2VuLWNsaWVudElkLWNvbnRvc28uY29tLXVzZXIucmVhZFxyXG4gKlxyXG4gKiBWYWx1ZSBTY2hlbWE6XHJcbiAqIHtcclxuICogICAgICBob21lQWNjb3VudElkOiBob21lIGFjY291bnQgaWRlbnRpZmllciBmb3IgdGhlIGF1dGggc2NoZW1lLFxyXG4gKiAgICAgIGVudmlyb25tZW50OiBlbnRpdHkgdGhhdCBpc3N1ZWQgdGhlIHRva2VuLCByZXByZXNlbnRlZCBhcyBhIGZ1bGwgaG9zdFxyXG4gKiAgICAgIGNyZWRlbnRpYWxUeXBlOiBUeXBlIG9mIGNyZWRlbnRpYWwgYXMgYSBzdHJpbmcsIGNhbiBiZSBvbmUgb2YgdGhlIGZvbGxvd2luZzogUmVmcmVzaFRva2VuLCBBY2Nlc3NUb2tlbiwgSWRUb2tlbiwgUGFzc3dvcmQsIENvb2tpZSwgQ2VydGlmaWNhdGUsIE90aGVyXHJcbiAqICAgICAgY2xpZW50SWQ6IGNsaWVudCBJRCBvZiB0aGUgYXBwbGljYXRpb25cclxuICogICAgICBzZWNyZXQ6IEFjdHVhbCBjcmVkZW50aWFsIGFzIGEgc3RyaW5nXHJcbiAqICAgICAgZmFtaWx5SWQ6IEZhbWlseSBJRCBpZGVudGlmaWVyLCB1c3VhbGx5IG9ubHkgdXNlZCBmb3IgcmVmcmVzaCB0b2tlbnNcclxuICogICAgICByZWFsbTogRnVsbCB0ZW5hbnQgb3Igb3JnYW5pemF0aW9uYWwgaWRlbnRpZmllciB0aGF0IHRoZSBhY2NvdW50IGJlbG9uZ3MgdG9cclxuICogICAgICB0YXJnZXQ6IFBlcm1pc3Npb25zIHRoYXQgYXJlIGluY2x1ZGVkIGluIHRoZSB0b2tlbiwgb3IgZm9yIHJlZnJlc2ggdG9rZW5zLCB0aGUgcmVzb3VyY2UgaWRlbnRpZmllci5cclxuICogICAgICBjYWNoZWRBdDogQWJzb2x1dGUgZGV2aWNlIHRpbWUgd2hlbiBlbnRyeSB3YXMgY3JlYXRlZCBpbiB0aGUgY2FjaGUuXHJcbiAqICAgICAgZXhwaXJlc09uOiBUb2tlbiBleHBpcnkgdGltZSwgY2FsY3VsYXRlZCBiYXNlZCBvbiBjdXJyZW50IFVUQyB0aW1lIGluIHNlY29uZHMuIFJlcHJlc2VudGVkIGFzIGEgc3RyaW5nLlxyXG4gKiAgICAgIGV4dGVuZGVkRXhwaXJlc09uOiBBZGRpdGlvbmFsIGV4dGVuZGVkIGV4cGlyeSB0aW1lIHVudGlsIHdoZW4gdG9rZW4gaXMgdmFsaWQgaW4gY2FzZSBvZiBzZXJ2ZXItc2lkZSBvdXRhZ2UuIFJlcHJlc2VudGVkIGFzIHN0cmluZyBpbiBVVEMgc2Vjb25kcy5cclxuICogICAgICBrZXlJZDogdXNlZCBmb3IgUE9QIGFuZCBTU0ggdG9rZW5UeXBlc1xyXG4gKiAgICAgIHRva2VuVHlwZTogVHlwZSBvZiB0aGUgdG9rZW4gaXNzdWVkLiBVc3VhbGx5IFwiQmVhcmVyXCJcclxuICogfVxyXG4gKi9cclxudmFyIEFjY2Vzc1Rva2VuRW50aXR5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEFjY2Vzc1Rva2VuRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQWNjZXNzVG9rZW5FbnRpdHkoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgQWNjZXNzVG9rZW5FbnRpdHlcclxuICAgICAqIEBwYXJhbSBob21lQWNjb3VudElkXHJcbiAgICAgKiBAcGFyYW0gZW52aXJvbm1lbnRcclxuICAgICAqIEBwYXJhbSBhY2Nlc3NUb2tlblxyXG4gICAgICogQHBhcmFtIGNsaWVudElkXHJcbiAgICAgKiBAcGFyYW0gdGVuYW50SWRcclxuICAgICAqIEBwYXJhbSBzY29wZXNcclxuICAgICAqIEBwYXJhbSBleHBpcmVzT25cclxuICAgICAqIEBwYXJhbSBleHRFeHBpcmVzT25cclxuICAgICAqL1xyXG4gICAgQWNjZXNzVG9rZW5FbnRpdHkuY3JlYXRlQWNjZXNzVG9rZW5FbnRpdHkgPSBmdW5jdGlvbiAoaG9tZUFjY291bnRJZCwgZW52aXJvbm1lbnQsIGFjY2Vzc1Rva2VuLCBjbGllbnRJZCwgdGVuYW50SWQsIHNjb3BlcywgZXhwaXJlc09uLCBleHRFeHBpcmVzT24sIGNyeXB0b1V0aWxzLCByZWZyZXNoT24sIHRva2VuVHlwZSwgb2JvQXNzZXJ0aW9uLCBrZXlJZCwgcmVxdWVzdGVkQ2xhaW1zLCByZXF1ZXN0ZWRDbGFpbXNIYXNoKSB7XHJcbiAgICAgICAgdmFyIF9hLCBfYjtcclxuICAgICAgICB2YXIgYXRFbnRpdHkgPSBuZXcgQWNjZXNzVG9rZW5FbnRpdHkoKTtcclxuICAgICAgICBhdEVudGl0eS5ob21lQWNjb3VudElkID0gaG9tZUFjY291bnRJZDtcclxuICAgICAgICBhdEVudGl0eS5jcmVkZW50aWFsVHlwZSA9IENyZWRlbnRpYWxUeXBlLkFDQ0VTU19UT0tFTjtcclxuICAgICAgICBhdEVudGl0eS5zZWNyZXQgPSBhY2Nlc3NUb2tlbjtcclxuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBUaW1lVXRpbHMubm93U2Vjb25kcygpO1xyXG4gICAgICAgIGF0RW50aXR5LmNhY2hlZEF0ID0gY3VycmVudFRpbWUudG9TdHJpbmcoKTtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIFRva2VuIGV4cGlyeSB0aW1lLlxyXG4gICAgICAgICAqIFRoaXMgdmFsdWUgc2hvdWxkIGJlIOKAr2NhbGN1bGF0ZWQgYmFzZWQgb24gdGhlIGN1cnJlbnQgVVRDIHRpbWUgbWVhc3VyZWQgbG9jYWxseSBhbmQgdGhlIHZhbHVlIOKAr2V4cGlyZXNfaW4gUmVwcmVzZW50ZWQgYXMgYSBzdHJpbmcgaW4gSlNPTi5cclxuICAgICAgICAgKi9cclxuICAgICAgICBhdEVudGl0eS5leHBpcmVzT24gPSBleHBpcmVzT24udG9TdHJpbmcoKTtcclxuICAgICAgICBhdEVudGl0eS5leHRlbmRlZEV4cGlyZXNPbiA9IGV4dEV4cGlyZXNPbi50b1N0cmluZygpO1xyXG4gICAgICAgIGlmIChyZWZyZXNoT24pIHtcclxuICAgICAgICAgICAgYXRFbnRpdHkucmVmcmVzaE9uID0gcmVmcmVzaE9uLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGF0RW50aXR5LmVudmlyb25tZW50ID0gZW52aXJvbm1lbnQ7XHJcbiAgICAgICAgYXRFbnRpdHkuY2xpZW50SWQgPSBjbGllbnRJZDtcclxuICAgICAgICBhdEVudGl0eS5yZWFsbSA9IHRlbmFudElkO1xyXG4gICAgICAgIGF0RW50aXR5LnRhcmdldCA9IHNjb3BlcztcclxuICAgICAgICBhdEVudGl0eS5vYm9Bc3NlcnRpb24gPSBvYm9Bc3NlcnRpb247XHJcbiAgICAgICAgYXRFbnRpdHkudG9rZW5UeXBlID0gU3RyaW5nVXRpbHMuaXNFbXB0eSh0b2tlblR5cGUpID8gQXV0aGVudGljYXRpb25TY2hlbWUuQkVBUkVSIDogdG9rZW5UeXBlO1xyXG4gICAgICAgIGlmIChyZXF1ZXN0ZWRDbGFpbXMpIHtcclxuICAgICAgICAgICAgYXRFbnRpdHkucmVxdWVzdGVkQ2xhaW1zID0gcmVxdWVzdGVkQ2xhaW1zO1xyXG4gICAgICAgICAgICBhdEVudGl0eS5yZXF1ZXN0ZWRDbGFpbXNIYXNoID0gcmVxdWVzdGVkQ2xhaW1zSGFzaDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLypcclxuICAgICAgICAgKiBDcmVhdGUgQWNjZXNzIFRva2VuIFdpdGggQXV0aCBTY2hlbWUgaW5zdGVhZCBvZiByZWd1bGFyIGFjY2VzcyB0b2tlblxyXG4gICAgICAgICAqIENhc3QgdG8gbG93ZXIgdG8gaGFuZGxlIFwiYmVhcmVyXCIgZnJvbSBBREZTXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaWYgKCgoX2EgPSBhdEVudGl0eS50b2tlblR5cGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b0xvd2VyQ2FzZSgpKSAhPT0gQXV0aGVudGljYXRpb25TY2hlbWUuQkVBUkVSLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgYXRFbnRpdHkuY3JlZGVudGlhbFR5cGUgPSBDcmVkZW50aWFsVHlwZS5BQ0NFU1NfVE9LRU5fV0lUSF9BVVRIX1NDSEVNRTtcclxuICAgICAgICAgICAgc3dpdGNoIChhdEVudGl0eS50b2tlblR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgQXV0aGVudGljYXRpb25TY2hlbWUuUE9QOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBrZXlJZCBpcyBwcmVzZW50IGFuZCBhZGQgaXQgdG8gY3JlZGVudGlhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b2tlbkNsYWltcyA9IEF1dGhUb2tlbi5leHRyYWN0VG9rZW5DbGFpbXMoYWNjZXNzVG9rZW4sIGNyeXB0b1V0aWxzKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISgoX2IgPSB0b2tlbkNsYWltcyA9PT0gbnVsbCB8fCB0b2tlbkNsYWltcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdG9rZW5DbGFpbXMuY25mKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iua2lkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBDbGllbnRBdXRoRXJyb3IuY3JlYXRlVG9rZW5DbGFpbXNSZXF1aXJlZEVycm9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGF0RW50aXR5LmtleUlkID0gdG9rZW5DbGFpbXMuY25mLmtpZDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQXV0aGVudGljYXRpb25TY2hlbWUuU1NIOlxyXG4gICAgICAgICAgICAgICAgICAgIGF0RW50aXR5LmtleUlkID0ga2V5SWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGF0RW50aXR5O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVmFsaWRhdGVzIGFuIGVudGl0eTogY2hlY2tzIGZvciBhbGwgZXhwZWN0ZWQgcGFyYW1zXHJcbiAgICAgKiBAcGFyYW0gZW50aXR5XHJcbiAgICAgKi9cclxuICAgIEFjY2Vzc1Rva2VuRW50aXR5LmlzQWNjZXNzVG9rZW5FbnRpdHkgPSBmdW5jdGlvbiAoZW50aXR5KSB7XHJcbiAgICAgICAgaWYgKCFlbnRpdHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKGVudGl0eS5oYXNPd25Qcm9wZXJ0eShcImhvbWVBY2NvdW50SWRcIikgJiZcclxuICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwiZW52aXJvbm1lbnRcIikgJiZcclxuICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwiY3JlZGVudGlhbFR5cGVcIikgJiZcclxuICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwicmVhbG1cIikgJiZcclxuICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwiY2xpZW50SWRcIikgJiZcclxuICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwic2VjcmV0XCIpICYmXHJcbiAgICAgICAgICAgIGVudGl0eS5oYXNPd25Qcm9wZXJ0eShcInRhcmdldFwiKSAmJlxyXG4gICAgICAgICAgICAoZW50aXR5W1wiY3JlZGVudGlhbFR5cGVcIl0gPT09IENyZWRlbnRpYWxUeXBlLkFDQ0VTU19UT0tFTiB8fCBlbnRpdHlbXCJjcmVkZW50aWFsVHlwZVwiXSA9PT0gQ3JlZGVudGlhbFR5cGUuQUNDRVNTX1RPS0VOX1dJVEhfQVVUSF9TQ0hFTUUpKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQWNjZXNzVG9rZW5FbnRpdHk7XHJcbn0oQ3JlZGVudGlhbEVudGl0eSkpO1xuXG5leHBvcnQgeyBBY2Nlc3NUb2tlbkVudGl0eSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWNjZXNzVG9rZW5FbnRpdHkuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHY2LjEuMCAyMDIyLTAyLTA4ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tICcuLi8uLi9fdmlydHVhbC9fdHNsaWIuanMnO1xuaW1wb3J0IHsgQ3JlZGVudGlhbEVudGl0eSB9IGZyb20gJy4vQ3JlZGVudGlhbEVudGl0eS5qcyc7XG5pbXBvcnQgeyBDcmVkZW50aWFsVHlwZSB9IGZyb20gJy4uLy4uL3V0aWxzL0NvbnN0YW50cy5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUkVGUkVTSF9UT0tFTiBDYWNoZVxyXG4gKlxyXG4gKiBLZXk6VmFsdWUgU2NoZW1hOlxyXG4gKlxyXG4gKiBLZXkgRXhhbXBsZTogdWlkLnV0aWQtbG9naW4ubWljcm9zb2Z0b25saW5lLmNvbS1yZWZyZXNodG9rZW4tY2xpZW50SWQtLVxyXG4gKlxyXG4gKiBWYWx1ZTpcclxuICoge1xyXG4gKiAgICAgIGhvbWVBY2NvdW50SWQ6IGhvbWUgYWNjb3VudCBpZGVudGlmaWVyIGZvciB0aGUgYXV0aCBzY2hlbWUsXHJcbiAqICAgICAgZW52aXJvbm1lbnQ6IGVudGl0eSB0aGF0IGlzc3VlZCB0aGUgdG9rZW4sIHJlcHJlc2VudGVkIGFzIGEgZnVsbCBob3N0XHJcbiAqICAgICAgY3JlZGVudGlhbFR5cGU6IFR5cGUgb2YgY3JlZGVudGlhbCBhcyBhIHN0cmluZywgY2FuIGJlIG9uZSBvZiB0aGUgZm9sbG93aW5nOiBSZWZyZXNoVG9rZW4sIEFjY2Vzc1Rva2VuLCBJZFRva2VuLCBQYXNzd29yZCwgQ29va2llLCBDZXJ0aWZpY2F0ZSwgT3RoZXJcclxuICogICAgICBjbGllbnRJZDogY2xpZW50IElEIG9mIHRoZSBhcHBsaWNhdGlvblxyXG4gKiAgICAgIHNlY3JldDogQWN0dWFsIGNyZWRlbnRpYWwgYXMgYSBzdHJpbmdcclxuICogICAgICBmYW1pbHlJZDogRmFtaWx5IElEIGlkZW50aWZpZXIsICcxJyByZXByZXNlbnRzIE1pY3Jvc29mdCBGYW1pbHlcclxuICogICAgICByZWFsbTogRnVsbCB0ZW5hbnQgb3Igb3JnYW5pemF0aW9uYWwgaWRlbnRpZmllciB0aGF0IHRoZSBhY2NvdW50IGJlbG9uZ3MgdG9cclxuICogICAgICB0YXJnZXQ6IFBlcm1pc3Npb25zIHRoYXQgYXJlIGluY2x1ZGVkIGluIHRoZSB0b2tlbiwgb3IgZm9yIHJlZnJlc2ggdG9rZW5zLCB0aGUgcmVzb3VyY2UgaWRlbnRpZmllci5cclxuICogfVxyXG4gKi9cclxudmFyIFJlZnJlc2hUb2tlbkVudGl0eSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhSZWZyZXNoVG9rZW5FbnRpdHksIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSZWZyZXNoVG9rZW5FbnRpdHkoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgUmVmcmVzaFRva2VuRW50aXR5XHJcbiAgICAgKiBAcGFyYW0gaG9tZUFjY291bnRJZFxyXG4gICAgICogQHBhcmFtIGF1dGhlbnRpY2F0aW9uUmVzdWx0XHJcbiAgICAgKiBAcGFyYW0gY2xpZW50SWRcclxuICAgICAqIEBwYXJhbSBhdXRob3JpdHlcclxuICAgICAqL1xyXG4gICAgUmVmcmVzaFRva2VuRW50aXR5LmNyZWF0ZVJlZnJlc2hUb2tlbkVudGl0eSA9IGZ1bmN0aW9uIChob21lQWNjb3VudElkLCBlbnZpcm9ubWVudCwgcmVmcmVzaFRva2VuLCBjbGllbnRJZCwgZmFtaWx5SWQsIG9ib0Fzc2VydGlvbikge1xyXG4gICAgICAgIHZhciBydEVudGl0eSA9IG5ldyBSZWZyZXNoVG9rZW5FbnRpdHkoKTtcclxuICAgICAgICBydEVudGl0eS5jbGllbnRJZCA9IGNsaWVudElkO1xyXG4gICAgICAgIHJ0RW50aXR5LmNyZWRlbnRpYWxUeXBlID0gQ3JlZGVudGlhbFR5cGUuUkVGUkVTSF9UT0tFTjtcclxuICAgICAgICBydEVudGl0eS5lbnZpcm9ubWVudCA9IGVudmlyb25tZW50O1xyXG4gICAgICAgIHJ0RW50aXR5LmhvbWVBY2NvdW50SWQgPSBob21lQWNjb3VudElkO1xyXG4gICAgICAgIHJ0RW50aXR5LnNlY3JldCA9IHJlZnJlc2hUb2tlbjtcclxuICAgICAgICBydEVudGl0eS5vYm9Bc3NlcnRpb24gPSBvYm9Bc3NlcnRpb247XHJcbiAgICAgICAgaWYgKGZhbWlseUlkKVxyXG4gICAgICAgICAgICBydEVudGl0eS5mYW1pbHlJZCA9IGZhbWlseUlkO1xyXG4gICAgICAgIHJldHVybiBydEVudGl0eTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFZhbGlkYXRlcyBhbiBlbnRpdHk6IGNoZWNrcyBmb3IgYWxsIGV4cGVjdGVkIHBhcmFtc1xyXG4gICAgICogQHBhcmFtIGVudGl0eVxyXG4gICAgICovXHJcbiAgICBSZWZyZXNoVG9rZW5FbnRpdHkuaXNSZWZyZXNoVG9rZW5FbnRpdHkgPSBmdW5jdGlvbiAoZW50aXR5KSB7XHJcbiAgICAgICAgaWYgKCFlbnRpdHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKGVudGl0eS5oYXNPd25Qcm9wZXJ0eShcImhvbWVBY2NvdW50SWRcIikgJiZcclxuICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwiZW52aXJvbm1lbnRcIikgJiZcclxuICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwiY3JlZGVudGlhbFR5cGVcIikgJiZcclxuICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwiY2xpZW50SWRcIikgJiZcclxuICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwic2VjcmV0XCIpICYmXHJcbiAgICAgICAgICAgIGVudGl0eVtcImNyZWRlbnRpYWxUeXBlXCJdID09PSBDcmVkZW50aWFsVHlwZS5SRUZSRVNIX1RPS0VOKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUmVmcmVzaFRva2VuRW50aXR5O1xyXG59KENyZWRlbnRpYWxFbnRpdHkpKTtcblxuZXhwb3J0IHsgUmVmcmVzaFRva2VuRW50aXR5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZWZyZXNoVG9rZW5FbnRpdHkuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHY2LjEuMCAyMDIyLTAyLTA4ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tICcuLi9fdmlydHVhbC9fdHNsaWIuanMnO1xuaW1wb3J0IHsgQXV0aEVycm9yIH0gZnJvbSAnLi9BdXRoRXJyb3IuanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEludGVyYWN0aW9uUmVxdWlyZWRTZXJ2ZXJFcnJvck1lc3NhZ2UgY29udGFpbnMgc3RyaW5nIGNvbnN0YW50cyB1c2VkIGJ5IGVycm9yIGNvZGVzIGFuZCBtZXNzYWdlcyByZXR1cm5lZCBieSB0aGUgc2VydmVyIGluZGljYXRpbmcgaW50ZXJhY3Rpb24gaXMgcmVxdWlyZWRcclxuICovXHJcbnZhciBJbnRlcmFjdGlvblJlcXVpcmVkU2VydmVyRXJyb3JNZXNzYWdlID0gW1xyXG4gICAgXCJpbnRlcmFjdGlvbl9yZXF1aXJlZFwiLFxyXG4gICAgXCJjb25zZW50X3JlcXVpcmVkXCIsXHJcbiAgICBcImxvZ2luX3JlcXVpcmVkXCJcclxuXTtcclxudmFyIEludGVyYWN0aW9uUmVxdWlyZWRBdXRoU3ViRXJyb3JNZXNzYWdlID0gW1xyXG4gICAgXCJtZXNzYWdlX29ubHlcIixcclxuICAgIFwiYWRkaXRpb25hbF9hY3Rpb25cIixcclxuICAgIFwiYmFzaWNfYWN0aW9uXCIsXHJcbiAgICBcInVzZXJfcGFzc3dvcmRfZXhwaXJlZFwiLFxyXG4gICAgXCJjb25zZW50X3JlcXVpcmVkXCJcclxuXTtcclxuLyoqXHJcbiAqIEludGVyYWN0aW9uIHJlcXVpcmVkIGVycm9ycyBkZWZpbmVkIGJ5IHRoZSBTREtcclxuICovXHJcbnZhciBJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yTWVzc2FnZSA9IHtcclxuICAgIG5vVG9rZW5zRm91bmRFcnJvcjoge1xyXG4gICAgICAgIGNvZGU6IFwibm9fdG9rZW5zX2ZvdW5kXCIsXHJcbiAgICAgICAgZGVzYzogXCJObyByZWZyZXNoIHRva2VuIGZvdW5kIGluIHRoZSBjYWNoZS4gUGxlYXNlIHNpZ24taW4uXCJcclxuICAgIH1cclxufTtcclxuLyoqXHJcbiAqIEVycm9yIHRocm93biB3aGVuIHVzZXIgaW50ZXJhY3Rpb24gaXMgcmVxdWlyZWQuXHJcbiAqL1xyXG52YXIgSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvcihlcnJvckNvZGUsIGVycm9yTWVzc2FnZSwgc3ViRXJyb3IpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBlcnJvckNvZGUsIGVycm9yTWVzc2FnZSwgc3ViRXJyb3IpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMubmFtZSA9IFwiSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvclwiO1xyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihfdGhpcywgSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvci5wcm90b3R5cGUpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIGFuIGVycm9yIHRocm93biBieSB0aGUgc2VydmVyIHJlcXVpcmVzIGludGVyYWN0aW9uIHRvIHJlc29sdmVcclxuICAgICAqIEBwYXJhbSBlcnJvckNvZGVcclxuICAgICAqIEBwYXJhbSBlcnJvclN0cmluZ1xyXG4gICAgICogQHBhcmFtIHN1YkVycm9yXHJcbiAgICAgKi9cclxuICAgIEludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3IuaXNJbnRlcmFjdGlvblJlcXVpcmVkRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3JDb2RlLCBlcnJvclN0cmluZywgc3ViRXJyb3IpIHtcclxuICAgICAgICB2YXIgaXNJbnRlcmFjdGlvblJlcXVpcmVkRXJyb3JDb2RlID0gISFlcnJvckNvZGUgJiYgSW50ZXJhY3Rpb25SZXF1aXJlZFNlcnZlckVycm9yTWVzc2FnZS5pbmRleE9mKGVycm9yQ29kZSkgPiAtMTtcclxuICAgICAgICB2YXIgaXNJbnRlcmFjdGlvblJlcXVpcmVkU3ViRXJyb3IgPSAhIXN1YkVycm9yICYmIEludGVyYWN0aW9uUmVxdWlyZWRBdXRoU3ViRXJyb3JNZXNzYWdlLmluZGV4T2Yoc3ViRXJyb3IpID4gLTE7XHJcbiAgICAgICAgdmFyIGlzSW50ZXJhY3Rpb25SZXF1aXJlZEVycm9yRGVzYyA9ICEhZXJyb3JTdHJpbmcgJiYgSW50ZXJhY3Rpb25SZXF1aXJlZFNlcnZlckVycm9yTWVzc2FnZS5zb21lKGZ1bmN0aW9uIChpckVycm9yQ29kZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZXJyb3JTdHJpbmcuaW5kZXhPZihpckVycm9yQ29kZSkgPiAtMTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gaXNJbnRlcmFjdGlvblJlcXVpcmVkRXJyb3JDb2RlIHx8IGlzSW50ZXJhY3Rpb25SZXF1aXJlZEVycm9yRGVzYyB8fCBpc0ludGVyYWN0aW9uUmVxdWlyZWRTdWJFcnJvcjtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gZXJyb3IgdGhyb3duIHdoZW4gdGhlIGF1dGhvcml6YXRpb24gY29kZSByZXF1aXJlZCBmb3IgYSB0b2tlbiByZXF1ZXN0IGlzIG51bGwgb3IgZW1wdHkuXHJcbiAgICAgKi9cclxuICAgIEludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3IuY3JlYXRlTm9Ub2tlbnNGb3VuZEVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvcihJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yTWVzc2FnZS5ub1Rva2Vuc0ZvdW5kRXJyb3IuY29kZSwgSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvck1lc3NhZ2Uubm9Ub2tlbnNGb3VuZEVycm9yLmRlc2MpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yO1xyXG59KEF1dGhFcnJvcikpO1xuXG5leHBvcnQgeyBJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yLCBJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yTWVzc2FnZSwgSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhTdWJFcnJvck1lc3NhZ2UsIEludGVyYWN0aW9uUmVxdWlyZWRTZXJ2ZXJFcnJvck1lc3NhZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3IuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHY2LjEuMCAyMDIyLTAyLTA4ICovXG4ndXNlIHN0cmljdCc7XG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxudmFyIENhY2hlUmVjb3JkID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ2FjaGVSZWNvcmQoYWNjb3VudEVudGl0eSwgaWRUb2tlbkVudGl0eSwgYWNjZXNzVG9rZW5FbnRpdHksIHJlZnJlc2hUb2tlbkVudGl0eSwgYXBwTWV0YWRhdGFFbnRpdHkpIHtcclxuICAgICAgICB0aGlzLmFjY291bnQgPSBhY2NvdW50RW50aXR5IHx8IG51bGw7XHJcbiAgICAgICAgdGhpcy5pZFRva2VuID0gaWRUb2tlbkVudGl0eSB8fCBudWxsO1xyXG4gICAgICAgIHRoaXMuYWNjZXNzVG9rZW4gPSBhY2Nlc3NUb2tlbkVudGl0eSB8fCBudWxsO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaFRva2VuID0gcmVmcmVzaFRva2VuRW50aXR5IHx8IG51bGw7XHJcbiAgICAgICAgdGhpcy5hcHBNZXRhZGF0YSA9IGFwcE1ldGFkYXRhRW50aXR5IHx8IG51bGw7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gQ2FjaGVSZWNvcmQ7XHJcbn0oKSk7XG5cbmV4cG9ydCB7IENhY2hlUmVjb3JkIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYWNoZVJlY29yZC5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjYuMS4wIDIwMjItMDItMDggKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IFN0cmluZ1V0aWxzIH0gZnJvbSAnLi9TdHJpbmdVdGlscy5qcyc7XG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tICcuL0NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBDbGllbnRBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9DbGllbnRBdXRoRXJyb3IuanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIENsYXNzIHdoaWNoIHByb3ZpZGVzIGhlbHBlcnMgZm9yIE9BdXRoIDIuMCBwcm90b2NvbCBzcGVjaWZpYyB2YWx1ZXNcclxuICovXHJcbnZhciBQcm90b2NvbFV0aWxzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUHJvdG9jb2xVdGlscygpIHtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQXBwZW5kcyB1c2VyIHN0YXRlIHdpdGggcmFuZG9tIGd1aWQsIG9yIHJldHVybnMgcmFuZG9tIGd1aWQuXHJcbiAgICAgKiBAcGFyYW0gdXNlclN0YXRlXHJcbiAgICAgKiBAcGFyYW0gcmFuZG9tR3VpZFxyXG4gICAgICovXHJcbiAgICBQcm90b2NvbFV0aWxzLnNldFJlcXVlc3RTdGF0ZSA9IGZ1bmN0aW9uIChjcnlwdG9PYmosIHVzZXJTdGF0ZSwgbWV0YSkge1xyXG4gICAgICAgIHZhciBsaWJyYXJ5U3RhdGUgPSBQcm90b2NvbFV0aWxzLmdlbmVyYXRlTGlicmFyeVN0YXRlKGNyeXB0b09iaiwgbWV0YSk7XHJcbiAgICAgICAgcmV0dXJuICFTdHJpbmdVdGlscy5pc0VtcHR5KHVzZXJTdGF0ZSkgPyBcIlwiICsgbGlicmFyeVN0YXRlICsgQ29uc3RhbnRzLlJFU09VUkNFX0RFTElNICsgdXNlclN0YXRlIDogbGlicmFyeVN0YXRlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGVzIHRoZSBzdGF0ZSB2YWx1ZSB1c2VkIGJ5IHRoZSBjb21tb24gbGlicmFyeS5cclxuICAgICAqIEBwYXJhbSByYW5kb21HdWlkXHJcbiAgICAgKiBAcGFyYW0gY3J5cHRvT2JqXHJcbiAgICAgKi9cclxuICAgIFByb3RvY29sVXRpbHMuZ2VuZXJhdGVMaWJyYXJ5U3RhdGUgPSBmdW5jdGlvbiAoY3J5cHRvT2JqLCBtZXRhKSB7XHJcbiAgICAgICAgaWYgKCFjcnlwdG9PYmopIHtcclxuICAgICAgICAgICAgdGhyb3cgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZU5vQ3J5cHRvT2JqZWN0RXJyb3IoXCJnZW5lcmF0ZUxpYnJhcnlTdGF0ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ3JlYXRlIGEgc3RhdGUgb2JqZWN0IGNvbnRhaW5pbmcgYSB1bmlxdWUgaWQgYW5kIHRoZSB0aW1lc3RhbXAgb2YgdGhlIHJlcXVlc3QgY3JlYXRpb25cclxuICAgICAgICB2YXIgc3RhdGVPYmogPSB7XHJcbiAgICAgICAgICAgIGlkOiBjcnlwdG9PYmouY3JlYXRlTmV3R3VpZCgpXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAobWV0YSkge1xyXG4gICAgICAgICAgICBzdGF0ZU9iai5tZXRhID0gbWV0YTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHN0YXRlU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoc3RhdGVPYmopO1xyXG4gICAgICAgIHJldHVybiBjcnlwdG9PYmouYmFzZTY0RW5jb2RlKHN0YXRlU3RyaW5nKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFBhcnNlcyB0aGUgc3RhdGUgaW50byB0aGUgUmVxdWVzdFN0YXRlT2JqZWN0LCB3aGljaCBjb250YWlucyB0aGUgTGlicmFyeVN0YXRlIGluZm8gYW5kIHRoZSBzdGF0ZSBwYXNzZWQgYnkgdGhlIHVzZXIuXHJcbiAgICAgKiBAcGFyYW0gc3RhdGVcclxuICAgICAqIEBwYXJhbSBjcnlwdG9PYmpcclxuICAgICAqL1xyXG4gICAgUHJvdG9jb2xVdGlscy5wYXJzZVJlcXVlc3RTdGF0ZSA9IGZ1bmN0aW9uIChjcnlwdG9PYmosIHN0YXRlKSB7XHJcbiAgICAgICAgaWYgKCFjcnlwdG9PYmopIHtcclxuICAgICAgICAgICAgdGhyb3cgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZU5vQ3J5cHRvT2JqZWN0RXJyb3IoXCJwYXJzZVJlcXVlc3RTdGF0ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKFN0cmluZ1V0aWxzLmlzRW1wdHkoc3RhdGUpKSB7XHJcbiAgICAgICAgICAgIHRocm93IENsaWVudEF1dGhFcnJvci5jcmVhdGVJbnZhbGlkU3RhdGVFcnJvcihzdGF0ZSwgXCJOdWxsLCB1bmRlZmluZWQgb3IgZW1wdHkgc3RhdGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIFNwbGl0IHRoZSBzdGF0ZSBiZXR3ZWVuIGxpYnJhcnkgc3RhdGUgYW5kIHVzZXIgcGFzc2VkIHN0YXRlIGFuZCBkZWNvZGUgdGhlbSBzZXBhcmF0ZWx5XHJcbiAgICAgICAgICAgIHZhciBzcGxpdFN0YXRlID0gc3RhdGUuc3BsaXQoQ29uc3RhbnRzLlJFU09VUkNFX0RFTElNKTtcclxuICAgICAgICAgICAgdmFyIGxpYnJhcnlTdGF0ZSA9IHNwbGl0U3RhdGVbMF07XHJcbiAgICAgICAgICAgIHZhciB1c2VyU3RhdGUgPSBzcGxpdFN0YXRlLmxlbmd0aCA+IDEgPyBzcGxpdFN0YXRlLnNsaWNlKDEpLmpvaW4oQ29uc3RhbnRzLlJFU09VUkNFX0RFTElNKSA6IFwiXCI7XHJcbiAgICAgICAgICAgIHZhciBsaWJyYXJ5U3RhdGVTdHJpbmcgPSBjcnlwdG9PYmouYmFzZTY0RGVjb2RlKGxpYnJhcnlTdGF0ZSk7XHJcbiAgICAgICAgICAgIHZhciBsaWJyYXJ5U3RhdGVPYmogPSBKU09OLnBhcnNlKGxpYnJhcnlTdGF0ZVN0cmluZyk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB1c2VyUmVxdWVzdFN0YXRlOiAhU3RyaW5nVXRpbHMuaXNFbXB0eSh1c2VyU3RhdGUpID8gdXNlclN0YXRlIDogXCJcIixcclxuICAgICAgICAgICAgICAgIGxpYnJhcnlTdGF0ZTogbGlicmFyeVN0YXRlT2JqXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRocm93IENsaWVudEF1dGhFcnJvci5jcmVhdGVJbnZhbGlkU3RhdGVFcnJvcihzdGF0ZSwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBQcm90b2NvbFV0aWxzO1xyXG59KCkpO1xuXG5leHBvcnQgeyBQcm90b2NvbFV0aWxzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcm90b2NvbFV0aWxzLmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2Ni4xLjAgMjAyMi0wMi0wOCAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLmpzJztcbmltcG9ydCB7IENsaWVudEF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0NsaWVudEF1dGhFcnJvci5qcyc7XG5pbXBvcnQgeyBTdHJpbmdVdGlscyB9IGZyb20gJy4uL3V0aWxzL1N0cmluZ1V0aWxzLmpzJztcbmltcG9ydCB7IEFBREF1dGhvcml0eUNvbnN0YW50cywgQ29uc3RhbnRzIH0gZnJvbSAnLi4vdXRpbHMvQ29uc3RhbnRzLmpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBVcmwgb2JqZWN0IGNsYXNzIHdoaWNoIGNhbiBwZXJmb3JtIHZhcmlvdXMgdHJhbnNmb3JtYXRpb25zIG9uIHVybCBzdHJpbmdzLlxyXG4gKi9cclxudmFyIFVybFN0cmluZyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFVybFN0cmluZyh1cmwpIHtcclxuICAgICAgICB0aGlzLl91cmxTdHJpbmcgPSB1cmw7XHJcbiAgICAgICAgaWYgKFN0cmluZ1V0aWxzLmlzRW1wdHkodGhpcy5fdXJsU3RyaW5nKSkge1xyXG4gICAgICAgICAgICAvLyBUaHJvd3MgZXJyb3IgaWYgdXJsIGlzIGVtcHR5XHJcbiAgICAgICAgICAgIHRocm93IENsaWVudENvbmZpZ3VyYXRpb25FcnJvci5jcmVhdGVVcmxFbXB0eUVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChTdHJpbmdVdGlscy5pc0VtcHR5KHRoaXMuZ2V0SGFzaCgpKSkge1xyXG4gICAgICAgICAgICB0aGlzLl91cmxTdHJpbmcgPSBVcmxTdHJpbmcuY2Fub25pY2FsaXplVXJpKHVybCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVybFN0cmluZy5wcm90b3R5cGUsIFwidXJsU3RyaW5nXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VybFN0cmluZztcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIEVuc3VyZSB1cmxzIGFyZSBsb3dlciBjYXNlIGFuZCBlbmQgd2l0aCBhIC8gY2hhcmFjdGVyLlxyXG4gICAgICogQHBhcmFtIHVybFxyXG4gICAgICovXHJcbiAgICBVcmxTdHJpbmcuY2Fub25pY2FsaXplVXJpID0gZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgIGlmICh1cmwpIHtcclxuICAgICAgICAgICAgdmFyIGxvd2VyQ2FzZVVybCA9IHVybC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICBpZiAoU3RyaW5nVXRpbHMuZW5kc1dpdGgobG93ZXJDYXNlVXJsLCBcIj9cIikpIHtcclxuICAgICAgICAgICAgICAgIGxvd2VyQ2FzZVVybCA9IGxvd2VyQ2FzZVVybC5zbGljZSgwLCAtMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoU3RyaW5nVXRpbHMuZW5kc1dpdGgobG93ZXJDYXNlVXJsLCBcIj8vXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBsb3dlckNhc2VVcmwgPSBsb3dlckNhc2VVcmwuc2xpY2UoMCwgLTIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghU3RyaW5nVXRpbHMuZW5kc1dpdGgobG93ZXJDYXNlVXJsLCBcIi9cIikpIHtcclxuICAgICAgICAgICAgICAgIGxvd2VyQ2FzZVVybCArPSBcIi9cIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbG93ZXJDYXNlVXJsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdXJsO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGhyb3dzIGlmIHVybFN0cmluZyBwYXNzZWQgaXMgbm90IGEgdmFsaWQgYXV0aG9yaXR5IFVSSSBzdHJpbmcuXHJcbiAgICAgKi9cclxuICAgIFVybFN0cmluZy5wcm90b3R5cGUudmFsaWRhdGVBc1VyaSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBBdHRlbXB0cyB0byBwYXJzZSB1cmwgZm9yIHVyaSBjb21wb25lbnRzXHJcbiAgICAgICAgdmFyIGNvbXBvbmVudHM7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29tcG9uZW50cyA9IHRoaXMuZ2V0VXJsQ29tcG9uZW50cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IuY3JlYXRlVXJsUGFyc2VFcnJvcihlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVGhyb3cgZXJyb3IgaWYgVVJJIG9yIHBhdGggc2VnbWVudHMgYXJlIG5vdCBwYXJzZWFibGUuXHJcbiAgICAgICAgaWYgKCFjb21wb25lbnRzLkhvc3ROYW1lQW5kUG9ydCB8fCAhY29tcG9uZW50cy5QYXRoU2VnbWVudHMpIHtcclxuICAgICAgICAgICAgdGhyb3cgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLmNyZWF0ZVVybFBhcnNlRXJyb3IoXCJHaXZlbiB1cmwgc3RyaW5nOiBcIiArIHRoaXMudXJsU3RyaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVGhyb3cgZXJyb3IgaWYgdXJpIGlzIGluc2VjdXJlLlxyXG4gICAgICAgIGlmICghY29tcG9uZW50cy5Qcm90b2NvbCB8fCBjb21wb25lbnRzLlByb3RvY29sLnRvTG93ZXJDYXNlKCkgIT09IFwiaHR0cHM6XCIpIHtcclxuICAgICAgICAgICAgdGhyb3cgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLmNyZWF0ZUluc2VjdXJlQXV0aG9yaXR5VXJpRXJyb3IodGhpcy51cmxTdHJpbmcpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdpdmVuIGEgdXJsIGFuZCBhIHF1ZXJ5IHN0cmluZyByZXR1cm4gdGhlIHVybCB3aXRoIHByb3ZpZGVkIHF1ZXJ5IHN0cmluZyBhcHBlbmRlZFxyXG4gICAgICogQHBhcmFtIHVybFxyXG4gICAgICogQHBhcmFtIHF1ZXJ5U3RyaW5nXHJcbiAgICAgKi9cclxuICAgIFVybFN0cmluZy5hcHBlbmRRdWVyeVN0cmluZyA9IGZ1bmN0aW9uICh1cmwsIHF1ZXJ5U3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKFN0cmluZ1V0aWxzLmlzRW1wdHkocXVlcnlTdHJpbmcpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1cmw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB1cmwuaW5kZXhPZihcIj9cIikgPCAwID8gdXJsICsgXCI/XCIgKyBxdWVyeVN0cmluZyA6IHVybCArIFwiJlwiICsgcXVlcnlTdHJpbmc7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgdXJsIHdpdGggdGhlIGhhc2ggcmVtb3ZlZFxyXG4gICAgICogQHBhcmFtIHVybFxyXG4gICAgICovXHJcbiAgICBVcmxTdHJpbmcucmVtb3ZlSGFzaEZyb21VcmwgPSBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgcmV0dXJuIFVybFN0cmluZy5jYW5vbmljYWxpemVVcmkodXJsLnNwbGl0KFwiI1wiKVswXSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHaXZlbiBhIHVybCBsaWtlIGh0dHBzOi8vYTpiL2NvbW1vbi9kP2U9ZiNnLCBhbmQgYSB0ZW5hbnRJZCwgcmV0dXJucyBodHRwczovL2E6Yi90ZW5hbnRJZC9kXHJcbiAgICAgKiBAcGFyYW0gaHJlZiBUaGUgdXJsXHJcbiAgICAgKiBAcGFyYW0gdGVuYW50SWQgVGhlIHRlbmFudCBpZCB0byByZXBsYWNlXHJcbiAgICAgKi9cclxuICAgIFVybFN0cmluZy5wcm90b3R5cGUucmVwbGFjZVRlbmFudFBhdGggPSBmdW5jdGlvbiAodGVuYW50SWQpIHtcclxuICAgICAgICB2YXIgdXJsT2JqZWN0ID0gdGhpcy5nZXRVcmxDb21wb25lbnRzKCk7XHJcbiAgICAgICAgdmFyIHBhdGhBcnJheSA9IHVybE9iamVjdC5QYXRoU2VnbWVudHM7XHJcbiAgICAgICAgaWYgKHRlbmFudElkICYmIChwYXRoQXJyYXkubGVuZ3RoICE9PSAwICYmIChwYXRoQXJyYXlbMF0gPT09IEFBREF1dGhvcml0eUNvbnN0YW50cy5DT01NT04gfHwgcGF0aEFycmF5WzBdID09PSBBQURBdXRob3JpdHlDb25zdGFudHMuT1JHQU5JWkFUSU9OUykpKSB7XHJcbiAgICAgICAgICAgIHBhdGhBcnJheVswXSA9IHRlbmFudElkO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gVXJsU3RyaW5nLmNvbnN0cnVjdEF1dGhvcml0eVVyaUZyb21PYmplY3QodXJsT2JqZWN0KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGFuY2hvciBwYXJ0KCMpIG9mIHRoZSBVUkxcclxuICAgICAqL1xyXG4gICAgVXJsU3RyaW5nLnByb3RvdHlwZS5nZXRIYXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBVcmxTdHJpbmcucGFyc2VIYXNoKHRoaXMudXJsU3RyaW5nKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFBhcnNlcyBvdXQgdGhlIGNvbXBvbmVudHMgZnJvbSBhIHVybCBzdHJpbmcuXHJcbiAgICAgKiBAcmV0dXJucyBBbiBvYmplY3Qgd2l0aCB0aGUgdmFyaW91cyBjb21wb25lbnRzLiBQbGVhc2UgY2FjaGUgdGhpcyB2YWx1ZSBpbnN0ZWQgb2YgY2FsbGluZyB0aGlzIG11bHRpcGxlIHRpbWVzIG9uIHRoZSBzYW1lIHVybC5cclxuICAgICAqL1xyXG4gICAgVXJsU3RyaW5nLnByb3RvdHlwZS5nZXRVcmxDb21wb25lbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2N1cnRpc3ovMTExMzliMmNmY2FlZjRhMjYxZTBcclxuICAgICAgICB2YXIgcmVnRXggPSBSZWdFeHAoXCJeKChbXjovPyNdKyk6KT8oLy8oW14vPyNdKikpPyhbXj8jXSopKFxcXFw/KFteI10qKSk/KCMoLiopKT9cIik7XHJcbiAgICAgICAgLy8gSWYgdXJsIHN0cmluZyBkb2VzIG5vdCBtYXRjaCByZWdFeCwgd2UgdGhyb3cgYW4gZXJyb3JcclxuICAgICAgICB2YXIgbWF0Y2ggPSB0aGlzLnVybFN0cmluZy5tYXRjaChyZWdFeCk7XHJcbiAgICAgICAgaWYgKCFtYXRjaCkge1xyXG4gICAgICAgICAgICB0aHJvdyBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IuY3JlYXRlVXJsUGFyc2VFcnJvcihcIkdpdmVuIHVybCBzdHJpbmc6IFwiICsgdGhpcy51cmxTdHJpbmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBVcmwgY29tcG9uZW50IG9iamVjdFxyXG4gICAgICAgIHZhciB1cmxDb21wb25lbnRzID0ge1xyXG4gICAgICAgICAgICBQcm90b2NvbDogbWF0Y2hbMV0sXHJcbiAgICAgICAgICAgIEhvc3ROYW1lQW5kUG9ydDogbWF0Y2hbNF0sXHJcbiAgICAgICAgICAgIEFic29sdXRlUGF0aDogbWF0Y2hbNV0sXHJcbiAgICAgICAgICAgIFF1ZXJ5U3RyaW5nOiBtYXRjaFs3XVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHBhdGhTZWdtZW50cyA9IHVybENvbXBvbmVudHMuQWJzb2x1dGVQYXRoLnNwbGl0KFwiL1wiKTtcclxuICAgICAgICBwYXRoU2VnbWVudHMgPSBwYXRoU2VnbWVudHMuZmlsdGVyKGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIHZhbCAmJiB2YWwubGVuZ3RoID4gMDsgfSk7IC8vIHJlbW92ZSBlbXB0eSBlbGVtZW50c1xyXG4gICAgICAgIHVybENvbXBvbmVudHMuUGF0aFNlZ21lbnRzID0gcGF0aFNlZ21lbnRzO1xyXG4gICAgICAgIGlmICghU3RyaW5nVXRpbHMuaXNFbXB0eSh1cmxDb21wb25lbnRzLlF1ZXJ5U3RyaW5nKSAmJiB1cmxDb21wb25lbnRzLlF1ZXJ5U3RyaW5nLmVuZHNXaXRoKFwiL1wiKSkge1xyXG4gICAgICAgICAgICB1cmxDb21wb25lbnRzLlF1ZXJ5U3RyaW5nID0gdXJsQ29tcG9uZW50cy5RdWVyeVN0cmluZy5zdWJzdHJpbmcoMCwgdXJsQ29tcG9uZW50cy5RdWVyeVN0cmluZy5sZW5ndGggLSAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVybENvbXBvbmVudHM7XHJcbiAgICB9O1xyXG4gICAgVXJsU3RyaW5nLmdldERvbWFpbkZyb21VcmwgPSBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgdmFyIHJlZ0V4ID0gUmVnRXhwKFwiXihbXjovPyNdKzovLyk/KFteLz8jXSopXCIpO1xyXG4gICAgICAgIHZhciBtYXRjaCA9IHVybC5tYXRjaChyZWdFeCk7XHJcbiAgICAgICAgaWYgKCFtYXRjaCkge1xyXG4gICAgICAgICAgICB0aHJvdyBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IuY3JlYXRlVXJsUGFyc2VFcnJvcihcIkdpdmVuIHVybCBzdHJpbmc6IFwiICsgdXJsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1hdGNoWzJdO1xyXG4gICAgfTtcclxuICAgIFVybFN0cmluZy5nZXRBYnNvbHV0ZVVybCA9IGZ1bmN0aW9uIChyZWxhdGl2ZVVybCwgYmFzZVVybCkge1xyXG4gICAgICAgIGlmIChyZWxhdGl2ZVVybFswXSA9PT0gQ29uc3RhbnRzLkZPUldBUkRfU0xBU0gpIHtcclxuICAgICAgICAgICAgdmFyIHVybCA9IG5ldyBVcmxTdHJpbmcoYmFzZVVybCk7XHJcbiAgICAgICAgICAgIHZhciBiYXNlQ29tcG9uZW50cyA9IHVybC5nZXRVcmxDb21wb25lbnRzKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBiYXNlQ29tcG9uZW50cy5Qcm90b2NvbCArIFwiLy9cIiArIGJhc2VDb21wb25lbnRzLkhvc3ROYW1lQW5kUG9ydCArIHJlbGF0aXZlVXJsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVsYXRpdmVVcmw7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJzZXMgaGFzaCBzdHJpbmcgZnJvbSBnaXZlbiBzdHJpbmcuIFJldHVybnMgZW1wdHkgc3RyaW5nIGlmIG5vIGhhc2ggc3ltYm9sIGlzIGZvdW5kLlxyXG4gICAgICogQHBhcmFtIGhhc2hTdHJpbmdcclxuICAgICAqL1xyXG4gICAgVXJsU3RyaW5nLnBhcnNlSGFzaCA9IGZ1bmN0aW9uIChoYXNoU3RyaW5nKSB7XHJcbiAgICAgICAgdmFyIGhhc2hJbmRleDEgPSBoYXNoU3RyaW5nLmluZGV4T2YoXCIjXCIpO1xyXG4gICAgICAgIHZhciBoYXNoSW5kZXgyID0gaGFzaFN0cmluZy5pbmRleE9mKFwiIy9cIik7XHJcbiAgICAgICAgaWYgKGhhc2hJbmRleDIgPiAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaGFzaFN0cmluZy5zdWJzdHJpbmcoaGFzaEluZGV4MiArIDIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChoYXNoSW5kZXgxID4gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGhhc2hTdHJpbmcuc3Vic3RyaW5nKGhhc2hJbmRleDEgKyAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICB9O1xyXG4gICAgVXJsU3RyaW5nLmNvbnN0cnVjdEF1dGhvcml0eVVyaUZyb21PYmplY3QgPSBmdW5jdGlvbiAodXJsT2JqZWN0KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBVcmxTdHJpbmcodXJsT2JqZWN0LlByb3RvY29sICsgXCIvL1wiICsgdXJsT2JqZWN0Lkhvc3ROYW1lQW5kUG9ydCArIFwiL1wiICsgdXJsT2JqZWN0LlBhdGhTZWdtZW50cy5qb2luKFwiL1wiKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIFVSTCBoYXNoIGFzIHNlcnZlciBhdXRoIGNvZGUgcmVzcG9uc2Ugb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBVcmxTdHJpbmcuZ2V0RGVzZXJpYWxpemVkSGFzaCA9IGZ1bmN0aW9uIChoYXNoKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgZ2l2ZW4gaGFzaCBpcyBlbXB0eVxyXG4gICAgICAgIGlmIChTdHJpbmdVdGlscy5pc0VtcHR5KGhhc2gpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU3RyaXAgdGhlICMgc3ltYm9sIGlmIHByZXNlbnRcclxuICAgICAgICB2YXIgcGFyc2VkSGFzaCA9IFVybFN0cmluZy5wYXJzZUhhc2goaGFzaCk7XHJcbiAgICAgICAgLy8gSWYgIyBzeW1ib2wgd2FzIG5vdCBwcmVzZW50LCBhYm92ZSB3aWxsIHJldHVybiBlbXB0eSBzdHJpbmcsIHNvIGdpdmUgb3JpZ2luYWwgaGFzaCB2YWx1ZVxyXG4gICAgICAgIHZhciBkZXNlcmlhbGl6ZWRIYXNoID0gU3RyaW5nVXRpbHMucXVlcnlTdHJpbmdUb09iamVjdChTdHJpbmdVdGlscy5pc0VtcHR5KHBhcnNlZEhhc2gpID8gaGFzaCA6IHBhcnNlZEhhc2gpO1xyXG4gICAgICAgIC8vIENoZWNrIGlmIGRlc2VyaWFsaXphdGlvbiBkaWRuJ3Qgd29ya1xyXG4gICAgICAgIGlmICghZGVzZXJpYWxpemVkSGFzaCkge1xyXG4gICAgICAgICAgICB0aHJvdyBDbGllbnRBdXRoRXJyb3IuY3JlYXRlSGFzaE5vdERlc2VyaWFsaXplZEVycm9yKEpTT04uc3RyaW5naWZ5KGRlc2VyaWFsaXplZEhhc2gpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRlc2VyaWFsaXplZEhhc2g7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiB0aGUgaGFzaCBvZiB0aGUgVVJMIHN0cmluZyBjb250YWlucyBrbm93biBwcm9wZXJ0aWVzXHJcbiAgICAgKi9cclxuICAgIFVybFN0cmluZy5oYXNoQ29udGFpbnNLbm93blByb3BlcnRpZXMgPSBmdW5jdGlvbiAoaGFzaCkge1xyXG4gICAgICAgIGlmIChTdHJpbmdVdGlscy5pc0VtcHR5KGhhc2gpIHx8IGhhc2guaW5kZXhPZihcIj1cIikgPCAwKSB7XHJcbiAgICAgICAgICAgIC8vIEhhc2ggZG9lc24ndCBjb250YWluIGtleS92YWx1ZSBwYWlyc1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBwYXJhbWV0ZXJzID0gVXJsU3RyaW5nLmdldERlc2VyaWFsaXplZEhhc2goaGFzaCk7XHJcbiAgICAgICAgcmV0dXJuICEhKHBhcmFtZXRlcnMuY29kZSB8fFxyXG4gICAgICAgICAgICBwYXJhbWV0ZXJzLmVycm9yX2Rlc2NyaXB0aW9uIHx8XHJcbiAgICAgICAgICAgIHBhcmFtZXRlcnMuZXJyb3IgfHxcclxuICAgICAgICAgICAgcGFyYW1ldGVycy5zdGF0ZSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFVybFN0cmluZztcclxufSgpKTtcblxuZXhwb3J0IHsgVXJsU3RyaW5nIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1VcmxTdHJpbmcuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHY2LjEuMCAyMDIyLTAyLTA4ICovXG4ndXNlIHN0cmljdCc7XG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFByb3RvY29sIG1vZGVzIHN1cHBvcnRlZCBieSBNU0FMLlxyXG4gKi9cclxudmFyIFByb3RvY29sTW9kZTtcclxuKGZ1bmN0aW9uIChQcm90b2NvbE1vZGUpIHtcclxuICAgIFByb3RvY29sTW9kZVtcIkFBRFwiXSA9IFwiQUFEXCI7XHJcbiAgICBQcm90b2NvbE1vZGVbXCJPSURDXCJdID0gXCJPSURDXCI7XHJcbn0pKFByb3RvY29sTW9kZSB8fCAoUHJvdG9jb2xNb2RlID0ge30pKTtcblxuZXhwb3J0IHsgUHJvdG9jb2xNb2RlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcm90b2NvbE1vZGUuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHY2LjEuMCAyMDIyLTAyLTA4ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBTZXBhcmF0b3JzLCBBUFBfTUVUQURBVEEgfSBmcm9tICcuLi8uLi91dGlscy9Db25zdGFudHMuanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEFQUF9NRVRBREFUQSBDYWNoZVxyXG4gKlxyXG4gKiBLZXk6VmFsdWUgU2NoZW1hOlxyXG4gKlxyXG4gKiBLZXk6IGFwcG1ldGFkYXRhLTxlbnZpcm9ubWVudD4tPGNsaWVudF9pZD5cclxuICpcclxuICogVmFsdWU6XHJcbiAqIHtcclxuICogICAgICBjbGllbnRJZDogY2xpZW50IElEIG9mIHRoZSBhcHBsaWNhdGlvblxyXG4gKiAgICAgIGVudmlyb25tZW50OiBlbnRpdHkgdGhhdCBpc3N1ZWQgdGhlIHRva2VuLCByZXByZXNlbnRlZCBhcyBhIGZ1bGwgaG9zdFxyXG4gKiAgICAgIGZhbWlseUlkOiBGYW1pbHkgSUQgaWRlbnRpZmllciwgJzEnIHJlcHJlc2VudHMgTWljcm9zb2Z0IEZhbWlseVxyXG4gKiB9XHJcbiAqL1xyXG52YXIgQXBwTWV0YWRhdGFFbnRpdHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBBcHBNZXRhZGF0YUVudGl0eSgpIHtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGUgQXBwTWV0YWRhdGEgQ2FjaGUgS2V5IGFzIHBlciB0aGUgc2NoZW1hOiBhcHBtZXRhZGF0YS08ZW52aXJvbm1lbnQ+LTxjbGllbnRfaWQ+XHJcbiAgICAgKi9cclxuICAgIEFwcE1ldGFkYXRhRW50aXR5LnByb3RvdHlwZS5nZW5lcmF0ZUFwcE1ldGFkYXRhS2V5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBBcHBNZXRhZGF0YUVudGl0eS5nZW5lcmF0ZUFwcE1ldGFkYXRhQ2FjaGVLZXkodGhpcy5lbnZpcm9ubWVudCwgdGhpcy5jbGllbnRJZCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSBBcHBNZXRhZGF0YSBDYWNoZSBLZXlcclxuICAgICAqL1xyXG4gICAgQXBwTWV0YWRhdGFFbnRpdHkuZ2VuZXJhdGVBcHBNZXRhZGF0YUNhY2hlS2V5ID0gZnVuY3Rpb24gKGVudmlyb25tZW50LCBjbGllbnRJZCkge1xyXG4gICAgICAgIHZhciBhcHBNZXRhRGF0YUtleUFycmF5ID0gW1xyXG4gICAgICAgICAgICBBUFBfTUVUQURBVEEsXHJcbiAgICAgICAgICAgIGVudmlyb25tZW50LFxyXG4gICAgICAgICAgICBjbGllbnRJZCxcclxuICAgICAgICBdO1xyXG4gICAgICAgIHJldHVybiBhcHBNZXRhRGF0YUtleUFycmF5LmpvaW4oU2VwYXJhdG9ycy5DQUNIRV9LRVlfU0VQQVJBVE9SKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBBcHBNZXRhZGF0YUVudGl0eVxyXG4gICAgICogQHBhcmFtIGNsaWVudElkXHJcbiAgICAgKiBAcGFyYW0gZW52aXJvbm1lbnRcclxuICAgICAqIEBwYXJhbSBmYW1pbHlJZFxyXG4gICAgICovXHJcbiAgICBBcHBNZXRhZGF0YUVudGl0eS5jcmVhdGVBcHBNZXRhZGF0YUVudGl0eSA9IGZ1bmN0aW9uIChjbGllbnRJZCwgZW52aXJvbm1lbnQsIGZhbWlseUlkKSB7XHJcbiAgICAgICAgdmFyIGFwcE1ldGFkYXRhID0gbmV3IEFwcE1ldGFkYXRhRW50aXR5KCk7XHJcbiAgICAgICAgYXBwTWV0YWRhdGEuY2xpZW50SWQgPSBjbGllbnRJZDtcclxuICAgICAgICBhcHBNZXRhZGF0YS5lbnZpcm9ubWVudCA9IGVudmlyb25tZW50O1xyXG4gICAgICAgIGlmIChmYW1pbHlJZCkge1xyXG4gICAgICAgICAgICBhcHBNZXRhZGF0YS5mYW1pbHlJZCA9IGZhbWlseUlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXBwTWV0YWRhdGE7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBWYWxpZGF0ZXMgYW4gZW50aXR5OiBjaGVja3MgZm9yIGFsbCBleHBlY3RlZCBwYXJhbXNcclxuICAgICAqIEBwYXJhbSBlbnRpdHlcclxuICAgICAqL1xyXG4gICAgQXBwTWV0YWRhdGFFbnRpdHkuaXNBcHBNZXRhZGF0YUVudGl0eSA9IGZ1bmN0aW9uIChrZXksIGVudGl0eSkge1xyXG4gICAgICAgIGlmICghZW50aXR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIChrZXkuaW5kZXhPZihBUFBfTUVUQURBVEEpID09PSAwICYmXHJcbiAgICAgICAgICAgIGVudGl0eS5oYXNPd25Qcm9wZXJ0eShcImNsaWVudElkXCIpICYmXHJcbiAgICAgICAgICAgIGVudGl0eS5oYXNPd25Qcm9wZXJ0eShcImVudmlyb25tZW50XCIpKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQXBwTWV0YWRhdGFFbnRpdHk7XHJcbn0oKSk7XG5cbmV4cG9ydCB7IEFwcE1ldGFkYXRhRW50aXR5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BcHBNZXRhZGF0YUVudGl0eS5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjYuMS4wIDIwMjItMDItMDggKi9cbid1c2Ugc3RyaWN0Jztcbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogVGhpcyBjbGFzcyBpbnN0YW5jZSBoZWxwcyB0cmFjayB0aGUgbWVtb3J5IGNoYW5nZXMgZmFjaWxpdGF0aW5nXHJcbiAqIGRlY2lzaW9ucyB0byByZWFkIGZyb20gYW5kIHdyaXRlIHRvIHRoZSBwZXJzaXN0ZW50IGNhY2hlXHJcbiAqLyB2YXIgVG9rZW5DYWNoZUNvbnRleHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBUb2tlbkNhY2hlQ29udGV4dCh0b2tlbkNhY2hlLCBoYXNDaGFuZ2VkKSB7XHJcbiAgICAgICAgdGhpcy5jYWNoZSA9IHRva2VuQ2FjaGU7XHJcbiAgICAgICAgdGhpcy5oYXNDaGFuZ2VkID0gaGFzQ2hhbmdlZDtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUb2tlbkNhY2hlQ29udGV4dC5wcm90b3R5cGUsIFwiY2FjaGVIYXNDaGFuZ2VkXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBib29sZWFuIHdoaWNoIGluZGljYXRlcyB0aGUgY2hhbmdlcyBpbiBjYWNoZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oYXNDaGFuZ2VkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUb2tlbkNhY2hlQ29udGV4dC5wcm90b3R5cGUsIFwidG9rZW5DYWNoZVwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogZnVuY3Rpb24gdG8gcmV0cmlldmUgdGhlIHRva2VuIGNhY2hlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhY2hlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBUb2tlbkNhY2hlQ29udGV4dDtcclxufSgpKTtcblxuZXhwb3J0IHsgVG9rZW5DYWNoZUNvbnRleHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRva2VuQ2FjaGVDb250ZXh0LmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2Ni4xLjAgMjAyMi0wMi0wOCAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgX19hd2FpdGVyLCBfX2dlbmVyYXRvciB9IGZyb20gJy4uL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgeyBidWlsZENsaWVudEluZm8gfSBmcm9tICcuLi9hY2NvdW50L0NsaWVudEluZm8uanMnO1xuaW1wb3J0IHsgQ2xpZW50QXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50QXV0aEVycm9yLmpzJztcbmltcG9ydCB7IFN0cmluZ1V0aWxzIH0gZnJvbSAnLi4vdXRpbHMvU3RyaW5nVXRpbHMuanMnO1xuaW1wb3J0IHsgU2VydmVyRXJyb3IgfSBmcm9tICcuLi9lcnJvci9TZXJ2ZXJFcnJvci5qcyc7XG5pbXBvcnQgeyBBdXRoVG9rZW4gfSBmcm9tICcuLi9hY2NvdW50L0F1dGhUb2tlbi5qcyc7XG5pbXBvcnQgeyBTY29wZVNldCB9IGZyb20gJy4uL3JlcXVlc3QvU2NvcGVTZXQuanMnO1xuaW1wb3J0IHsgQWNjb3VudEVudGl0eSB9IGZyb20gJy4uL2NhY2hlL2VudGl0aWVzL0FjY291bnRFbnRpdHkuanMnO1xuaW1wb3J0IHsgQXV0aG9yaXR5VHlwZSB9IGZyb20gJy4uL2F1dGhvcml0eS9BdXRob3JpdHlUeXBlLmpzJztcbmltcG9ydCB7IElkVG9rZW5FbnRpdHkgfSBmcm9tICcuLi9jYWNoZS9lbnRpdGllcy9JZFRva2VuRW50aXR5LmpzJztcbmltcG9ydCB7IEFjY2Vzc1Rva2VuRW50aXR5IH0gZnJvbSAnLi4vY2FjaGUvZW50aXRpZXMvQWNjZXNzVG9rZW5FbnRpdHkuanMnO1xuaW1wb3J0IHsgUmVmcmVzaFRva2VuRW50aXR5IH0gZnJvbSAnLi4vY2FjaGUvZW50aXRpZXMvUmVmcmVzaFRva2VuRW50aXR5LmpzJztcbmltcG9ydCB7IEludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9JbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yLmpzJztcbmltcG9ydCB7IENhY2hlUmVjb3JkIH0gZnJvbSAnLi4vY2FjaGUvZW50aXRpZXMvQ2FjaGVSZWNvcmQuanMnO1xuaW1wb3J0IHsgUHJvdG9jb2xVdGlscyB9IGZyb20gJy4uL3V0aWxzL1Byb3RvY29sVXRpbHMuanMnO1xuaW1wb3J0IHsgQ29uc3RhbnRzLCBBdXRoZW50aWNhdGlvblNjaGVtZSwgVEhFX0ZBTUlMWV9JRCB9IGZyb20gJy4uL3V0aWxzL0NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBQb3BUb2tlbkdlbmVyYXRvciB9IGZyb20gJy4uL2NyeXB0by9Qb3BUb2tlbkdlbmVyYXRvci5qcyc7XG5pbXBvcnQgeyBBcHBNZXRhZGF0YUVudGl0eSB9IGZyb20gJy4uL2NhY2hlL2VudGl0aWVzL0FwcE1ldGFkYXRhRW50aXR5LmpzJztcbmltcG9ydCB7IFRva2VuQ2FjaGVDb250ZXh0IH0gZnJvbSAnLi4vY2FjaGUvcGVyc2lzdGVuY2UvVG9rZW5DYWNoZUNvbnRleHQuanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIENsYXNzIHRoYXQgaGFuZGxlcyByZXNwb25zZSBwYXJzaW5nLlxyXG4gKi9cclxudmFyIFJlc3BvbnNlSGFuZGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFJlc3BvbnNlSGFuZGxlcihjbGllbnRJZCwgY2FjaGVTdG9yYWdlLCBjcnlwdG9PYmosIGxvZ2dlciwgc2VyaWFsaXphYmxlQ2FjaGUsIHBlcnNpc3RlbmNlUGx1Z2luKSB7XHJcbiAgICAgICAgdGhpcy5jbGllbnRJZCA9IGNsaWVudElkO1xyXG4gICAgICAgIHRoaXMuY2FjaGVTdG9yYWdlID0gY2FjaGVTdG9yYWdlO1xyXG4gICAgICAgIHRoaXMuY3J5cHRvT2JqID0gY3J5cHRvT2JqO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xyXG4gICAgICAgIHRoaXMuc2VyaWFsaXphYmxlQ2FjaGUgPSBzZXJpYWxpemFibGVDYWNoZTtcclxuICAgICAgICB0aGlzLnBlcnNpc3RlbmNlUGx1Z2luID0gcGVyc2lzdGVuY2VQbHVnaW47XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEZ1bmN0aW9uIHdoaWNoIHZhbGlkYXRlcyBzZXJ2ZXIgYXV0aG9yaXphdGlvbiBjb2RlIHJlc3BvbnNlLlxyXG4gICAgICogQHBhcmFtIHNlcnZlclJlc3BvbnNlSGFzaFxyXG4gICAgICogQHBhcmFtIGNhY2hlZFN0YXRlXHJcbiAgICAgKiBAcGFyYW0gY3J5cHRvT2JqXHJcbiAgICAgKi9cclxuICAgIFJlc3BvbnNlSGFuZGxlci5wcm90b3R5cGUudmFsaWRhdGVTZXJ2ZXJBdXRob3JpemF0aW9uQ29kZVJlc3BvbnNlID0gZnVuY3Rpb24gKHNlcnZlclJlc3BvbnNlSGFzaCwgY2FjaGVkU3RhdGUsIGNyeXB0b09iaikge1xyXG4gICAgICAgIGlmICghc2VydmVyUmVzcG9uc2VIYXNoLnN0YXRlIHx8ICFjYWNoZWRTdGF0ZSkge1xyXG4gICAgICAgICAgICB0aHJvdyAhc2VydmVyUmVzcG9uc2VIYXNoLnN0YXRlID8gQ2xpZW50QXV0aEVycm9yLmNyZWF0ZVN0YXRlTm90Rm91bmRFcnJvcihcIlNlcnZlciBTdGF0ZVwiKSA6IENsaWVudEF1dGhFcnJvci5jcmVhdGVTdGF0ZU5vdEZvdW5kRXJyb3IoXCJDYWNoZWQgU3RhdGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkZWNvZGVVUklDb21wb25lbnQoc2VydmVyUmVzcG9uc2VIYXNoLnN0YXRlKSAhPT0gZGVjb2RlVVJJQ29tcG9uZW50KGNhY2hlZFN0YXRlKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBDbGllbnRBdXRoRXJyb3IuY3JlYXRlU3RhdGVNaXNtYXRjaEVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENoZWNrIGZvciBlcnJvclxyXG4gICAgICAgIGlmIChzZXJ2ZXJSZXNwb25zZUhhc2guZXJyb3IgfHwgc2VydmVyUmVzcG9uc2VIYXNoLmVycm9yX2Rlc2NyaXB0aW9uIHx8IHNlcnZlclJlc3BvbnNlSGFzaC5zdWJlcnJvcikge1xyXG4gICAgICAgICAgICBpZiAoSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvci5pc0ludGVyYWN0aW9uUmVxdWlyZWRFcnJvcihzZXJ2ZXJSZXNwb25zZUhhc2guZXJyb3IsIHNlcnZlclJlc3BvbnNlSGFzaC5lcnJvcl9kZXNjcmlwdGlvbiwgc2VydmVyUmVzcG9uc2VIYXNoLnN1YmVycm9yKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3Ioc2VydmVyUmVzcG9uc2VIYXNoLmVycm9yIHx8IENvbnN0YW50cy5FTVBUWV9TVFJJTkcsIHNlcnZlclJlc3BvbnNlSGFzaC5lcnJvcl9kZXNjcmlwdGlvbiwgc2VydmVyUmVzcG9uc2VIYXNoLnN1YmVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgU2VydmVyRXJyb3Ioc2VydmVyUmVzcG9uc2VIYXNoLmVycm9yIHx8IENvbnN0YW50cy5FTVBUWV9TVFJJTkcsIHNlcnZlclJlc3BvbnNlSGFzaC5lcnJvcl9kZXNjcmlwdGlvbiwgc2VydmVyUmVzcG9uc2VIYXNoLnN1YmVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNlcnZlclJlc3BvbnNlSGFzaC5jbGllbnRfaW5mbykge1xyXG4gICAgICAgICAgICBidWlsZENsaWVudEluZm8oc2VydmVyUmVzcG9uc2VIYXNoLmNsaWVudF9pbmZvLCBjcnlwdG9PYmopO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEZ1bmN0aW9uIHdoaWNoIHZhbGlkYXRlcyBzZXJ2ZXIgYXV0aG9yaXphdGlvbiB0b2tlbiByZXNwb25zZS5cclxuICAgICAqIEBwYXJhbSBzZXJ2ZXJSZXNwb25zZVxyXG4gICAgICovXHJcbiAgICBSZXNwb25zZUhhbmRsZXIucHJvdG90eXBlLnZhbGlkYXRlVG9rZW5SZXNwb25zZSA9IGZ1bmN0aW9uIChzZXJ2ZXJSZXNwb25zZSkge1xyXG4gICAgICAgIC8vIENoZWNrIGZvciBlcnJvclxyXG4gICAgICAgIGlmIChzZXJ2ZXJSZXNwb25zZS5lcnJvciB8fCBzZXJ2ZXJSZXNwb25zZS5lcnJvcl9kZXNjcmlwdGlvbiB8fCBzZXJ2ZXJSZXNwb25zZS5zdWJlcnJvcikge1xyXG4gICAgICAgICAgICBpZiAoSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvci5pc0ludGVyYWN0aW9uUmVxdWlyZWRFcnJvcihzZXJ2ZXJSZXNwb25zZS5lcnJvciwgc2VydmVyUmVzcG9uc2UuZXJyb3JfZGVzY3JpcHRpb24sIHNlcnZlclJlc3BvbnNlLnN1YmVycm9yKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3Ioc2VydmVyUmVzcG9uc2UuZXJyb3IsIHNlcnZlclJlc3BvbnNlLmVycm9yX2Rlc2NyaXB0aW9uLCBzZXJ2ZXJSZXNwb25zZS5zdWJlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGVyclN0cmluZyA9IHNlcnZlclJlc3BvbnNlLmVycm9yX2NvZGVzICsgXCIgLSBbXCIgKyBzZXJ2ZXJSZXNwb25zZS50aW1lc3RhbXAgKyBcIl06IFwiICsgc2VydmVyUmVzcG9uc2UuZXJyb3JfZGVzY3JpcHRpb24gKyBcIiAtIENvcnJlbGF0aW9uIElEOiBcIiArIHNlcnZlclJlc3BvbnNlLmNvcnJlbGF0aW9uX2lkICsgXCIgLSBUcmFjZSBJRDogXCIgKyBzZXJ2ZXJSZXNwb25zZS50cmFjZV9pZDtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFNlcnZlckVycm9yKHNlcnZlclJlc3BvbnNlLmVycm9yLCBlcnJTdHJpbmcsIHNlcnZlclJlc3BvbnNlLnN1YmVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgY29uc3RydWN0ZWQgdG9rZW4gcmVzcG9uc2UgYmFzZWQgb24gZ2l2ZW4gc3RyaW5nLiBBbHNvIG1hbmFnZXMgdGhlIGNhY2hlIHVwZGF0ZXMgYW5kIGNsZWFudXBzLlxyXG4gICAgICogQHBhcmFtIHNlcnZlclRva2VuUmVzcG9uc2VcclxuICAgICAqIEBwYXJhbSBhdXRob3JpdHlcclxuICAgICAqL1xyXG4gICAgUmVzcG9uc2VIYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVTZXJ2ZXJUb2tlblJlc3BvbnNlID0gZnVuY3Rpb24gKHNlcnZlclRva2VuUmVzcG9uc2UsIGF1dGhvcml0eSwgcmVxVGltZXN0YW1wLCByZXF1ZXN0LCBhdXRoQ29kZVBheWxvYWQsIG9ib0Fzc2VydGlvbiwgaGFuZGxpbmdSZWZyZXNoVG9rZW5SZXNwb25zZSkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGlkVG9rZW5PYmosIHJlcXVlc3RTdGF0ZU9iaiwgY2FjaGVSZWNvcmQsIGNhY2hlQ29udGV4dCwga2V5LCBhY2NvdW50O1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VydmVyVG9rZW5SZXNwb25zZS5pZF90b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRUb2tlbk9iaiA9IG5ldyBBdXRoVG9rZW4oc2VydmVyVG9rZW5SZXNwb25zZS5pZF90b2tlbiB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HLCB0aGlzLmNyeXB0b09iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0b2tlbiBub25jZSBjaGVjayAoVE9ETzogQWRkIGEgd2FybmluZyBpZiBubyBub25jZSBpcyBnaXZlbj8pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXV0aENvZGVQYXlsb2FkICYmICFTdHJpbmdVdGlscy5pc0VtcHR5KGF1dGhDb2RlUGF5bG9hZC5ub25jZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWRUb2tlbk9iai5jbGFpbXMubm9uY2UgIT09IGF1dGhDb2RlUGF5bG9hZC5ub25jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBDbGllbnRBdXRoRXJyb3IuY3JlYXRlTm9uY2VNaXNtYXRjaEVycm9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdlbmVyYXRlIGhvbWVBY2NvdW50SWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob21lQWNjb3VudElkZW50aWZpZXIgPSBBY2NvdW50RW50aXR5LmdlbmVyYXRlSG9tZUFjY291bnRJZChzZXJ2ZXJUb2tlblJlc3BvbnNlLmNsaWVudF9pbmZvIHx8IENvbnN0YW50cy5FTVBUWV9TVFJJTkcsIGF1dGhvcml0eS5hdXRob3JpdHlUeXBlLCB0aGlzLmxvZ2dlciwgdGhpcy5jcnlwdG9PYmosIGlkVG9rZW5PYmopO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISFhdXRoQ29kZVBheWxvYWQgJiYgISFhdXRoQ29kZVBheWxvYWQuc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RTdGF0ZU9iaiA9IFByb3RvY29sVXRpbHMucGFyc2VSZXF1ZXN0U3RhdGUodGhpcy5jcnlwdG9PYmosIGF1dGhDb2RlUGF5bG9hZC5zdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGtleUlkIGZyb20gcmVxdWVzdCB0byBzZXJ2ZXJUb2tlblJlc3BvbnNlIGlmIGRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyVG9rZW5SZXNwb25zZS5rZXlfaWQgPSBzZXJ2ZXJUb2tlblJlc3BvbnNlLmtleV9pZCB8fCByZXF1ZXN0LnNzaEtpZCB8fCB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlUmVjb3JkID0gdGhpcy5nZW5lcmF0ZUNhY2hlUmVjb3JkKHNlcnZlclRva2VuUmVzcG9uc2UsIGF1dGhvcml0eSwgcmVxVGltZXN0YW1wLCByZXF1ZXN0LCBpZFRva2VuT2JqLCBvYm9Bc3NlcnRpb24sIGF1dGhDb2RlUGF5bG9hZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMSwgLCA1LCA4XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHRoaXMucGVyc2lzdGVuY2VQbHVnaW4gJiYgdGhpcy5zZXJpYWxpemFibGVDYWNoZSkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiUGVyc2lzdGVuY2UgZW5hYmxlZCwgY2FsbGluZyBiZWZvcmVDYWNoZUFjY2Vzc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVDb250ZXh0ID0gbmV3IFRva2VuQ2FjaGVDb250ZXh0KHRoaXMuc2VyaWFsaXphYmxlQ2FjaGUsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnBlcnNpc3RlbmNlUGx1Z2luLmJlZm9yZUNhY2hlQWNjZXNzKGNhY2hlQ29udGV4dCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBXaGVuIHNhdmluZyBhIHJlZnJlc2hlZCB0b2tlbnMgdG8gdGhlIGNhY2hlLCBpdCBpcyBleHBlY3RlZCB0aGF0IHRoZSBhY2NvdW50IHRoYXQgd2FzIHVzZWQgaXMgcHJlc2VudCBpbiB0aGUgY2FjaGUuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIElmIG5vdCBwcmVzZW50LCB3ZSBzaG91bGQgcmV0dXJuIG51bGwsIGFzIGl0J3MgdGhlIGNhc2UgdGhhdCBhbm90aGVyIGFwcGxpY2F0aW9uIGNhbGxlZCByZW1vdmVBY2NvdW50IGluIGJldHdlZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICogdGhlIGNhbGxzIHRvIGdldEFsbEFjY291bnRzIGFuZCBhY3F1aXJlVG9rZW5TaWxlbnQuIFdlIHNob3VsZCBub3Qgb3ZlcndyaXRlIHRoYXQgcmVtb3ZhbC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYW5kbGluZ1JlZnJlc2hUb2tlblJlc3BvbnNlICYmIGNhY2hlUmVjb3JkLmFjY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGNhY2hlUmVjb3JkLmFjY291bnQuZ2VuZXJhdGVBY2NvdW50S2V5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50ID0gdGhpcy5jYWNoZVN0b3JhZ2UuZ2V0QWNjb3VudChrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhY2NvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybmluZyhcIkFjY291bnQgdXNlZCB0byByZWZyZXNoIHRva2VucyBub3QgaW4gcGVyc2lzdGVuY2UsIHJlZnJlc2hlZCB0b2tlbnMgd2lsbCBub3QgYmUgc3RvcmVkIGluIHRoZSBjYWNoZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUmVzcG9uc2VIYW5kbGVyLmdlbmVyYXRlQXV0aGVudGljYXRpb25SZXN1bHQodGhpcy5jcnlwdG9PYmosIGF1dGhvcml0eSwgY2FjaGVSZWNvcmQsIGZhbHNlLCByZXF1ZXN0LCBpZFRva2VuT2JqLCByZXF1ZXN0U3RhdGVPYmopXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmNhY2hlU3RvcmFnZS5zYXZlQ2FjaGVSZWNvcmQoY2FjaGVSZWNvcmQpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgOF07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISh0aGlzLnBlcnNpc3RlbmNlUGx1Z2luICYmIHRoaXMuc2VyaWFsaXphYmxlQ2FjaGUgJiYgY2FjaGVDb250ZXh0KSkgcmV0dXJuIFszIC8qYnJlYWsqLywgN107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJQZXJzaXN0ZW5jZSBlbmFibGVkLCBjYWxsaW5nIGFmdGVyQ2FjaGVBY2Nlc3NcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucGVyc2lzdGVuY2VQbHVnaW4uYWZ0ZXJDYWNoZUFjY2VzcyhjYWNoZUNvbnRleHQpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSA3O1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzogcmV0dXJuIFs3IC8qZW5kZmluYWxseSovXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDg6IHJldHVybiBbMiAvKnJldHVybiovLCBSZXNwb25zZUhhbmRsZXIuZ2VuZXJhdGVBdXRoZW50aWNhdGlvblJlc3VsdCh0aGlzLmNyeXB0b09iaiwgYXV0aG9yaXR5LCBjYWNoZVJlY29yZCwgZmFsc2UsIHJlcXVlc3QsIGlkVG9rZW5PYmosIHJlcXVlc3RTdGF0ZU9iaiwgc2VydmVyVG9rZW5SZXNwb25zZS5zcGFfY29kZSldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlcyBDYWNoZVJlY29yZFxyXG4gICAgICogQHBhcmFtIHNlcnZlclRva2VuUmVzcG9uc2VcclxuICAgICAqIEBwYXJhbSBpZFRva2VuT2JqXHJcbiAgICAgKiBAcGFyYW0gYXV0aG9yaXR5XHJcbiAgICAgKi9cclxuICAgIFJlc3BvbnNlSGFuZGxlci5wcm90b3R5cGUuZ2VuZXJhdGVDYWNoZVJlY29yZCA9IGZ1bmN0aW9uIChzZXJ2ZXJUb2tlblJlc3BvbnNlLCBhdXRob3JpdHksIHJlcVRpbWVzdGFtcCwgcmVxdWVzdCwgaWRUb2tlbk9iaiwgb2JvQXNzZXJ0aW9uLCBhdXRoQ29kZVBheWxvYWQpIHtcclxuICAgICAgICB2YXIgZW52ID0gYXV0aG9yaXR5LmdldFByZWZlcnJlZENhY2hlKCk7XHJcbiAgICAgICAgaWYgKFN0cmluZ1V0aWxzLmlzRW1wdHkoZW52KSkge1xyXG4gICAgICAgICAgICB0aHJvdyBDbGllbnRBdXRoRXJyb3IuY3JlYXRlSW52YWxpZENhY2hlRW52aXJvbm1lbnRFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJZFRva2VuOiBub24gQUFEIHNjZW5hcmlvcyBjYW4gaGF2ZSBlbXB0eSByZWFsbVxyXG4gICAgICAgIHZhciBjYWNoZWRJZFRva2VuO1xyXG4gICAgICAgIHZhciBjYWNoZWRBY2NvdW50O1xyXG4gICAgICAgIGlmICghU3RyaW5nVXRpbHMuaXNFbXB0eShzZXJ2ZXJUb2tlblJlc3BvbnNlLmlkX3Rva2VuKSAmJiAhIWlkVG9rZW5PYmopIHtcclxuICAgICAgICAgICAgY2FjaGVkSWRUb2tlbiA9IElkVG9rZW5FbnRpdHkuY3JlYXRlSWRUb2tlbkVudGl0eSh0aGlzLmhvbWVBY2NvdW50SWRlbnRpZmllciwgZW52LCBzZXJ2ZXJUb2tlblJlc3BvbnNlLmlkX3Rva2VuIHx8IENvbnN0YW50cy5FTVBUWV9TVFJJTkcsIHRoaXMuY2xpZW50SWQsIGlkVG9rZW5PYmouY2xhaW1zLnRpZCB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HLCBvYm9Bc3NlcnRpb24pO1xyXG4gICAgICAgICAgICBjYWNoZWRBY2NvdW50ID0gdGhpcy5nZW5lcmF0ZUFjY291bnRFbnRpdHkoc2VydmVyVG9rZW5SZXNwb25zZSwgaWRUb2tlbk9iaiwgYXV0aG9yaXR5LCBvYm9Bc3NlcnRpb24sIGF1dGhDb2RlUGF5bG9hZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFjY2Vzc1Rva2VuXHJcbiAgICAgICAgdmFyIGNhY2hlZEFjY2Vzc1Rva2VuID0gbnVsbDtcclxuICAgICAgICBpZiAoIVN0cmluZ1V0aWxzLmlzRW1wdHkoc2VydmVyVG9rZW5SZXNwb25zZS5hY2Nlc3NfdG9rZW4pKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHNjb3BlcyBub3QgcmV0dXJuZWQgaW4gc2VydmVyIHJlc3BvbnNlLCB1c2UgcmVxdWVzdCBzY29wZXNcclxuICAgICAgICAgICAgdmFyIHJlc3BvbnNlU2NvcGVzID0gc2VydmVyVG9rZW5SZXNwb25zZS5zY29wZSA/IFNjb3BlU2V0LmZyb21TdHJpbmcoc2VydmVyVG9rZW5SZXNwb25zZS5zY29wZSkgOiBuZXcgU2NvcGVTZXQocmVxdWVzdC5zY29wZXMgfHwgW10pO1xyXG4gICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgKiBVc2UgdGltZXN0YW1wIGNhbGN1bGF0ZWQgYmVmb3JlIHJlcXVlc3RcclxuICAgICAgICAgICAgICogU2VydmVyIG1heSByZXR1cm4gdGltZXN0YW1wcyBhcyBzdHJpbmdzLCBwYXJzZSB0byBudW1iZXJzIGlmIHNvLlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgdmFyIGV4cGlyZXNJbiA9ICh0eXBlb2Ygc2VydmVyVG9rZW5SZXNwb25zZS5leHBpcmVzX2luID09PSBcInN0cmluZ1wiID8gcGFyc2VJbnQoc2VydmVyVG9rZW5SZXNwb25zZS5leHBpcmVzX2luLCAxMCkgOiBzZXJ2ZXJUb2tlblJlc3BvbnNlLmV4cGlyZXNfaW4pIHx8IDA7XHJcbiAgICAgICAgICAgIHZhciBleHRFeHBpcmVzSW4gPSAodHlwZW9mIHNlcnZlclRva2VuUmVzcG9uc2UuZXh0X2V4cGlyZXNfaW4gPT09IFwic3RyaW5nXCIgPyBwYXJzZUludChzZXJ2ZXJUb2tlblJlc3BvbnNlLmV4dF9leHBpcmVzX2luLCAxMCkgOiBzZXJ2ZXJUb2tlblJlc3BvbnNlLmV4dF9leHBpcmVzX2luKSB8fCAwO1xyXG4gICAgICAgICAgICB2YXIgcmVmcmVzaEluID0gKHR5cGVvZiBzZXJ2ZXJUb2tlblJlc3BvbnNlLnJlZnJlc2hfaW4gPT09IFwic3RyaW5nXCIgPyBwYXJzZUludChzZXJ2ZXJUb2tlblJlc3BvbnNlLnJlZnJlc2hfaW4sIDEwKSA6IHNlcnZlclRva2VuUmVzcG9uc2UucmVmcmVzaF9pbikgfHwgdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB2YXIgdG9rZW5FeHBpcmF0aW9uU2Vjb25kcyA9IHJlcVRpbWVzdGFtcCArIGV4cGlyZXNJbjtcclxuICAgICAgICAgICAgdmFyIGV4dGVuZGVkVG9rZW5FeHBpcmF0aW9uU2Vjb25kcyA9IHRva2VuRXhwaXJhdGlvblNlY29uZHMgKyBleHRFeHBpcmVzSW47XHJcbiAgICAgICAgICAgIHZhciByZWZyZXNoT25TZWNvbmRzID0gcmVmcmVzaEluICYmIHJlZnJlc2hJbiA+IDAgPyByZXFUaW1lc3RhbXAgKyByZWZyZXNoSW4gOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIC8vIG5vbiBBQUQgc2NlbmFyaW9zIGNhbiBoYXZlIGVtcHR5IHJlYWxtXHJcbiAgICAgICAgICAgIGNhY2hlZEFjY2Vzc1Rva2VuID0gQWNjZXNzVG9rZW5FbnRpdHkuY3JlYXRlQWNjZXNzVG9rZW5FbnRpdHkodGhpcy5ob21lQWNjb3VudElkZW50aWZpZXIsIGVudiwgc2VydmVyVG9rZW5SZXNwb25zZS5hY2Nlc3NfdG9rZW4gfHwgQ29uc3RhbnRzLkVNUFRZX1NUUklORywgdGhpcy5jbGllbnRJZCwgaWRUb2tlbk9iaiA/IGlkVG9rZW5PYmouY2xhaW1zLnRpZCB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HIDogYXV0aG9yaXR5LnRlbmFudCwgcmVzcG9uc2VTY29wZXMucHJpbnRTY29wZXMoKSwgdG9rZW5FeHBpcmF0aW9uU2Vjb25kcywgZXh0ZW5kZWRUb2tlbkV4cGlyYXRpb25TZWNvbmRzLCB0aGlzLmNyeXB0b09iaiwgcmVmcmVzaE9uU2Vjb25kcywgc2VydmVyVG9rZW5SZXNwb25zZS50b2tlbl90eXBlLCBvYm9Bc3NlcnRpb24sIHNlcnZlclRva2VuUmVzcG9uc2Uua2V5X2lkLCByZXF1ZXN0LmNsYWltcywgcmVxdWVzdC5yZXF1ZXN0ZWRDbGFpbXNIYXNoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gcmVmcmVzaFRva2VuXHJcbiAgICAgICAgdmFyIGNhY2hlZFJlZnJlc2hUb2tlbiA9IG51bGw7XHJcbiAgICAgICAgaWYgKCFTdHJpbmdVdGlscy5pc0VtcHR5KHNlcnZlclRva2VuUmVzcG9uc2UucmVmcmVzaF90b2tlbikpIHtcclxuICAgICAgICAgICAgY2FjaGVkUmVmcmVzaFRva2VuID0gUmVmcmVzaFRva2VuRW50aXR5LmNyZWF0ZVJlZnJlc2hUb2tlbkVudGl0eSh0aGlzLmhvbWVBY2NvdW50SWRlbnRpZmllciwgZW52LCBzZXJ2ZXJUb2tlblJlc3BvbnNlLnJlZnJlc2hfdG9rZW4gfHwgQ29uc3RhbnRzLkVNUFRZX1NUUklORywgdGhpcy5jbGllbnRJZCwgc2VydmVyVG9rZW5SZXNwb25zZS5mb2NpLCBvYm9Bc3NlcnRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhcHBNZXRhZGF0YVxyXG4gICAgICAgIHZhciBjYWNoZWRBcHBNZXRhZGF0YSA9IG51bGw7XHJcbiAgICAgICAgaWYgKCFTdHJpbmdVdGlscy5pc0VtcHR5KHNlcnZlclRva2VuUmVzcG9uc2UuZm9jaSkpIHtcclxuICAgICAgICAgICAgY2FjaGVkQXBwTWV0YWRhdGEgPSBBcHBNZXRhZGF0YUVudGl0eS5jcmVhdGVBcHBNZXRhZGF0YUVudGl0eSh0aGlzLmNsaWVudElkLCBlbnYsIHNlcnZlclRva2VuUmVzcG9uc2UuZm9jaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgQ2FjaGVSZWNvcmQoY2FjaGVkQWNjb3VudCwgY2FjaGVkSWRUb2tlbiwgY2FjaGVkQWNjZXNzVG9rZW4sIGNhY2hlZFJlZnJlc2hUb2tlbiwgY2FjaGVkQXBwTWV0YWRhdGEpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGUgQWNjb3VudFxyXG4gICAgICogQHBhcmFtIHNlcnZlclRva2VuUmVzcG9uc2VcclxuICAgICAqIEBwYXJhbSBpZFRva2VuXHJcbiAgICAgKiBAcGFyYW0gYXV0aG9yaXR5XHJcbiAgICAgKi9cclxuICAgIFJlc3BvbnNlSGFuZGxlci5wcm90b3R5cGUuZ2VuZXJhdGVBY2NvdW50RW50aXR5ID0gZnVuY3Rpb24gKHNlcnZlclRva2VuUmVzcG9uc2UsIGlkVG9rZW4sIGF1dGhvcml0eSwgb2JvQXNzZXJ0aW9uLCBhdXRoQ29kZVBheWxvYWQpIHtcclxuICAgICAgICB2YXIgYXV0aG9yaXR5VHlwZSA9IGF1dGhvcml0eS5hdXRob3JpdHlUeXBlO1xyXG4gICAgICAgIHZhciBjbG91ZEdyYXBoSG9zdE5hbWUgPSBhdXRoQ29kZVBheWxvYWQgPyBhdXRoQ29kZVBheWxvYWQuY2xvdWRfZ3JhcGhfaG9zdF9uYW1lIDogXCJcIjtcclxuICAgICAgICB2YXIgbXNHcmFwaGhvc3QgPSBhdXRoQ29kZVBheWxvYWQgPyBhdXRoQ29kZVBheWxvYWQubXNncmFwaF9ob3N0IDogXCJcIjtcclxuICAgICAgICAvLyBBREZTIGRvZXMgbm90IHJlcXVpcmUgY2xpZW50X2luZm8gaW4gdGhlIHJlc3BvbnNlXHJcbiAgICAgICAgaWYgKGF1dGhvcml0eVR5cGUgPT09IEF1dGhvcml0eVR5cGUuQWRmcykge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiQXV0aG9yaXR5IHR5cGUgaXMgQURGUywgY3JlYXRpbmcgQURGUyBhY2NvdW50XCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gQWNjb3VudEVudGl0eS5jcmVhdGVHZW5lcmljQWNjb3VudCh0aGlzLmhvbWVBY2NvdW50SWRlbnRpZmllciwgaWRUb2tlbiwgYXV0aG9yaXR5LCBvYm9Bc3NlcnRpb24sIGNsb3VkR3JhcGhIb3N0TmFtZSwgbXNHcmFwaGhvc3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUaGlzIGZhbGxiYWNrIGFwcGxpZXMgdG8gQjJDIGFzIHdlbGwgYXMgdGhleSBmYWxsIHVuZGVyIGFuIEFBRCBhY2NvdW50IHR5cGUuXHJcbiAgICAgICAgaWYgKFN0cmluZ1V0aWxzLmlzRW1wdHkoc2VydmVyVG9rZW5SZXNwb25zZS5jbGllbnRfaW5mbykgJiYgYXV0aG9yaXR5LnByb3RvY29sTW9kZSA9PT0gXCJBQURcIikge1xyXG4gICAgICAgICAgICB0aHJvdyBDbGllbnRBdXRoRXJyb3IuY3JlYXRlQ2xpZW50SW5mb0VtcHR5RXJyb3IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNlcnZlclRva2VuUmVzcG9uc2UuY2xpZW50X2luZm8gP1xyXG4gICAgICAgICAgICBBY2NvdW50RW50aXR5LmNyZWF0ZUFjY291bnQoc2VydmVyVG9rZW5SZXNwb25zZS5jbGllbnRfaW5mbywgdGhpcy5ob21lQWNjb3VudElkZW50aWZpZXIsIGlkVG9rZW4sIGF1dGhvcml0eSwgb2JvQXNzZXJ0aW9uLCBjbG91ZEdyYXBoSG9zdE5hbWUsIG1zR3JhcGhob3N0KSA6XHJcbiAgICAgICAgICAgIEFjY291bnRFbnRpdHkuY3JlYXRlR2VuZXJpY0FjY291bnQodGhpcy5ob21lQWNjb3VudElkZW50aWZpZXIsIGlkVG9rZW4sIGF1dGhvcml0eSwgb2JvQXNzZXJ0aW9uLCBjbG91ZEdyYXBoSG9zdE5hbWUsIG1zR3JhcGhob3N0KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gQEF1dGhlbnRpY2F0aW9uUmVzdWx0IGZyb20gQENhY2hlUmVjb3JkICwgQElkVG9rZW4gLCBhbmQgYSBib29sZWFuIHRoYXQgc3RhdGVzIHdoZXRoZXIgb3Igbm90IHRoZSByZXN1bHQgaXMgZnJvbSBjYWNoZS5cclxuICAgICAqXHJcbiAgICAgKiBPcHRpb25hbGx5IHRha2VzIGEgc3RhdGUgc3RyaW5nIHRoYXQgaXMgc2V0IGFzLWlzIGluIHRoZSByZXNwb25zZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY2FjaGVSZWNvcmRcclxuICAgICAqIEBwYXJhbSBpZFRva2VuT2JqXHJcbiAgICAgKiBAcGFyYW0gZnJvbVRva2VuQ2FjaGVcclxuICAgICAqIEBwYXJhbSBzdGF0ZVN0cmluZ1xyXG4gICAgICovXHJcbiAgICBSZXNwb25zZUhhbmRsZXIuZ2VuZXJhdGVBdXRoZW50aWNhdGlvblJlc3VsdCA9IGZ1bmN0aW9uIChjcnlwdG9PYmosIGF1dGhvcml0eSwgY2FjaGVSZWNvcmQsIGZyb21Ub2tlbkNhY2hlLCByZXF1ZXN0LCBpZFRva2VuT2JqLCByZXF1ZXN0U3RhdGUsIGNvZGUpIHtcclxuICAgICAgICB2YXIgX2EsIF9iLCBfYztcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBhY2Nlc3NUb2tlbiwgcmVzcG9uc2VTY29wZXMsIGV4cGlyZXNPbiwgZXh0RXhwaXJlc09uLCBmYW1pbHlJZCwgcG9wVG9rZW5HZW5lcmF0b3IsIHVpZCwgdGlkO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9kKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9kLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbiA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlU2NvcGVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZXNPbiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhbWlseUlkID0gQ29uc3RhbnRzLkVNUFRZX1NUUklORztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWNoZVJlY29yZC5hY2Nlc3NUb2tlbikgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGNhY2hlUmVjb3JkLmFjY2Vzc1Rva2VuLnRva2VuVHlwZSA9PT0gQXV0aGVudGljYXRpb25TY2hlbWUuUE9QKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcFRva2VuR2VuZXJhdG9yID0gbmV3IFBvcFRva2VuR2VuZXJhdG9yKGNyeXB0b09iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHBvcFRva2VuR2VuZXJhdG9yLnNpZ25Qb3BUb2tlbihjYWNoZVJlY29yZC5hY2Nlc3NUb2tlbi5zZWNyZXQsIHJlcXVlc3QpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc1Rva2VuID0gX2Quc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAzXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc1Rva2VuID0gY2FjaGVSZWNvcmQuYWNjZXNzVG9rZW4uc2VjcmV0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfZC5sYWJlbCA9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVNjb3BlcyA9IFNjb3BlU2V0LmZyb21TdHJpbmcoY2FjaGVSZWNvcmQuYWNjZXNzVG9rZW4udGFyZ2V0KS5hc0FycmF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZXNPbiA9IG5ldyBEYXRlKE51bWJlcihjYWNoZVJlY29yZC5hY2Nlc3NUb2tlbi5leHBpcmVzT24pICogMTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dEV4cGlyZXNPbiA9IG5ldyBEYXRlKE51bWJlcihjYWNoZVJlY29yZC5hY2Nlc3NUb2tlbi5leHRlbmRlZEV4cGlyZXNPbikgKiAxMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2QubGFiZWwgPSA0O1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlUmVjb3JkLmFwcE1ldGFkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYW1pbHlJZCA9IGNhY2hlUmVjb3JkLmFwcE1ldGFkYXRhLmZhbWlseUlkID09PSBUSEVfRkFNSUxZX0lEID8gVEhFX0ZBTUlMWV9JRCA6IENvbnN0YW50cy5FTVBUWV9TVFJJTkc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdWlkID0gKGlkVG9rZW5PYmogPT09IG51bGwgfHwgaWRUb2tlbk9iaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogaWRUb2tlbk9iai5jbGFpbXMub2lkKSB8fCAoaWRUb2tlbk9iaiA9PT0gbnVsbCB8fCBpZFRva2VuT2JqID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpZFRva2VuT2JqLmNsYWltcy5zdWIpIHx8IENvbnN0YW50cy5FTVBUWV9TVFJJTkc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpZCA9IChpZFRva2VuT2JqID09PSBudWxsIHx8IGlkVG9rZW5PYmogPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlkVG9rZW5PYmouY2xhaW1zLnRpZCkgfHwgQ29uc3RhbnRzLkVNUFRZX1NUUklORztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRob3JpdHk6IGF1dGhvcml0eS5jYW5vbmljYWxBdXRob3JpdHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pcXVlSWQ6IHVpZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW5hbnRJZDogdGlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlczogcmVzcG9uc2VTY29wZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudDogY2FjaGVSZWNvcmQuYWNjb3VudCA/IGNhY2hlUmVjb3JkLmFjY291bnQuZ2V0QWNjb3VudEluZm8oKSA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRUb2tlbjogaWRUb2tlbk9iaiA/IGlkVG9rZW5PYmoucmF3VG9rZW4gOiBDb25zdGFudHMuRU1QVFlfU1RSSU5HLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkVG9rZW5DbGFpbXM6IGlkVG9rZW5PYmogPyBpZFRva2VuT2JqLmNsYWltcyA6IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tQ2FjaGU6IGZyb21Ub2tlbkNhY2hlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZXNPbjogZXhwaXJlc09uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlbGF0aW9uSWQ6IHJlcXVlc3QuY29ycmVsYXRpb25JZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRFeHBpcmVzT246IGV4dEV4cGlyZXNPbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYW1pbHlJZDogZmFtaWx5SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5UeXBlOiAoKF9hID0gY2FjaGVSZWNvcmQuYWNjZXNzVG9rZW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b2tlblR5cGUpIHx8IENvbnN0YW50cy5FTVBUWV9TVFJJTkcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IHJlcXVlc3RTdGF0ZSA/IHJlcXVlc3RTdGF0ZS51c2VyUmVxdWVzdFN0YXRlIDogQ29uc3RhbnRzLkVNUFRZX1NUUklORyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG91ZEdyYXBoSG9zdE5hbWU6ICgoX2IgPSBjYWNoZVJlY29yZC5hY2NvdW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2xvdWRHcmFwaEhvc3ROYW1lKSB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zR3JhcGhIb3N0OiAoKF9jID0gY2FjaGVSZWNvcmQuYWNjb3VudCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLm1zR3JhcGhIb3N0KSB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUmVzcG9uc2VIYW5kbGVyO1xyXG59KCkpO1xuXG5leHBvcnQgeyBSZXNwb25zZUhhbmRsZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlc3BvbnNlSGFuZGxlci5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjYuMS4wIDIwMjItMDItMDggKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IF9fZXh0ZW5kcywgX19hd2FpdGVyLCBfX2dlbmVyYXRvciwgX19hc3NpZ24sIF9fc3ByZWFkQXJyYXlzIH0gZnJvbSAnLi4vX3ZpcnR1YWwvX3RzbGliLmpzJztcbmltcG9ydCB7IEJhc2VDbGllbnQgfSBmcm9tICcuL0Jhc2VDbGllbnQuanMnO1xuaW1wb3J0IHsgUmVxdWVzdFBhcmFtZXRlckJ1aWxkZXIgfSBmcm9tICcuLi9yZXF1ZXN0L1JlcXVlc3RQYXJhbWV0ZXJCdWlsZGVyLmpzJztcbmltcG9ydCB7IFByb21wdFZhbHVlLCBTZXBhcmF0b3JzLCBBQURTZXJ2ZXJQYXJhbUtleXMsIEF1dGhlbnRpY2F0aW9uU2NoZW1lLCBHcmFudFR5cGUgfSBmcm9tICcuLi91dGlscy9Db25zdGFudHMuanMnO1xuaW1wb3J0IHsgUmVzcG9uc2VIYW5kbGVyIH0gZnJvbSAnLi4vcmVzcG9uc2UvUmVzcG9uc2VIYW5kbGVyLmpzJztcbmltcG9ydCB7IFN0cmluZ1V0aWxzIH0gZnJvbSAnLi4vdXRpbHMvU3RyaW5nVXRpbHMuanMnO1xuaW1wb3J0IHsgQ2xpZW50QXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50QXV0aEVycm9yLmpzJztcbmltcG9ydCB7IFVybFN0cmluZyB9IGZyb20gJy4uL3VybC9VcmxTdHJpbmcuanMnO1xuaW1wb3J0IHsgUG9wVG9rZW5HZW5lcmF0b3IgfSBmcm9tICcuLi9jcnlwdG8vUG9wVG9rZW5HZW5lcmF0b3IuanMnO1xuaW1wb3J0IHsgVGltZVV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvVGltZVV0aWxzLmpzJztcbmltcG9ydCB7IGJ1aWxkQ2xpZW50SW5mb0Zyb21Ib21lQWNjb3VudElkLCBidWlsZENsaWVudEluZm8gfSBmcm9tICcuLi9hY2NvdW50L0NsaWVudEluZm8uanMnO1xuaW1wb3J0IHsgQ2NzQ3JlZGVudGlhbFR5cGUgfSBmcm9tICcuLi9hY2NvdW50L0Njc0NyZWRlbnRpYWwuanMnO1xuaW1wb3J0IHsgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLmpzJztcbmltcG9ydCB7IFJlcXVlc3RWYWxpZGF0b3IgfSBmcm9tICcuLi9yZXF1ZXN0L1JlcXVlc3RWYWxpZGF0b3IuanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIE9hdXRoMi4wIEF1dGhvcml6YXRpb24gQ29kZSBjbGllbnRcclxuICovXHJcbnZhciBBdXRob3JpemF0aW9uQ29kZUNsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhBdXRob3JpemF0aW9uQ29kZUNsaWVudCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEF1dGhvcml6YXRpb25Db2RlQ2xpZW50KGNvbmZpZ3VyYXRpb24pIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWd1cmF0aW9uKSB8fCB0aGlzO1xyXG4gICAgICAgIC8vIEZsYWcgdG8gaW5kaWNhdGUgaWYgY2xpZW50IGlzIGZvciBoeWJyaWQgc3BhIGF1dGggY29kZSByZWRlbXB0aW9uXHJcbiAgICAgICAgX3RoaXMuaW5jbHVkZVJlZGlyZWN0VXJpID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgdGhlIFVSTCBvZiB0aGUgYXV0aG9yaXphdGlvbiByZXF1ZXN0IGxldHRpbmcgdGhlIHVzZXIgaW5wdXQgY3JlZGVudGlhbHMgYW5kIGNvbnNlbnQgdG8gdGhlXHJcbiAgICAgKiBhcHBsaWNhdGlvbi4gVGhlIFVSTCB0YXJnZXQgdGhlIC9hdXRob3JpemUgZW5kcG9pbnQgb2YgdGhlIGF1dGhvcml0eSBjb25maWd1cmVkIGluIHRoZVxyXG4gICAgICogYXBwbGljYXRpb24gb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIE9uY2UgdGhlIHVzZXIgaW5wdXRzIHRoZWlyIGNyZWRlbnRpYWxzIGFuZCBjb25zZW50cywgdGhlIGF1dGhvcml0eSB3aWxsIHNlbmQgYSByZXNwb25zZSB0byB0aGUgcmVkaXJlY3QgVVJJXHJcbiAgICAgKiBzZW50IGluIHRoZSByZXF1ZXN0IGFuZCBzaG91bGQgY29udGFpbiBhbiBhdXRob3JpemF0aW9uIGNvZGUsIHdoaWNoIGNhbiB0aGVuIGJlIHVzZWQgdG8gYWNxdWlyZSB0b2tlbnMgdmlhXHJcbiAgICAgKiBhY3F1aXJlVG9rZW4oQXV0aG9yaXphdGlvbkNvZGVSZXF1ZXN0KVxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgQXV0aG9yaXphdGlvbkNvZGVDbGllbnQucHJvdG90eXBlLmdldEF1dGhDb2RlVXJsID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgcXVlcnlTdHJpbmcgPSB0aGlzLmNyZWF0ZUF1dGhDb2RlVXJsUXVlcnlTdHJpbmcocmVxdWVzdCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgVXJsU3RyaW5nLmFwcGVuZFF1ZXJ5U3RyaW5nKHRoaXMuYXV0aG9yaXR5LmF1dGhvcml6YXRpb25FbmRwb2ludCwgcXVlcnlTdHJpbmcpXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBUEkgdG8gYWNxdWlyZSBhIHRva2VuIGluIGV4Y2hhbmdlIG9mICdhdXRob3JpemF0aW9uX2NvZGVgIGFjcXVpcmVkIGJ5IHRoZSB1c2VyIGluIHRoZSBmaXJzdCBsZWcgb2YgdGhlXHJcbiAgICAgKiBhdXRob3JpemF0aW9uX2NvZGVfZ3JhbnRcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIEF1dGhvcml6YXRpb25Db2RlQ2xpZW50LnByb3RvdHlwZS5hY3F1aXJlVG9rZW4gPSBmdW5jdGlvbiAocmVxdWVzdCwgYXV0aENvZGVQYXlsb2FkKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcmVxVGltZXN0YW1wLCByZXNwb25zZSwgcmVzcG9uc2VIYW5kbGVyO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFwiaW4gYWNxdWlyZVRva2VuIGNhbGxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVxdWVzdCB8fCBTdHJpbmdVdGlscy5pc0VtcHR5KHJlcXVlc3QuY29kZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IENsaWVudEF1dGhFcnJvci5jcmVhdGVUb2tlblJlcXVlc3RDYW5ub3RCZU1hZGVFcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcVRpbWVzdGFtcCA9IFRpbWVVdGlscy5ub3dTZWNvbmRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZXhlY3V0ZVRva2VuUmVxdWVzdCh0aGlzLmF1dGhvcml0eSwgcmVxdWVzdCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSGFuZGxlciA9IG5ldyBSZXNwb25zZUhhbmRsZXIodGhpcy5jb25maWcuYXV0aE9wdGlvbnMuY2xpZW50SWQsIHRoaXMuY2FjaGVNYW5hZ2VyLCB0aGlzLmNyeXB0b1V0aWxzLCB0aGlzLmxvZ2dlciwgdGhpcy5jb25maWcuc2VyaWFsaXphYmxlQ2FjaGUsIHRoaXMuY29uZmlnLnBlcnNpc3RlbmNlUGx1Z2luKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgcmVzcG9uc2UuIFRoaXMgZnVuY3Rpb24gdGhyb3dzIGEgc2VydmVyIGVycm9yIGlmIGFuIGVycm9yIGlzIHJldHVybmVkIGJ5IHRoZSBzZXJ2ZXIuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSGFuZGxlci52YWxpZGF0ZVRva2VuUmVzcG9uc2UocmVzcG9uc2UuYm9keSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlc3BvbnNlSGFuZGxlci5oYW5kbGVTZXJ2ZXJUb2tlblJlc3BvbnNlKHJlc3BvbnNlLmJvZHksIHRoaXMuYXV0aG9yaXR5LCByZXFUaW1lc3RhbXAsIHJlcXVlc3QsIGF1dGhDb2RlUGF5bG9hZCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlcyB0aGUgaGFzaCBmcmFnbWVudCByZXNwb25zZSBmcm9tIHB1YmxpYyBjbGllbnQgY29kZSByZXF1ZXN0LiBSZXR1cm5zIGEgY29kZSByZXNwb25zZSB1c2VkIGJ5XHJcbiAgICAgKiB0aGUgY2xpZW50IHRvIGV4Y2hhbmdlIGZvciBhIHRva2VuIGluIGFjcXVpcmVUb2tlbi5cclxuICAgICAqIEBwYXJhbSBoYXNoRnJhZ21lbnRcclxuICAgICAqL1xyXG4gICAgQXV0aG9yaXphdGlvbkNvZGVDbGllbnQucHJvdG90eXBlLmhhbmRsZUZyYWdtZW50UmVzcG9uc2UgPSBmdW5jdGlvbiAoaGFzaEZyYWdtZW50LCBjYWNoZWRTdGF0ZSkge1xyXG4gICAgICAgIC8vIEhhbmRsZSByZXNwb25zZXMuXHJcbiAgICAgICAgdmFyIHJlc3BvbnNlSGFuZGxlciA9IG5ldyBSZXNwb25zZUhhbmRsZXIodGhpcy5jb25maWcuYXV0aE9wdGlvbnMuY2xpZW50SWQsIHRoaXMuY2FjaGVNYW5hZ2VyLCB0aGlzLmNyeXB0b1V0aWxzLCB0aGlzLmxvZ2dlciwgbnVsbCwgbnVsbCk7XHJcbiAgICAgICAgLy8gRGVzZXJpYWxpemUgaGFzaCBmcmFnbWVudCByZXNwb25zZSBwYXJhbWV0ZXJzLlxyXG4gICAgICAgIHZhciBoYXNoVXJsU3RyaW5nID0gbmV3IFVybFN0cmluZyhoYXNoRnJhZ21lbnQpO1xyXG4gICAgICAgIC8vIERlc2VyaWFsaXplIGhhc2ggZnJhZ21lbnQgcmVzcG9uc2UgcGFyYW1ldGVycy5cclxuICAgICAgICB2YXIgc2VydmVyUGFyYW1zID0gVXJsU3RyaW5nLmdldERlc2VyaWFsaXplZEhhc2goaGFzaFVybFN0cmluZy5nZXRIYXNoKCkpO1xyXG4gICAgICAgIC8vIEdldCBjb2RlIHJlc3BvbnNlXHJcbiAgICAgICAgcmVzcG9uc2VIYW5kbGVyLnZhbGlkYXRlU2VydmVyQXV0aG9yaXphdGlvbkNvZGVSZXNwb25zZShzZXJ2ZXJQYXJhbXMsIGNhY2hlZFN0YXRlLCB0aGlzLmNyeXB0b1V0aWxzKTtcclxuICAgICAgICAvLyB0aHJvdyB3aGVuIHRoZXJlIGlzIG5vIGF1dGggY29kZSBpbiB0aGUgcmVzcG9uc2VcclxuICAgICAgICBpZiAoIXNlcnZlclBhcmFtcy5jb2RlKSB7XHJcbiAgICAgICAgICAgIHRocm93IENsaWVudEF1dGhFcnJvci5jcmVhdGVOb0F1dGhDb2RlSW5TZXJ2ZXJSZXNwb25zZUVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgc2VydmVyUGFyYW1zKSwgeyBcclxuICAgICAgICAgICAgLy8gQ29kZSBwYXJhbSBpcyBvcHRpb25hbCBpbiBTZXJ2ZXJBdXRob3JpemF0aW9uQ29kZVJlc3BvbnNlIGJ1dCByZXF1aXJlZCBpbiBBdXRob3JpemF0aW9uQ29kZVBheWxvZFxyXG4gICAgICAgICAgICBjb2RlOiBzZXJ2ZXJQYXJhbXMuY29kZSB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFVzZWQgdG8gbG9nIG91dCB0aGUgY3VycmVudCB1c2VyLCBhbmQgcmVkaXJlY3QgdGhlIHVzZXIgdG8gdGhlIHBvc3RMb2dvdXRSZWRpcmVjdFVyaS5cclxuICAgICAqIERlZmF1bHQgYmVoYXZpb3VyIGlzIHRvIHJlZGlyZWN0IHRoZSB1c2VyIHRvIGB3aW5kb3cubG9jYXRpb24uaHJlZmAuXHJcbiAgICAgKiBAcGFyYW0gYXV0aG9yaXR5VXJpXHJcbiAgICAgKi9cclxuICAgIEF1dGhvcml6YXRpb25Db2RlQ2xpZW50LnByb3RvdHlwZS5nZXRMb2dvdXRVcmkgPSBmdW5jdGlvbiAobG9nb3V0UmVxdWVzdCkge1xyXG4gICAgICAgIC8vIFRocm93IGVycm9yIGlmIGxvZ291dFJlcXVlc3QgaXMgbnVsbC91bmRlZmluZWRcclxuICAgICAgICBpZiAoIWxvZ291dFJlcXVlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLmNyZWF0ZUVtcHR5TG9nb3V0UmVxdWVzdEVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBxdWVyeVN0cmluZyA9IHRoaXMuY3JlYXRlTG9nb3V0VXJsUXVlcnlTdHJpbmcobG9nb3V0UmVxdWVzdCk7XHJcbiAgICAgICAgLy8gQ29uc3RydWN0IGxvZ291dCBVUkkuXHJcbiAgICAgICAgcmV0dXJuIFVybFN0cmluZy5hcHBlbmRRdWVyeVN0cmluZyh0aGlzLmF1dGhvcml0eS5lbmRTZXNzaW9uRW5kcG9pbnQsIHF1ZXJ5U3RyaW5nKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEV4ZWN1dGVzIFBPU1QgcmVxdWVzdCB0byB0b2tlbiBlbmRwb2ludFxyXG4gICAgICogQHBhcmFtIGF1dGhvcml0eVxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgQXV0aG9yaXphdGlvbkNvZGVDbGllbnQucHJvdG90eXBlLmV4ZWN1dGVUb2tlblJlcXVlc3QgPSBmdW5jdGlvbiAoYXV0aG9yaXR5LCByZXF1ZXN0KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdGh1bWJwcmludCwgcmVxdWVzdEJvZHksIHF1ZXJ5UGFyYW1ldGVycywgY2NzQ3JlZGVudGlhbCwgY2xpZW50SW5mbywgaGVhZGVycywgZW5kcG9pbnQ7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRodW1icHJpbnQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRJZDogdGhpcy5jb25maWcuYXV0aE9wdGlvbnMuY2xpZW50SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRob3JpdHk6IGF1dGhvcml0eS5jYW5vbmljYWxBdXRob3JpdHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZXM6IHJlcXVlc3Quc2NvcGVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhaW1zOiByZXF1ZXN0LmNsYWltcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uU2NoZW1lOiByZXF1ZXN0LmF1dGhlbnRpY2F0aW9uU2NoZW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VSZXF1ZXN0TWV0aG9kOiByZXF1ZXN0LnJlc291cmNlUmVxdWVzdE1ldGhvZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlUmVxdWVzdFVyaTogcmVxdWVzdC5yZXNvdXJjZVJlcXVlc3RVcmksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaHJDbGFpbXM6IHJlcXVlc3Quc2hyQ2xhaW1zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3NoS2lkOiByZXF1ZXN0LnNzaEtpZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmNyZWF0ZVRva2VuUmVxdWVzdEJvZHkocmVxdWVzdCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEJvZHkgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHRoaXMuY3JlYXRlVG9rZW5RdWVyeVBhcmFtZXRlcnMocmVxdWVzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjc0NyZWRlbnRpYWwgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0LmNsaWVudEluZm8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50SW5mbyA9IGJ1aWxkQ2xpZW50SW5mbyhyZXF1ZXN0LmNsaWVudEluZm8sIHRoaXMuY3J5cHRvVXRpbHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNjc0NyZWRlbnRpYWwgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWw6IFwiXCIgKyBjbGllbnRJbmZvLnVpZCArIFNlcGFyYXRvcnMuQ0xJRU5UX0lORk9fU0VQQVJBVE9SICsgY2xpZW50SW5mby51dGlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBDY3NDcmVkZW50aWFsVHlwZS5IT01FX0FDQ09VTlRfSURcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiQ291bGQgbm90IHBhcnNlIGNsaWVudCBpbmZvIGZvciBDQ1MgSGVhZGVyOiBcIiArIGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnMgPSB0aGlzLmNyZWF0ZVRva2VuUmVxdWVzdEhlYWRlcnMoY2NzQ3JlZGVudGlhbCB8fCByZXF1ZXN0LmNjc0NyZWRlbnRpYWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRwb2ludCA9IFN0cmluZ1V0aWxzLmlzRW1wdHkocXVlcnlQYXJhbWV0ZXJzKSA/IGF1dGhvcml0eS50b2tlbkVuZHBvaW50IDogYXV0aG9yaXR5LnRva2VuRW5kcG9pbnQgKyBcIj9cIiArIHF1ZXJ5UGFyYW1ldGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuZXhlY3V0ZVBvc3RUb1Rva2VuRW5kcG9pbnQoZW5kcG9pbnQsIHJlcXVlc3RCb2R5LCBoZWFkZXJzLCB0aHVtYnByaW50KV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBxdWVyeSBzdHJpbmcgZm9yIHRoZSAvdG9rZW4gcmVxdWVzdFxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgQXV0aG9yaXphdGlvbkNvZGVDbGllbnQucHJvdG90eXBlLmNyZWF0ZVRva2VuUXVlcnlQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuICAgICAgICB2YXIgcGFyYW1ldGVyQnVpbGRlciA9IG5ldyBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlcigpO1xyXG4gICAgICAgIGlmIChyZXF1ZXN0LnRva2VuUXVlcnlQYXJhbWV0ZXJzKSB7XHJcbiAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkRXh0cmFRdWVyeVBhcmFtZXRlcnMocmVxdWVzdC50b2tlblF1ZXJ5UGFyYW1ldGVycyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwYXJhbWV0ZXJCdWlsZGVyLmNyZWF0ZVF1ZXJ5U3RyaW5nKCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZXMgYSBtYXAgZm9yIGFsbCB0aGUgcGFyYW1zIHRvIGJlIHNlbnQgdG8gdGhlIHNlcnZpY2VcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIEF1dGhvcml6YXRpb25Db2RlQ2xpZW50LnByb3RvdHlwZS5jcmVhdGVUb2tlblJlcXVlc3RCb2R5ID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJhbWV0ZXJCdWlsZGVyLCBjbGllbnRBc3NlcnRpb24sIHBvcFRva2VuR2VuZXJhdG9yLCBjbmZTdHJpbmcsIGNvcnJlbGF0aW9uSWQsIGNjc0NyZWQsIGNsaWVudEluZm8sIGNsaWVudEluZm87XHJcbiAgICAgICAgICAgIHZhciBfYTtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlciA9IG5ldyBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZENsaWVudElkKHRoaXMuY29uZmlnLmF1dGhPcHRpb25zLmNsaWVudElkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAgICAgICAgICogRm9yIGh5YnJpZCBzcGEgZmxvdywgdGhlcmUgd2lsbCBiZSBhIGNvZGUgYnV0IG5vIHZlcmlmaWVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEluIHRoaXMgc2NlbmFyaW8sIGRvbid0IGluY2x1ZGUgcmVkaXJlY3QgdXJpIGFzIGF1dGggY29kZSB3aWxsIG5vdCBiZSBib3VuZCB0byByZWRpcmVjdCBVUklcclxuICAgICAgICAgICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pbmNsdWRlUmVkaXJlY3RVcmkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEp1c3QgdmFsaWRhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVlc3RWYWxpZGF0b3IudmFsaWRhdGVSZWRpcmVjdFVyaShyZXF1ZXN0LnJlZGlyZWN0VXJpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIGFuZCBpbmNsdWRlIHJlZGlyZWN0IHVyaVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRSZWRpcmVjdFVyaShyZXF1ZXN0LnJlZGlyZWN0VXJpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgc2NvcGUgYXJyYXksIHBhcmFtZXRlciBidWlsZGVyIHdpbGwgYWRkIGRlZmF1bHQgc2NvcGVzIGFuZCBkZWR1cGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRTY29wZXMocmVxdWVzdC5zY29wZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgY29kZTogdXNlciBzZXQsIG5vdCB2YWxpZGF0ZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRBdXRob3JpemF0aW9uQ29kZShyZXF1ZXN0LmNvZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgbGlicmFyeSBtZXRhZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZExpYnJhcnlJbmZvKHRoaXMuY29uZmlnLmxpYnJhcnlJbmZvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRUaHJvdHRsaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlcnZlclRlbGVtZXRyeU1hbmFnZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkU2VydmVyVGVsZW1ldHJ5KHRoaXMuc2VydmVyVGVsZW1ldHJ5TWFuYWdlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGNvZGVfdmVyaWZpZXIgaWYgcGFzc2VkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0LmNvZGVWZXJpZmllcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRDb2RlVmVyaWZpZXIocmVxdWVzdC5jb2RlVmVyaWZpZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5jbGllbnRDcmVkZW50aWFscy5jbGllbnRTZWNyZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkQ2xpZW50U2VjcmV0KHRoaXMuY29uZmlnLmNsaWVudENyZWRlbnRpYWxzLmNsaWVudFNlY3JldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLmNsaWVudENyZWRlbnRpYWxzLmNsaWVudEFzc2VydGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50QXNzZXJ0aW9uID0gdGhpcy5jb25maWcuY2xpZW50Q3JlZGVudGlhbHMuY2xpZW50QXNzZXJ0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRDbGllbnRBc3NlcnRpb24oY2xpZW50QXNzZXJ0aW9uLmFzc2VydGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZENsaWVudEFzc2VydGlvblR5cGUoY2xpZW50QXNzZXJ0aW9uLmFzc2VydGlvblR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkR3JhbnRUeXBlKEdyYW50VHlwZS5BVVRIT1JJWkFUSU9OX0NPREVfR1JBTlQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZENsaWVudEluZm8oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVxdWVzdC5hdXRoZW50aWNhdGlvblNjaGVtZSA9PT0gQXV0aGVudGljYXRpb25TY2hlbWUuUE9QKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcFRva2VuR2VuZXJhdG9yID0gbmV3IFBvcFRva2VuR2VuZXJhdG9yKHRoaXMuY3J5cHRvVXRpbHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBwb3BUb2tlbkdlbmVyYXRvci5nZW5lcmF0ZUNuZihyZXF1ZXN0KV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbmZTdHJpbmcgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkUG9wVG9rZW4oY25mU3RyaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC5hdXRoZW50aWNhdGlvblNjaGVtZSA9PT0gQXV0aGVudGljYXRpb25TY2hlbWUuU1NIKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC5zc2hKd2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZFNzaEp3ayhyZXF1ZXN0LnNzaEp3ayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IuY3JlYXRlTWlzc2luZ1NzaEp3a0Vycm9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAzO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVsYXRpb25JZCA9IHJlcXVlc3QuY29ycmVsYXRpb25JZCB8fCB0aGlzLmNvbmZpZy5jcnlwdG9JbnRlcmZhY2UuY3JlYXRlTmV3R3VpZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZENvcnJlbGF0aW9uSWQoY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghU3RyaW5nVXRpbHMuaXNFbXB0eU9iaihyZXF1ZXN0LmNsYWltcykgfHwgdGhpcy5jb25maWcuYXV0aE9wdGlvbnMuY2xpZW50Q2FwYWJpbGl0aWVzICYmIHRoaXMuY29uZmlnLmF1dGhPcHRpb25zLmNsaWVudENhcGFiaWxpdGllcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZENsYWltcyhyZXF1ZXN0LmNsYWltcywgdGhpcy5jb25maWcuYXV0aE9wdGlvbnMuY2xpZW50Q2FwYWJpbGl0aWVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjY3NDcmVkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC5jbGllbnRJbmZvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudEluZm8gPSBidWlsZENsaWVudEluZm8ocmVxdWVzdC5jbGllbnRJbmZvLCB0aGlzLmNyeXB0b1V0aWxzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjY3NDcmVkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsOiBcIlwiICsgY2xpZW50SW5mby51aWQgKyBTZXBhcmF0b3JzLkNMSUVOVF9JTkZPX1NFUEFSQVRPUiArIGNsaWVudEluZm8udXRpZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQ2NzQ3JlZGVudGlhbFR5cGUuSE9NRV9BQ0NPVU5UX0lEXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIkNvdWxkIG5vdCBwYXJzZSBjbGllbnQgaW5mbyBmb3IgQ0NTIEhlYWRlcjogXCIgKyBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNjc0NyZWQgPSByZXF1ZXN0LmNjc0NyZWRlbnRpYWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkcyB0aGVzZSBhcyBwYXJhbWV0ZXJzIGluIHRoZSByZXF1ZXN0IGluc3RlYWQgb2YgaGVhZGVycyB0byBwcmV2ZW50IENPUlMgcHJlZmxpZ2h0IHJlcXVlc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLnN5c3RlbU9wdGlvbnMucHJldmVudENvcnNQcmVmbGlnaHQgJiYgY2NzQ3JlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjY3NDcmVkLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENjc0NyZWRlbnRpYWxUeXBlLkhPTUVfQUNDT1VOVF9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudEluZm8gPSBidWlsZENsaWVudEluZm9Gcm9tSG9tZUFjY291bnRJZChjY3NDcmVkLmNyZWRlbnRpYWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRDY3NPaWQoY2xpZW50SW5mbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJDb3VsZCBub3QgcGFyc2UgaG9tZSBhY2NvdW50IElEIGZvciBDQ1MgSGVhZGVyOiBcIiArIGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ2NzQ3JlZGVudGlhbFR5cGUuVVBOOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZENjc1VwbihjY3NDcmVkLmNyZWRlbnRpYWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC50b2tlbkJvZHlQYXJhbWV0ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZEV4dHJhUXVlcnlQYXJhbWV0ZXJzKHJlcXVlc3QudG9rZW5Cb2R5UGFyYW1ldGVycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGh5YnJpZCBzcGEgcGFyYW1ldGVycyBpZiBub3QgYWxyZWFkeSBwcm92aWRlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC5lbmFibGVTcGFBdXRob3JpemF0aW9uQ29kZSAmJiAoIXJlcXVlc3QudG9rZW5Cb2R5UGFyYW1ldGVycyB8fCAhcmVxdWVzdC50b2tlbkJvZHlQYXJhbWV0ZXJzW0FBRFNlcnZlclBhcmFtS2V5cy5SRVRVUk5fU1BBX0NPREVdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRFeHRyYVF1ZXJ5UGFyYW1ldGVycygoX2EgPSB7fSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYVtBQURTZXJ2ZXJQYXJhbUtleXMuUkVUVVJOX1NQQV9DT0RFXSA9IFwiMVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHBhcmFtZXRlckJ1aWxkZXIuY3JlYXRlUXVlcnlTdHJpbmcoKV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBBUEkgdmFsaWRhdGVzIHRoZSBgQXV0aG9yaXphdGlvbkNvZGVVcmxSZXF1ZXN0YCBhbmQgY3JlYXRlcyBhIFVSTFxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgQXV0aG9yaXphdGlvbkNvZGVDbGllbnQucHJvdG90eXBlLmNyZWF0ZUF1dGhDb2RlVXJsUXVlcnlTdHJpbmcgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xyXG4gICAgICAgIHZhciBwYXJhbWV0ZXJCdWlsZGVyID0gbmV3IFJlcXVlc3RQYXJhbWV0ZXJCdWlsZGVyKCk7XHJcbiAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRDbGllbnRJZCh0aGlzLmNvbmZpZy5hdXRoT3B0aW9ucy5jbGllbnRJZCk7XHJcbiAgICAgICAgdmFyIHJlcXVlc3RTY29wZXMgPSBfX3NwcmVhZEFycmF5cyhyZXF1ZXN0LnNjb3BlcyB8fCBbXSwgcmVxdWVzdC5leHRyYVNjb3Blc1RvQ29uc2VudCB8fCBbXSk7XHJcbiAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRTY29wZXMocmVxdWVzdFNjb3Blcyk7XHJcbiAgICAgICAgLy8gdmFsaWRhdGUgdGhlIHJlZGlyZWN0VXJpICh0byBiZSBhIG5vbiBudWxsIHZhbHVlKVxyXG4gICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkUmVkaXJlY3RVcmkocmVxdWVzdC5yZWRpcmVjdFVyaSk7XHJcbiAgICAgICAgLy8gZ2VuZXJhdGUgdGhlIGNvcnJlbGF0aW9uSWQgaWYgbm90IHNldCBieSB0aGUgdXNlciBhbmQgYWRkXHJcbiAgICAgICAgdmFyIGNvcnJlbGF0aW9uSWQgPSByZXF1ZXN0LmNvcnJlbGF0aW9uSWQgfHwgdGhpcy5jb25maWcuY3J5cHRvSW50ZXJmYWNlLmNyZWF0ZU5ld0d1aWQoKTtcclxuICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZENvcnJlbGF0aW9uSWQoY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgLy8gYWRkIHJlc3BvbnNlX21vZGUuIElmIG5vdCBwYXNzZWQgaW4gaXQgZGVmYXVsdHMgdG8gcXVlcnkuXHJcbiAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRSZXNwb25zZU1vZGUocmVxdWVzdC5yZXNwb25zZU1vZGUpO1xyXG4gICAgICAgIC8vIGFkZCByZXNwb25zZV90eXBlID0gY29kZVxyXG4gICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkUmVzcG9uc2VUeXBlQ29kZSgpO1xyXG4gICAgICAgIC8vIGFkZCBsaWJyYXJ5IGluZm8gcGFyYW1ldGVyc1xyXG4gICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkTGlicmFyeUluZm8odGhpcy5jb25maWcubGlicmFyeUluZm8pO1xyXG4gICAgICAgIC8vIGFkZCBjbGllbnRfaW5mbz0xXHJcbiAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRDbGllbnRJbmZvKCk7XHJcbiAgICAgICAgaWYgKHJlcXVlc3QuY29kZUNoYWxsZW5nZSAmJiByZXF1ZXN0LmNvZGVDaGFsbGVuZ2VNZXRob2QpIHtcclxuICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRDb2RlQ2hhbGxlbmdlUGFyYW1zKHJlcXVlc3QuY29kZUNoYWxsZW5nZSwgcmVxdWVzdC5jb2RlQ2hhbGxlbmdlTWV0aG9kKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlcXVlc3QucHJvbXB0KSB7XHJcbiAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkUHJvbXB0KHJlcXVlc3QucHJvbXB0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlcXVlc3QuZG9tYWluSGludCkge1xyXG4gICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZERvbWFpbkhpbnQocmVxdWVzdC5kb21haW5IaW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQWRkIHNpZCBvciBsb2dpbkhpbnQgd2l0aCBwcmVmZXJlbmNlIGZvciBzaWQgLT4gbG9naW5IaW50IC0+IHVzZXJuYW1lIG9mIEFjY291bnRJbmZvIG9iamVjdFxyXG4gICAgICAgIGlmIChyZXF1ZXN0LnByb21wdCAhPT0gUHJvbXB0VmFsdWUuU0VMRUNUX0FDQ09VTlQpIHtcclxuICAgICAgICAgICAgLy8gQUFEIHdpbGwgdGhyb3cgaWYgcHJvbXB0PXNlbGVjdF9hY2NvdW50IGlzIHBhc3NlZCB3aXRoIGFuIGFjY291bnQgaGludFxyXG4gICAgICAgICAgICBpZiAocmVxdWVzdC5zaWQgJiYgcmVxdWVzdC5wcm9tcHQgPT09IFByb21wdFZhbHVlLk5PTkUpIHtcclxuICAgICAgICAgICAgICAgIC8vIFNlc3Npb25JRCBpcyBvbmx5IHVzZWQgaW4gc2lsZW50IGNhbGxzXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiY3JlYXRlQXV0aENvZGVVcmxRdWVyeVN0cmluZzogUHJvbXB0IGlzIG5vbmUsIGFkZGluZyBzaWQgZnJvbSByZXF1ZXN0XCIpO1xyXG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRTaWQocmVxdWVzdC5zaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHJlcXVlc3QuYWNjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFjY291bnRTaWQgPSB0aGlzLmV4dHJhY3RBY2NvdW50U2lkKHJlcXVlc3QuYWNjb3VudCk7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiBhY2NvdW50IGFuZCBsb2dpbkhpbnQgYXJlIHByb3ZpZGVkLCB3ZSB3aWxsIGNoZWNrIGFjY291bnQgZmlyc3QgZm9yIHNpZCBiZWZvcmUgYWRkaW5nIGxvZ2luSGludFxyXG4gICAgICAgICAgICAgICAgaWYgKGFjY291bnRTaWQgJiYgcmVxdWVzdC5wcm9tcHQgPT09IFByb21wdFZhbHVlLk5PTkUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBTZXNzaW9uSWQgaXMgb25seSB1c2VkIGluIHNpbGVudCBjYWxsc1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJjcmVhdGVBdXRoQ29kZVVybFF1ZXJ5U3RyaW5nOiBQcm9tcHQgaXMgbm9uZSwgYWRkaW5nIHNpZCBmcm9tIGFjY291bnRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRTaWQoYWNjb3VudFNpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNsaWVudEluZm8gPSBidWlsZENsaWVudEluZm9Gcm9tSG9tZUFjY291bnRJZChyZXF1ZXN0LmFjY291bnQuaG9tZUFjY291bnRJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkQ2NzT2lkKGNsaWVudEluZm8pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiQ291bGQgbm90IHBhcnNlIGhvbWUgYWNjb3VudCBJRCBmb3IgQ0NTIEhlYWRlcjogXCIgKyBlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXF1ZXN0LmxvZ2luSGludCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJjcmVhdGVBdXRoQ29kZVVybFF1ZXJ5U3RyaW5nOiBBZGRpbmcgbG9naW5faGludCBmcm9tIHJlcXVlc3RcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRMb2dpbkhpbnQocmVxdWVzdC5sb2dpbkhpbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkQ2NzVXBuKHJlcXVlc3QubG9naW5IaW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlcXVlc3QuYWNjb3VudC51c2VybmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGFjY291bnQgdXNlcm5hbWUgaWYgcHJvdmlkZWRcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiY3JlYXRlQXV0aENvZGVVcmxRdWVyeVN0cmluZzogQWRkaW5nIGxvZ2luX2hpbnQgZnJvbSBhY2NvdW50XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkTG9naW5IaW50KHJlcXVlc3QuYWNjb3VudC51c2VybmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNsaWVudEluZm8gPSBidWlsZENsaWVudEluZm9Gcm9tSG9tZUFjY291bnRJZChyZXF1ZXN0LmFjY291bnQuaG9tZUFjY291bnRJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkQ2NzT2lkKGNsaWVudEluZm8pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiQ291bGQgbm90IHBhcnNlIGhvbWUgYWNjb3VudCBJRCBmb3IgQ0NTIEhlYWRlcjogXCIgKyBlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAocmVxdWVzdC5sb2dpbkhpbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJjcmVhdGVBdXRoQ29kZVVybFF1ZXJ5U3RyaW5nOiBObyBhY2NvdW50LCBhZGRpbmcgbG9naW5faGludCBmcm9tIHJlcXVlc3RcIik7XHJcbiAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZExvZ2luSGludChyZXF1ZXN0LmxvZ2luSGludCk7XHJcbiAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZENjc1VwbihyZXF1ZXN0LmxvZ2luSGludCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJjcmVhdGVBdXRoQ29kZVVybFF1ZXJ5U3RyaW5nOiBQcm9tcHQgaXMgc2VsZWN0X2FjY291bnQsIGlnbm9yaW5nIGFjY291bnQgaGludHNcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZXF1ZXN0Lm5vbmNlKSB7XHJcbiAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkTm9uY2UocmVxdWVzdC5ub25jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZXF1ZXN0LnN0YXRlKSB7XHJcbiAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkU3RhdGUocmVxdWVzdC5zdGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghU3RyaW5nVXRpbHMuaXNFbXB0eShyZXF1ZXN0LmNsYWltcykgfHwgdGhpcy5jb25maWcuYXV0aE9wdGlvbnMuY2xpZW50Q2FwYWJpbGl0aWVzICYmIHRoaXMuY29uZmlnLmF1dGhPcHRpb25zLmNsaWVudENhcGFiaWxpdGllcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkQ2xhaW1zKHJlcXVlc3QuY2xhaW1zLCB0aGlzLmNvbmZpZy5hdXRoT3B0aW9ucy5jbGllbnRDYXBhYmlsaXRpZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVxdWVzdC5leHRyYVF1ZXJ5UGFyYW1ldGVycykge1xyXG4gICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZEV4dHJhUXVlcnlQYXJhbWV0ZXJzKHJlcXVlc3QuZXh0cmFRdWVyeVBhcmFtZXRlcnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGFyYW1ldGVyQnVpbGRlci5jcmVhdGVRdWVyeVN0cmluZygpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBBUEkgdmFsaWRhdGVzIHRoZSBgRW5kU2Vzc2lvblJlcXVlc3RgIGFuZCBjcmVhdGVzIGEgVVJMXHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBBdXRob3JpemF0aW9uQ29kZUNsaWVudC5wcm90b3R5cGUuY3JlYXRlTG9nb3V0VXJsUXVlcnlTdHJpbmcgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xyXG4gICAgICAgIHZhciBwYXJhbWV0ZXJCdWlsZGVyID0gbmV3IFJlcXVlc3RQYXJhbWV0ZXJCdWlsZGVyKCk7XHJcbiAgICAgICAgaWYgKHJlcXVlc3QucG9zdExvZ291dFJlZGlyZWN0VXJpKSB7XHJcbiAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkUG9zdExvZ291dFJlZGlyZWN0VXJpKHJlcXVlc3QucG9zdExvZ291dFJlZGlyZWN0VXJpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlcXVlc3QuY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZENvcnJlbGF0aW9uSWQocmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlcXVlc3QuaWRUb2tlbkhpbnQpIHtcclxuICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRJZFRva2VuSGludChyZXF1ZXN0LmlkVG9rZW5IaW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlcXVlc3Quc3RhdGUpIHtcclxuICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRTdGF0ZShyZXF1ZXN0LnN0YXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlcXVlc3QubG9nb3V0SGludCkge1xyXG4gICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZExvZ291dEhpbnQocmVxdWVzdC5sb2dvdXRIaW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlcXVlc3QuZXh0cmFRdWVyeVBhcmFtZXRlcnMpIHtcclxuICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRFeHRyYVF1ZXJ5UGFyYW1ldGVycyhyZXF1ZXN0LmV4dHJhUXVlcnlQYXJhbWV0ZXJzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhcmFtZXRlckJ1aWxkZXIuY3JlYXRlUXVlcnlTdHJpbmcoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciB0byBnZXQgc2lkIGZyb20gYWNjb3VudC4gUmV0dXJucyBudWxsIGlmIGlkVG9rZW5DbGFpbXMgYXJlIG5vdCBwcmVzZW50IG9yIHNpZCBpcyBub3QgcHJlc2VudC5cclxuICAgICAqIEBwYXJhbSBhY2NvdW50XHJcbiAgICAgKi9cclxuICAgIEF1dGhvcml6YXRpb25Db2RlQ2xpZW50LnByb3RvdHlwZS5leHRyYWN0QWNjb3VudFNpZCA9IGZ1bmN0aW9uIChhY2NvdW50KSB7XHJcbiAgICAgICAgaWYgKGFjY291bnQuaWRUb2tlbkNsYWltcykge1xyXG4gICAgICAgICAgICB2YXIgdG9rZW5DbGFpbXMgPSBhY2NvdW50LmlkVG9rZW5DbGFpbXM7XHJcbiAgICAgICAgICAgIHJldHVybiB0b2tlbkNsYWltcy5zaWQgfHwgbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEF1dGhvcml6YXRpb25Db2RlQ2xpZW50O1xyXG59KEJhc2VDbGllbnQpKTtcblxuZXhwb3J0IHsgQXV0aG9yaXphdGlvbkNvZGVDbGllbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUF1dGhvcml6YXRpb25Db2RlQ2xpZW50LmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2Ni4xLjAgMjAyMi0wMi0wOCAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgX19leHRlbmRzLCBfX2F3YWl0ZXIsIF9fZ2VuZXJhdG9yLCBfX2Fzc2lnbiB9IGZyb20gJy4uL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgeyBCYXNlQ2xpZW50IH0gZnJvbSAnLi9CYXNlQ2xpZW50LmpzJztcbmltcG9ydCB7IFJlcXVlc3RQYXJhbWV0ZXJCdWlsZGVyIH0gZnJvbSAnLi4vcmVxdWVzdC9SZXF1ZXN0UGFyYW1ldGVyQnVpbGRlci5qcyc7XG5pbXBvcnQgeyBBdXRoZW50aWNhdGlvblNjaGVtZSwgR3JhbnRUeXBlLCBFcnJvcnMgfSBmcm9tICcuLi91dGlscy9Db25zdGFudHMuanMnO1xuaW1wb3J0IHsgUmVzcG9uc2VIYW5kbGVyIH0gZnJvbSAnLi4vcmVzcG9uc2UvUmVzcG9uc2VIYW5kbGVyLmpzJztcbmltcG9ydCB7IFBvcFRva2VuR2VuZXJhdG9yIH0gZnJvbSAnLi4vY3J5cHRvL1BvcFRva2VuR2VuZXJhdG9yLmpzJztcbmltcG9ydCB7IFN0cmluZ1V0aWxzIH0gZnJvbSAnLi4vdXRpbHMvU3RyaW5nVXRpbHMuanMnO1xuaW1wb3J0IHsgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLmpzJztcbmltcG9ydCB7IENsaWVudEF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0NsaWVudEF1dGhFcnJvci5qcyc7XG5pbXBvcnQgeyBTZXJ2ZXJFcnJvciB9IGZyb20gJy4uL2Vycm9yL1NlcnZlckVycm9yLmpzJztcbmltcG9ydCB7IFRpbWVVdGlscyB9IGZyb20gJy4uL3V0aWxzL1RpbWVVdGlscy5qcyc7XG5pbXBvcnQgeyBVcmxTdHJpbmcgfSBmcm9tICcuLi91cmwvVXJsU3RyaW5nLmpzJztcbmltcG9ydCB7IENjc0NyZWRlbnRpYWxUeXBlIH0gZnJvbSAnLi4vYWNjb3VudC9DY3NDcmVkZW50aWFsLmpzJztcbmltcG9ydCB7IGJ1aWxkQ2xpZW50SW5mb0Zyb21Ib21lQWNjb3VudElkIH0gZnJvbSAnLi4vYWNjb3VudC9DbGllbnRJbmZvLmpzJztcbmltcG9ydCB7IEludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3IsIEludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3JNZXNzYWdlIH0gZnJvbSAnLi4vZXJyb3IvSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvci5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogT0F1dGgyLjAgcmVmcmVzaCB0b2tlbiBjbGllbnRcclxuICovXHJcbnZhciBSZWZyZXNoVG9rZW5DbGllbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUmVmcmVzaFRva2VuQ2xpZW50LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUmVmcmVzaFRva2VuQ2xpZW50KGNvbmZpZ3VyYXRpb24pIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgY29uZmlndXJhdGlvbikgfHwgdGhpcztcclxuICAgIH1cclxuICAgIFJlZnJlc2hUb2tlbkNsaWVudC5wcm90b3R5cGUuYWNxdWlyZVRva2VuID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByZXFUaW1lc3RhbXAsIHJlc3BvbnNlLCByZXNwb25zZUhhbmRsZXI7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcVRpbWVzdGFtcCA9IFRpbWVVdGlscy5ub3dTZWNvbmRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZXhlY3V0ZVRva2VuUmVxdWVzdChyZXF1ZXN0LCB0aGlzLmF1dGhvcml0eSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSGFuZGxlciA9IG5ldyBSZXNwb25zZUhhbmRsZXIodGhpcy5jb25maWcuYXV0aE9wdGlvbnMuY2xpZW50SWQsIHRoaXMuY2FjaGVNYW5hZ2VyLCB0aGlzLmNyeXB0b1V0aWxzLCB0aGlzLmxvZ2dlciwgdGhpcy5jb25maWcuc2VyaWFsaXphYmxlQ2FjaGUsIHRoaXMuY29uZmlnLnBlcnNpc3RlbmNlUGx1Z2luKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VIYW5kbGVyLnZhbGlkYXRlVG9rZW5SZXNwb25zZShyZXNwb25zZS5ib2R5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlc3BvbnNlSGFuZGxlci5oYW5kbGVTZXJ2ZXJUb2tlblJlc3BvbnNlKHJlc3BvbnNlLmJvZHksIHRoaXMuYXV0aG9yaXR5LCByZXFUaW1lc3RhbXAsIHJlcXVlc3QsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0cnVlKV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBjYWNoZWQgcmVmcmVzaCB0b2tlbiBhbmQgYXR0YWNoZXMgdG8gcmVxdWVzdCwgdGhlbiBjYWxscyBhY3F1aXJlVG9rZW4gQVBJXHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBSZWZyZXNoVG9rZW5DbGllbnQucHJvdG90eXBlLmFjcXVpcmVUb2tlbkJ5UmVmcmVzaFRva2VuID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBpc0ZPQ0ksIG5vRmFtaWx5UlRJbkNhY2hlLCBjbGllbnRNaXNtYXRjaEVycm9yV2l0aEZhbWlseVJUO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDYW5ub3QgcmVuZXcgdG9rZW4gaWYgbm8gcmVxdWVzdCBvYmplY3QgaXMgZ2l2ZW4uXHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlcXVlc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IuY3JlYXRlRW1wdHlUb2tlblJlcXVlc3RFcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gV2UgY3VycmVudGx5IGRvIG5vdCBzdXBwb3J0IHNpbGVudCBmbG93IGZvciBhY2NvdW50ID09PSBudWxsIHVzZSBjYXNlczsgVGhpcyB3aWxsIGJlIHJldmlzaXRlZCBmb3IgY29uZmlkZW50aWFsIGZsb3cgdXNlY2FzZXNcclxuICAgICAgICAgICAgICAgIGlmICghcmVxdWVzdC5hY2NvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZU5vQWNjb3VudEluU2lsZW50UmVxdWVzdEVycm9yKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpc0ZPQ0kgPSB0aGlzLmNhY2hlTWFuYWdlci5pc0FwcE1ldGFkYXRhRk9DSShyZXF1ZXN0LmFjY291bnQuZW52aXJvbm1lbnQsIHRoaXMuY29uZmlnLmF1dGhPcHRpb25zLmNsaWVudElkKTtcclxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBhcHAgaXMgcGFydCBvZiB0aGUgZmFtaWx5LCByZXRyaXZlIGEgRmFtaWx5IHJlZnJlc2ggdG9rZW4gaWYgcHJlc2VudCBhbmQgbWFrZSBhIHJlZnJlc2hUb2tlblJlcXVlc3RcclxuICAgICAgICAgICAgICAgIGlmIChpc0ZPQ0kpIHtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5hY3F1aXJlVG9rZW5XaXRoQ2FjaGVkUmVmcmVzaFRva2VuKHJlcXVlc3QsIHRydWUpXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9GYW1pbHlSVEluQ2FjaGUgPSBlIGluc3RhbmNlb2YgSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvciAmJiBlLmVycm9yQ29kZSA9PT0gSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvck1lc3NhZ2Uubm9Ub2tlbnNGb3VuZEVycm9yLmNvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudE1pc21hdGNoRXJyb3JXaXRoRmFtaWx5UlQgPSBlIGluc3RhbmNlb2YgU2VydmVyRXJyb3IgJiYgZS5lcnJvckNvZGUgPT09IEVycm9ycy5JTlZBTElEX0dSQU5UX0VSUk9SICYmIGUuc3ViRXJyb3IgPT09IEVycm9ycy5DTElFTlRfTUlTTUFUQ0hfRVJST1I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGZhbWlseSBSZWZyZXNoIFRva2VuIChGUlQpIGNhY2hlIGFjcXVpc2l0aW9uIGZhaWxzIG9yIGlmIGNsaWVudF9taXNtYXRjaCBlcnJvciBpcyBzZWVuIHdpdGggRlJULCByZWF0dGVtcHQgd2l0aCBhcHBsaWNhdGlvbiBSZWZyZXNoIFRva2VuIChBUlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub0ZhbWlseVJUSW5DYWNoZSB8fCBjbGllbnRNaXNtYXRjaEVycm9yV2l0aEZhbWlseVJUKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5hY3F1aXJlVG9rZW5XaXRoQ2FjaGVkUmVmcmVzaFRva2VuKHJlcXVlc3QsIGZhbHNlKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aHJvdyBpbiBhbGwgb3RoZXIgY2FzZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBmYWxsIGJhY2sgdG8gYXBwbGljYXRpb24gcmVmcmVzaCB0b2tlbiBhY3F1aXNpdGlvblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuYWNxdWlyZVRva2VuV2l0aENhY2hlZFJlZnJlc2hUb2tlbihyZXF1ZXN0LCBmYWxzZSldO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIG1ha2VzIGEgbmV0d29yayBjYWxsIHRvIGFjcXVpcmUgdG9rZW5zIGJ5IGV4Y2hhbmdpbmcgUmVmcmVzaFRva2VuIGF2YWlsYWJsZSBpbiB1c2VyQ2FjaGU7IHRocm93cyBpZiByZWZyZXNoIHRva2VuIGlzIG5vdCBjYWNoZWRcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIFJlZnJlc2hUb2tlbkNsaWVudC5wcm90b3R5cGUuYWNxdWlyZVRva2VuV2l0aENhY2hlZFJlZnJlc2hUb2tlbiA9IGZ1bmN0aW9uIChyZXF1ZXN0LCBmb2NpKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcmVmcmVzaFRva2VuLCByZWZyZXNoVG9rZW5SZXF1ZXN0O1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICByZWZyZXNoVG9rZW4gPSB0aGlzLmNhY2hlTWFuYWdlci5yZWFkUmVmcmVzaFRva2VuRnJvbUNhY2hlKHRoaXMuY29uZmlnLmF1dGhPcHRpb25zLmNsaWVudElkLCByZXF1ZXN0LmFjY291bnQsIGZvY2kpO1xyXG4gICAgICAgICAgICAgICAgLy8gbm8gcmVmcmVzaCBUb2tlblxyXG4gICAgICAgICAgICAgICAgaWYgKCFyZWZyZXNoVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yLmNyZWF0ZU5vVG9rZW5zRm91bmRFcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVmcmVzaFRva2VuUmVxdWVzdCA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCByZXF1ZXN0KSwgeyByZWZyZXNoVG9rZW46IHJlZnJlc2hUb2tlbi5zZWNyZXQsIGF1dGhlbnRpY2F0aW9uU2NoZW1lOiByZXF1ZXN0LmF1dGhlbnRpY2F0aW9uU2NoZW1lIHx8IEF1dGhlbnRpY2F0aW9uU2NoZW1lLkJFQVJFUiwgY2NzQ3JlZGVudGlhbDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsOiByZXF1ZXN0LmFjY291bnQuaG9tZUFjY291bnRJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQ2NzQ3JlZGVudGlhbFR5cGUuSE9NRV9BQ0NPVU5UX0lEXHJcbiAgICAgICAgICAgICAgICAgICAgfSB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLmFjcXVpcmVUb2tlbihyZWZyZXNoVG9rZW5SZXF1ZXN0KV07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0cyB0aGUgbmV0d29yayBtZXNzYWdlIGFuZCBtYWtlcyBhIE5XIGNhbGwgdG8gdGhlIHVuZGVybHlpbmcgc2VjdXJlIHRva2VuIHNlcnZpY2VcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKiBAcGFyYW0gYXV0aG9yaXR5XHJcbiAgICAgKi9cclxuICAgIFJlZnJlc2hUb2tlbkNsaWVudC5wcm90b3R5cGUuZXhlY3V0ZVRva2VuUmVxdWVzdCA9IGZ1bmN0aW9uIChyZXF1ZXN0LCBhdXRob3JpdHkpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByZXF1ZXN0Qm9keSwgcXVlcnlQYXJhbWV0ZXJzLCBoZWFkZXJzLCB0aHVtYnByaW50LCBlbmRwb2ludDtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5jcmVhdGVUb2tlblJlcXVlc3RCb2R5KHJlcXVlc3QpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RCb2R5ID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmNyZWF0ZVRva2VuUXVlcnlQYXJhbWV0ZXJzKHJlcXVlc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzID0gdGhpcy5jcmVhdGVUb2tlblJlcXVlc3RIZWFkZXJzKHJlcXVlc3QuY2NzQ3JlZGVudGlhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRodW1icHJpbnQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRJZDogdGhpcy5jb25maWcuYXV0aE9wdGlvbnMuY2xpZW50SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRob3JpdHk6IGF1dGhvcml0eS5jYW5vbmljYWxBdXRob3JpdHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZXM6IHJlcXVlc3Quc2NvcGVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhaW1zOiByZXF1ZXN0LmNsYWltcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uU2NoZW1lOiByZXF1ZXN0LmF1dGhlbnRpY2F0aW9uU2NoZW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VSZXF1ZXN0TWV0aG9kOiByZXF1ZXN0LnJlc291cmNlUmVxdWVzdE1ldGhvZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlUmVxdWVzdFVyaTogcmVxdWVzdC5yZXNvdXJjZVJlcXVlc3RVcmksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaHJDbGFpbXM6IHJlcXVlc3Quc2hyQ2xhaW1zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3NoS2lkOiByZXF1ZXN0LnNzaEtpZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRwb2ludCA9IFVybFN0cmluZy5hcHBlbmRRdWVyeVN0cmluZyhhdXRob3JpdHkudG9rZW5FbmRwb2ludCwgcXVlcnlQYXJhbWV0ZXJzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuZXhlY3V0ZVBvc3RUb1Rva2VuRW5kcG9pbnQoZW5kcG9pbnQsIHJlcXVlc3RCb2R5LCBoZWFkZXJzLCB0aHVtYnByaW50KV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBxdWVyeSBzdHJpbmcgZm9yIHRoZSAvdG9rZW4gcmVxdWVzdFxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgUmVmcmVzaFRva2VuQ2xpZW50LnByb3RvdHlwZS5jcmVhdGVUb2tlblF1ZXJ5UGFyYW1ldGVycyA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XHJcbiAgICAgICAgdmFyIHBhcmFtZXRlckJ1aWxkZXIgPSBuZXcgUmVxdWVzdFBhcmFtZXRlckJ1aWxkZXIoKTtcclxuICAgICAgICBpZiAocmVxdWVzdC50b2tlblF1ZXJ5UGFyYW1ldGVycykge1xyXG4gICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZEV4dHJhUXVlcnlQYXJhbWV0ZXJzKHJlcXVlc3QudG9rZW5RdWVyeVBhcmFtZXRlcnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGFyYW1ldGVyQnVpbGRlci5jcmVhdGVRdWVyeVN0cmluZygpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgdG9rZW4gcmVxdWVzdCBib2R5XHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBSZWZyZXNoVG9rZW5DbGllbnQucHJvdG90eXBlLmNyZWF0ZVRva2VuUmVxdWVzdEJvZHkgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHBhcmFtZXRlckJ1aWxkZXIsIGNvcnJlbGF0aW9uSWQsIGNsaWVudEFzc2VydGlvbiwgcG9wVG9rZW5HZW5lcmF0b3IsIGNuZlN0cmluZywgY2xpZW50SW5mbztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlciA9IG5ldyBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZENsaWVudElkKHRoaXMuY29uZmlnLmF1dGhPcHRpb25zLmNsaWVudElkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRTY29wZXMocmVxdWVzdC5zY29wZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZEdyYW50VHlwZShHcmFudFR5cGUuUkVGUkVTSF9UT0tFTl9HUkFOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkQ2xpZW50SW5mbygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZExpYnJhcnlJbmZvKHRoaXMuY29uZmlnLmxpYnJhcnlJbmZvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRUaHJvdHRsaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlcnZlclRlbGVtZXRyeU1hbmFnZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkU2VydmVyVGVsZW1ldHJ5KHRoaXMuc2VydmVyVGVsZW1ldHJ5TWFuYWdlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVsYXRpb25JZCA9IHJlcXVlc3QuY29ycmVsYXRpb25JZCB8fCB0aGlzLmNvbmZpZy5jcnlwdG9JbnRlcmZhY2UuY3JlYXRlTmV3R3VpZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZENvcnJlbGF0aW9uSWQoY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkUmVmcmVzaFRva2VuKHJlcXVlc3QucmVmcmVzaFRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLmNsaWVudENyZWRlbnRpYWxzLmNsaWVudFNlY3JldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRDbGllbnRTZWNyZXQodGhpcy5jb25maWcuY2xpZW50Q3JlZGVudGlhbHMuY2xpZW50U2VjcmV0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWcuY2xpZW50Q3JlZGVudGlhbHMuY2xpZW50QXNzZXJ0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRBc3NlcnRpb24gPSB0aGlzLmNvbmZpZy5jbGllbnRDcmVkZW50aWFscy5jbGllbnRBc3NlcnRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZENsaWVudEFzc2VydGlvbihjbGllbnRBc3NlcnRpb24uYXNzZXJ0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkQ2xpZW50QXNzZXJ0aW9uVHlwZShjbGllbnRBc3NlcnRpb24uYXNzZXJ0aW9uVHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVxdWVzdC5hdXRoZW50aWNhdGlvblNjaGVtZSA9PT0gQXV0aGVudGljYXRpb25TY2hlbWUuUE9QKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcFRva2VuR2VuZXJhdG9yID0gbmV3IFBvcFRva2VuR2VuZXJhdG9yKHRoaXMuY3J5cHRvVXRpbHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBwb3BUb2tlbkdlbmVyYXRvci5nZW5lcmF0ZUNuZihyZXF1ZXN0KV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbmZTdHJpbmcgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkUG9wVG9rZW4oY25mU3RyaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC5hdXRoZW50aWNhdGlvblNjaGVtZSA9PT0gQXV0aGVudGljYXRpb25TY2hlbWUuU1NIKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC5zc2hKd2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZFNzaEp3ayhyZXF1ZXN0LnNzaEp3ayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IuY3JlYXRlTWlzc2luZ1NzaEp3a0Vycm9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAzO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFTdHJpbmdVdGlscy5pc0VtcHR5T2JqKHJlcXVlc3QuY2xhaW1zKSB8fCB0aGlzLmNvbmZpZy5hdXRoT3B0aW9ucy5jbGllbnRDYXBhYmlsaXRpZXMgJiYgdGhpcy5jb25maWcuYXV0aE9wdGlvbnMuY2xpZW50Q2FwYWJpbGl0aWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkQ2xhaW1zKHJlcXVlc3QuY2xhaW1zLCB0aGlzLmNvbmZpZy5hdXRoT3B0aW9ucy5jbGllbnRDYXBhYmlsaXRpZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5zeXN0ZW1PcHRpb25zLnByZXZlbnRDb3JzUHJlZmxpZ2h0ICYmIHJlcXVlc3QuY2NzQ3JlZGVudGlhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChyZXF1ZXN0LmNjc0NyZWRlbnRpYWwudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ2NzQ3JlZGVudGlhbFR5cGUuSE9NRV9BQ0NPVU5UX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50SW5mbyA9IGJ1aWxkQ2xpZW50SW5mb0Zyb21Ib21lQWNjb3VudElkKHJlcXVlc3QuY2NzQ3JlZGVudGlhbC5jcmVkZW50aWFsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkQ2NzT2lkKGNsaWVudEluZm8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiQ291bGQgbm90IHBhcnNlIGhvbWUgYWNjb3VudCBJRCBmb3IgQ0NTIEhlYWRlcjogXCIgKyBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENjc0NyZWRlbnRpYWxUeXBlLlVQTjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRDY3NVcG4ocmVxdWVzdC5jY3NDcmVkZW50aWFsLmNyZWRlbnRpYWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgcGFyYW1ldGVyQnVpbGRlci5jcmVhdGVRdWVyeVN0cmluZygpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFJlZnJlc2hUb2tlbkNsaWVudDtcclxufShCYXNlQ2xpZW50KSk7XG5cbmV4cG9ydCB7IFJlZnJlc2hUb2tlbkNsaWVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVmcmVzaFRva2VuQ2xpZW50LmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2Ni4xLjAgMjAyMi0wMi0wOCAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgX19leHRlbmRzLCBfX2F3YWl0ZXIsIF9fZ2VuZXJhdG9yIH0gZnJvbSAnLi4vX3ZpcnR1YWwvX3RzbGliLmpzJztcbmltcG9ydCB7IEJhc2VDbGllbnQgfSBmcm9tICcuL0Jhc2VDbGllbnQuanMnO1xuaW1wb3J0IHsgQXV0aFRva2VuIH0gZnJvbSAnLi4vYWNjb3VudC9BdXRoVG9rZW4uanMnO1xuaW1wb3J0IHsgVGltZVV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvVGltZVV0aWxzLmpzJztcbmltcG9ydCB7IFJlZnJlc2hUb2tlbkNsaWVudCB9IGZyb20gJy4vUmVmcmVzaFRva2VuQ2xpZW50LmpzJztcbmltcG9ydCB7IENsaWVudEF1dGhFcnJvciwgQ2xpZW50QXV0aEVycm9yTWVzc2FnZSB9IGZyb20gJy4uL2Vycm9yL0NsaWVudEF1dGhFcnJvci5qcyc7XG5pbXBvcnQgeyBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvci9DbGllbnRDb25maWd1cmF0aW9uRXJyb3IuanMnO1xuaW1wb3J0IHsgUmVzcG9uc2VIYW5kbGVyIH0gZnJvbSAnLi4vcmVzcG9uc2UvUmVzcG9uc2VIYW5kbGVyLmpzJztcbmltcG9ydCB7IENhY2hlT3V0Y29tZSB9IGZyb20gJy4uL3V0aWxzL0NvbnN0YW50cy5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgU2lsZW50Rmxvd0NsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTaWxlbnRGbG93Q2xpZW50LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU2lsZW50Rmxvd0NsaWVudChjb25maWd1cmF0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZ3VyYXRpb24pIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHJpZXZlcyBhIHRva2VuIGZyb20gY2FjaGUgaWYgaXQgaXMgc3RpbGwgdmFsaWQsIG9yIHVzZXMgdGhlIGNhY2hlZCByZWZyZXNoIHRva2VuIHRvIHJlbmV3XHJcbiAgICAgKiB0aGUgZ2l2ZW4gdG9rZW4gYW5kIHJldHVybnMgdGhlIHJlbmV3ZWQgdG9rZW5cclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIFNpbGVudEZsb3dDbGllbnQucHJvdG90eXBlLmFjcXVpcmVUb2tlbiA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZV8xLCByZWZyZXNoVG9rZW5DbGllbnQ7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMCwgMiwgLCAzXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuYWNxdWlyZUNhY2hlZFRva2VuKHJlcXVlc3QpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBbMiAvKnJldHVybiovLCBfYS5zZW50KCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZV8xID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZV8xIGluc3RhbmNlb2YgQ2xpZW50QXV0aEVycm9yICYmIGVfMS5lcnJvckNvZGUgPT09IENsaWVudEF1dGhFcnJvck1lc3NhZ2UudG9rZW5SZWZyZXNoUmVxdWlyZWQuY29kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFRva2VuQ2xpZW50ID0gbmV3IFJlZnJlc2hUb2tlbkNsaWVudCh0aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgcmVmcmVzaFRva2VuQ2xpZW50LmFjcXVpcmVUb2tlbkJ5UmVmcmVzaFRva2VuKHJlcXVlc3QpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVfMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHJpZXZlcyB0b2tlbiBmcm9tIGNhY2hlIG9yIHRocm93cyBhbiBlcnJvciBpZiBpdCBtdXN0IGJlIHJlZnJlc2hlZC5cclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIFNpbGVudEZsb3dDbGllbnQucHJvdG90eXBlLmFjcXVpcmVDYWNoZWRUb2tlbiA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XHJcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGVudmlyb25tZW50LCBjYWNoZVJlY29yZDtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfZSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfZS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2Fubm90IHJlbmV3IHRva2VuIGlmIG5vIHJlcXVlc3Qgb2JqZWN0IGlzIGdpdmVuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcXVlc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IENsaWVudENvbmZpZ3VyYXRpb25FcnJvci5jcmVhdGVFbXB0eVRva2VuUmVxdWVzdEVycm9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcXVlc3QuZm9yY2VSZWZyZXNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNdXN0IHJlZnJlc2ggZHVlIHRvIHByZXNlbnQgZm9yY2VfcmVmcmVzaCBmbGFnLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gdGhpcy5zZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0Q2FjaGVPdXRjb21lKENhY2hlT3V0Y29tZS5GT1JDRV9SRUZSRVNIKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJTaWxlbnRGbG93Q2xpZW50OmFjcXVpcmVDYWNoZWRUb2tlbiAtIFNraXBwaW5nIGNhY2hlIGJlY2F1c2UgZm9yY2VSZWZyZXNoIGlzIHRydWUuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZVJlZnJlc2hSZXF1aXJlZEVycm9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgY3VycmVudGx5IGRvIG5vdCBzdXBwb3J0IHNpbGVudCBmbG93IGZvciBhY2NvdW50ID09PSBudWxsIHVzZSBjYXNlczsgVGhpcyB3aWxsIGJlIHJldmlzaXRlZCBmb3IgY29uZmlkZW50aWFsIGZsb3cgdXNlY2FzZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXF1ZXN0LmFjY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IENsaWVudEF1dGhFcnJvci5jcmVhdGVOb0FjY291bnRJblNpbGVudFJlcXVlc3RFcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudmlyb25tZW50ID0gcmVxdWVzdC5hdXRob3JpdHkgfHwgdGhpcy5hdXRob3JpdHkuZ2V0UHJlZmVycmVkQ2FjaGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVSZWNvcmQgPSB0aGlzLmNhY2hlTWFuYWdlci5yZWFkQ2FjaGVSZWNvcmQocmVxdWVzdC5hY2NvdW50LCB0aGlzLmNvbmZpZy5hdXRoT3B0aW9ucy5jbGllbnRJZCwgcmVxdWVzdCwgZW52aXJvbm1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhY2hlUmVjb3JkLmFjY2Vzc1Rva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNdXN0IHJlZnJlc2ggZHVlIHRvIG5vbi1leGlzdGVudCBhY2Nlc3NfdG9rZW4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoX2IgPSB0aGlzLnNlcnZlclRlbGVtZXRyeU1hbmFnZXIpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zZXRDYWNoZU91dGNvbWUoQ2FjaGVPdXRjb21lLk5PX0NBQ0hFRF9BQ0NFU1NfVE9LRU4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcIlNpbGVudEZsb3dDbGllbnQ6YWNxdWlyZUNhY2hlZFRva2VuIC0gTm8gYWNjZXNzIHRva2VuIGZvdW5kIGluIGNhY2hlIGZvciB0aGUgZ2l2ZW4gcHJvcGVydGllcy5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBDbGllbnRBdXRoRXJyb3IuY3JlYXRlUmVmcmVzaFJlcXVpcmVkRXJyb3IoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChUaW1lVXRpbHMud2FzQ2xvY2tUdXJuZWRCYWNrKGNhY2hlUmVjb3JkLmFjY2Vzc1Rva2VuLmNhY2hlZEF0KSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVGltZVV0aWxzLmlzVG9rZW5FeHBpcmVkKGNhY2hlUmVjb3JkLmFjY2Vzc1Rva2VuLmV4cGlyZXNPbiwgdGhpcy5jb25maWcuc3lzdGVtT3B0aW9ucy50b2tlblJlbmV3YWxPZmZzZXRTZWNvbmRzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTXVzdCByZWZyZXNoIGR1ZSB0byBleHBpcmVkIGFjY2Vzc190b2tlbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfYyA9IHRoaXMuc2VydmVyVGVsZW1ldHJ5TWFuYWdlcikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnNldENhY2hlT3V0Y29tZShDYWNoZU91dGNvbWUuQ0FDSEVEX0FDQ0VTU19UT0tFTl9FWFBJUkVEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJTaWxlbnRGbG93Q2xpZW50OmFjcXVpcmVDYWNoZWRUb2tlbiAtIENhY2hlZCBhY2Nlc3MgdG9rZW4gaXMgZXhwaXJlZCBvciB3aWxsIGV4cGlyZSB3aXRoaW4gXCIgKyB0aGlzLmNvbmZpZy5zeXN0ZW1PcHRpb25zLnRva2VuUmVuZXdhbE9mZnNldFNlY29uZHMgKyBcIiBzZWNvbmRzLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IENsaWVudEF1dGhFcnJvci5jcmVhdGVSZWZyZXNoUmVxdWlyZWRFcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNhY2hlUmVjb3JkLmFjY2Vzc1Rva2VuLnJlZnJlc2hPbiAmJiBUaW1lVXRpbHMuaXNUb2tlbkV4cGlyZWQoY2FjaGVSZWNvcmQuYWNjZXNzVG9rZW4ucmVmcmVzaE9uLCAwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTXVzdCByZWZyZXNoIGR1ZSB0byB0aGUgcmVmcmVzaF9pbiB2YWx1ZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfZCA9IHRoaXMuc2VydmVyVGVsZW1ldHJ5TWFuYWdlcikgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnNldENhY2hlT3V0Y29tZShDYWNoZU91dGNvbWUuUkVGUkVTSF9DQUNIRURfQUNDRVNTX1RPS0VOKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJTaWxlbnRGbG93Q2xpZW50OmFjcXVpcmVDYWNoZWRUb2tlbiAtIENhY2hlZCBhY2Nlc3MgdG9rZW4ncyByZWZyZXNoT24gcHJvcGVydHkgaGFzIGJlZW4gZXhjZWVkZWQnLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IENsaWVudEF1dGhFcnJvci5jcmVhdGVSZWZyZXNoUmVxdWlyZWRFcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5zZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5zZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLmluY3JlbWVudENhY2hlSGl0cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZ2VuZXJhdGVSZXN1bHRGcm9tQ2FjaGVSZWNvcmQoY2FjaGVSZWNvcmQsIHJlcXVlc3QpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBbMiAvKnJldHVybiovLCBfZS5zZW50KCldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0byBidWlsZCByZXNwb25zZSBvYmplY3QgZnJvbSB0aGUgQ2FjaGVSZWNvcmRcclxuICAgICAqIEBwYXJhbSBjYWNoZVJlY29yZFxyXG4gICAgICovXHJcbiAgICBTaWxlbnRGbG93Q2xpZW50LnByb3RvdHlwZS5nZW5lcmF0ZVJlc3VsdEZyb21DYWNoZVJlY29yZCA9IGZ1bmN0aW9uIChjYWNoZVJlY29yZCwgcmVxdWVzdCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGlkVG9rZW5PYmo7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZVJlY29yZC5pZFRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZFRva2VuT2JqID0gbmV3IEF1dGhUb2tlbihjYWNoZVJlY29yZC5pZFRva2VuLnNlY3JldCwgdGhpcy5jb25maWcuY3J5cHRvSW50ZXJmYWNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBSZXNwb25zZUhhbmRsZXIuZ2VuZXJhdGVBdXRoZW50aWNhdGlvblJlc3VsdCh0aGlzLmNyeXB0b1V0aWxzLCB0aGlzLmF1dGhvcml0eSwgY2FjaGVSZWNvcmQsIHRydWUsIHJlcXVlc3QsIGlkVG9rZW5PYmopXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBbMiAvKnJldHVybiovLCBfYS5zZW50KCldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gU2lsZW50Rmxvd0NsaWVudDtcclxufShCYXNlQ2xpZW50KSk7XG5cbmV4cG9ydCB7IFNpbGVudEZsb3dDbGllbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNpbGVudEZsb3dDbGllbnQuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHY2LjEuMCAyMDIyLTAyLTA4ICovXG4ndXNlIHN0cmljdCc7XG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNPcGVuSWRDb25maWdSZXNwb25zZShyZXNwb25zZSkge1xyXG4gICAgcmV0dXJuIChyZXNwb25zZS5oYXNPd25Qcm9wZXJ0eShcImF1dGhvcml6YXRpb25fZW5kcG9pbnRcIikgJiZcclxuICAgICAgICByZXNwb25zZS5oYXNPd25Qcm9wZXJ0eShcInRva2VuX2VuZHBvaW50XCIpICYmXHJcbiAgICAgICAgcmVzcG9uc2UuaGFzT3duUHJvcGVydHkoXCJpc3N1ZXJcIikpO1xyXG59XG5cbmV4cG9ydCB7IGlzT3BlbklkQ29uZmlnUmVzcG9uc2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9wZW5JZENvbmZpZ1Jlc3BvbnNlLmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2Ni4xLjAgMjAyMi0wMi0wOCAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgQVVUSE9SSVRZX01FVEFEQVRBX0NPTlNUQU5UUyB9IGZyb20gJy4uLy4uL3V0aWxzL0NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBUaW1lVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscy9UaW1lVXRpbHMuanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxudmFyIEF1dGhvcml0eU1ldGFkYXRhRW50aXR5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQXV0aG9yaXR5TWV0YWRhdGFFbnRpdHkoKSB7XHJcbiAgICAgICAgdGhpcy5leHBpcmVzQXQgPSBUaW1lVXRpbHMubm93U2Vjb25kcygpICsgQVVUSE9SSVRZX01FVEFEQVRBX0NPTlNUQU5UUy5SRUZSRVNIX1RJTUVfU0VDT05EUztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIHRoZSBlbnRpdHkgd2l0aCBuZXcgYWxpYXNlcywgcHJlZmVycmVkX2NhY2hlIGFuZCBwcmVmZXJyZWRfbmV0d29yayB2YWx1ZXNcclxuICAgICAqIEBwYXJhbSBtZXRhZGF0YVxyXG4gICAgICogQHBhcmFtIGZyb21OZXR3b3JrXHJcbiAgICAgKi9cclxuICAgIEF1dGhvcml0eU1ldGFkYXRhRW50aXR5LnByb3RvdHlwZS51cGRhdGVDbG91ZERpc2NvdmVyeU1ldGFkYXRhID0gZnVuY3Rpb24gKG1ldGFkYXRhLCBmcm9tTmV0d29yaykge1xyXG4gICAgICAgIHRoaXMuYWxpYXNlcyA9IG1ldGFkYXRhLmFsaWFzZXM7XHJcbiAgICAgICAgdGhpcy5wcmVmZXJyZWRfY2FjaGUgPSBtZXRhZGF0YS5wcmVmZXJyZWRfY2FjaGU7XHJcbiAgICAgICAgdGhpcy5wcmVmZXJyZWRfbmV0d29yayA9IG1ldGFkYXRhLnByZWZlcnJlZF9uZXR3b3JrO1xyXG4gICAgICAgIHRoaXMuYWxpYXNlc0Zyb21OZXR3b3JrID0gZnJvbU5ldHdvcms7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgdGhlIGVudGl0eSB3aXRoIG5ldyBlbmRwb2ludHNcclxuICAgICAqIEBwYXJhbSBtZXRhZGF0YVxyXG4gICAgICogQHBhcmFtIGZyb21OZXR3b3JrXHJcbiAgICAgKi9cclxuICAgIEF1dGhvcml0eU1ldGFkYXRhRW50aXR5LnByb3RvdHlwZS51cGRhdGVFbmRwb2ludE1ldGFkYXRhID0gZnVuY3Rpb24gKG1ldGFkYXRhLCBmcm9tTmV0d29yaykge1xyXG4gICAgICAgIHRoaXMuYXV0aG9yaXphdGlvbl9lbmRwb2ludCA9IG1ldGFkYXRhLmF1dGhvcml6YXRpb25fZW5kcG9pbnQ7XHJcbiAgICAgICAgdGhpcy50b2tlbl9lbmRwb2ludCA9IG1ldGFkYXRhLnRva2VuX2VuZHBvaW50O1xyXG4gICAgICAgIHRoaXMuZW5kX3Nlc3Npb25fZW5kcG9pbnQgPSBtZXRhZGF0YS5lbmRfc2Vzc2lvbl9lbmRwb2ludDtcclxuICAgICAgICB0aGlzLmlzc3VlciA9IG1ldGFkYXRhLmlzc3VlcjtcclxuICAgICAgICB0aGlzLmVuZHBvaW50c0Zyb21OZXR3b3JrID0gZnJvbU5ldHdvcms7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTYXZlIHRoZSBhdXRob3JpdHkgdGhhdCB3YXMgdXNlZCB0byBjcmVhdGUgdGhpcyBjYWNoZSBlbnRyeVxyXG4gICAgICogQHBhcmFtIGF1dGhvcml0eVxyXG4gICAgICovXHJcbiAgICBBdXRob3JpdHlNZXRhZGF0YUVudGl0eS5wcm90b3R5cGUudXBkYXRlQ2Fub25pY2FsQXV0aG9yaXR5ID0gZnVuY3Rpb24gKGF1dGhvcml0eSkge1xyXG4gICAgICAgIHRoaXMuY2Fub25pY2FsX2F1dGhvcml0eSA9IGF1dGhvcml0eTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0IHRoZSBleGlyZXNBdCB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBBdXRob3JpdHlNZXRhZGF0YUVudGl0eS5wcm90b3R5cGUucmVzZXRFeHBpcmVzQXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5leHBpcmVzQXQgPSBUaW1lVXRpbHMubm93U2Vjb25kcygpICsgQVVUSE9SSVRZX01FVEFEQVRBX0NPTlNUQU5UUy5SRUZSRVNIX1RJTUVfU0VDT05EUztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIGRhdGEgbmVlZHMgdG8gYmUgcmVmcmVzaGVkXHJcbiAgICAgKi9cclxuICAgIEF1dGhvcml0eU1ldGFkYXRhRW50aXR5LnByb3RvdHlwZS5pc0V4cGlyZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhwaXJlc0F0IDw9IFRpbWVVdGlscy5ub3dTZWNvbmRzKCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBWYWxpZGF0ZXMgYW4gZW50aXR5OiBjaGVja3MgZm9yIGFsbCBleHBlY3RlZCBwYXJhbXNcclxuICAgICAqIEBwYXJhbSBlbnRpdHlcclxuICAgICAqL1xyXG4gICAgQXV0aG9yaXR5TWV0YWRhdGFFbnRpdHkuaXNBdXRob3JpdHlNZXRhZGF0YUVudGl0eSA9IGZ1bmN0aW9uIChrZXksIGVudGl0eSkge1xyXG4gICAgICAgIGlmICghZW50aXR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIChrZXkuaW5kZXhPZihBVVRIT1JJVFlfTUVUQURBVEFfQ09OU1RBTlRTLkNBQ0hFX0tFWSkgPT09IDAgJiZcclxuICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwiYWxpYXNlc1wiKSAmJlxyXG4gICAgICAgICAgICBlbnRpdHkuaGFzT3duUHJvcGVydHkoXCJwcmVmZXJyZWRfY2FjaGVcIikgJiZcclxuICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwicHJlZmVycmVkX25ldHdvcmtcIikgJiZcclxuICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwiY2Fub25pY2FsX2F1dGhvcml0eVwiKSAmJlxyXG4gICAgICAgICAgICBlbnRpdHkuaGFzT3duUHJvcGVydHkoXCJhdXRob3JpemF0aW9uX2VuZHBvaW50XCIpICYmXHJcbiAgICAgICAgICAgIGVudGl0eS5oYXNPd25Qcm9wZXJ0eShcInRva2VuX2VuZHBvaW50XCIpICYmXHJcbiAgICAgICAgICAgIGVudGl0eS5oYXNPd25Qcm9wZXJ0eShcImlzc3VlclwiKSAmJlxyXG4gICAgICAgICAgICBlbnRpdHkuaGFzT3duUHJvcGVydHkoXCJhbGlhc2VzRnJvbU5ldHdvcmtcIikgJiZcclxuICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwiZW5kcG9pbnRzRnJvbU5ldHdvcmtcIikgJiZcclxuICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwiZXhwaXJlc0F0XCIpKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQXV0aG9yaXR5TWV0YWRhdGFFbnRpdHk7XHJcbn0oKSk7XG5cbmV4cG9ydCB7IEF1dGhvcml0eU1ldGFkYXRhRW50aXR5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BdXRob3JpdHlNZXRhZGF0YUVudGl0eS5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjYuMS4wIDIwMjItMDItMDggKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IF9fYXdhaXRlciwgX19nZW5lcmF0b3IgfSBmcm9tICcuLi9fdmlydHVhbC9fdHNsaWIuanMnO1xuaW1wb3J0IHsgUmVnaW9uRGlzY292ZXJ5U291cmNlcywgUmVzcG9uc2VDb2RlcywgQ29uc3RhbnRzIH0gZnJvbSAnLi4vdXRpbHMvQ29uc3RhbnRzLmpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbnZhciBSZWdpb25EaXNjb3ZlcnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBSZWdpb25EaXNjb3ZlcnkobmV0d29ya0ludGVyZmFjZSkge1xyXG4gICAgICAgIHRoaXMubmV0d29ya0ludGVyZmFjZSA9IG5ldHdvcmtJbnRlcmZhY2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERldGVjdCB0aGUgcmVnaW9uIGZyb20gdGhlIGFwcGxpY2F0aW9uJ3MgZW52aXJvbm1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUHJvbWlzZTxzdHJpbmcgfCBudWxsPlxyXG4gICAgICovXHJcbiAgICBSZWdpb25EaXNjb3ZlcnkucHJvdG90eXBlLmRldGVjdFJlZ2lvbiA9IGZ1bmN0aW9uIChlbnZpcm9ubWVudFJlZ2lvbiwgcmVnaW9uRGlzY292ZXJ5TWV0YWRhdGEsIHByb3h5VXJsKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgYXV0b2RldGVjdGVkUmVnaW9uTmFtZSwgb3B0aW9ucywgbG9jYWxJTURTVmVyc2lvblJlc3BvbnNlLCBjdXJyZW50SU1EU1ZlcnNpb24sIGN1cnJlbnRJTURTVmVyc2lvblJlc3BvbnNlO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvZGV0ZWN0ZWRSZWdpb25OYW1lID0gZW52aXJvbm1lbnRSZWdpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIWF1dG9kZXRlY3RlZFJlZ2lvbk5hbWUpIHJldHVybiBbMyAvKmJyZWFrKi8sIDhdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gUmVnaW9uRGlzY292ZXJ5LklNRFNfT1BUSU9OUztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3h5VXJsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnByb3h5VXJsID0gcHJveHlVcmw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFsxLCA2LCAsIDddKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5nZXRSZWdpb25Gcm9tSU1EUyhDb25zdGFudHMuSU1EU19WRVJTSU9OLCBvcHRpb25zKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbElNRFNWZXJzaW9uUmVzcG9uc2UgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbElNRFNWZXJzaW9uUmVzcG9uc2Uuc3RhdHVzID09PSBSZXNwb25zZUNvZGVzLmh0dHBTdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvZGV0ZWN0ZWRSZWdpb25OYW1lID0gbG9jYWxJTURTVmVyc2lvblJlc3BvbnNlLmJvZHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdpb25EaXNjb3ZlcnlNZXRhZGF0YS5yZWdpb25fc291cmNlID0gUmVnaW9uRGlzY292ZXJ5U291cmNlcy5JTURTO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGxvY2FsSU1EU1ZlcnNpb25SZXNwb25zZS5zdGF0dXMgPT09IFJlc3BvbnNlQ29kZXMuaHR0cEJhZFJlcXVlc3QpKSByZXR1cm4gWzMgLypicmVhayovLCA1XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5nZXRDdXJyZW50VmVyc2lvbihvcHRpb25zKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50SU1EU1ZlcnNpb24gPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudElNRFNWZXJzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdpb25EaXNjb3ZlcnlNZXRhZGF0YS5yZWdpb25fc291cmNlID0gUmVnaW9uRGlzY292ZXJ5U291cmNlcy5GQUlMRURfQVVUT19ERVRFQ1RJT047XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgbnVsbF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5nZXRSZWdpb25Gcm9tSU1EUyhjdXJyZW50SU1EU1ZlcnNpb24sIG9wdGlvbnMpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJTURTVmVyc2lvblJlc3BvbnNlID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudElNRFNWZXJzaW9uUmVzcG9uc2Uuc3RhdHVzID09PSBSZXNwb25zZUNvZGVzLmh0dHBTdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvZGV0ZWN0ZWRSZWdpb25OYW1lID0gY3VycmVudElNRFNWZXJzaW9uUmVzcG9uc2UuYm9keTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbkRpc2NvdmVyeU1ldGFkYXRhLnJlZ2lvbl9zb3VyY2UgPSBSZWdpb25EaXNjb3ZlcnlTb3VyY2VzLklNRFM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSA1O1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFszIC8qYnJlYWsqLywgN107XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbkRpc2NvdmVyeU1ldGFkYXRhLnJlZ2lvbl9zb3VyY2UgPSBSZWdpb25EaXNjb3ZlcnlTb3VyY2VzLkZBSUxFRF9BVVRPX0RFVEVDVElPTjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG51bGxdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzogcmV0dXJuIFszIC8qYnJlYWsqLywgOV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpb25EaXNjb3ZlcnlNZXRhZGF0YS5yZWdpb25fc291cmNlID0gUmVnaW9uRGlzY292ZXJ5U291cmNlcy5FTlZJUk9OTUVOVF9WQVJJQUJMRTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSA5O1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgOTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgbm8gcmVnaW9uIHdhcyBhdXRvIGRldGVjdGVkIGZyb20gdGhlIGVudmlyb25tZW50IG9yIGZyb20gdGhlIElNRFMgZW5kcG9pbnQsIG1hcmsgdGhlIGF0dGVtcHQgYXMgYSBGQUlMRURfQVVUT19ERVRFQ1RJT05cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhdXRvZGV0ZWN0ZWRSZWdpb25OYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdpb25EaXNjb3ZlcnlNZXRhZGF0YS5yZWdpb25fc291cmNlID0gUmVnaW9uRGlzY292ZXJ5U291cmNlcy5GQUlMRURfQVVUT19ERVRFQ1RJT047XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGF1dG9kZXRlY3RlZFJlZ2lvbk5hbWUgfHwgbnVsbF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogTWFrZSB0aGUgY2FsbCB0byB0aGUgSU1EUyBlbmRwb2ludFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbWRzRW5kcG9pbnRVcmxcclxuICAgICAqIEByZXR1cm5zIFByb21pc2U8TmV0d29ya1Jlc3BvbnNlPHN0cmluZz4+XHJcbiAgICAgKi9cclxuICAgIFJlZ2lvbkRpc2NvdmVyeS5wcm90b3R5cGUuZ2V0UmVnaW9uRnJvbUlNRFMgPSBmdW5jdGlvbiAodmVyc2lvbiwgb3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMubmV0d29ya0ludGVyZmFjZS5zZW5kR2V0UmVxdWVzdEFzeW5jKENvbnN0YW50cy5JTURTX0VORFBPSU5UICsgXCI/YXBpLXZlcnNpb249XCIgKyB2ZXJzaW9uICsgXCImZm9ybWF0PXRleHRcIiwgb3B0aW9ucywgQ29uc3RhbnRzLklNRFNfVElNRU9VVCldO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgbW9zdCByZWNlbnQgdmVyc2lvbiBvZiB0aGUgSU1EUyBlbmRwb2ludCBhdmFpbGFibGVcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlPHN0cmluZyB8IG51bGw+XHJcbiAgICAgKi9cclxuICAgIFJlZ2lvbkRpc2NvdmVyeS5wcm90b3R5cGUuZ2V0Q3VycmVudFZlcnNpb24gPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3BvbnNlO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzAsIDIsICwgM10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLm5ldHdvcmtJbnRlcmZhY2Uuc2VuZEdldFJlcXVlc3RBc3luYyhDb25zdGFudHMuSU1EU19FTkRQT0lOVCArIFwiP2Zvcm1hdD1qc29uXCIsIG9wdGlvbnMpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIElNRFMgZW5kcG9pbnQgaXMgY2FsbGVkIHdpdGhvdXQgdGhlIGFwaSB2ZXJzaW9uIHF1ZXJ5IHBhcmFtLCBiYWQgcmVxdWVzdCByZXNwb25zZSBjb21lcyBiYWNrIHdpdGggbGF0ZXN0IHZlcnNpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IFJlc3BvbnNlQ29kZXMuaHR0cEJhZFJlcXVlc3QgJiYgcmVzcG9uc2UuYm9keSAmJiByZXNwb25zZS5ib2R5W1wibmV3ZXN0LXZlcnNpb25zXCJdICYmIHJlc3BvbnNlLmJvZHlbXCJuZXdlc3QtdmVyc2lvbnNcIl0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlc3BvbnNlLmJvZHlbXCJuZXdlc3QtdmVyc2lvbnNcIl1bMF1dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBudWxsXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG51bGxdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvLyBPcHRpb25zIGZvciB0aGUgSU1EUyBlbmRwb2ludCByZXF1ZXN0XHJcbiAgICBSZWdpb25EaXNjb3ZlcnkuSU1EU19PUFRJT05TID0ge1xyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgTWV0YWRhdGE6IFwidHJ1ZVwiLFxyXG4gICAgICAgIH0sXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFJlZ2lvbkRpc2NvdmVyeTtcclxufSgpKTtcblxuZXhwb3J0IHsgUmVnaW9uRGlzY292ZXJ5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZWdpb25EaXNjb3ZlcnkuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2Mi4yMi4xIDIwMjItMDMtMDcgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IE9JRENfREVGQVVMVF9TQ09QRVMgfSBmcm9tICdAYXp1cmUvbXNhbC1jb21tb24nO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIENvbnN0YW50c1xyXG4gKi9cclxudmFyIEJyb3dzZXJDb25zdGFudHMgPSB7XHJcbiAgICAvKipcclxuICAgICAqIEludGVyYWN0aW9uIGluIHByb2dyZXNzIGNhY2hlIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIElOVEVSQUNUSU9OX0lOX1BST0dSRVNTX1ZBTFVFOiBcImludGVyYWN0aW9uX2luX3Byb2dyZXNzXCIsXHJcbiAgICAvKipcclxuICAgICAqIEludmFsaWQgZ3JhbnQgZXJyb3IgY29kZVxyXG4gICAgICovXHJcbiAgICBJTlZBTElEX0dSQU5UX0VSUk9SOiBcImludmFsaWRfZ3JhbnRcIixcclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBwb3B1cCB3aW5kb3cgd2lkdGhcclxuICAgICAqL1xyXG4gICAgUE9QVVBfV0lEVEg6IDQ4MyxcclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBwb3B1cCB3aW5kb3cgaGVpZ2h0XHJcbiAgICAgKi9cclxuICAgIFBPUFVQX0hFSUdIVDogNjAwLFxyXG4gICAgLyoqXHJcbiAgICAgKiBOYW1lIG9mIHRoZSBwb3B1cCB3aW5kb3cgc3RhcnRzIHdpdGhcclxuICAgICAqL1xyXG4gICAgUE9QVVBfTkFNRV9QUkVGSVg6IFwibXNhbFwiLFxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWZhdWx0IHBvcHVwIG1vbml0b3IgcG9sbCBpbnRlcnZhbCBpbiBtaWxsaXNlY29uZHNcclxuICAgICAqL1xyXG4gICAgUE9MTF9JTlRFUlZBTF9NUzogNTAsXHJcbiAgICAvKipcclxuICAgICAqIE1zYWwtYnJvd3NlciBTS1VcclxuICAgICAqL1xyXG4gICAgTVNBTF9TS1U6IFwibXNhbC5qcy5icm93c2VyXCIsXHJcbn07XHJcbnZhciBCcm93c2VyQ2FjaGVMb2NhdGlvbjtcclxuKGZ1bmN0aW9uIChCcm93c2VyQ2FjaGVMb2NhdGlvbikge1xyXG4gICAgQnJvd3NlckNhY2hlTG9jYXRpb25bXCJMb2NhbFN0b3JhZ2VcIl0gPSBcImxvY2FsU3RvcmFnZVwiO1xyXG4gICAgQnJvd3NlckNhY2hlTG9jYXRpb25bXCJTZXNzaW9uU3RvcmFnZVwiXSA9IFwic2Vzc2lvblN0b3JhZ2VcIjtcclxuICAgIEJyb3dzZXJDYWNoZUxvY2F0aW9uW1wiTWVtb3J5U3RvcmFnZVwiXSA9IFwibWVtb3J5U3RvcmFnZVwiO1xyXG59KShCcm93c2VyQ2FjaGVMb2NhdGlvbiB8fCAoQnJvd3NlckNhY2hlTG9jYXRpb24gPSB7fSkpO1xyXG4vKipcclxuICogSFRUUCBSZXF1ZXN0IHR5cGVzIHN1cHBvcnRlZCBieSBNU0FMLlxyXG4gKi9cclxudmFyIEhUVFBfUkVRVUVTVF9UWVBFO1xyXG4oZnVuY3Rpb24gKEhUVFBfUkVRVUVTVF9UWVBFKSB7XHJcbiAgICBIVFRQX1JFUVVFU1RfVFlQRVtcIkdFVFwiXSA9IFwiR0VUXCI7XHJcbiAgICBIVFRQX1JFUVVFU1RfVFlQRVtcIlBPU1RcIl0gPSBcIlBPU1RcIjtcclxufSkoSFRUUF9SRVFVRVNUX1RZUEUgfHwgKEhUVFBfUkVRVUVTVF9UWVBFID0ge30pKTtcclxuLyoqXHJcbiAqIFRlbXBvcmFyeSBjYWNoZSBrZXlzIGZvciBNU0FMLCBkZWxldGVkIGFmdGVyIGFueSByZXF1ZXN0LlxyXG4gKi9cclxudmFyIFRlbXBvcmFyeUNhY2hlS2V5cztcclxuKGZ1bmN0aW9uIChUZW1wb3JhcnlDYWNoZUtleXMpIHtcclxuICAgIFRlbXBvcmFyeUNhY2hlS2V5c1tcIkFVVEhPUklUWVwiXSA9IFwiYXV0aG9yaXR5XCI7XHJcbiAgICBUZW1wb3JhcnlDYWNoZUtleXNbXCJBQ1FVSVJFX1RPS0VOX0FDQ09VTlRcIl0gPSBcImFjcXVpcmVUb2tlbi5hY2NvdW50XCI7XHJcbiAgICBUZW1wb3JhcnlDYWNoZUtleXNbXCJTRVNTSU9OX1NUQVRFXCJdID0gXCJzZXNzaW9uLnN0YXRlXCI7XHJcbiAgICBUZW1wb3JhcnlDYWNoZUtleXNbXCJSRVFVRVNUX1NUQVRFXCJdID0gXCJyZXF1ZXN0LnN0YXRlXCI7XHJcbiAgICBUZW1wb3JhcnlDYWNoZUtleXNbXCJOT05DRV9JRFRPS0VOXCJdID0gXCJub25jZS5pZF90b2tlblwiO1xyXG4gICAgVGVtcG9yYXJ5Q2FjaGVLZXlzW1wiT1JJR0lOX1VSSVwiXSA9IFwicmVxdWVzdC5vcmlnaW5cIjtcclxuICAgIFRlbXBvcmFyeUNhY2hlS2V5c1tcIlJFTkVXX1NUQVRVU1wiXSA9IFwidG9rZW4ucmVuZXcuc3RhdHVzXCI7XHJcbiAgICBUZW1wb3JhcnlDYWNoZUtleXNbXCJVUkxfSEFTSFwiXSA9IFwidXJsSGFzaFwiO1xyXG4gICAgVGVtcG9yYXJ5Q2FjaGVLZXlzW1wiUkVRVUVTVF9QQVJBTVNcIl0gPSBcInJlcXVlc3QucGFyYW1zXCI7XHJcbiAgICBUZW1wb3JhcnlDYWNoZUtleXNbXCJTQ09QRVNcIl0gPSBcInNjb3Blc1wiO1xyXG4gICAgVGVtcG9yYXJ5Q2FjaGVLZXlzW1wiSU5URVJBQ1RJT05fU1RBVFVTX0tFWVwiXSA9IFwiaW50ZXJhY3Rpb24uc3RhdHVzXCI7XHJcbiAgICBUZW1wb3JhcnlDYWNoZUtleXNbXCJDQ1NfQ1JFREVOVElBTFwiXSA9IFwiY2NzLmNyZWRlbnRpYWxcIjtcclxuICAgIFRlbXBvcmFyeUNhY2hlS2V5c1tcIkNPUlJFTEFUSU9OX0lEXCJdID0gXCJyZXF1ZXN0LmNvcnJlbGF0aW9uSWRcIjtcclxufSkoVGVtcG9yYXJ5Q2FjaGVLZXlzIHx8IChUZW1wb3JhcnlDYWNoZUtleXMgPSB7fSkpO1xyXG4vKipcclxuICogQ2FjaGUga2V5cyBzdG9yZWQgaW4tbWVtb3J5XHJcbiAqL1xyXG52YXIgSW5NZW1vcnlDYWNoZUtleXM7XHJcbihmdW5jdGlvbiAoSW5NZW1vcnlDYWNoZUtleXMpIHtcclxuICAgIEluTWVtb3J5Q2FjaGVLZXlzW1wiV1JBUFBFUl9TS1VcIl0gPSBcIndyYXBwZXIuc2t1XCI7XHJcbiAgICBJbk1lbW9yeUNhY2hlS2V5c1tcIldSQVBQRVJfVkVSXCJdID0gXCJ3cmFwcGVyLnZlcnNpb25cIjtcclxufSkoSW5NZW1vcnlDYWNoZUtleXMgfHwgKEluTWVtb3J5Q2FjaGVLZXlzID0ge30pKTtcclxuLyoqXHJcbiAqIEFQSSBDb2RlcyBmb3IgVGVsZW1ldHJ5IHB1cnBvc2VzLlxyXG4gKiBCZWZvcmUgYWRkaW5nIGEgbmV3IGNvZGUgeW91IG11c3QgY2xhaW0gaXQgaW4gdGhlIE1TQUwgVGVsZW1ldHJ5IHRyYWNrZXIgYXMgdGhlc2UgbnVtYmVyIHNwYWNlcyBhcmUgc2hhcmVkIGFjcm9zcyBhbGwgTVNBTHNcclxuICogMC05OSBTaWxlbnQgRmxvd1xyXG4gKiA4MDAtODk5IEF1dGggQ29kZSBGbG93XHJcbiAqL1xyXG52YXIgQXBpSWQ7XHJcbihmdW5jdGlvbiAoQXBpSWQpIHtcclxuICAgIEFwaUlkW0FwaUlkW1wiYWNxdWlyZVRva2VuUmVkaXJlY3RcIl0gPSA4NjFdID0gXCJhY3F1aXJlVG9rZW5SZWRpcmVjdFwiO1xyXG4gICAgQXBpSWRbQXBpSWRbXCJhY3F1aXJlVG9rZW5Qb3B1cFwiXSA9IDg2Ml0gPSBcImFjcXVpcmVUb2tlblBvcHVwXCI7XHJcbiAgICBBcGlJZFtBcGlJZFtcInNzb1NpbGVudFwiXSA9IDg2M10gPSBcInNzb1NpbGVudFwiO1xyXG4gICAgQXBpSWRbQXBpSWRbXCJhY3F1aXJlVG9rZW5TaWxlbnRfYXV0aENvZGVcIl0gPSA4NjRdID0gXCJhY3F1aXJlVG9rZW5TaWxlbnRfYXV0aENvZGVcIjtcclxuICAgIEFwaUlkW0FwaUlkW1wiaGFuZGxlUmVkaXJlY3RQcm9taXNlXCJdID0gODY1XSA9IFwiaGFuZGxlUmVkaXJlY3RQcm9taXNlXCI7XHJcbiAgICBBcGlJZFtBcGlJZFtcImFjcXVpcmVUb2tlbkJ5Q29kZVwiXSA9IDg2Nl0gPSBcImFjcXVpcmVUb2tlbkJ5Q29kZVwiO1xyXG4gICAgQXBpSWRbQXBpSWRbXCJhY3F1aXJlVG9rZW5TaWxlbnRfc2lsZW50Rmxvd1wiXSA9IDYxXSA9IFwiYWNxdWlyZVRva2VuU2lsZW50X3NpbGVudEZsb3dcIjtcclxuICAgIEFwaUlkW0FwaUlkW1wibG9nb3V0XCJdID0gOTYxXSA9IFwibG9nb3V0XCI7XHJcbiAgICBBcGlJZFtBcGlJZFtcImxvZ291dFBvcHVwXCJdID0gOTYyXSA9IFwibG9nb3V0UG9wdXBcIjtcclxufSkoQXBpSWQgfHwgKEFwaUlkID0ge30pKTtcclxuLypcclxuICogSW50ZXJhY3Rpb24gdHlwZSBvZiB0aGUgQVBJIC0gdXNlZCBmb3Igc3RhdGUgYW5kIHRlbGVtZXRyeVxyXG4gKi9cclxudmFyIEludGVyYWN0aW9uVHlwZTtcclxuKGZ1bmN0aW9uIChJbnRlcmFjdGlvblR5cGUpIHtcclxuICAgIEludGVyYWN0aW9uVHlwZVtcIlJlZGlyZWN0XCJdID0gXCJyZWRpcmVjdFwiO1xyXG4gICAgSW50ZXJhY3Rpb25UeXBlW1wiUG9wdXBcIl0gPSBcInBvcHVwXCI7XHJcbiAgICBJbnRlcmFjdGlvblR5cGVbXCJTaWxlbnRcIl0gPSBcInNpbGVudFwiO1xyXG4gICAgSW50ZXJhY3Rpb25UeXBlW1wiTm9uZVwiXSA9IFwibm9uZVwiO1xyXG59KShJbnRlcmFjdGlvblR5cGUgfHwgKEludGVyYWN0aW9uVHlwZSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBUeXBlcyBvZiBpbnRlcmFjdGlvbiBjdXJyZW50bHkgaW4gcHJvZ3Jlc3MuXHJcbiAqIFVzZWQgaW4gZXZlbnRzIGluIHdyYXBwZXIgbGlicmFyaWVzIHRvIGludm9rZSBmdW5jdGlvbnMgd2hlbiBjZXJ0YWluIGludGVyYWN0aW9uIGlzIGluIHByb2dyZXNzIG9yIGFsbCBpbnRlcmFjdGlvbnMgYXJlIGNvbXBsZXRlLlxyXG4gKi9cclxudmFyIEludGVyYWN0aW9uU3RhdHVzO1xyXG4oZnVuY3Rpb24gKEludGVyYWN0aW9uU3RhdHVzKSB7XHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWwgc3RhdHVzIGJlZm9yZSBpbnRlcmFjdGlvbiBvY2N1cnNcclxuICAgICAqL1xyXG4gICAgSW50ZXJhY3Rpb25TdGF0dXNbXCJTdGFydHVwXCJdID0gXCJzdGFydHVwXCI7XHJcbiAgICAvKipcclxuICAgICAqIFN0YXR1cyBzZXQgd2hlbiBhbGwgbG9naW4gY2FsbHMgb2NjdXJpbmdcclxuICAgICAqL1xyXG4gICAgSW50ZXJhY3Rpb25TdGF0dXNbXCJMb2dpblwiXSA9IFwibG9naW5cIjtcclxuICAgIC8qKlxyXG4gICAgICogU3RhdHVzIHNldCB3aGVuIGxvZ291dCBjYWxsIG9jY3VyaW5nXHJcbiAgICAgKi9cclxuICAgIEludGVyYWN0aW9uU3RhdHVzW1wiTG9nb3V0XCJdID0gXCJsb2dvdXRcIjtcclxuICAgIC8qKlxyXG4gICAgICogU3RhdHVzIHNldCBmb3IgYWNxdWlyZVRva2VuIGNhbGxzXHJcbiAgICAgKi9cclxuICAgIEludGVyYWN0aW9uU3RhdHVzW1wiQWNxdWlyZVRva2VuXCJdID0gXCJhY3F1aXJlVG9rZW5cIjtcclxuICAgIC8qKlxyXG4gICAgICogU3RhdHVzIHNldCBmb3Igc3NvU2lsZW50IGNhbGxzXHJcbiAgICAgKi9cclxuICAgIEludGVyYWN0aW9uU3RhdHVzW1wiU3NvU2lsZW50XCJdID0gXCJzc29TaWxlbnRcIjtcclxuICAgIC8qKlxyXG4gICAgICogU3RhdHVzIHNldCB3aGVuIGhhbmRsZVJlZGlyZWN0IGluIHByb2dyZXNzXHJcbiAgICAgKi9cclxuICAgIEludGVyYWN0aW9uU3RhdHVzW1wiSGFuZGxlUmVkaXJlY3RcIl0gPSBcImhhbmRsZVJlZGlyZWN0XCI7XHJcbiAgICAvKipcclxuICAgICAqIFN0YXR1cyBzZXQgd2hlbiBpbnRlcmFjdGlvbiBpcyBjb21wbGV0ZVxyXG4gICAgICovXHJcbiAgICBJbnRlcmFjdGlvblN0YXR1c1tcIk5vbmVcIl0gPSBcIm5vbmVcIjtcclxufSkoSW50ZXJhY3Rpb25TdGF0dXMgfHwgKEludGVyYWN0aW9uU3RhdHVzID0ge30pKTtcclxudmFyIERFRkFVTFRfUkVRVUVTVCA9IHtcclxuICAgIHNjb3BlczogT0lEQ19ERUZBVUxUX1NDT1BFU1xyXG59O1xyXG4vKipcclxuICogSldLIEtleSBGb3JtYXQgc3RyaW5nIChUeXBlIE1VU1QgYmUgZGVmaW5lZCBmb3Igd2luZG93IGNyeXB0byBBUElzKVxyXG4gKi9cclxudmFyIEtFWV9GT1JNQVRfSldLID0gXCJqd2tcIjtcclxuLy8gU3VwcG9ydGVkIHdyYXBwZXIgU0tVc1xyXG52YXIgV3JhcHBlclNLVTtcclxuKGZ1bmN0aW9uIChXcmFwcGVyU0tVKSB7XHJcbiAgICBXcmFwcGVyU0tVW1wiUmVhY3RcIl0gPSBcIkBhenVyZS9tc2FsLXJlYWN0XCI7XHJcbiAgICBXcmFwcGVyU0tVW1wiQW5ndWxhclwiXSA9IFwiQGF6dXJlL21zYWwtYW5ndWxhclwiO1xyXG59KShXcmFwcGVyU0tVIHx8IChXcmFwcGVyU0tVID0ge30pKTtcclxuLy8gRGF0YWJhc2VTdG9yYWdlIENvbnN0YW50c1xyXG52YXIgREJfTkFNRSA9IFwibXNhbC5kYlwiO1xyXG52YXIgREJfVkVSU0lPTiA9IDE7XHJcbnZhciBEQl9UQUJMRV9OQU1FID0gREJfTkFNRSArIFwiLmtleXNcIjtcblxuZXhwb3J0IHsgQXBpSWQsIEJyb3dzZXJDYWNoZUxvY2F0aW9uLCBCcm93c2VyQ29uc3RhbnRzLCBEQl9OQU1FLCBEQl9UQUJMRV9OQU1FLCBEQl9WRVJTSU9OLCBERUZBVUxUX1JFUVVFU1QsIEhUVFBfUkVRVUVTVF9UWVBFLCBJbk1lbW9yeUNhY2hlS2V5cywgSW50ZXJhY3Rpb25TdGF0dXMsIEludGVyYWN0aW9uVHlwZSwgS0VZX0ZPUk1BVF9KV0ssIFRlbXBvcmFyeUNhY2hlS2V5cywgV3JhcHBlclNLVSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnJvd3NlckNvbnN0YW50cy5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjYuMS4wIDIwMjItMDItMDggKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IF9fYXdhaXRlciwgX19nZW5lcmF0b3IsIF9fYXNzaWduIH0gZnJvbSAnLi4vX3ZpcnR1YWwvX3RzbGliLmpzJztcbmltcG9ydCB7IEF1dGhvcml0eVR5cGUgfSBmcm9tICcuL0F1dGhvcml0eVR5cGUuanMnO1xuaW1wb3J0IHsgaXNPcGVuSWRDb25maWdSZXNwb25zZSB9IGZyb20gJy4vT3BlbklkQ29uZmlnUmVzcG9uc2UuanMnO1xuaW1wb3J0IHsgVXJsU3RyaW5nIH0gZnJvbSAnLi4vdXJsL1VybFN0cmluZy5qcyc7XG5pbXBvcnQgeyBDbGllbnRBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9DbGllbnRBdXRoRXJyb3IuanMnO1xuaW1wb3J0IHsgQ29uc3RhbnRzLCBBdXRob3JpdHlNZXRhZGF0YVNvdXJjZSwgUmVnaW9uRGlzY292ZXJ5T3V0Y29tZXMgfSBmcm9tICcuLi91dGlscy9Db25zdGFudHMuanMnO1xuaW1wb3J0IHsgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLmpzJztcbmltcG9ydCB7IFByb3RvY29sTW9kZSB9IGZyb20gJy4vUHJvdG9jb2xNb2RlLmpzJztcbmltcG9ydCB7IEF1dGhvcml0eU1ldGFkYXRhRW50aXR5IH0gZnJvbSAnLi4vY2FjaGUvZW50aXRpZXMvQXV0aG9yaXR5TWV0YWRhdGFFbnRpdHkuanMnO1xuaW1wb3J0IHsgQXp1cmVDbG91ZEluc3RhbmNlIH0gZnJvbSAnLi9BdXRob3JpdHlPcHRpb25zLmpzJztcbmltcG9ydCB7IGlzQ2xvdWRJbnN0YW5jZURpc2NvdmVyeVJlc3BvbnNlIH0gZnJvbSAnLi9DbG91ZEluc3RhbmNlRGlzY292ZXJ5UmVzcG9uc2UuanMnO1xuaW1wb3J0IHsgUmVnaW9uRGlzY292ZXJ5IH0gZnJvbSAnLi9SZWdpb25EaXNjb3ZlcnkuanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFRoZSBhdXRob3JpdHkgY2xhc3MgdmFsaWRhdGVzIHRoZSBhdXRob3JpdHkgVVJJcyB1c2VkIGJ5IHRoZSB1c2VyLCBhbmQgcmV0cmlldmVzIHRoZSBPcGVuSUQgQ29uZmlndXJhdGlvbiBEYXRhIGZyb20gdGhlXHJcbiAqIGVuZHBvaW50LiBJdCB3aWxsIHN0b3JlIHRoZSBwZXJ0aW5lbnQgY29uZmlnIGRhdGEgaW4gdGhpcyBvYmplY3QgZm9yIHVzZSBkdXJpbmcgdG9rZW4gY2FsbHMuXHJcbiAqL1xyXG52YXIgQXV0aG9yaXR5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQXV0aG9yaXR5KGF1dGhvcml0eSwgbmV0d29ya0ludGVyZmFjZSwgY2FjaGVNYW5hZ2VyLCBhdXRob3JpdHlPcHRpb25zLCBwcm94eVVybCkge1xyXG4gICAgICAgIHRoaXMuY2Fub25pY2FsQXV0aG9yaXR5ID0gYXV0aG9yaXR5O1xyXG4gICAgICAgIHRoaXMuX2Nhbm9uaWNhbEF1dGhvcml0eS52YWxpZGF0ZUFzVXJpKCk7XHJcbiAgICAgICAgdGhpcy5uZXR3b3JrSW50ZXJmYWNlID0gbmV0d29ya0ludGVyZmFjZTtcclxuICAgICAgICB0aGlzLmNhY2hlTWFuYWdlciA9IGNhY2hlTWFuYWdlcjtcclxuICAgICAgICB0aGlzLmF1dGhvcml0eU9wdGlvbnMgPSBhdXRob3JpdHlPcHRpb25zO1xyXG4gICAgICAgIHRoaXMucmVnaW9uRGlzY292ZXJ5ID0gbmV3IFJlZ2lvbkRpc2NvdmVyeShuZXR3b3JrSW50ZXJmYWNlKTtcclxuICAgICAgICB0aGlzLnJlZ2lvbkRpc2NvdmVyeU1ldGFkYXRhID0geyByZWdpb25fdXNlZDogdW5kZWZpbmVkLCByZWdpb25fc291cmNlOiB1bmRlZmluZWQsIHJlZ2lvbl9vdXRjb21lOiB1bmRlZmluZWQgfTtcclxuICAgICAgICB0aGlzLnByb3h5VXJsID0gcHJveHlVcmwgfHwgQ29uc3RhbnRzLkVNUFRZX1NUUklORztcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBdXRob3JpdHkucHJvdG90eXBlLCBcImF1dGhvcml0eVR5cGVcIiwge1xyXG4gICAgICAgIC8vIFNlZSBhYm92ZSBmb3IgQXV0aG9yaXR5VHlwZVxyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcGF0aFNlZ21lbnRzID0gdGhpcy5jYW5vbmljYWxBdXRob3JpdHlVcmxDb21wb25lbnRzLlBhdGhTZWdtZW50cztcclxuICAgICAgICAgICAgaWYgKHBhdGhTZWdtZW50cy5sZW5ndGggJiYgcGF0aFNlZ21lbnRzWzBdLnRvTG93ZXJDYXNlKCkgPT09IENvbnN0YW50cy5BREZTKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQXV0aG9yaXR5VHlwZS5BZGZzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBBdXRob3JpdHlUeXBlLkRlZmF1bHQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEF1dGhvcml0eS5wcm90b3R5cGUsIFwicHJvdG9jb2xNb2RlXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBQcm90b2NvbE1vZGUgZW51bSByZXByZXNlbnRpbmcgdGhlIHdheSBlbmRwb2ludHMgYXJlIGNvbnN0cnVjdGVkLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hdXRob3JpdHlPcHRpb25zLnByb3RvY29sTW9kZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXV0aG9yaXR5LnByb3RvdHlwZSwgXCJvcHRpb25zXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZXR1cm5zIGF1dGhvcml0eU9wdGlvbnMgd2hpY2ggY2FuIGJlIHVzZWQgdG8gcmVpbnN0YW50aWF0ZSBhIG5ldyBhdXRob3JpdHkgaW5zdGFuY2VcclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXV0aG9yaXR5T3B0aW9ucztcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXV0aG9yaXR5LnByb3RvdHlwZSwgXCJjYW5vbmljYWxBdXRob3JpdHlcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgVVJMIHRoYXQgaXMgdGhlIGF1dGhvcml0eSBzZXQgYnkgdGhlIGRldmVsb3BlclxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2Fub25pY2FsQXV0aG9yaXR5LnVybFN0cmluZztcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNldHMgY2Fub25pY2FsIGF1dGhvcml0eS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2Fub25pY2FsQXV0aG9yaXR5ID0gbmV3IFVybFN0cmluZyh1cmwpO1xyXG4gICAgICAgICAgICB0aGlzLl9jYW5vbmljYWxBdXRob3JpdHkudmFsaWRhdGVBc1VyaSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9jYW5vbmljYWxBdXRob3JpdHlVcmxDb21wb25lbnRzID0gbnVsbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXV0aG9yaXR5LnByb3RvdHlwZSwgXCJjYW5vbmljYWxBdXRob3JpdHlVcmxDb21wb25lbnRzXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXQgYXV0aG9yaXR5IGNvbXBvbmVudHMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fY2Fub25pY2FsQXV0aG9yaXR5VXJsQ29tcG9uZW50cykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2Fub25pY2FsQXV0aG9yaXR5VXJsQ29tcG9uZW50cyA9IHRoaXMuX2Nhbm9uaWNhbEF1dGhvcml0eS5nZXRVcmxDb21wb25lbnRzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Nhbm9uaWNhbEF1dGhvcml0eVVybENvbXBvbmVudHM7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEF1dGhvcml0eS5wcm90b3R5cGUsIFwiaG9zdG5hbWVBbmRQb3J0XCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXQgaG9zdG5hbWUgYW5kIHBvcnQgaS5lLiBsb2dpbi5taWNyb3NvZnRvbmxpbmUuY29tXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbm9uaWNhbEF1dGhvcml0eVVybENvbXBvbmVudHMuSG9zdE5hbWVBbmRQb3J0LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEF1dGhvcml0eS5wcm90b3R5cGUsIFwidGVuYW50XCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXQgdGVuYW50IGZvciBhdXRob3JpdHkuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbm9uaWNhbEF1dGhvcml0eVVybENvbXBvbmVudHMuUGF0aFNlZ21lbnRzWzBdO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBdXRob3JpdHkucHJvdG90eXBlLCBcImF1dGhvcml6YXRpb25FbmRwb2ludFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogT0F1dGggL2F1dGhvcml6ZSBlbmRwb2ludCBmb3IgcmVxdWVzdHNcclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGlzY292ZXJ5Q29tcGxldGUoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVuZHBvaW50ID0gdGhpcy5yZXBsYWNlUGF0aCh0aGlzLm1ldGFkYXRhLmF1dGhvcml6YXRpb25fZW5kcG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZVRlbmFudChlbmRwb2ludCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBDbGllbnRBdXRoRXJyb3IuY3JlYXRlRW5kcG9pbnREaXNjb3ZlcnlJbmNvbXBsZXRlRXJyb3IoXCJEaXNjb3ZlcnkgaW5jb21wbGV0ZS5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXV0aG9yaXR5LnByb3RvdHlwZSwgXCJ0b2tlbkVuZHBvaW50XCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBPQXV0aCAvdG9rZW4gZW5kcG9pbnQgZm9yIHJlcXVlc3RzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRpc2NvdmVyeUNvbXBsZXRlKCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbmRwb2ludCA9IHRoaXMucmVwbGFjZVBhdGgodGhpcy5tZXRhZGF0YS50b2tlbl9lbmRwb2ludCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlVGVuYW50KGVuZHBvaW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IENsaWVudEF1dGhFcnJvci5jcmVhdGVFbmRwb2ludERpc2NvdmVyeUluY29tcGxldGVFcnJvcihcIkRpc2NvdmVyeSBpbmNvbXBsZXRlLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBdXRob3JpdHkucHJvdG90eXBlLCBcImRldmljZUNvZGVFbmRwb2ludFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRpc2NvdmVyeUNvbXBsZXRlKCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbmRwb2ludCA9IHRoaXMucmVwbGFjZVBhdGgodGhpcy5tZXRhZGF0YS50b2tlbl9lbmRwb2ludC5yZXBsYWNlKFwiL3Rva2VuXCIsIFwiL2RldmljZWNvZGVcIikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZVRlbmFudChlbmRwb2ludCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBDbGllbnRBdXRoRXJyb3IuY3JlYXRlRW5kcG9pbnREaXNjb3ZlcnlJbmNvbXBsZXRlRXJyb3IoXCJEaXNjb3ZlcnkgaW5jb21wbGV0ZS5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXV0aG9yaXR5LnByb3RvdHlwZSwgXCJlbmRTZXNzaW9uRW5kcG9pbnRcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIE9BdXRoIGxvZ291dCBlbmRwb2ludCBmb3IgcmVxdWVzdHNcclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGlzY292ZXJ5Q29tcGxldGUoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gUk9QQyBwb2xpY2llcyBtYXkgbm90IGhhdmUgZW5kX3Nlc3Npb25fZW5kcG9pbnQgc2V0XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMubWV0YWRhdGEuZW5kX3Nlc3Npb25fZW5kcG9pbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBDbGllbnRBdXRoRXJyb3IuY3JlYXRlTG9nb3V0Tm90U3VwcG9ydGVkRXJyb3IoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBlbmRwb2ludCA9IHRoaXMucmVwbGFjZVBhdGgodGhpcy5tZXRhZGF0YS5lbmRfc2Vzc2lvbl9lbmRwb2ludCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlVGVuYW50KGVuZHBvaW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IENsaWVudEF1dGhFcnJvci5jcmVhdGVFbmRwb2ludERpc2NvdmVyeUluY29tcGxldGVFcnJvcihcIkRpc2NvdmVyeSBpbmNvbXBsZXRlLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBdXRob3JpdHkucHJvdG90eXBlLCBcInNlbGZTaWduZWRKd3RBdWRpZW5jZVwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogT0F1dGggaXNzdWVyIGZvciByZXF1ZXN0c1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kaXNjb3ZlcnlDb21wbGV0ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW5kcG9pbnQgPSB0aGlzLnJlcGxhY2VQYXRoKHRoaXMubWV0YWRhdGEuaXNzdWVyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlcGxhY2VUZW5hbnQoZW5kcG9pbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZUVuZHBvaW50RGlzY292ZXJ5SW5jb21wbGV0ZUVycm9yKFwiRGlzY292ZXJ5IGluY29tcGxldGUuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXBsYWNlcyB0ZW5hbnQgaW4gdXJsIHBhdGggd2l0aCBjdXJyZW50IHRlbmFudC4gRGVmYXVsdHMgdG8gY29tbW9uLlxyXG4gICAgICogQHBhcmFtIHVybFN0cmluZ1xyXG4gICAgICovXHJcbiAgICBBdXRob3JpdHkucHJvdG90eXBlLnJlcGxhY2VUZW5hbnQgPSBmdW5jdGlvbiAodXJsU3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHVybFN0cmluZy5yZXBsYWNlKC97dGVuYW50fXx7dGVuYW50aWR9L2csIHRoaXMudGVuYW50KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlcGxhY2VzIHBhdGggc3VjaCBhcyB0ZW5hbnQgb3IgcG9saWN5IHdpdGggdGhlIGN1cnJlbnQgdGVuYW50IG9yIHBvbGljeS5cclxuICAgICAqIEBwYXJhbSB1cmxTdHJpbmdcclxuICAgICAqL1xyXG4gICAgQXV0aG9yaXR5LnByb3RvdHlwZS5yZXBsYWNlUGF0aCA9IGZ1bmN0aW9uICh1cmxTdHJpbmcpIHtcclxuICAgICAgICB2YXIgZW5kcG9pbnQgPSB1cmxTdHJpbmc7XHJcbiAgICAgICAgdmFyIGNhY2hlZEF1dGhvcml0eVVybCA9IG5ldyBVcmxTdHJpbmcodGhpcy5tZXRhZGF0YS5jYW5vbmljYWxfYXV0aG9yaXR5KTtcclxuICAgICAgICB2YXIgY2FjaGVkQXV0aG9yaXR5UGFydHMgPSBjYWNoZWRBdXRob3JpdHlVcmwuZ2V0VXJsQ29tcG9uZW50cygpLlBhdGhTZWdtZW50cztcclxuICAgICAgICB2YXIgY3VycmVudEF1dGhvcml0eVBhcnRzID0gdGhpcy5jYW5vbmljYWxBdXRob3JpdHlVcmxDb21wb25lbnRzLlBhdGhTZWdtZW50cztcclxuICAgICAgICBjdXJyZW50QXV0aG9yaXR5UGFydHMuZm9yRWFjaChmdW5jdGlvbiAoY3VycmVudFBhcnQsIGluZGV4KSB7XHJcbiAgICAgICAgICAgIHZhciBjYWNoZWRQYXJ0ID0gY2FjaGVkQXV0aG9yaXR5UGFydHNbaW5kZXhdO1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudFBhcnQgIT09IGNhY2hlZFBhcnQpIHtcclxuICAgICAgICAgICAgICAgIGVuZHBvaW50ID0gZW5kcG9pbnQucmVwbGFjZShcIi9cIiArIGNhY2hlZFBhcnQgKyBcIi9cIiwgXCIvXCIgKyBjdXJyZW50UGFydCArIFwiL1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBlbmRwb2ludDtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXV0aG9yaXR5LnByb3RvdHlwZSwgXCJkZWZhdWx0T3BlbklkQ29uZmlndXJhdGlvbkVuZHBvaW50XCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBvcGVuIGlkIGNvbmZpZ3VyYXRpb24gZW5kcG9pbnQgZm9yIGFueSBjYW5vbmljYWwgYXV0aG9yaXR5LlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hdXRob3JpdHlUeXBlID09PSBBdXRob3JpdHlUeXBlLkFkZnMgfHwgdGhpcy5wcm90b2NvbE1vZGUgPT09IFByb3RvY29sTW9kZS5PSURDKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYW5vbmljYWxBdXRob3JpdHkgKyBcIi53ZWxsLWtub3duL29wZW5pZC1jb25maWd1cmF0aW9uXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2Fub25pY2FsQXV0aG9yaXR5ICsgXCJ2Mi4wLy53ZWxsLWtub3duL29wZW5pZC1jb25maWd1cmF0aW9uXCI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBCb29sZWFuIHRoYXQgcmV0dXJucyB3aGV0aHIgb3Igbm90IHRlbmFudCBkaXNjb3ZlcnkgaGFzIGJlZW4gY29tcGxldGVkLlxyXG4gICAgICovXHJcbiAgICBBdXRob3JpdHkucHJvdG90eXBlLmRpc2NvdmVyeUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMubWV0YWRhdGE7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtIGVuZHBvaW50IGRpc2NvdmVyeSB0byBkaXNjb3ZlciBhbGlhc2VzLCBwcmVmZXJyZWRfY2FjaGUsIHByZWZlcnJlZF9uZXR3b3JrXHJcbiAgICAgKiBhbmQgdGhlIC9hdXRob3JpemUsIC90b2tlbiBhbmQgbG9nb3V0IGVuZHBvaW50cy5cclxuICAgICAqL1xyXG4gICAgQXV0aG9yaXR5LnByb3RvdHlwZS5yZXNvbHZlRW5kcG9pbnRzQXN5bmMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbWV0YWRhdGFFbnRpdHksIGNsb3VkRGlzY292ZXJ5U291cmNlLCBlbmRwb2ludFNvdXJjZSwgY2FjaGVLZXk7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhRW50aXR5ID0gdGhpcy5jYWNoZU1hbmFnZXIuZ2V0QXV0aG9yaXR5TWV0YWRhdGFCeUFsaWFzKHRoaXMuaG9zdG5hbWVBbmRQb3J0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFtZXRhZGF0YUVudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGFFbnRpdHkgPSBuZXcgQXV0aG9yaXR5TWV0YWRhdGFFbnRpdHkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhRW50aXR5LnVwZGF0ZUNhbm9uaWNhbEF1dGhvcml0eSh0aGlzLmNhbm9uaWNhbEF1dGhvcml0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy51cGRhdGVDbG91ZERpc2NvdmVyeU1ldGFkYXRhKG1ldGFkYXRhRW50aXR5KV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbG91ZERpc2NvdmVyeVNvdXJjZSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5vbmljYWxBdXRob3JpdHkgPSB0aGlzLmNhbm9uaWNhbEF1dGhvcml0eS5yZXBsYWNlKHRoaXMuaG9zdG5hbWVBbmRQb3J0LCBtZXRhZGF0YUVudGl0eS5wcmVmZXJyZWRfbmV0d29yayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMudXBkYXRlRW5kcG9pbnRNZXRhZGF0YShtZXRhZGF0YUVudGl0eSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kcG9pbnRTb3VyY2UgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbG91ZERpc2NvdmVyeVNvdXJjZSAhPT0gQXV0aG9yaXR5TWV0YWRhdGFTb3VyY2UuQ0FDSEUgJiYgZW5kcG9pbnRTb3VyY2UgIT09IEF1dGhvcml0eU1ldGFkYXRhU291cmNlLkNBQ0hFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXNldCB0aGUgZXhwaXJhdGlvbiB0aW1lIHVubGVzcyBib3RoIHZhbHVlcyBjYW1lIGZyb20gYSBzdWNjZXNzZnVsIGNhY2hlIGxvb2t1cFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGFFbnRpdHkucmVzZXRFeHBpcmVzQXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhRW50aXR5LnVwZGF0ZUNhbm9uaWNhbEF1dGhvcml0eSh0aGlzLmNhbm9uaWNhbEF1dGhvcml0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVLZXkgPSB0aGlzLmNhY2hlTWFuYWdlci5nZW5lcmF0ZUF1dGhvcml0eU1ldGFkYXRhQ2FjaGVLZXkobWV0YWRhdGFFbnRpdHkucHJlZmVycmVkX2NhY2hlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZU1hbmFnZXIuc2V0QXV0aG9yaXR5TWV0YWRhdGEoY2FjaGVLZXksIG1ldGFkYXRhRW50aXR5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhRW50aXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIEF1dGhvcml0eU1ldGFkYXRhRW50aXR5IHdpdGggbmV3IGVuZHBvaW50cyBhbmQgcmV0dXJuIHdoZXJlIHRoZSBpbmZvcm1hdGlvbiBjYW1lIGZyb21cclxuICAgICAqIEBwYXJhbSBtZXRhZGF0YUVudGl0eVxyXG4gICAgICovXHJcbiAgICBBdXRob3JpdHkucHJvdG90eXBlLnVwZGF0ZUVuZHBvaW50TWV0YWRhdGEgPSBmdW5jdGlvbiAobWV0YWRhdGFFbnRpdHkpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbWV0YWRhdGEsIGF1dG9kZXRlY3RlZFJlZ2lvbk5hbWUsIGF6dXJlUmVnaW9uO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YSA9IHRoaXMuZ2V0RW5kcG9pbnRNZXRhZGF0YUZyb21Db25maWcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGFkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YUVudGl0eS51cGRhdGVFbmRwb2ludE1ldGFkYXRhKG1ldGFkYXRhLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgQXV0aG9yaXR5TWV0YWRhdGFTb3VyY2UuQ09ORklHXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0F1dGhvcml0eVNhbWVUeXBlKG1ldGFkYXRhRW50aXR5KSAmJiBtZXRhZGF0YUVudGl0eS5lbmRwb2ludHNGcm9tTmV0d29yayAmJiAhbWV0YWRhdGFFbnRpdHkuaXNFeHBpcmVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gdXBkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgQXV0aG9yaXR5TWV0YWRhdGFTb3VyY2UuQ0FDSEVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZ2V0RW5kcG9pbnRNZXRhZGF0YUZyb21OZXR3b3JrKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGEgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbWV0YWRhdGEpIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISgoX2EgPSB0aGlzLmF1dGhvcml0eU9wdGlvbnMuYXp1cmVSZWdpb25Db25maWd1cmF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYXp1cmVSZWdpb24pKSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZWdpb25EaXNjb3ZlcnkuZGV0ZWN0UmVnaW9uKHRoaXMuYXV0aG9yaXR5T3B0aW9ucy5henVyZVJlZ2lvbkNvbmZpZ3VyYXRpb24uZW52aXJvbm1lbnRSZWdpb24sIHRoaXMucmVnaW9uRGlzY292ZXJ5TWV0YWRhdGEsIHRoaXMucHJveHlVcmwpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9kZXRlY3RlZFJlZ2lvbk5hbWUgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF6dXJlUmVnaW9uID0gdGhpcy5hdXRob3JpdHlPcHRpb25zLmF6dXJlUmVnaW9uQ29uZmlndXJhdGlvbi5henVyZVJlZ2lvbiA9PT0gQ29uc3RhbnRzLkFaVVJFX1JFR0lPTl9BVVRPX0RJU0NPVkVSX0ZMQUdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYXV0b2RldGVjdGVkUmVnaW9uTmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmF1dGhvcml0eU9wdGlvbnMuYXp1cmVSZWdpb25Db25maWd1cmF0aW9uLmF6dXJlUmVnaW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hdXRob3JpdHlPcHRpb25zLmF6dXJlUmVnaW9uQ29uZmlndXJhdGlvbi5henVyZVJlZ2lvbiA9PT0gQ29uc3RhbnRzLkFaVVJFX1JFR0lPTl9BVVRPX0RJU0NPVkVSX0ZMQUcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVnaW9uRGlzY292ZXJ5TWV0YWRhdGEucmVnaW9uX291dGNvbWUgPSBhdXRvZGV0ZWN0ZWRSZWdpb25OYW1lID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWdpb25EaXNjb3ZlcnlPdXRjb21lcy5BVVRPX0RFVEVDVElPTl9SRVFVRVNURURfU1VDQ0VTU0ZVTCA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVnaW9uRGlzY292ZXJ5T3V0Y29tZXMuQVVUT19ERVRFQ1RJT05fUkVRVUVTVEVEX0ZBSUxFRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdXRvZGV0ZWN0ZWRSZWdpb25OYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpb25EaXNjb3ZlcnlNZXRhZGF0YS5yZWdpb25fb3V0Y29tZSA9ICh0aGlzLmF1dGhvcml0eU9wdGlvbnMuYXp1cmVSZWdpb25Db25maWd1cmF0aW9uLmF6dXJlUmVnaW9uID09PSBhdXRvZGV0ZWN0ZWRSZWdpb25OYW1lKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlZ2lvbkRpc2NvdmVyeU91dGNvbWVzLkNPTkZJR1VSRURfTUFUQ0hFU19ERVRFQ1RFRCA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlZ2lvbkRpc2NvdmVyeU91dGNvbWVzLkNPTkZJR1VSRURfTk9UX0RFVEVDVEVEO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpb25EaXNjb3ZlcnlNZXRhZGF0YS5yZWdpb25fb3V0Y29tZSA9IFJlZ2lvbkRpc2NvdmVyeU91dGNvbWVzLkNPTkZJR1VSRURfTk9fQVVUT19ERVRFQ1RJT047XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF6dXJlUmVnaW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZ2lvbkRpc2NvdmVyeU1ldGFkYXRhLnJlZ2lvbl91c2VkID0gYXp1cmVSZWdpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YSA9IEF1dGhvcml0eS5yZXBsYWNlV2l0aFJlZ2lvbmFsSW5mb3JtYXRpb24obWV0YWRhdGEsIGF6dXJlUmVnaW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YUVudGl0eS51cGRhdGVFbmRwb2ludE1ldGFkYXRhKG1ldGFkYXRhLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIEF1dGhvcml0eU1ldGFkYXRhU291cmNlLk5FVFdPUktdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogdGhyb3cgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZVVuYWJsZVRvR2V0T3BlbmlkQ29uZmlnRXJyb3IodGhpcy5kZWZhdWx0T3BlbklkQ29uZmlndXJhdGlvbkVuZHBvaW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb21wYXJlcyB0aGUgbnVtYmVyIG9mIHVybCBjb21wb25lbnRzIGFmdGVyIHRoZSBkb21haW4gdG8gZGV0ZXJtaW5lIGlmIHRoZSBjYWNoZWQgYXV0aG9yaXR5IG1ldGFkYXRhIGNhbiBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdGVkIGF1dGhvcml0eVxyXG4gICAgICogUHJvdGVjdHMgYWdhaW5zdCBzYW1lIGRvbWFpbiBkaWZmZXJlbnQgYXV0aG9yaXR5IHN1Y2ggYXMgbG9naW4ubWljcm9zb2Z0b25saW5lLmNvbS90ZW5hbnQgYW5kIGxvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vdGZwL3RlbmFudC9wb2xpY3lcclxuICAgICAqIEBwYXJhbSBtZXRhZGF0YUVudGl0eVxyXG4gICAgICovXHJcbiAgICBBdXRob3JpdHkucHJvdG90eXBlLmlzQXV0aG9yaXR5U2FtZVR5cGUgPSBmdW5jdGlvbiAobWV0YWRhdGFFbnRpdHkpIHtcclxuICAgICAgICB2YXIgY2FjaGVkQXV0aG9yaXR5VXJsID0gbmV3IFVybFN0cmluZyhtZXRhZGF0YUVudGl0eS5jYW5vbmljYWxfYXV0aG9yaXR5KTtcclxuICAgICAgICB2YXIgY2FjaGVkUGFydHMgPSBjYWNoZWRBdXRob3JpdHlVcmwuZ2V0VXJsQ29tcG9uZW50cygpLlBhdGhTZWdtZW50cztcclxuICAgICAgICByZXR1cm4gY2FjaGVkUGFydHMubGVuZ3RoID09PSB0aGlzLmNhbm9uaWNhbEF1dGhvcml0eVVybENvbXBvbmVudHMuUGF0aFNlZ21lbnRzLmxlbmd0aDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFBhcnNlIGF1dGhvcml0eU1ldGFkYXRhIGNvbmZpZyBvcHRpb25cclxuICAgICAqL1xyXG4gICAgQXV0aG9yaXR5LnByb3RvdHlwZS5nZXRFbmRwb2ludE1ldGFkYXRhRnJvbUNvbmZpZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5hdXRob3JpdHlPcHRpb25zLmF1dGhvcml0eU1ldGFkYXRhKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh0aGlzLmF1dGhvcml0eU9wdGlvbnMuYXV0aG9yaXR5TWV0YWRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IuY3JlYXRlSW52YWxpZEF1dGhvcml0eU1ldGFkYXRhRXJyb3IoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgT0F1dGggZW5kcG9pbnRzIGZyb20gdGhlIGdpdmVuIE9wZW5JRCBjb25maWd1cmF0aW9uIGVuZHBvaW50LlxyXG4gICAgICovXHJcbiAgICBBdXRob3JpdHkucHJvdG90eXBlLmdldEVuZHBvaW50TWV0YWRhdGFGcm9tTmV0d29yayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBvcHRpb25zLCByZXNwb25zZTtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm94eVVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5wcm94eVVybCA9IHRoaXMucHJveHlVcmw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFsxLCAzLCAsIDRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5uZXR3b3JrSW50ZXJmYWNlLnNlbmRHZXRSZXF1ZXN0QXN5bmModGhpcy5kZWZhdWx0T3BlbklkQ29uZmlndXJhdGlvbkVuZHBvaW50LCBvcHRpb25zKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGlzT3BlbklkQ29uZmlnUmVzcG9uc2UocmVzcG9uc2UuYm9keSkgPyByZXNwb25zZS5ib2R5IDogbnVsbF07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBudWxsXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIHRoZSBBdXRob3JpdHlNZXRhZGF0YUVudGl0eSB3aXRoIG5ldyBhbGlhc2VzLCBwcmVmZXJyZWRfbmV0d29yayBhbmQgcHJlZmVycmVkX2NhY2hlIGFuZCByZXR1cm5zIHdoZXJlIHRoZSBpbmZvcm1hdGlvbiB3YXMgcmV0cml2ZWQgZnJvbVxyXG4gICAgICogQHBhcmFtIGNhY2hlZE1ldGFkYXRhXHJcbiAgICAgKiBAcGFyYW0gbmV3TWV0YWRhdGFcclxuICAgICAqL1xyXG4gICAgQXV0aG9yaXR5LnByb3RvdHlwZS51cGRhdGVDbG91ZERpc2NvdmVyeU1ldGFkYXRhID0gZnVuY3Rpb24gKG1ldGFkYXRhRW50aXR5KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbWV0YWRhdGE7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhID0gdGhpcy5nZXRDbG91ZERpc2NvdmVyeU1ldGFkYXRhRnJvbUNvbmZpZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWV0YWRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhRW50aXR5LnVwZGF0ZUNsb3VkRGlzY292ZXJ5TWV0YWRhdGEobWV0YWRhdGEsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBBdXRob3JpdHlNZXRhZGF0YVNvdXJjZS5DT05GSUddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIFRoZSBjYWNoZWQgbWV0YWRhdGEgY2FtZSBmcm9tIGNvbmZpZyBidXQgdGhhdCBjb25maWcgd2FzIG5vdCBwYXNzZWQgdG8gdGhpcyBpbnN0YW5jZSwgd2UgbXVzdCBnbyB0byB0aGUgbmV0d29ya1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0F1dGhvcml0eVNhbWVUeXBlKG1ldGFkYXRhRW50aXR5KSAmJiBtZXRhZGF0YUVudGl0eS5hbGlhc2VzRnJvbU5ldHdvcmsgJiYgIW1ldGFkYXRhRW50aXR5LmlzRXhwaXJlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBObyBuZWVkIHRvIHVwZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIEF1dGhvcml0eU1ldGFkYXRhU291cmNlLkNBQ0hFXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmdldENsb3VkRGlzY292ZXJ5TWV0YWRhdGFGcm9tTmV0d29yaygpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWV0YWRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhRW50aXR5LnVwZGF0ZUNsb3VkRGlzY292ZXJ5TWV0YWRhdGEobWV0YWRhdGEsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIEF1dGhvcml0eU1ldGFkYXRhU291cmNlLk5FVFdPUktdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWV0YWRhdGEgY291bGQgbm90IGJlIG9idGFpbmVkIGZyb20gY29uZmlnLCBjYWNoZSBvciBuZXR3b3JrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IuY3JlYXRlVW50cnVzdGVkQXV0aG9yaXR5RXJyb3IoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFBhcnNlIGNsb3VkRGlzY292ZXJ5TWV0YWRhdGEgY29uZmlnIG9yIGNoZWNrIGtub3duQXV0aG9yaXRpZXNcclxuICAgICAqL1xyXG4gICAgQXV0aG9yaXR5LnByb3RvdHlwZS5nZXRDbG91ZERpc2NvdmVyeU1ldGFkYXRhRnJvbUNvbmZpZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBDaGVjayBpZiBuZXR3b3JrIHJlc3BvbnNlIHdhcyBwcm92aWRlZCBpbiBjb25maWdcclxuICAgICAgICBpZiAodGhpcy5hdXRob3JpdHlPcHRpb25zLmNsb3VkRGlzY292ZXJ5TWV0YWRhdGEpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJzZWRSZXNwb25zZSA9IEpTT04ucGFyc2UodGhpcy5hdXRob3JpdHlPcHRpb25zLmNsb3VkRGlzY292ZXJ5TWV0YWRhdGEpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1ldGFkYXRhID0gQXV0aG9yaXR5LmdldENsb3VkRGlzY292ZXJ5TWV0YWRhdGFGcm9tTmV0d29ya1Jlc3BvbnNlKHBhcnNlZFJlc3BvbnNlLm1ldGFkYXRhLCB0aGlzLmhvc3RuYW1lQW5kUG9ydCk7XHJcbiAgICAgICAgICAgICAgICBpZiAobWV0YWRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWV0YWRhdGE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IENsaWVudENvbmZpZ3VyYXRpb25FcnJvci5jcmVhdGVJbnZhbGlkQ2xvdWREaXNjb3ZlcnlNZXRhZGF0YUVycm9yKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSWYgY2xvdWREaXNjb3ZlcnlNZXRhZGF0YSBpcyBlbXB0eSBvciBkb2VzIG5vdCBjb250YWluIHRoZSBob3N0LCBjaGVjayBrbm93bkF1dGhvcml0aWVzXHJcbiAgICAgICAgaWYgKHRoaXMuaXNJbktub3duQXV0aG9yaXRpZXMoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQXV0aG9yaXR5LmNyZWF0ZUNsb3VkRGlzY292ZXJ5TWV0YWRhdGFGcm9tSG9zdCh0aGlzLmhvc3RuYW1lQW5kUG9ydCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGVkIHRvIGdldCBtZXRhZGF0YSBmcm9tIG5ldHdvcmsgaWYgQ2xvdWREaXNjb3ZlcnlNZXRhZGF0YSB3YXMgbm90IHBvcHVsYXRlZCBieSBjb25maWdcclxuICAgICAqIEBwYXJhbSBuZXR3b3JrSW50ZXJmYWNlXHJcbiAgICAgKi9cclxuICAgIEF1dGhvcml0eS5wcm90b3R5cGUuZ2V0Q2xvdWREaXNjb3ZlcnlNZXRhZGF0YUZyb21OZXR3b3JrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGluc3RhbmNlRGlzY292ZXJ5RW5kcG9pbnQsIG9wdGlvbnMsIG1hdGNoLCByZXNwb25zZSwgbWV0YWRhdGE7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlRGlzY292ZXJ5RW5kcG9pbnQgPSBcIlwiICsgQ29uc3RhbnRzLkFBRF9JTlNUQU5DRV9ESVNDT1ZFUllfRU5EUFQgKyB0aGlzLmNhbm9uaWNhbEF1dGhvcml0eSArIFwib2F1dGgyL3YyLjAvYXV0aG9yaXplXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJveHlVcmwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucHJveHlVcmwgPSB0aGlzLnByb3h5VXJsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFsxLCAzLCAsIDRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5uZXR3b3JrSW50ZXJmYWNlLnNlbmRHZXRSZXF1ZXN0QXN5bmMoaW5zdGFuY2VEaXNjb3ZlcnlFbmRwb2ludCwgb3B0aW9ucyldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhID0gaXNDbG91ZEluc3RhbmNlRGlzY292ZXJ5UmVzcG9uc2UocmVzcG9uc2UuYm9keSkgPyByZXNwb25zZS5ib2R5Lm1ldGFkYXRhIDogW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXRhZGF0YS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIG5vIG1ldGFkYXRhIGlzIHJldHVybmVkLCBhdXRob3JpdHkgaXMgdW50cnVzdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgbnVsbF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBBdXRob3JpdHkuZ2V0Q2xvdWREaXNjb3ZlcnlNZXRhZGF0YUZyb21OZXR3b3JrUmVzcG9uc2UobWV0YWRhdGEsIHRoaXMuaG9zdG5hbWVBbmRQb3J0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBudWxsXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbWF0Y2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEN1c3RvbSBEb21haW4gc2NlbmFyaW8sIGhvc3QgaXMgdHJ1c3RlZCBiZWNhdXNlIEluc3RhbmNlIERpc2NvdmVyeSBjYWxsIHN1Y2NlZWRlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBBdXRob3JpdHkuY3JlYXRlQ2xvdWREaXNjb3ZlcnlNZXRhZGF0YUZyb21Ib3N0KHRoaXMuaG9zdG5hbWVBbmRQb3J0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgbWF0Y2hdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0byBkZXRlcm1pbmUgaWYgdGhpcyBob3N0IGlzIGluY2x1ZGVkIGluIHRoZSBrbm93bkF1dGhvcml0aWVzIGNvbmZpZyBvcHRpb25cclxuICAgICAqL1xyXG4gICAgQXV0aG9yaXR5LnByb3RvdHlwZS5pc0luS25vd25BdXRob3JpdGllcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBtYXRjaGVzID0gdGhpcy5hdXRob3JpdHlPcHRpb25zLmtub3duQXV0aG9yaXRpZXMuZmlsdGVyKGZ1bmN0aW9uIChhdXRob3JpdHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFVybFN0cmluZy5nZXREb21haW5Gcm9tVXJsKGF1dGhvcml0eSkudG9Mb3dlckNhc2UoKSA9PT0gX3RoaXMuaG9zdG5hbWVBbmRQb3J0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBtYXRjaGVzLmxlbmd0aCA+IDA7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBoZWxwZXIgZnVuY3Rpb24gdG8gcG9wdWxhdGUgdGhlIGF1dGhvcml0eSBiYXNlZCBvbiBhenVyZUNsb3VkT3B0aW9uc1xyXG4gICAgICogQHBhcmFtIGF1dGhvcml0eVN0cmluZ1xyXG4gICAgICogQHBhcmFtIGF6dXJlQ2xvdWRPcHRpb25zXHJcbiAgICAgKi9cclxuICAgIEF1dGhvcml0eS5nZW5lcmF0ZUF1dGhvcml0eSA9IGZ1bmN0aW9uIChhdXRob3JpdHlTdHJpbmcsIGF6dXJlQ2xvdWRPcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIGF1dGhvcml0eUF6dXJlQ2xvdWRJbnN0YW5jZTtcclxuICAgICAgICBpZiAoYXp1cmVDbG91ZE9wdGlvbnMgJiYgYXp1cmVDbG91ZE9wdGlvbnMuYXp1cmVDbG91ZEluc3RhbmNlICE9PSBBenVyZUNsb3VkSW5zdGFuY2UuTm9uZSkge1xyXG4gICAgICAgICAgICB2YXIgdGVuYW50ID0gYXp1cmVDbG91ZE9wdGlvbnMudGVuYW50ID8gYXp1cmVDbG91ZE9wdGlvbnMudGVuYW50IDogQ29uc3RhbnRzLkRFRkFVTFRfQ09NTU9OX1RFTkFOVDtcclxuICAgICAgICAgICAgYXV0aG9yaXR5QXp1cmVDbG91ZEluc3RhbmNlID0gYXp1cmVDbG91ZE9wdGlvbnMuYXp1cmVDbG91ZEluc3RhbmNlICsgXCIvXCIgKyB0ZW5hbnQgKyBcIi9cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGF1dGhvcml0eUF6dXJlQ2xvdWRJbnN0YW5jZSA/IGF1dGhvcml0eUF6dXJlQ2xvdWRJbnN0YW5jZSA6IGF1dGhvcml0eVN0cmluZztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgY2xvdWQgZGlzY292ZXJ5IG1ldGFkYXRhIG9iamVjdCBmcm9tIGEgZ2l2ZW4gaG9zdFxyXG4gICAgICogQHBhcmFtIGhvc3RcclxuICAgICAqL1xyXG4gICAgQXV0aG9yaXR5LmNyZWF0ZUNsb3VkRGlzY292ZXJ5TWV0YWRhdGFGcm9tSG9zdCA9IGZ1bmN0aW9uIChob3N0KSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcHJlZmVycmVkX25ldHdvcms6IGhvc3QsXHJcbiAgICAgICAgICAgIHByZWZlcnJlZF9jYWNoZTogaG9zdCxcclxuICAgICAgICAgICAgYWxpYXNlczogW2hvc3RdXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNlYXJjaGVzIGluc3RhbmNlIGRpc2NvdmVyeSBuZXR3b3JrIHJlc3BvbnNlIGZvciB0aGUgZW50cnkgdGhhdCBjb250YWlucyB0aGUgaG9zdCBpbiB0aGUgYWxpYXNlcyBsaXN0XHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VcclxuICAgICAqIEBwYXJhbSBhdXRob3JpdHlcclxuICAgICAqL1xyXG4gICAgQXV0aG9yaXR5LmdldENsb3VkRGlzY292ZXJ5TWV0YWRhdGFGcm9tTmV0d29ya1Jlc3BvbnNlID0gZnVuY3Rpb24gKHJlc3BvbnNlLCBhdXRob3JpdHkpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBtZXRhZGF0YSA9IHJlc3BvbnNlW2ldO1xyXG4gICAgICAgICAgICBpZiAobWV0YWRhdGEuYWxpYXNlcy5pbmRleE9mKGF1dGhvcml0eSkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ldGFkYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogaGVscGVyIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIGVudmlyb25tZW50IGZyb20gYXV0aG9yaXR5IG9iamVjdFxyXG4gICAgICovXHJcbiAgICBBdXRob3JpdHkucHJvdG90eXBlLmdldFByZWZlcnJlZENhY2hlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmRpc2NvdmVyeUNvbXBsZXRlKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWV0YWRhdGEucHJlZmVycmVkX2NhY2hlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZUVuZHBvaW50RGlzY292ZXJ5SW5jb21wbGV0ZUVycm9yKFwiRGlzY292ZXJ5IGluY29tcGxldGUuXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHByb3ZpZGVkIGhvc3QgaXMgYW4gYWxpYXMgb2YgdGhpcyBhdXRob3JpdHkgaW5zdGFuY2VcclxuICAgICAqIEBwYXJhbSBob3N0XHJcbiAgICAgKi9cclxuICAgIEF1dGhvcml0eS5wcm90b3R5cGUuaXNBbGlhcyA9IGZ1bmN0aW9uIChob3N0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWV0YWRhdGEuYWxpYXNlcy5pbmRleE9mKGhvc3QpID4gLTE7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgcHJvdmlkZWQgaG9zdCBpcyB0aGF0IG9mIGEgcHVibGljIGNsb3VkIGF1dGhvcml0eVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBhdXRob3JpdHkgc3RyaW5nXHJcbiAgICAgKiBAcmV0dXJucyBib29sXHJcbiAgICAgKi9cclxuICAgIEF1dGhvcml0eS5pc1B1YmxpY0Nsb3VkQXV0aG9yaXR5ID0gZnVuY3Rpb24gKGhvc3QpIHtcclxuICAgICAgICByZXR1cm4gQ29uc3RhbnRzLktOT1dOX1BVQkxJQ19DTE9VRFMuaW5kZXhPZihob3N0KSA+PSAwO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVidWlsZCB0aGUgYXV0aG9yaXR5IHN0cmluZyB3aXRoIHRoZSByZWdpb25cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaG9zdCBzdHJpbmdcclxuICAgICAqIEBwYXJhbSByZWdpb24gc3RyaW5nXHJcbiAgICAgKi9cclxuICAgIEF1dGhvcml0eS5idWlsZFJlZ2lvbmFsQXV0aG9yaXR5U3RyaW5nID0gZnVuY3Rpb24gKGhvc3QsIHJlZ2lvbiwgcXVlcnlTdHJpbmcpIHtcclxuICAgICAgICAvLyBDcmVhdGUgYW5kIHZhbGlkYXRlIGEgVXJsIHN0cmluZyBvYmplY3Qgd2l0aCB0aGUgaW5pdGlhbCBhdXRob3JpdHkgc3RyaW5nXHJcbiAgICAgICAgdmFyIGF1dGhvcml0eVVybEluc3RhbmNlID0gbmV3IFVybFN0cmluZyhob3N0KTtcclxuICAgICAgICBhdXRob3JpdHlVcmxJbnN0YW5jZS52YWxpZGF0ZUFzVXJpKCk7XHJcbiAgICAgICAgdmFyIGF1dGhvcml0eVVybFBhcnRzID0gYXV0aG9yaXR5VXJsSW5zdGFuY2UuZ2V0VXJsQ29tcG9uZW50cygpO1xyXG4gICAgICAgIHZhciBob3N0TmFtZUFuZFBvcnQgPSByZWdpb24gKyBcIi5cIiArIGF1dGhvcml0eVVybFBhcnRzLkhvc3ROYW1lQW5kUG9ydDtcclxuICAgICAgICBpZiAodGhpcy5pc1B1YmxpY0Nsb3VkQXV0aG9yaXR5KGF1dGhvcml0eVVybFBhcnRzLkhvc3ROYW1lQW5kUG9ydCkpIHtcclxuICAgICAgICAgICAgaG9zdE5hbWVBbmRQb3J0ID0gcmVnaW9uICsgXCIuXCIgKyBDb25zdGFudHMuUkVHSU9OQUxfQVVUSF9QVUJMSUNfQ0xPVURfU1VGRklYO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJbmNsdWRlIHRoZSBxdWVyeSBzdHJpbmcgcG9ydGlvbiBvZiB0aGUgdXJsXHJcbiAgICAgICAgdmFyIHVybCA9IFVybFN0cmluZy5jb25zdHJ1Y3RBdXRob3JpdHlVcmlGcm9tT2JqZWN0KF9fYXNzaWduKF9fYXNzaWduKHt9LCBhdXRob3JpdHlVcmxJbnN0YW5jZS5nZXRVcmxDb21wb25lbnRzKCkpLCB7IEhvc3ROYW1lQW5kUG9ydDogaG9zdE5hbWVBbmRQb3J0IH0pKS51cmxTdHJpbmc7XHJcbiAgICAgICAgLy8gQWRkIHRoZSBxdWVyeSBzdHJpbmcgaWYgYSBxdWVyeSBzdHJpbmcgd2FzIHByb3ZpZGVkXHJcbiAgICAgICAgaWYgKHF1ZXJ5U3RyaW5nKVxyXG4gICAgICAgICAgICByZXR1cm4gdXJsICsgXCI/XCIgKyBxdWVyeVN0cmluZztcclxuICAgICAgICByZXR1cm4gdXJsO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVwbGFjZSB0aGUgZW5kcG9pbnRzIGluIHRoZSBtZXRhZGF0YSBvYmplY3Qgd2l0aCB0aGVpciByZWdpb25hbCBlcXVpdmFsZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbWV0YWRhdGEgT3BlbklkQ29uZmlnUmVzcG9uc2VcclxuICAgICAqIEBwYXJhbSBhenVyZVJlZ2lvbiBzdHJpbmdcclxuICAgICAqL1xyXG4gICAgQXV0aG9yaXR5LnJlcGxhY2VXaXRoUmVnaW9uYWxJbmZvcm1hdGlvbiA9IGZ1bmN0aW9uIChtZXRhZGF0YSwgYXp1cmVSZWdpb24pIHtcclxuICAgICAgICBtZXRhZGF0YS5hdXRob3JpemF0aW9uX2VuZHBvaW50ID0gQXV0aG9yaXR5LmJ1aWxkUmVnaW9uYWxBdXRob3JpdHlTdHJpbmcobWV0YWRhdGEuYXV0aG9yaXphdGlvbl9lbmRwb2ludCwgYXp1cmVSZWdpb24pO1xyXG4gICAgICAgIC8vIFRPRE86IEVucXVpcmUgb24gd2hldGhlciB3ZSBzaG91bGQgbGVhdmUgdGhlIHF1ZXJ5IHN0cmluZyBvciByZW1vdmUgaXQgYmVmb3JlIHJlbGVhc2luZyB0aGUgZmVhdHVyZVxyXG4gICAgICAgIG1ldGFkYXRhLnRva2VuX2VuZHBvaW50ID0gQXV0aG9yaXR5LmJ1aWxkUmVnaW9uYWxBdXRob3JpdHlTdHJpbmcobWV0YWRhdGEudG9rZW5fZW5kcG9pbnQsIGF6dXJlUmVnaW9uLCBcImFsbG93ZXN0c3Jub25tc2k9dHJ1ZVwiKTtcclxuICAgICAgICBpZiAobWV0YWRhdGEuZW5kX3Nlc3Npb25fZW5kcG9pbnQpIHtcclxuICAgICAgICAgICAgbWV0YWRhdGEuZW5kX3Nlc3Npb25fZW5kcG9pbnQgPSBBdXRob3JpdHkuYnVpbGRSZWdpb25hbEF1dGhvcml0eVN0cmluZyhtZXRhZGF0YS5lbmRfc2Vzc2lvbl9lbmRwb2ludCwgYXp1cmVSZWdpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWV0YWRhdGE7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEF1dGhvcml0eTtcclxufSgpKTtcblxuZXhwb3J0IHsgQXV0aG9yaXR5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BdXRob3JpdHkuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHY2LjEuMCAyMDIyLTAyLTA4ICovXG4ndXNlIHN0cmljdCc7XG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNDbG91ZEluc3RhbmNlRGlzY292ZXJ5UmVzcG9uc2UocmVzcG9uc2UpIHtcclxuICAgIHJldHVybiAocmVzcG9uc2UuaGFzT3duUHJvcGVydHkoXCJ0ZW5hbnRfZGlzY292ZXJ5X2VuZHBvaW50XCIpICYmXHJcbiAgICAgICAgcmVzcG9uc2UuaGFzT3duUHJvcGVydHkoXCJtZXRhZGF0YVwiKSk7XHJcbn1cblxuZXhwb3J0IHsgaXNDbG91ZEluc3RhbmNlRGlzY292ZXJ5UmVzcG9uc2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNsb3VkSW5zdGFuY2VEaXNjb3ZlcnlSZXNwb25zZS5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjYuMS4wIDIwMjItMDItMDggKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IF9fYXdhaXRlciwgX19nZW5lcmF0b3IgfSBmcm9tICcuLi9fdmlydHVhbC9fdHNsaWIuanMnO1xuaW1wb3J0IHsgQXV0aG9yaXR5IH0gZnJvbSAnLi9BdXRob3JpdHkuanMnO1xuaW1wb3J0IHsgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLmpzJztcbmltcG9ydCB7IFN0cmluZ1V0aWxzIH0gZnJvbSAnLi4vdXRpbHMvU3RyaW5nVXRpbHMuanMnO1xuaW1wb3J0IHsgQ2xpZW50QXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50QXV0aEVycm9yLmpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbnZhciBBdXRob3JpdHlGYWN0b3J5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQXV0aG9yaXR5RmFjdG9yeSgpIHtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGFuIGF1dGhvcml0eSBvYmplY3Qgb2YgdGhlIGNvcnJlY3QgdHlwZSBiYXNlZCBvbiB0aGUgdXJsXHJcbiAgICAgKiBQZXJmb3JtcyBiYXNpYyBhdXRob3JpdHkgdmFsaWRhdGlvbiAtIGNoZWNrcyB0byBzZWUgaWYgdGhlIGF1dGhvcml0eSBpcyBvZiBhIHZhbGlkIHR5cGUgKGkuZS4gYWFkLCBiMmMsIGFkZnMpXHJcbiAgICAgKlxyXG4gICAgICogQWxzbyBwZXJmb3JtcyBlbmRwb2ludCBkaXNjb3ZlcnkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGF1dGhvcml0eVVyaVxyXG4gICAgICogQHBhcmFtIG5ldHdvcmtDbGllbnRcclxuICAgICAqIEBwYXJhbSBwcm90b2NvbE1vZGVcclxuICAgICAqL1xyXG4gICAgQXV0aG9yaXR5RmFjdG9yeS5jcmVhdGVEaXNjb3ZlcmVkSW5zdGFuY2UgPSBmdW5jdGlvbiAoYXV0aG9yaXR5VXJpLCBuZXR3b3JrQ2xpZW50LCBjYWNoZU1hbmFnZXIsIGF1dGhvcml0eU9wdGlvbnMsIHByb3h5VXJsKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgYWNxdWlyZVRva2VuQXV0aG9yaXR5LCBlXzE7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjcXVpcmVUb2tlbkF1dGhvcml0eSA9IEF1dGhvcml0eUZhY3RvcnkuY3JlYXRlSW5zdGFuY2UoYXV0aG9yaXR5VXJpLCBuZXR3b3JrQ2xpZW50LCBjYWNoZU1hbmFnZXIsIGF1dGhvcml0eU9wdGlvbnMsIHByb3h5VXJsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFsxLCAzLCAsIDRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgYWNxdWlyZVRva2VuQXV0aG9yaXR5LnJlc29sdmVFbmRwb2ludHNBc3luYygpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGFjcXVpcmVUb2tlbkF1dGhvcml0eV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlXzEgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IENsaWVudEF1dGhFcnJvci5jcmVhdGVFbmRwb2ludERpc2NvdmVyeUluY29tcGxldGVFcnJvcihlXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhbiBhdXRob3JpdHkgb2JqZWN0IG9mIHRoZSBjb3JyZWN0IHR5cGUgYmFzZWQgb24gdGhlIHVybFxyXG4gICAgICogUGVyZm9ybXMgYmFzaWMgYXV0aG9yaXR5IHZhbGlkYXRpb24gLSBjaGVja3MgdG8gc2VlIGlmIHRoZSBhdXRob3JpdHkgaXMgb2YgYSB2YWxpZCB0eXBlIChpLmUuIGFhZCwgYjJjLCBhZGZzKVxyXG4gICAgICpcclxuICAgICAqIERvZXMgbm90IHBlcmZvcm0gZW5kcG9pbnQgZGlzY292ZXJ5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBhdXRob3JpdHlVcmxcclxuICAgICAqIEBwYXJhbSBuZXR3b3JrSW50ZXJmYWNlXHJcbiAgICAgKiBAcGFyYW0gcHJvdG9jb2xNb2RlXHJcbiAgICAgKi9cclxuICAgIEF1dGhvcml0eUZhY3RvcnkuY3JlYXRlSW5zdGFuY2UgPSBmdW5jdGlvbiAoYXV0aG9yaXR5VXJsLCBuZXR3b3JrSW50ZXJmYWNlLCBjYWNoZU1hbmFnZXIsIGF1dGhvcml0eU9wdGlvbnMsIHByb3h5VXJsKSB7XHJcbiAgICAgICAgLy8gVGhyb3cgZXJyb3IgaWYgYXV0aG9yaXR5IHVybCBpcyBlbXB0eVxyXG4gICAgICAgIGlmIChTdHJpbmdVdGlscy5pc0VtcHR5KGF1dGhvcml0eVVybCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLmNyZWF0ZVVybEVtcHR5RXJyb3IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBdXRob3JpdHkoYXV0aG9yaXR5VXJsLCBuZXR3b3JrSW50ZXJmYWNlLCBjYWNoZU1hbmFnZXIsIGF1dGhvcml0eU9wdGlvbnMsIHByb3h5VXJsKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQXV0aG9yaXR5RmFjdG9yeTtcclxufSgpKTtcblxuZXhwb3J0IHsgQXV0aG9yaXR5RmFjdG9yeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXV0aG9yaXR5RmFjdG9yeS5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjYuMS4wIDIwMjItMDItMDggKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IFNFUlZFUl9URUxFTV9DT05TVEFOVFMgfSBmcm9tICcuLi8uLi91dGlscy9Db25zdGFudHMuanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxudmFyIFNlcnZlclRlbGVtZXRyeUVudGl0eSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFNlcnZlclRlbGVtZXRyeUVudGl0eSgpIHtcclxuICAgICAgICB0aGlzLmZhaWxlZFJlcXVlc3RzID0gW107XHJcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBbXTtcclxuICAgICAgICB0aGlzLmNhY2hlSGl0cyA9IDA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIHZhbGlkYXRlcyBpZiBhIGdpdmVuIGNhY2hlIGVudHJ5IGlzIFwiVGVsZW1ldHJ5XCIsIHBhcnNlcyA8a2V5LHZhbHVlPlxyXG4gICAgICogQHBhcmFtIGtleVxyXG4gICAgICogQHBhcmFtIGVudGl0eVxyXG4gICAgICovXHJcbiAgICBTZXJ2ZXJUZWxlbWV0cnlFbnRpdHkuaXNTZXJ2ZXJUZWxlbWV0cnlFbnRpdHkgPSBmdW5jdGlvbiAoa2V5LCBlbnRpdHkpIHtcclxuICAgICAgICB2YXIgdmFsaWRhdGVLZXkgPSBrZXkuaW5kZXhPZihTRVJWRVJfVEVMRU1fQ09OU1RBTlRTLkNBQ0hFX0tFWSkgPT09IDA7XHJcbiAgICAgICAgdmFyIHZhbGlkYXRlRW50aXR5ID0gdHJ1ZTtcclxuICAgICAgICBpZiAoZW50aXR5KSB7XHJcbiAgICAgICAgICAgIHZhbGlkYXRlRW50aXR5ID1cclxuICAgICAgICAgICAgICAgIGVudGl0eS5oYXNPd25Qcm9wZXJ0eShcImZhaWxlZFJlcXVlc3RzXCIpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwiZXJyb3JzXCIpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwiY2FjaGVIaXRzXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsaWRhdGVLZXkgJiYgdmFsaWRhdGVFbnRpdHk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFNlcnZlclRlbGVtZXRyeUVudGl0eTtcclxufSgpKTtcblxuZXhwb3J0IHsgU2VydmVyVGVsZW1ldHJ5RW50aXR5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TZXJ2ZXJUZWxlbWV0cnlFbnRpdHkuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHY2LjEuMCAyMDIyLTAyLTA4ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBUaHJvdHRsaW5nQ29uc3RhbnRzIH0gZnJvbSAnLi4vLi4vdXRpbHMvQ29uc3RhbnRzLmpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbnZhciBUaHJvdHRsaW5nRW50aXR5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVGhyb3R0bGluZ0VudGl0eSgpIHtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogdmFsaWRhdGVzIGlmIGEgZ2l2ZW4gY2FjaGUgZW50cnkgaXMgXCJUaHJvdHRsaW5nXCIsIHBhcnNlcyA8a2V5LHZhbHVlPlxyXG4gICAgICogQHBhcmFtIGtleVxyXG4gICAgICogQHBhcmFtIGVudGl0eVxyXG4gICAgICovXHJcbiAgICBUaHJvdHRsaW5nRW50aXR5LmlzVGhyb3R0bGluZ0VudGl0eSA9IGZ1bmN0aW9uIChrZXksIGVudGl0eSkge1xyXG4gICAgICAgIHZhciB2YWxpZGF0ZUtleSA9IGZhbHNlO1xyXG4gICAgICAgIGlmIChrZXkpIHtcclxuICAgICAgICAgICAgdmFsaWRhdGVLZXkgPSBrZXkuaW5kZXhPZihUaHJvdHRsaW5nQ29uc3RhbnRzLlRIUk9UVExJTkdfUFJFRklYKSA9PT0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHZhbGlkYXRlRW50aXR5ID0gdHJ1ZTtcclxuICAgICAgICBpZiAoZW50aXR5KSB7XHJcbiAgICAgICAgICAgIHZhbGlkYXRlRW50aXR5ID0gZW50aXR5Lmhhc093blByb3BlcnR5KFwidGhyb3R0bGVUaW1lXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsaWRhdGVLZXkgJiYgdmFsaWRhdGVFbnRpdHk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFRocm90dGxpbmdFbnRpdHk7XHJcbn0oKSk7XG5cbmV4cG9ydCB7IFRocm90dGxpbmdFbnRpdHkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRocm90dGxpbmdFbnRpdHkuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHY2LjEuMCAyMDIyLTAyLTA4ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9BdXRoRXJyb3IuanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxudmFyIFN0dWJiZWROZXR3b3JrTW9kdWxlID0ge1xyXG4gICAgc2VuZEdldFJlcXVlc3RBc3luYzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBub3RJbXBsRXJyID0gXCJOZXR3b3JrIGludGVyZmFjZSAtIHNlbmRHZXRSZXF1ZXN0QXN5bmMoKSBoYXMgbm90IGJlZW4gaW1wbGVtZW50ZWQgZm9yIHRoZSBOZXR3b3JrIGludGVyZmFjZS5cIjtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoQXV0aEVycm9yLmNyZWF0ZVVuZXhwZWN0ZWRFcnJvcihub3RJbXBsRXJyKSk7XHJcbiAgICB9LFxyXG4gICAgc2VuZFBvc3RSZXF1ZXN0QXN5bmM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbm90SW1wbEVyciA9IFwiTmV0d29yayBpbnRlcmZhY2UgLSBzZW5kUG9zdFJlcXVlc3RBc3luYygpIGhhcyBub3QgYmVlbiBpbXBsZW1lbnRlZCBmb3IgdGhlIE5ldHdvcmsgaW50ZXJmYWNlLlwiO1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChBdXRoRXJyb3IuY3JlYXRlVW5leHBlY3RlZEVycm9yKG5vdEltcGxFcnIpKTtcclxuICAgIH1cclxufTtcblxuZXhwb3J0IHsgU3R1YmJlZE5ldHdvcmtNb2R1bGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUlOZXR3b3JrTW9kdWxlLmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2Ni4xLjAgMjAyMi0wMi0wOCAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgU0VSVkVSX1RFTEVNX0NPTlNUQU5UUywgQ2FjaGVPdXRjb21lLCBDb25zdGFudHMsIFNlcGFyYXRvcnMgfSBmcm9tICcuLi8uLi91dGlscy9Db25zdGFudHMuanMnO1xuaW1wb3J0IHsgU2VydmVyVGVsZW1ldHJ5RW50aXR5IH0gZnJvbSAnLi4vLi4vY2FjaGUvZW50aXRpZXMvU2VydmVyVGVsZW1ldHJ5RW50aXR5LmpzJztcbmltcG9ydCB7IFN0cmluZ1V0aWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMvU3RyaW5nVXRpbHMuanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxudmFyIFNlcnZlclRlbGVtZXRyeU1hbmFnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyKHRlbGVtZXRyeVJlcXVlc3QsIGNhY2hlTWFuYWdlcikge1xyXG4gICAgICAgIHRoaXMuY2FjaGVPdXRjb21lID0gQ2FjaGVPdXRjb21lLk5PX0NBQ0hFX0hJVDtcclxuICAgICAgICB0aGlzLmNhY2hlTWFuYWdlciA9IGNhY2hlTWFuYWdlcjtcclxuICAgICAgICB0aGlzLmFwaUlkID0gdGVsZW1ldHJ5UmVxdWVzdC5hcGlJZDtcclxuICAgICAgICB0aGlzLmNvcnJlbGF0aW9uSWQgPSB0ZWxlbWV0cnlSZXF1ZXN0LmNvcnJlbGF0aW9uSWQ7XHJcbiAgICAgICAgdGhpcy53cmFwcGVyU0tVID0gdGVsZW1ldHJ5UmVxdWVzdC53cmFwcGVyU0tVIHx8IENvbnN0YW50cy5FTVBUWV9TVFJJTkc7XHJcbiAgICAgICAgdGhpcy53cmFwcGVyVmVyID0gdGVsZW1ldHJ5UmVxdWVzdC53cmFwcGVyVmVyIHx8IENvbnN0YW50cy5FTVBUWV9TVFJJTkc7XHJcbiAgICAgICAgdGhpcy50ZWxlbWV0cnlDYWNoZUtleSA9IFNFUlZFUl9URUxFTV9DT05TVEFOVFMuQ0FDSEVfS0VZICsgU2VwYXJhdG9ycy5DQUNIRV9LRVlfU0VQQVJBVE9SICsgdGVsZW1ldHJ5UmVxdWVzdC5jbGllbnRJZDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQVBJIHRvIGFkZCBNU0VSIFRlbGVtZXRyeSB0byByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIFNlcnZlclRlbGVtZXRyeU1hbmFnZXIucHJvdG90eXBlLmdlbmVyYXRlQ3VycmVudFJlcXVlc3RIZWFkZXJWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcmVxdWVzdCA9IFwiXCIgKyB0aGlzLmFwaUlkICsgU0VSVkVSX1RFTEVNX0NPTlNUQU5UUy5WQUxVRV9TRVBBUkFUT1IgKyB0aGlzLmNhY2hlT3V0Y29tZTtcclxuICAgICAgICB2YXIgcGxhdGZvcm1GaWVsZHMgPSBbdGhpcy53cmFwcGVyU0tVLCB0aGlzLndyYXBwZXJWZXJdLmpvaW4oU0VSVkVSX1RFTEVNX0NPTlNUQU5UUy5WQUxVRV9TRVBBUkFUT1IpO1xyXG4gICAgICAgIHZhciByZWdpb25EaXNjb3ZlcnlGaWVsZHMgPSB0aGlzLmdldFJlZ2lvbkRpc2NvdmVyeUZpZWxkcygpO1xyXG4gICAgICAgIHZhciByZXF1ZXN0V2l0aFJlZ2lvbkRpc2NvdmVyeUZpZWxkcyA9IFtyZXF1ZXN0LCByZWdpb25EaXNjb3ZlcnlGaWVsZHNdLmpvaW4oU0VSVkVSX1RFTEVNX0NPTlNUQU5UUy5WQUxVRV9TRVBBUkFUT1IpO1xyXG4gICAgICAgIHJldHVybiBbU0VSVkVSX1RFTEVNX0NPTlNUQU5UUy5TQ0hFTUFfVkVSU0lPTiwgcmVxdWVzdFdpdGhSZWdpb25EaXNjb3ZlcnlGaWVsZHMsIHBsYXRmb3JtRmllbGRzXS5qb2luKFNFUlZFUl9URUxFTV9DT05TVEFOVFMuQ0FURUdPUllfU0VQQVJBVE9SKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEFQSSB0byBhZGQgTVNFUiBUZWxlbWV0cnkgZm9yIHRoZSBsYXN0IGZhaWxlZCByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIFNlcnZlclRlbGVtZXRyeU1hbmFnZXIucHJvdG90eXBlLmdlbmVyYXRlTGFzdFJlcXVlc3RIZWFkZXJWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbGFzdFJlcXVlc3RzID0gdGhpcy5nZXRMYXN0UmVxdWVzdHMoKTtcclxuICAgICAgICB2YXIgbWF4RXJyb3JzID0gU2VydmVyVGVsZW1ldHJ5TWFuYWdlci5tYXhFcnJvcnNUb1NlbmQobGFzdFJlcXVlc3RzKTtcclxuICAgICAgICB2YXIgZmFpbGVkUmVxdWVzdHMgPSBsYXN0UmVxdWVzdHMuZmFpbGVkUmVxdWVzdHMuc2xpY2UoMCwgMiAqIG1heEVycm9ycykuam9pbihTRVJWRVJfVEVMRU1fQ09OU1RBTlRTLlZBTFVFX1NFUEFSQVRPUik7XHJcbiAgICAgICAgdmFyIGVycm9ycyA9IGxhc3RSZXF1ZXN0cy5lcnJvcnMuc2xpY2UoMCwgbWF4RXJyb3JzKS5qb2luKFNFUlZFUl9URUxFTV9DT05TVEFOVFMuVkFMVUVfU0VQQVJBVE9SKTtcclxuICAgICAgICB2YXIgZXJyb3JDb3VudCA9IGxhc3RSZXF1ZXN0cy5lcnJvcnMubGVuZ3RoO1xyXG4gICAgICAgIC8vIEluZGljYXRlIHdoZXRoZXIgdGhpcyBoZWFkZXIgY29udGFpbnMgYWxsIGRhdGEgb3IgcGFydGlhbCBkYXRhXHJcbiAgICAgICAgdmFyIG92ZXJmbG93ID0gbWF4RXJyb3JzIDwgZXJyb3JDb3VudCA/IFNFUlZFUl9URUxFTV9DT05TVEFOVFMuT1ZFUkZMT1dfVFJVRSA6IFNFUlZFUl9URUxFTV9DT05TVEFOVFMuT1ZFUkZMT1dfRkFMU0U7XHJcbiAgICAgICAgdmFyIHBsYXRmb3JtRmllbGRzID0gW2Vycm9yQ291bnQsIG92ZXJmbG93XS5qb2luKFNFUlZFUl9URUxFTV9DT05TVEFOVFMuVkFMVUVfU0VQQVJBVE9SKTtcclxuICAgICAgICByZXR1cm4gW1NFUlZFUl9URUxFTV9DT05TVEFOVFMuU0NIRU1BX1ZFUlNJT04sIGxhc3RSZXF1ZXN0cy5jYWNoZUhpdHMsIGZhaWxlZFJlcXVlc3RzLCBlcnJvcnMsIHBsYXRmb3JtRmllbGRzXS5qb2luKFNFUlZFUl9URUxFTV9DT05TVEFOVFMuQ0FURUdPUllfU0VQQVJBVE9SKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEFQSSB0byBjYWNoZSB0b2tlbiBmYWlsdXJlcyBmb3IgTVNFUiBkYXRhIGNhcHR1cmVcclxuICAgICAqIEBwYXJhbSBlcnJvclxyXG4gICAgICovXHJcbiAgICBTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLnByb3RvdHlwZS5jYWNoZUZhaWxlZFJlcXVlc3QgPSBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICB2YXIgbGFzdFJlcXVlc3RzID0gdGhpcy5nZXRMYXN0UmVxdWVzdHMoKTtcclxuICAgICAgICBpZiAobGFzdFJlcXVlc3RzLmVycm9ycy5sZW5ndGggPj0gU0VSVkVSX1RFTEVNX0NPTlNUQU5UUy5NQVhfQ0FDSEVEX0VSUk9SUykge1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgYSBjYWNoZWQgZXJyb3IgdG8gbWFrZSByb29tLCBmaXJzdCBpbiBmaXJzdCBvdXRcclxuICAgICAgICAgICAgbGFzdFJlcXVlc3RzLmZhaWxlZFJlcXVlc3RzLnNoaWZ0KCk7IC8vIGFwaUlkXHJcbiAgICAgICAgICAgIGxhc3RSZXF1ZXN0cy5mYWlsZWRSZXF1ZXN0cy5zaGlmdCgpOyAvLyBjb3JyZWxhdGlvbklkXHJcbiAgICAgICAgICAgIGxhc3RSZXF1ZXN0cy5lcnJvcnMuc2hpZnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGFzdFJlcXVlc3RzLmZhaWxlZFJlcXVlc3RzLnB1c2godGhpcy5hcGlJZCwgdGhpcy5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBpZiAoIVN0cmluZ1V0aWxzLmlzRW1wdHkoZXJyb3Iuc3ViRXJyb3IpKSB7XHJcbiAgICAgICAgICAgIGxhc3RSZXF1ZXN0cy5lcnJvcnMucHVzaChlcnJvci5zdWJFcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFTdHJpbmdVdGlscy5pc0VtcHR5KGVycm9yLmVycm9yQ29kZSkpIHtcclxuICAgICAgICAgICAgbGFzdFJlcXVlc3RzLmVycm9ycy5wdXNoKGVycm9yLmVycm9yQ29kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCEhZXJyb3IgJiYgZXJyb3IudG9TdHJpbmcoKSkge1xyXG4gICAgICAgICAgICBsYXN0UmVxdWVzdHMuZXJyb3JzLnB1c2goZXJyb3IudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsYXN0UmVxdWVzdHMuZXJyb3JzLnB1c2goU0VSVkVSX1RFTEVNX0NPTlNUQU5UUy5VTktOT1dOX0VSUk9SKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jYWNoZU1hbmFnZXIuc2V0U2VydmVyVGVsZW1ldHJ5KHRoaXMudGVsZW1ldHJ5Q2FjaGVLZXksIGxhc3RSZXF1ZXN0cyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIHNlcnZlciB0ZWxlbWV0cnkgY2FjaGUgZW50cnkgYnkgaW5jcmVtZW50aW5nIGNhY2hlIGhpdCBjb3VudGVyXHJcbiAgICAgKi9cclxuICAgIFNlcnZlclRlbGVtZXRyeU1hbmFnZXIucHJvdG90eXBlLmluY3JlbWVudENhY2hlSGl0cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbGFzdFJlcXVlc3RzID0gdGhpcy5nZXRMYXN0UmVxdWVzdHMoKTtcclxuICAgICAgICBsYXN0UmVxdWVzdHMuY2FjaGVIaXRzICs9IDE7XHJcbiAgICAgICAgdGhpcy5jYWNoZU1hbmFnZXIuc2V0U2VydmVyVGVsZW1ldHJ5KHRoaXMudGVsZW1ldHJ5Q2FjaGVLZXksIGxhc3RSZXF1ZXN0cyk7XHJcbiAgICAgICAgcmV0dXJuIGxhc3RSZXF1ZXN0cy5jYWNoZUhpdHM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIHNlcnZlciB0ZWxlbWV0cnkgZW50aXR5IGZyb20gY2FjaGUgb3IgaW5pdGlhbGl6ZSBhIG5ldyBvbmVcclxuICAgICAqL1xyXG4gICAgU2VydmVyVGVsZW1ldHJ5TWFuYWdlci5wcm90b3R5cGUuZ2V0TGFzdFJlcXVlc3RzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBpbml0aWFsVmFsdWUgPSBuZXcgU2VydmVyVGVsZW1ldHJ5RW50aXR5KCk7XHJcbiAgICAgICAgdmFyIGxhc3RSZXF1ZXN0cyA9IHRoaXMuY2FjaGVNYW5hZ2VyLmdldFNlcnZlclRlbGVtZXRyeSh0aGlzLnRlbGVtZXRyeUNhY2hlS2V5KTtcclxuICAgICAgICByZXR1cm4gbGFzdFJlcXVlc3RzIHx8IGluaXRpYWxWYWx1ZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBzZXJ2ZXIgdGVsZW1ldHJ5IGNhY2hlIGVudHJ5XHJcbiAgICAgKi9cclxuICAgIFNlcnZlclRlbGVtZXRyeU1hbmFnZXIucHJvdG90eXBlLmNsZWFyVGVsZW1ldHJ5Q2FjaGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGxhc3RSZXF1ZXN0cyA9IHRoaXMuZ2V0TGFzdFJlcXVlc3RzKCk7XHJcbiAgICAgICAgdmFyIG51bUVycm9yc0ZsdXNoZWQgPSBTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLm1heEVycm9yc1RvU2VuZChsYXN0UmVxdWVzdHMpO1xyXG4gICAgICAgIHZhciBlcnJvckNvdW50ID0gbGFzdFJlcXVlc3RzLmVycm9ycy5sZW5ndGg7XHJcbiAgICAgICAgaWYgKG51bUVycm9yc0ZsdXNoZWQgPT09IGVycm9yQ291bnQpIHtcclxuICAgICAgICAgICAgLy8gQWxsIGVycm9ycyB3ZXJlIHNlbnQgb24gbGFzdCByZXF1ZXN0LCBjbGVhciBUZWxlbWV0cnkgY2FjaGVcclxuICAgICAgICAgICAgdGhpcy5jYWNoZU1hbmFnZXIucmVtb3ZlSXRlbSh0aGlzLnRlbGVtZXRyeUNhY2hlS2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFBhcnRpYWwgZGF0YSB3YXMgZmx1c2hlZCB0byBzZXJ2ZXIsIGNvbnN0cnVjdCBhIG5ldyB0ZWxlbWV0cnkgY2FjaGUgaXRlbSB3aXRoIGVycm9ycyB0aGF0IHdlcmUgbm90IGZsdXNoZWRcclxuICAgICAgICAgICAgdmFyIHNlcnZlclRlbGVtRW50aXR5ID0gbmV3IFNlcnZlclRlbGVtZXRyeUVudGl0eSgpO1xyXG4gICAgICAgICAgICBzZXJ2ZXJUZWxlbUVudGl0eS5mYWlsZWRSZXF1ZXN0cyA9IGxhc3RSZXF1ZXN0cy5mYWlsZWRSZXF1ZXN0cy5zbGljZShudW1FcnJvcnNGbHVzaGVkICogMik7IC8vIGZhaWxlZFJlcXVlc3RzIGNvbnRhaW5zIDIgaXRlbXMgZm9yIGVhY2ggZXJyb3JcclxuICAgICAgICAgICAgc2VydmVyVGVsZW1FbnRpdHkuZXJyb3JzID0gbGFzdFJlcXVlc3RzLmVycm9ycy5zbGljZShudW1FcnJvcnNGbHVzaGVkKTtcclxuICAgICAgICAgICAgdGhpcy5jYWNoZU1hbmFnZXIuc2V0U2VydmVyVGVsZW1ldHJ5KHRoaXMudGVsZW1ldHJ5Q2FjaGVLZXksIHNlcnZlclRlbGVtRW50aXR5KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXhpbXVtIG51bWJlciBvZiBlcnJvcnMgdGhhdCBjYW4gYmUgZmx1c2hlZCB0byB0aGUgc2VydmVyIGluIHRoZSBuZXh0IG5ldHdvcmsgcmVxdWVzdFxyXG4gICAgICogQHBhcmFtIHNlcnZlclRlbGVtZXRyeUVudGl0eVxyXG4gICAgICovXHJcbiAgICBTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLm1heEVycm9yc1RvU2VuZCA9IGZ1bmN0aW9uIChzZXJ2ZXJUZWxlbWV0cnlFbnRpdHkpIHtcclxuICAgICAgICB2YXIgaTtcclxuICAgICAgICB2YXIgbWF4RXJyb3JzID0gMDtcclxuICAgICAgICB2YXIgZGF0YVNpemUgPSAwO1xyXG4gICAgICAgIHZhciBlcnJvckNvdW50ID0gc2VydmVyVGVsZW1ldHJ5RW50aXR5LmVycm9ycy5sZW5ndGg7XHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGVycm9yQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICAvLyBmYWlsZWRSZXF1ZXN0cyBwYXJhbWV0ZXIgY29udGFpbnMgcGFpcnMgb2YgYXBpSWQgYW5kIGNvcnJlbGF0aW9uSWQsIG11bHRpcGx5IGluZGV4IGJ5IDIgdG8gcHJlc2VydmUgcGFpcnNcclxuICAgICAgICAgICAgdmFyIGFwaUlkID0gc2VydmVyVGVsZW1ldHJ5RW50aXR5LmZhaWxlZFJlcXVlc3RzWzIgKiBpXSB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HO1xyXG4gICAgICAgICAgICB2YXIgY29ycmVsYXRpb25JZCA9IHNlcnZlclRlbGVtZXRyeUVudGl0eS5mYWlsZWRSZXF1ZXN0c1syICogaSArIDFdIHx8IENvbnN0YW50cy5FTVBUWV9TVFJJTkc7XHJcbiAgICAgICAgICAgIHZhciBlcnJvckNvZGUgPSBzZXJ2ZXJUZWxlbWV0cnlFbnRpdHkuZXJyb3JzW2ldIHx8IENvbnN0YW50cy5FTVBUWV9TVFJJTkc7XHJcbiAgICAgICAgICAgIC8vIENvdW50IG51bWJlciBvZiBjaGFyYWN0ZXJzIHRoYXQgd291bGQgYmUgYWRkZWQgdG8gaGVhZGVyLCBlYWNoIGNoYXJhY3RlciBpcyAxIGJ5dGUuIEFkZCAzIGF0IHRoZSBlbmQgdG8gYWNjb3VudCBmb3Igc2VwYXJhdG9yc1xyXG4gICAgICAgICAgICBkYXRhU2l6ZSArPSBhcGlJZC50b1N0cmluZygpLmxlbmd0aCArIGNvcnJlbGF0aW9uSWQudG9TdHJpbmcoKS5sZW5ndGggKyBlcnJvckNvZGUubGVuZ3RoICsgMztcclxuICAgICAgICAgICAgaWYgKGRhdGFTaXplIDwgU0VSVkVSX1RFTEVNX0NPTlNUQU5UUy5NQVhfTEFTVF9IRUFERVJfQllURVMpIHtcclxuICAgICAgICAgICAgICAgIC8vIEFkZGluZyB0aGlzIGVudHJ5IHRvIHRoZSBoZWFkZXIgd291bGQgc3RpbGwga2VlcCBoZWFkZXIgc2l6ZSBiZWxvdyB0aGUgbGltaXRcclxuICAgICAgICAgICAgICAgIG1heEVycm9ycyArPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1heEVycm9ycztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgcmVnaW9uIGRpc2NvdmVyeSBmaWVsZHNcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBzdHJpbmdcclxuICAgICAqL1xyXG4gICAgU2VydmVyVGVsZW1ldHJ5TWFuYWdlci5wcm90b3R5cGUuZ2V0UmVnaW9uRGlzY292ZXJ5RmllbGRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciByZWdpb25EaXNjb3ZlcnlGaWVsZHMgPSBbXTtcclxuICAgICAgICByZWdpb25EaXNjb3ZlcnlGaWVsZHMucHVzaCh0aGlzLnJlZ2lvblVzZWQgfHwgXCJcIik7XHJcbiAgICAgICAgcmVnaW9uRGlzY292ZXJ5RmllbGRzLnB1c2godGhpcy5yZWdpb25Tb3VyY2UgfHwgXCJcIik7XHJcbiAgICAgICAgcmVnaW9uRGlzY292ZXJ5RmllbGRzLnB1c2godGhpcy5yZWdpb25PdXRjb21lIHx8IFwiXCIpO1xyXG4gICAgICAgIHJldHVybiByZWdpb25EaXNjb3ZlcnlGaWVsZHMuam9pbihcIixcIik7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgdGhlIHJlZ2lvbiBkaXNjb3ZlcnkgbWV0YWRhdGFcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcmVnaW9uRGlzY292ZXJ5TWV0YWRhdGFcclxuICAgICAqIEByZXR1cm5zIHZvaWRcclxuICAgICAqL1xyXG4gICAgU2VydmVyVGVsZW1ldHJ5TWFuYWdlci5wcm90b3R5cGUudXBkYXRlUmVnaW9uRGlzY292ZXJ5TWV0YWRhdGEgPSBmdW5jdGlvbiAocmVnaW9uRGlzY292ZXJ5TWV0YWRhdGEpIHtcclxuICAgICAgICB0aGlzLnJlZ2lvblVzZWQgPSByZWdpb25EaXNjb3ZlcnlNZXRhZGF0YS5yZWdpb25fdXNlZDtcclxuICAgICAgICB0aGlzLnJlZ2lvblNvdXJjZSA9IHJlZ2lvbkRpc2NvdmVyeU1ldGFkYXRhLnJlZ2lvbl9zb3VyY2U7XHJcbiAgICAgICAgdGhpcy5yZWdpb25PdXRjb21lID0gcmVnaW9uRGlzY292ZXJ5TWV0YWRhdGEucmVnaW9uX291dGNvbWU7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgY2FjaGUgb3V0Y29tZVxyXG4gICAgICovXHJcbiAgICBTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLnByb3RvdHlwZS5zZXRDYWNoZU91dGNvbWUgPSBmdW5jdGlvbiAoY2FjaGVPdXRjb21lKSB7XHJcbiAgICAgICAgdGhpcy5jYWNoZU91dGNvbWUgPSBjYWNoZU91dGNvbWU7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFNlcnZlclRlbGVtZXRyeU1hbmFnZXI7XHJcbn0oKSk7XG5cbmV4cG9ydCB7IFNlcnZlclRlbGVtZXRyeU1hbmFnZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNlcnZlclRlbGVtZXRyeU1hbmFnZXIuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2Mi4yMi4xIDIwMjItMDMtMDcgKi9cbid1c2Ugc3RyaWN0Jztcbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogVXRpbGl0eSBjbGFzcyBmb3IgbWF0aCBzcGVjaWZpYyBmdW5jdGlvbnMgaW4gYnJvd3Nlci5cclxuICovXHJcbnZhciBNYXRoVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBNYXRoVXRpbHMoKSB7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERlY2ltYWwgdG8gSGV4XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG51bVxyXG4gICAgICovXHJcbiAgICBNYXRoVXRpbHMuZGVjaW1hbFRvSGV4ID0gZnVuY3Rpb24gKG51bSkge1xyXG4gICAgICAgIHZhciBoZXggPSBudW0udG9TdHJpbmcoMTYpO1xyXG4gICAgICAgIHdoaWxlIChoZXgubGVuZ3RoIDwgMikge1xyXG4gICAgICAgICAgICBoZXggPSBcIjBcIiArIGhleDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGhleDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gTWF0aFV0aWxzO1xyXG59KCkpO1xuXG5leHBvcnQgeyBNYXRoVXRpbHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hdGhVdGlscy5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYyLjIyLjEgMjAyMi0wMy0wNyAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgTWF0aFV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvTWF0aFV0aWxzLmpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbnZhciBHdWlkR2VuZXJhdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gR3VpZEdlbmVyYXRvcihjcnlwdG9PYmopIHtcclxuICAgICAgICB0aGlzLmNyeXB0b09iaiA9IGNyeXB0b09iajtcclxuICAgIH1cclxuICAgIC8qXHJcbiAgICAgKiBSRkM0MTIyOiBUaGUgdmVyc2lvbiA0IFVVSUQgaXMgbWVhbnQgZm9yIGdlbmVyYXRpbmcgVVVJRHMgZnJvbSB0cnVseS1yYW5kb20gb3JcclxuICAgICAqIHBzZXVkby1yYW5kb20gbnVtYmVycy5cclxuICAgICAqIFRoZSBhbGdvcml0aG0gaXMgYXMgZm9sbG93czpcclxuICAgICAqICAgICBTZXQgdGhlIHR3byBtb3N0IHNpZ25pZmljYW50IGJpdHMgKGJpdHMgNiBhbmQgNykgb2YgdGhlXHJcbiAgICAgKiAgICAgICAgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZCB0byB6ZXJvIGFuZCBvbmUsIHJlc3BlY3RpdmVseS5cclxuICAgICAqICAgICBTZXQgdGhlIGZvdXIgbW9zdCBzaWduaWZpY2FudCBiaXRzIChiaXRzIDEyIHRocm91Z2ggMTUpIG9mIHRoZVxyXG4gICAgICogICAgICAgIHRpbWVfaGlfYW5kX3ZlcnNpb24gZmllbGQgdG8gdGhlIDQtYml0IHZlcnNpb24gbnVtYmVyIGZyb21cclxuICAgICAqICAgICAgICBTZWN0aW9uIDQuMS4zLiBWZXJzaW9uNFxyXG4gICAgICogICAgIFNldCBhbGwgdGhlIG90aGVyIGJpdHMgdG8gcmFuZG9tbHkgKG9yIHBzZXVkby1yYW5kb21seSkgY2hvc2VuXHJcbiAgICAgKiAgICAgdmFsdWVzLlxyXG4gICAgICogVVVJRCAgICAgICAgICAgICAgICAgICA9IHRpbWUtbG93IFwiLVwiIHRpbWUtbWlkIFwiLVwidGltZS1oaWdoLWFuZC12ZXJzaW9uIFwiLVwiY2xvY2stc2VxLXJlc2VydmVkIGFuZCBsb3coMmhleE9jdGV0KVwiLVwiIG5vZGVcclxuICAgICAqIHRpbWUtbG93ICAgICAgICAgICAgICAgPSA0aGV4T2N0ZXRcclxuICAgICAqIHRpbWUtbWlkICAgICAgICAgICAgICAgPSAyaGV4T2N0ZXRcclxuICAgICAqIHRpbWUtaGlnaC1hbmQtdmVyc2lvbiAgPSAyaGV4T2N0ZXRcclxuICAgICAqIGNsb2NrLXNlcS1hbmQtcmVzZXJ2ZWQgPSBoZXhPY3RldDpcclxuICAgICAqIGNsb2NrLXNlcS1sb3cgICAgICAgICAgPSBoZXhPY3RldFxyXG4gICAgICogbm9kZSAgICAgICAgICAgICAgICAgICA9IDZoZXhPY3RldFxyXG4gICAgICogRm9ybWF0OiB4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcclxuICAgICAqIHkgY291bGQgYmUgMTAwMCwgMTAwMSwgMTAxMCwgMTAxMSBzaW5jZSBtb3N0IHNpZ25pZmljYW50IHR3byBiaXRzIG5lZWRzIHRvIGJlIDEwXHJcbiAgICAgKiB5IHZhbHVlcyBhcmUgOCwgOSwgQSwgQlxyXG4gICAgICovXHJcbiAgICBHdWlkR2VuZXJhdG9yLnByb3RvdHlwZS5nZW5lcmF0ZUd1aWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDE2KTtcclxuICAgICAgICAgICAgdGhpcy5jcnlwdG9PYmouZ2V0UmFuZG9tVmFsdWVzKGJ1ZmZlcik7XHJcbiAgICAgICAgICAgIC8vIGJ1ZmZlcls2XSBhbmQgYnVmZmVyWzddIHJlcHJlc2VudHMgdGhlIHRpbWVfaGlfYW5kX3ZlcnNpb24gZmllbGQuIFdlIHdpbGwgc2V0IHRoZSBmb3VyIG1vc3Qgc2lnbmlmaWNhbnQgYml0cyAoNCB0aHJvdWdoIDcpIG9mIGJ1ZmZlcls2XSB0byByZXByZXNlbnQgZGVjaW1hbCBudW1iZXIgNCAoVVVJRCB2ZXJzaW9uIG51bWJlcikuXHJcbiAgICAgICAgICAgIGJ1ZmZlcls2XSB8PSAweDQwOyAvLyBidWZmZXJbNl0gfCAwMTAwMDAwMCB3aWxsIHNldCB0aGUgNiBiaXQgdG8gMS5cclxuICAgICAgICAgICAgYnVmZmVyWzZdICY9IDB4NGY7IC8vIGJ1ZmZlcls2XSAmIDAxMDAxMTExIHdpbGwgc2V0IHRoZSA0LCA1LCBhbmQgNyBiaXQgdG8gMCBzdWNoIHRoYXQgYml0cyA0LTcgPT0gMDEwMCA9IFwiNFwiLlxyXG4gICAgICAgICAgICAvLyBidWZmZXJbOF0gcmVwcmVzZW50cyB0aGUgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZCBmaWVsZC4gV2Ugd2lsbCBzZXQgdGhlIHR3byBtb3N0IHNpZ25pZmljYW50IGJpdHMgKDYgYW5kIDcpIG9mIHRoZSBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkIHRvIHplcm8gYW5kIG9uZSwgcmVzcGVjdGl2ZWx5LlxyXG4gICAgICAgICAgICBidWZmZXJbOF0gfD0gMHg4MDsgLy8gYnVmZmVyWzhdIHwgMTAwMDAwMDAgd2lsbCBzZXQgdGhlIDcgYml0IHRvIDEuXHJcbiAgICAgICAgICAgIGJ1ZmZlcls4XSAmPSAweGJmOyAvLyBidWZmZXJbOF0gJiAxMDExMTExMSB3aWxsIHNldCB0aGUgNiBiaXQgdG8gMC5cclxuICAgICAgICAgICAgcmV0dXJuIE1hdGhVdGlscy5kZWNpbWFsVG9IZXgoYnVmZmVyWzBdKSArIE1hdGhVdGlscy5kZWNpbWFsVG9IZXgoYnVmZmVyWzFdKVxyXG4gICAgICAgICAgICAgICAgKyBNYXRoVXRpbHMuZGVjaW1hbFRvSGV4KGJ1ZmZlclsyXSkgKyBNYXRoVXRpbHMuZGVjaW1hbFRvSGV4KGJ1ZmZlclszXSlcclxuICAgICAgICAgICAgICAgICsgXCItXCIgKyBNYXRoVXRpbHMuZGVjaW1hbFRvSGV4KGJ1ZmZlcls0XSkgKyBNYXRoVXRpbHMuZGVjaW1hbFRvSGV4KGJ1ZmZlcls1XSlcclxuICAgICAgICAgICAgICAgICsgXCItXCIgKyBNYXRoVXRpbHMuZGVjaW1hbFRvSGV4KGJ1ZmZlcls2XSkgKyBNYXRoVXRpbHMuZGVjaW1hbFRvSGV4KGJ1ZmZlcls3XSlcclxuICAgICAgICAgICAgICAgICsgXCItXCIgKyBNYXRoVXRpbHMuZGVjaW1hbFRvSGV4KGJ1ZmZlcls4XSkgKyBNYXRoVXRpbHMuZGVjaW1hbFRvSGV4KGJ1ZmZlcls5XSlcclxuICAgICAgICAgICAgICAgICsgXCItXCIgKyBNYXRoVXRpbHMuZGVjaW1hbFRvSGV4KGJ1ZmZlclsxMF0pICsgTWF0aFV0aWxzLmRlY2ltYWxUb0hleChidWZmZXJbMTFdKVxyXG4gICAgICAgICAgICAgICAgKyBNYXRoVXRpbHMuZGVjaW1hbFRvSGV4KGJ1ZmZlclsxMl0pICsgTWF0aFV0aWxzLmRlY2ltYWxUb0hleChidWZmZXJbMTNdKVxyXG4gICAgICAgICAgICAgICAgKyBNYXRoVXRpbHMuZGVjaW1hbFRvSGV4KGJ1ZmZlclsxNF0pICsgTWF0aFV0aWxzLmRlY2ltYWxUb0hleChidWZmZXJbMTVdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICB2YXIgZ3VpZEhvbGRlciA9IFwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCI7XHJcbiAgICAgICAgICAgIHZhciBoZXggPSBcIjAxMjM0NTY3ODlhYmNkZWZcIjtcclxuICAgICAgICAgICAgdmFyIHIgPSAwO1xyXG4gICAgICAgICAgICB2YXIgZ3VpZFJlc3BvbnNlID0gXCJcIjtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzNjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ3VpZEhvbGRlcltpXSAhPT0gXCItXCIgJiYgZ3VpZEhvbGRlcltpXSAhPT0gXCI0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBlYWNoIHggYW5kIHkgbmVlZHMgdG8gYmUgcmFuZG9tXHJcbiAgICAgICAgICAgICAgICAgICAgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZ3VpZEhvbGRlcltpXSA9PT0gXCJ4XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBndWlkUmVzcG9uc2UgKz0gaGV4W3JdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3VpZEhvbGRlcltpXSA9PT0gXCJ5XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjbG9jay1zZXEtYW5kLXJlc2VydmVkIGZpcnN0IGhleCBpcyBmaWx0ZXJlZCBhbmQgcmVtYWluaW5nIGhleCB2YWx1ZXMgYXJlIHJhbmRvbVxyXG4gICAgICAgICAgICAgICAgICAgIHIgJj0gMHgzOyAvLyBiaXQgYW5kIHdpdGggMDAxMSB0byBzZXQgcG9zIDIgdG8gemVybyA/MD8/XHJcbiAgICAgICAgICAgICAgICAgICAgciB8PSAweDg7IC8vIHNldCBwb3MgMyB0byAxIGFzIDE/Pz9cclxuICAgICAgICAgICAgICAgICAgICBndWlkUmVzcG9uc2UgKz0gaGV4W3JdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3VpZFJlc3BvbnNlICs9IGd1aWRIb2xkZXJbaV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGd1aWRSZXNwb25zZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiB2ZXJpZmllcyBpZiBhIHN0cmluZyBpcyAgR1VJRFxyXG4gICAgICogQHBhcmFtIGd1aWRcclxuICAgICAqL1xyXG4gICAgR3VpZEdlbmVyYXRvci5pc0d1aWQgPSBmdW5jdGlvbiAoZ3VpZCkge1xyXG4gICAgICAgIHZhciByZWdleEd1aWQgPSAvXlswLTlhLWZdezh9LVswLTlhLWZdezR9LVsxLTVdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9JC9pO1xyXG4gICAgICAgIHJldHVybiByZWdleEd1aWQudGVzdChndWlkKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gR3VpZEdlbmVyYXRvcjtcclxufSgpKTtcblxuZXhwb3J0IHsgR3VpZEdlbmVyYXRvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3VpZEdlbmVyYXRvci5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYyLjIyLjEgMjAyMi0wMy0wNyAqL1xuJ3VzZSBzdHJpY3QnO1xuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBVdGlsaXR5IGZ1bmN0aW9ucyBmb3Igc3RyaW5ncyBpbiBhIGJyb3dzZXIuIFNlZSBoZXJlIGZvciBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzOlxyXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93QmFzZTY0L0Jhc2U2NF9lbmNvZGluZ19hbmRfZGVjb2RpbmcjU29sdXRpb25fMl8lRTIlODAlOTNfSmF2YVNjcmlwdCdzX1VURi0xNl8lM0VfVVRGLThfJTNFX2Jhc2U2NFxyXG4gKi9cclxudmFyIEJyb3dzZXJTdHJpbmdVdGlscyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEJyb3dzZXJTdHJpbmdVdGlscygpIHtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgc3RyaW5nIHRvIFVpbnQ4QXJyYXlcclxuICAgICAqIEBwYXJhbSBzRE9NU3RyXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJTdHJpbmdVdGlscy5zdHJpbmdUb1V0ZjhBcnIgPSBmdW5jdGlvbiAoc0RPTVN0cikge1xyXG4gICAgICAgIHZhciBuQ2hyO1xyXG4gICAgICAgIHZhciBuQXJyTGVuID0gMDtcclxuICAgICAgICB2YXIgblN0ckxlbiA9IHNET01TdHIubGVuZ3RoO1xyXG4gICAgICAgIC8qIG1hcHBpbmcuLi4gKi9cclxuICAgICAgICBmb3IgKHZhciBuTWFwSWR4ID0gMDsgbk1hcElkeCA8IG5TdHJMZW47IG5NYXBJZHgrKykge1xyXG4gICAgICAgICAgICBuQ2hyID0gc0RPTVN0ci5jaGFyQ29kZUF0KG5NYXBJZHgpO1xyXG4gICAgICAgICAgICBuQXJyTGVuICs9IG5DaHIgPCAweDgwID8gMSA6IG5DaHIgPCAweDgwMCA/IDIgOiBuQ2hyIDwgMHgxMDAwMCA/IDMgOiBuQ2hyIDwgMHgyMDAwMDAgPyA0IDogbkNociA8IDB4NDAwMDAwMCA/IDUgOiA2O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYUJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobkFyckxlbik7XHJcbiAgICAgICAgLyogdHJhbnNjcmlwdGlvbi4uLiAqL1xyXG4gICAgICAgIGZvciAodmFyIG5JZHggPSAwLCBuQ2hySWR4ID0gMDsgbklkeCA8IG5BcnJMZW47IG5DaHJJZHgrKykge1xyXG4gICAgICAgICAgICBuQ2hyID0gc0RPTVN0ci5jaGFyQ29kZUF0KG5DaHJJZHgpO1xyXG4gICAgICAgICAgICBpZiAobkNociA8IDEyOCkge1xyXG4gICAgICAgICAgICAgICAgLyogb25lIGJ5dGUgKi9cclxuICAgICAgICAgICAgICAgIGFCeXRlc1tuSWR4KytdID0gbkNocjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChuQ2hyIDwgMHg4MDApIHtcclxuICAgICAgICAgICAgICAgIC8qIHR3byBieXRlcyAqL1xyXG4gICAgICAgICAgICAgICAgYUJ5dGVzW25JZHgrK10gPSAxOTIgKyAobkNociA+Pj4gNik7XHJcbiAgICAgICAgICAgICAgICBhQnl0ZXNbbklkeCsrXSA9IDEyOCArIChuQ2hyICYgNjMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG5DaHIgPCAweDEwMDAwKSB7XHJcbiAgICAgICAgICAgICAgICAvKiB0aHJlZSBieXRlcyAqL1xyXG4gICAgICAgICAgICAgICAgYUJ5dGVzW25JZHgrK10gPSAyMjQgKyAobkNociA+Pj4gMTIpO1xyXG4gICAgICAgICAgICAgICAgYUJ5dGVzW25JZHgrK10gPSAxMjggKyAobkNociA+Pj4gNiAmIDYzKTtcclxuICAgICAgICAgICAgICAgIGFCeXRlc1tuSWR4KytdID0gMTI4ICsgKG5DaHIgJiA2Myk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAobkNociA8IDB4MjAwMDAwKSB7XHJcbiAgICAgICAgICAgICAgICAvKiBmb3VyIGJ5dGVzICovXHJcbiAgICAgICAgICAgICAgICBhQnl0ZXNbbklkeCsrXSA9IDI0MCArIChuQ2hyID4+PiAxOCk7XHJcbiAgICAgICAgICAgICAgICBhQnl0ZXNbbklkeCsrXSA9IDEyOCArIChuQ2hyID4+PiAxMiAmIDYzKTtcclxuICAgICAgICAgICAgICAgIGFCeXRlc1tuSWR4KytdID0gMTI4ICsgKG5DaHIgPj4+IDYgJiA2Myk7XHJcbiAgICAgICAgICAgICAgICBhQnl0ZXNbbklkeCsrXSA9IDEyOCArIChuQ2hyICYgNjMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG5DaHIgPCAweDQwMDAwMDApIHtcclxuICAgICAgICAgICAgICAgIC8qIGZpdmUgYnl0ZXMgKi9cclxuICAgICAgICAgICAgICAgIGFCeXRlc1tuSWR4KytdID0gMjQ4ICsgKG5DaHIgPj4+IDI0KTtcclxuICAgICAgICAgICAgICAgIGFCeXRlc1tuSWR4KytdID0gMTI4ICsgKG5DaHIgPj4+IDE4ICYgNjMpO1xyXG4gICAgICAgICAgICAgICAgYUJ5dGVzW25JZHgrK10gPSAxMjggKyAobkNociA+Pj4gMTIgJiA2Myk7XHJcbiAgICAgICAgICAgICAgICBhQnl0ZXNbbklkeCsrXSA9IDEyOCArIChuQ2hyID4+PiA2ICYgNjMpO1xyXG4gICAgICAgICAgICAgICAgYUJ5dGVzW25JZHgrK10gPSAxMjggKyAobkNociAmIDYzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIC8qIGlmIChuQ2hyIDw9IDB4N2ZmZmZmZmYpICovIHtcclxuICAgICAgICAgICAgICAgIC8qIHNpeCBieXRlcyAqL1xyXG4gICAgICAgICAgICAgICAgYUJ5dGVzW25JZHgrK10gPSAyNTIgKyAobkNociA+Pj4gMzApO1xyXG4gICAgICAgICAgICAgICAgYUJ5dGVzW25JZHgrK10gPSAxMjggKyAobkNociA+Pj4gMjQgJiA2Myk7XHJcbiAgICAgICAgICAgICAgICBhQnl0ZXNbbklkeCsrXSA9IDEyOCArIChuQ2hyID4+PiAxOCAmIDYzKTtcclxuICAgICAgICAgICAgICAgIGFCeXRlc1tuSWR4KytdID0gMTI4ICsgKG5DaHIgPj4+IDEyICYgNjMpO1xyXG4gICAgICAgICAgICAgICAgYUJ5dGVzW25JZHgrK10gPSAxMjggKyAobkNociA+Pj4gNiAmIDYzKTtcclxuICAgICAgICAgICAgICAgIGFCeXRlc1tuSWR4KytdID0gMTI4ICsgKG5DaHIgJiA2Myk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFCeXRlcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENvbnZlcnN0IHN0cmluZyB0byBBcnJheUJ1ZmZlclxyXG4gICAgICogQHBhcmFtIGRhdGFTdHJpbmdcclxuICAgICAqL1xyXG4gICAgQnJvd3NlclN0cmluZ1V0aWxzLnN0cmluZ1RvQXJyYXlCdWZmZXIgPSBmdW5jdGlvbiAoZGF0YVN0cmluZykge1xyXG4gICAgICAgIHZhciBkYXRhID0gbmV3IEFycmF5QnVmZmVyKGRhdGFTdHJpbmcubGVuZ3RoKTtcclxuICAgICAgICB2YXIgZGF0YVZpZXcgPSBuZXcgVWludDhBcnJheShkYXRhKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFTdHJpbmcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZGF0YVZpZXdbaV0gPSBkYXRhU3RyaW5nLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgVWludDhBcnJheSB0byBhIHN0cmluZ1xyXG4gICAgICogQHBhcmFtIGFCeXRlc1xyXG4gICAgICovXHJcbiAgICBCcm93c2VyU3RyaW5nVXRpbHMudXRmOEFyclRvU3RyaW5nID0gZnVuY3Rpb24gKGFCeXRlcykge1xyXG4gICAgICAgIHZhciBzVmlldyA9IFwiXCI7XHJcbiAgICAgICAgZm9yICh2YXIgblBhcnQgPSB2b2lkIDAsIG5MZW4gPSBhQnl0ZXMubGVuZ3RoLCBuSWR4ID0gMDsgbklkeCA8IG5MZW47IG5JZHgrKykge1xyXG4gICAgICAgICAgICBuUGFydCA9IGFCeXRlc1tuSWR4XTtcclxuICAgICAgICAgICAgc1ZpZXcgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShuUGFydCA+IDI1MSAmJiBuUGFydCA8IDI1NCAmJiBuSWR4ICsgNSA8IG5MZW4gPyAvKiBzaXggYnl0ZXMgKi9cclxuICAgICAgICAgICAgICAgIC8qIChuUGFydCAtIDI1MiA8PCAzMCkgbWF5IGJlIG5vdCBzbyBzYWZlIGluIEVDTUFTY3JpcHQhIFNvLi4uOiAqL1xyXG4gICAgICAgICAgICAgICAgKG5QYXJ0IC0gMjUyKSAqIDEwNzM3NDE4MjQgKyAoYUJ5dGVzWysrbklkeF0gLSAxMjggPDwgMjQpICsgKGFCeXRlc1srK25JZHhdIC0gMTI4IDw8IDE4KSArIChhQnl0ZXNbKytuSWR4XSAtIDEyOCA8PCAxMikgKyAoYUJ5dGVzWysrbklkeF0gLSAxMjggPDwgNikgKyBhQnl0ZXNbKytuSWR4XSAtIDEyOFxyXG4gICAgICAgICAgICAgICAgOiBuUGFydCA+IDI0NyAmJiBuUGFydCA8IDI1MiAmJiBuSWR4ICsgNCA8IG5MZW4gPyAvKiBmaXZlIGJ5dGVzICovXHJcbiAgICAgICAgICAgICAgICAgICAgKG5QYXJ0IC0gMjQ4IDw8IDI0KSArIChhQnl0ZXNbKytuSWR4XSAtIDEyOCA8PCAxOCkgKyAoYUJ5dGVzWysrbklkeF0gLSAxMjggPDwgMTIpICsgKGFCeXRlc1srK25JZHhdIC0gMTI4IDw8IDYpICsgYUJ5dGVzWysrbklkeF0gLSAxMjhcclxuICAgICAgICAgICAgICAgICAgICA6IG5QYXJ0ID4gMjM5ICYmIG5QYXJ0IDwgMjQ4ICYmIG5JZHggKyAzIDwgbkxlbiA/IC8qIGZvdXIgYnl0ZXMgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgKG5QYXJ0IC0gMjQwIDw8IDE4KSArIChhQnl0ZXNbKytuSWR4XSAtIDEyOCA8PCAxMikgKyAoYUJ5dGVzWysrbklkeF0gLSAxMjggPDwgNikgKyBhQnl0ZXNbKytuSWR4XSAtIDEyOFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG5QYXJ0ID4gMjIzICYmIG5QYXJ0IDwgMjQwICYmIG5JZHggKyAyIDwgbkxlbiA/IC8qIHRocmVlIGJ5dGVzICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoblBhcnQgLSAyMjQgPDwgMTIpICsgKGFCeXRlc1srK25JZHhdIC0gMTI4IDw8IDYpICsgYUJ5dGVzWysrbklkeF0gLSAxMjhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogblBhcnQgPiAxOTEgJiYgblBhcnQgPCAyMjQgJiYgbklkeCArIDEgPCBuTGVuID8gLyogdHdvIGJ5dGVzICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG5QYXJ0IC0gMTkyIDw8IDYpICsgYUJ5dGVzWysrbklkeF0gLSAxMjhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IC8qIG5QYXJ0IDwgMTI3ID8gKi8gLyogb25lIGJ5dGUgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgblBhcnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc1ZpZXc7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEJyb3dzZXJTdHJpbmdVdGlscztcclxufSgpKTtcblxuZXhwb3J0IHsgQnJvd3NlclN0cmluZ1V0aWxzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ccm93c2VyU3RyaW5nVXRpbHMuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2Mi4yMi4xIDIwMjItMDMtMDcgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IEJyb3dzZXJTdHJpbmdVdGlscyB9IGZyb20gJy4uL3V0aWxzL0Jyb3dzZXJTdHJpbmdVdGlscy5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQ2xhc3Mgd2hpY2ggZXhwb3NlcyBBUElzIHRvIGVuY29kZSBwbGFpbnRleHQgdG8gYmFzZTY0IGVuY29kZWQgc3RyaW5nLiBTZWUgaGVyZSBmb3IgaW1wbGVtZW50YXRpb24gZGV0YWlsczpcclxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dpbmRvd0Jhc2U2NC9CYXNlNjRfZW5jb2RpbmdfYW5kX2RlY29kaW5nI1NvbHV0aW9uXzJfJUUyJTgwJTkzX0phdmFTY3JpcHQnc19VVEYtMTZfJTNFX1VURi04XyUzRV9iYXNlNjRcclxuICovXHJcbnZhciBCYXNlNjRFbmNvZGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBCYXNlNjRFbmNvZGUoKSB7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgVVJMIFNhZmUgYjY0IGVuY29kZWQgc3RyaW5nIGZyb20gYSBwbGFpbnRleHQgc3RyaW5nLlxyXG4gICAgICogQHBhcmFtIGlucHV0XHJcbiAgICAgKi9cclxuICAgIEJhc2U2NEVuY29kZS5wcm90b3R5cGUudXJsRW5jb2RlID0gZnVuY3Rpb24gKGlucHV0KSB7XHJcbiAgICAgICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLmVuY29kZShpbnB1dClcclxuICAgICAgICAgICAgLnJlcGxhY2UoLz0vZywgXCJcIilcclxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcKy9nLCBcIi1cIilcclxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcLy9nLCBcIl9cIikpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBVUkwgU2FmZSBiNjQgZW5jb2RlZCBzdHJpbmcgZnJvbSBhbiBpbnQ4QXJyYXkuXHJcbiAgICAgKiBAcGFyYW0gaW5wdXRBcnJcclxuICAgICAqL1xyXG4gICAgQmFzZTY0RW5jb2RlLnByb3RvdHlwZS51cmxFbmNvZGVBcnIgPSBmdW5jdGlvbiAoaW5wdXRBcnIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXNlNjRFbmNBcnIoaW5wdXRBcnIpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC89L2csIFwiXCIpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXCsvZywgXCItXCIpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXC8vZywgXCJfXCIpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBiNjQgZW5jb2RlZCBzdHJpbmcgZnJvbSBwbGFpbnRleHQgc3RyaW5nLlxyXG4gICAgICogQHBhcmFtIGlucHV0XHJcbiAgICAgKi9cclxuICAgIEJhc2U2NEVuY29kZS5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24gKGlucHV0KSB7XHJcbiAgICAgICAgdmFyIGlucHV0VXRmOEFyciA9IEJyb3dzZXJTdHJpbmdVdGlscy5zdHJpbmdUb1V0ZjhBcnIoaW5wdXQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJhc2U2NEVuY0FycihpbnB1dFV0ZjhBcnIpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQmFzZTY0IGVuY29kZSBieXRlIGFycmF5XHJcbiAgICAgKiBAcGFyYW0gYUJ5dGVzXHJcbiAgICAgKi9cclxuICAgIEJhc2U2NEVuY29kZS5wcm90b3R5cGUuYmFzZTY0RW5jQXJyID0gZnVuY3Rpb24gKGFCeXRlcykge1xyXG4gICAgICAgIHZhciBlcUxlbiA9ICgzIC0gKGFCeXRlcy5sZW5ndGggJSAzKSkgJSAzO1xyXG4gICAgICAgIHZhciBzQjY0RW5jID0gXCJcIjtcclxuICAgICAgICBmb3IgKHZhciBuTW9kMyA9IHZvaWQgMCwgbkxlbiA9IGFCeXRlcy5sZW5ndGgsIG5VaW50MjQgPSAwLCBuSWR4ID0gMDsgbklkeCA8IG5MZW47IG5JZHgrKykge1xyXG4gICAgICAgICAgICBuTW9kMyA9IG5JZHggJSAzO1xyXG4gICAgICAgICAgICAvKiBVbmNvbW1lbnQgdGhlIGZvbGxvd2luZyBsaW5lIGluIG9yZGVyIHRvIHNwbGl0IHRoZSBvdXRwdXQgaW4gbGluZXMgNzYtY2hhcmFjdGVyIGxvbmc6ICovXHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAqaWYgKG5JZHggPiAwICYmIChuSWR4ICogNCAvIDMpICUgNzYgPT09IDApIHsgc0I2NEVuYyArPSBcIlxcclxcblwiOyB9XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBuVWludDI0IHw9IGFCeXRlc1tuSWR4XSA8PCAoMTYgPj4+IG5Nb2QzICYgMjQpO1xyXG4gICAgICAgICAgICBpZiAobk1vZDMgPT09IDIgfHwgYUJ5dGVzLmxlbmd0aCAtIG5JZHggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHNCNjRFbmMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLnVpbnQ2VG9CNjQoblVpbnQyNCA+Pj4gMTggJiA2MyksIHRoaXMudWludDZUb0I2NChuVWludDI0ID4+PiAxMiAmIDYzKSwgdGhpcy51aW50NlRvQjY0KG5VaW50MjQgPj4+IDYgJiA2MyksIHRoaXMudWludDZUb0I2NChuVWludDI0ICYgNjMpKTtcclxuICAgICAgICAgICAgICAgIG5VaW50MjQgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlcUxlbiA9PT0gMCA/IHNCNjRFbmMgOiBzQjY0RW5jLnN1YnN0cmluZygwLCBzQjY0RW5jLmxlbmd0aCAtIGVxTGVuKSArIChlcUxlbiA9PT0gMSA/IFwiPVwiIDogXCI9PVwiKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEJhc2U2NCBzdHJpbmcgdG8gYXJyYXkgZW5jb2RpbmcgaGVscGVyXHJcbiAgICAgKiBAcGFyYW0gblVpbnQ2XHJcbiAgICAgKi9cclxuICAgIEJhc2U2NEVuY29kZS5wcm90b3R5cGUudWludDZUb0I2NCA9IGZ1bmN0aW9uIChuVWludDYpIHtcclxuICAgICAgICByZXR1cm4gblVpbnQ2IDwgMjYgP1xyXG4gICAgICAgICAgICBuVWludDYgKyA2NVxyXG4gICAgICAgICAgICA6IG5VaW50NiA8IDUyID9cclxuICAgICAgICAgICAgICAgIG5VaW50NiArIDcxXHJcbiAgICAgICAgICAgICAgICA6IG5VaW50NiA8IDYyID9cclxuICAgICAgICAgICAgICAgICAgICBuVWludDYgLSA0XHJcbiAgICAgICAgICAgICAgICAgICAgOiBuVWludDYgPT09IDYyID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgNDNcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBuVWludDYgPT09IDYzID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQ3XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNjU7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEJhc2U2NEVuY29kZTtcclxufSgpKTtcblxuZXhwb3J0IHsgQmFzZTY0RW5jb2RlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXNlNjRFbmNvZGUuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2Mi4yMi4xIDIwMjItMDMtMDcgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IEJyb3dzZXJTdHJpbmdVdGlscyB9IGZyb20gJy4uL3V0aWxzL0Jyb3dzZXJTdHJpbmdVdGlscy5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQ2xhc3Mgd2hpY2ggZXhwb3NlcyBBUElzIHRvIGRlY29kZSBiYXNlNjQgc3RyaW5ncyB0byBwbGFpbnRleHQuIFNlZSBoZXJlIGZvciBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzOlxyXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93QmFzZTY0L0Jhc2U2NF9lbmNvZGluZ19hbmRfZGVjb2RpbmcjU29sdXRpb25fMl8lRTIlODAlOTNfSmF2YVNjcmlwdCdzX1VURi0xNl8lM0VfVVRGLThfJTNFX2Jhc2U2NFxyXG4gKi9cclxudmFyIEJhc2U2NERlY29kZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEJhc2U2NERlY29kZSgpIHtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIFVSTC1zYWZlIHBsYWludGV4dCBkZWNvZGVkIHN0cmluZyBmcm9tIGI2NCBlbmNvZGVkIGlucHV0LlxyXG4gICAgICogQHBhcmFtIGlucHV0XHJcbiAgICAgKi9cclxuICAgIEJhc2U2NERlY29kZS5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKGlucHV0KSB7XHJcbiAgICAgICAgdmFyIGVuY29kZWRTdHJpbmcgPSBpbnB1dC5yZXBsYWNlKC8tL2csIFwiK1wiKS5yZXBsYWNlKC9fL2csIFwiL1wiKTtcclxuICAgICAgICBzd2l0Y2ggKGVuY29kZWRTdHJpbmcubGVuZ3RoICUgNCkge1xyXG4gICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgZW5jb2RlZFN0cmluZyArPSBcIj09XCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgZW5jb2RlZFN0cmluZyArPSBcIj1cIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBiYXNlNjQgc3RyaW5nXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaW5wdXRVdGY4QXJyID0gdGhpcy5iYXNlNjREZWNUb0FycihlbmNvZGVkU3RyaW5nKTtcclxuICAgICAgICByZXR1cm4gQnJvd3NlclN0cmluZ1V0aWxzLnV0ZjhBcnJUb1N0cmluZyhpbnB1dFV0ZjhBcnIpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGVjb2RlcyBiYXNlNjQgaW50byBVaW50OEFycmF5XHJcbiAgICAgKiBAcGFyYW0gYmFzZTY0U3RyaW5nXHJcbiAgICAgKiBAcGFyYW0gbkJsb2NrU2l6ZVxyXG4gICAgICovXHJcbiAgICBCYXNlNjREZWNvZGUucHJvdG90eXBlLmJhc2U2NERlY1RvQXJyID0gZnVuY3Rpb24gKGJhc2U2NFN0cmluZywgbkJsb2NrU2l6ZSkge1xyXG4gICAgICAgIHZhciBzQjY0RW5jID0gYmFzZTY0U3RyaW5nLnJlcGxhY2UoL1teQS1aYS16MC05XFwrXFwvXS9nLCBcIlwiKTtcclxuICAgICAgICB2YXIgbkluTGVuID0gc0I2NEVuYy5sZW5ndGg7XHJcbiAgICAgICAgdmFyIG5PdXRMZW4gPSBuQmxvY2tTaXplID8gTWF0aC5jZWlsKChuSW5MZW4gKiAzICsgMSA+Pj4gMikgLyBuQmxvY2tTaXplKSAqIG5CbG9ja1NpemUgOiBuSW5MZW4gKiAzICsgMSA+Pj4gMjtcclxuICAgICAgICB2YXIgYUJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobk91dExlbik7XHJcbiAgICAgICAgZm9yICh2YXIgbk1vZDMgPSB2b2lkIDAsIG5Nb2Q0ID0gdm9pZCAwLCBuVWludDI0ID0gMCwgbk91dElkeCA9IDAsIG5JbklkeCA9IDA7IG5JbklkeCA8IG5JbkxlbjsgbkluSWR4KyspIHtcclxuICAgICAgICAgICAgbk1vZDQgPSBuSW5JZHggJiAzO1xyXG4gICAgICAgICAgICBuVWludDI0IHw9IHRoaXMuYjY0VG9VaW50NihzQjY0RW5jLmNoYXJDb2RlQXQobkluSWR4KSkgPDwgMTggLSA2ICogbk1vZDQ7XHJcbiAgICAgICAgICAgIGlmIChuTW9kNCA9PT0gMyB8fCBuSW5MZW4gLSBuSW5JZHggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobk1vZDMgPSAwOyBuTW9kMyA8IDMgJiYgbk91dElkeCA8IG5PdXRMZW47IG5Nb2QzKyssIG5PdXRJZHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFCeXRlc1tuT3V0SWR4XSA9IG5VaW50MjQgPj4+ICgxNiA+Pj4gbk1vZDMgJiAyNCkgJiAyNTU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuVWludDI0ID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYUJ5dGVzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQmFzZTY0IHN0cmluZyB0byBhcnJheSBkZWNvZGluZyBoZWxwZXJcclxuICAgICAqIEBwYXJhbSBjaGFyTnVtXHJcbiAgICAgKi9cclxuICAgIEJhc2U2NERlY29kZS5wcm90b3R5cGUuYjY0VG9VaW50NiA9IGZ1bmN0aW9uIChjaGFyTnVtKSB7XHJcbiAgICAgICAgcmV0dXJuIGNoYXJOdW0gPiA2NCAmJiBjaGFyTnVtIDwgOTEgP1xyXG4gICAgICAgICAgICBjaGFyTnVtIC0gNjVcclxuICAgICAgICAgICAgOiBjaGFyTnVtID4gOTYgJiYgY2hhck51bSA8IDEyMyA/XHJcbiAgICAgICAgICAgICAgICBjaGFyTnVtIC0gNzFcclxuICAgICAgICAgICAgICAgIDogY2hhck51bSA+IDQ3ICYmIGNoYXJOdW0gPCA1OCA/XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhck51bSArIDRcclxuICAgICAgICAgICAgICAgICAgICA6IGNoYXJOdW0gPT09IDQzID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgNjJcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjaGFyTnVtID09PSA0NyA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA2M1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDA7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEJhc2U2NERlY29kZTtcclxufSgpKTtcblxuZXhwb3J0IHsgQmFzZTY0RGVjb2RlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXNlNjREZWNvZGUuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2Mi4yMi4xIDIwMjItMDMtMDcgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gJy4uL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgeyBTdHJpbmdVdGlscywgQXV0aEVycm9yIH0gZnJvbSAnQGF6dXJlL21zYWwtY29tbW9uJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBCcm93c2VyQXV0aEVycm9yTWVzc2FnZSBjbGFzcyBjb250YWluaW5nIHN0cmluZyBjb25zdGFudHMgdXNlZCBieSBlcnJvciBjb2RlcyBhbmQgbWVzc2FnZXMuXHJcbiAqL1xyXG52YXIgQnJvd3NlckF1dGhFcnJvck1lc3NhZ2UgPSB7XHJcbiAgICBwa2NlTm90R2VuZXJhdGVkOiB7XHJcbiAgICAgICAgY29kZTogXCJwa2NlX25vdF9jcmVhdGVkXCIsXHJcbiAgICAgICAgZGVzYzogXCJUaGUgUEtDRSBjb2RlIGNoYWxsZW5nZSBhbmQgdmVyaWZpZXIgY291bGQgbm90IGJlIGdlbmVyYXRlZC5cIlxyXG4gICAgfSxcclxuICAgIGNyeXB0b0RvZXNOb3RFeGlzdDoge1xyXG4gICAgICAgIGNvZGU6IFwiY3J5cHRvX25vbmV4aXN0ZW50XCIsXHJcbiAgICAgICAgZGVzYzogXCJUaGUgY3J5cHRvIG9iamVjdCBvciBmdW5jdGlvbiBpcyBub3QgYXZhaWxhYmxlLlwiXHJcbiAgICB9LFxyXG4gICAgaHR0cE1ldGhvZE5vdEltcGxlbWVudGVkRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBcImh0dHBfbWV0aG9kX25vdF9pbXBsZW1lbnRlZFwiLFxyXG4gICAgICAgIGRlc2M6IFwiVGhlIEhUVFAgbWV0aG9kIGdpdmVuIGhhcyBub3QgYmVlbiBpbXBsZW1lbnRlZCBpbiB0aGlzIGxpYnJhcnkuXCJcclxuICAgIH0sXHJcbiAgICBlbXB0eU5hdmlnYXRlVXJpRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBcImVtcHR5X25hdmlnYXRlX3VyaVwiLFxyXG4gICAgICAgIGRlc2M6IFwiTmF2aWdhdGlvbiBVUkkgaXMgZW1wdHkuIFBsZWFzZSBjaGVjayBzdGFjayB0cmFjZSBmb3IgbW9yZSBpbmZvLlwiXHJcbiAgICB9LFxyXG4gICAgaGFzaEVtcHR5RXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBcImhhc2hfZW1wdHlfZXJyb3JcIixcclxuICAgICAgICBkZXNjOiBcIkhhc2ggdmFsdWUgY2Fubm90IGJlIHByb2Nlc3NlZCBiZWNhdXNlIGl0IGlzIGVtcHR5LiBQbGVhc2UgdmVyaWZ5IHRoYXQgeW91ciByZWRpcmVjdFVyaSBpcyBub3QgY2xlYXJpbmcgdGhlIGhhc2guXCJcclxuICAgIH0sXHJcbiAgICBoYXNoRG9lc05vdENvbnRhaW5TdGF0ZUVycm9yOiB7XHJcbiAgICAgICAgY29kZTogXCJub19zdGF0ZV9pbl9oYXNoXCIsXHJcbiAgICAgICAgZGVzYzogXCJIYXNoIGRvZXMgbm90IGNvbnRhaW4gc3RhdGUuIFBsZWFzZSB2ZXJpZnkgdGhhdCB0aGUgcmVxdWVzdCBvcmlnaW5hdGVkIGZyb20gbXNhbC5cIlxyXG4gICAgfSxcclxuICAgIGhhc2hEb2VzTm90Q29udGFpbktub3duUHJvcGVydGllc0Vycm9yOiB7XHJcbiAgICAgICAgY29kZTogXCJoYXNoX2RvZXNfbm90X2NvbnRhaW5fa25vd25fcHJvcGVydGllc1wiLFxyXG4gICAgICAgIGRlc2M6IFwiSGFzaCBkb2VzIG5vdCBjb250YWluIGtub3duIHByb3Blcml0ZXMuIFBsZWFzZSB2ZXJpZnkgdGhhdCB5b3VyIHJlZGlyZWN0VXJpIGlzIG5vdCBjaGFuZ2luZyB0aGUgaGFzaC5cIlxyXG4gICAgfSxcclxuICAgIHVuYWJsZVRvUGFyc2VTdGF0ZUVycm9yOiB7XHJcbiAgICAgICAgY29kZTogXCJ1bmFibGVfdG9fcGFyc2Vfc3RhdGVcIixcclxuICAgICAgICBkZXNjOiBcIlVuYWJsZSB0byBwYXJzZSBzdGF0ZS4gUGxlYXNlIHZlcmlmeSB0aGF0IHRoZSByZXF1ZXN0IG9yaWdpbmF0ZWQgZnJvbSBtc2FsLlwiXHJcbiAgICB9LFxyXG4gICAgc3RhdGVJbnRlcmFjdGlvblR5cGVNaXNtYXRjaEVycm9yOiB7XHJcbiAgICAgICAgY29kZTogXCJzdGF0ZV9pbnRlcmFjdGlvbl90eXBlX21pc21hdGNoXCIsXHJcbiAgICAgICAgZGVzYzogXCJIYXNoIGNvbnRhaW5zIHN0YXRlIGJ1dCB0aGUgaW50ZXJhY3Rpb24gdHlwZSBkb2VzIG5vdCBtYXRjaCB0aGUgY2FsbGVyLlwiXHJcbiAgICB9LFxyXG4gICAgaW50ZXJhY3Rpb25JblByb2dyZXNzOiB7XHJcbiAgICAgICAgY29kZTogXCJpbnRlcmFjdGlvbl9pbl9wcm9ncmVzc1wiLFxyXG4gICAgICAgIGRlc2M6IFwiSW50ZXJhY3Rpb24gaXMgY3VycmVudGx5IGluIHByb2dyZXNzLiBQbGVhc2UgZW5zdXJlIHRoYXQgdGhpcyBpbnRlcmFjdGlvbiBoYXMgYmVlbiBjb21wbGV0ZWQgYmVmb3JlIGNhbGxpbmcgYW4gaW50ZXJhY3RpdmUgQVBJLiAgRm9yIG1vcmUgdmlzaXQ6IGFrYS5tcy9tc2FsanMvYnJvd3Nlci1lcnJvcnMuXCJcclxuICAgIH0sXHJcbiAgICBwb3B1cFdpbmRvd0Vycm9yOiB7XHJcbiAgICAgICAgY29kZTogXCJwb3B1cF93aW5kb3dfZXJyb3JcIixcclxuICAgICAgICBkZXNjOiBcIkVycm9yIG9wZW5pbmcgcG9wdXAgd2luZG93LiBUaGlzIGNhbiBoYXBwZW4gaWYgeW91IGFyZSB1c2luZyBJRSBvciBpZiBwb3B1cHMgYXJlIGJsb2NrZWQgaW4gdGhlIGJyb3dzZXIuXCJcclxuICAgIH0sXHJcbiAgICBlbXB0eVdpbmRvd0Vycm9yOiB7XHJcbiAgICAgICAgY29kZTogXCJlbXB0eV93aW5kb3dfZXJyb3JcIixcclxuICAgICAgICBkZXNjOiBcIndpbmRvdy5vcGVuIHJldHVybmVkIG51bGwgb3IgdW5kZWZpbmVkIHdpbmRvdyBvYmplY3QuXCJcclxuICAgIH0sXHJcbiAgICB1c2VyQ2FuY2VsbGVkRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBcInVzZXJfY2FuY2VsbGVkXCIsXHJcbiAgICAgICAgZGVzYzogXCJVc2VyIGNhbmNlbGxlZCB0aGUgZmxvdy5cIlxyXG4gICAgfSxcclxuICAgIG1vbml0b3JQb3B1cFRpbWVvdXRFcnJvcjoge1xyXG4gICAgICAgIGNvZGU6IFwibW9uaXRvcl93aW5kb3dfdGltZW91dFwiLFxyXG4gICAgICAgIGRlc2M6IFwiVG9rZW4gYWNxdWlzaXRpb24gaW4gcG9wdXAgZmFpbGVkIGR1ZSB0byB0aW1lb3V0LiBGb3IgbW9yZSB2aXNpdDogYWthLm1zL21zYWxqcy9icm93c2VyLWVycm9ycy5cIlxyXG4gICAgfSxcclxuICAgIG1vbml0b3JJZnJhbWVUaW1lb3V0RXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBcIm1vbml0b3Jfd2luZG93X3RpbWVvdXRcIixcclxuICAgICAgICBkZXNjOiBcIlRva2VuIGFjcXVpc2l0aW9uIGluIGlmcmFtZSBmYWlsZWQgZHVlIHRvIHRpbWVvdXQuIEZvciBtb3JlIHZpc2l0OiBha2EubXMvbXNhbGpzL2Jyb3dzZXItZXJyb3JzLlwiXHJcbiAgICB9LFxyXG4gICAgcmVkaXJlY3RJbklmcmFtZUVycm9yOiB7XHJcbiAgICAgICAgY29kZTogXCJyZWRpcmVjdF9pbl9pZnJhbWVcIixcclxuICAgICAgICBkZXNjOiBcIkNvZGUgZmxvdyBpcyBub3Qgc3VwcG9ydGVkIGluc2lkZSBhbiBpZnJhbWUuIFBsZWFzZSBlbnN1cmUgeW91IGFyZSB1c2luZyBNU0FMLmpzIGluIGEgdG9wIGZyYW1lIG9mIHRoZSB3aW5kb3cgaWYgdXNpbmcgdGhlIHJlZGlyZWN0IEFQSXMsIG9yIHVzZSB0aGUgcG9wdXAgQVBJcy5cIlxyXG4gICAgfSxcclxuICAgIGJsb2NrVG9rZW5SZXF1ZXN0c0luSGlkZGVuSWZyYW1lRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBcImJsb2NrX2lmcmFtZV9yZWxvYWRcIixcclxuICAgICAgICBkZXNjOiBcIlJlcXVlc3Qgd2FzIGJsb2NrZWQgaW5zaWRlIGFuIGlmcmFtZSBiZWNhdXNlIE1TQUwgZGV0ZWN0ZWQgYW4gYXV0aGVudGljYXRpb24gcmVzcG9uc2UuIEZvciBtb3JlIHZpc2l0OiBha2EubXMvbXNhbGpzL2Jyb3dzZXItZXJyb3JzXCJcclxuICAgIH0sXHJcbiAgICBibG9ja0FjcXVpcmVUb2tlbkluUG9wdXBzRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBcImJsb2NrX25lc3RlZF9wb3B1cHNcIixcclxuICAgICAgICBkZXNjOiBcIlJlcXVlc3Qgd2FzIGJsb2NrZWQgaW5zaWRlIGEgcG9wdXAgYmVjYXVzZSBNU0FMIGRldGVjdGVkIGl0IHdhcyBydW5uaW5nIGluIGEgcG9wdXAuXCJcclxuICAgIH0sXHJcbiAgICBpZnJhbWVDbG9zZWRQcmVtYXR1cmVseUVycm9yOiB7XHJcbiAgICAgICAgY29kZTogXCJpZnJhbWVfY2xvc2VkX3ByZW1hdHVyZWx5XCIsXHJcbiAgICAgICAgZGVzYzogXCJUaGUgaWZyYW1lIGJlaW5nIG1vbml0b3JlZCB3YXMgY2xvc2VkIHByZW1hdHVyZWx5LlwiXHJcbiAgICB9LFxyXG4gICAgc2lsZW50TG9nb3V0VW5zdXBwb3J0ZWRFcnJvcjoge1xyXG4gICAgICAgIGNvZGU6IFwic2lsZW50X2xvZ291dF91bnN1cHBvcnRlZFwiLFxyXG4gICAgICAgIGRlc2M6IFwiU2lsZW50IGxvZ291dCBub3Qgc3VwcG9ydGVkLiBQbGVhc2UgY2FsbCBsb2dvdXRSZWRpcmVjdCBvciBsb2dvdXRQb3B1cCBpbnN0ZWFkLlwiXHJcbiAgICB9LFxyXG4gICAgbm9BY2NvdW50RXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBcIm5vX2FjY291bnRfZXJyb3JcIixcclxuICAgICAgICBkZXNjOiBcIk5vIGFjY291bnQgb2JqZWN0IHByb3ZpZGVkIHRvIGFjcXVpcmVUb2tlblNpbGVudCBhbmQgbm8gYWN0aXZlIGFjY291bnQgaGFzIGJlZW4gc2V0LiBQbGVhc2UgY2FsbCBzZXRBY3RpdmVBY2NvdW50IG9yIHByb3ZpZGUgYW4gYWNjb3VudCBvbiB0aGUgcmVxdWVzdC5cIlxyXG4gICAgfSxcclxuICAgIHNpbGVudFByb21wdFZhbHVlRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBcInNpbGVudF9wcm9tcHRfdmFsdWVfZXJyb3JcIixcclxuICAgICAgICBkZXNjOiBcIlRoZSB2YWx1ZSBnaXZlbiBmb3IgdGhlIHByb21wdCB2YWx1ZSBpcyBub3QgdmFsaWQgZm9yIHNpbGVudCByZXF1ZXN0cyAtIG11c3QgYmUgc2V0IHRvICdub25lJy5cIlxyXG4gICAgfSxcclxuICAgIG5vVG9rZW5SZXF1ZXN0Q2FjaGVFcnJvcjoge1xyXG4gICAgICAgIGNvZGU6IFwibm9fdG9rZW5fcmVxdWVzdF9jYWNoZV9lcnJvclwiLFxyXG4gICAgICAgIGRlc2M6IFwiTm8gdG9rZW4gcmVxdWVzdCBmb3VuZCBpbiBjYWNoZS5cIlxyXG4gICAgfSxcclxuICAgIHVuYWJsZVRvUGFyc2VUb2tlblJlcXVlc3RDYWNoZUVycm9yOiB7XHJcbiAgICAgICAgY29kZTogXCJ1bmFibGVfdG9fcGFyc2VfdG9rZW5fcmVxdWVzdF9jYWNoZV9lcnJvclwiLFxyXG4gICAgICAgIGRlc2M6IFwiVGhlIGNhY2hlZCB0b2tlbiByZXF1ZXN0IGNvdWxkIG5vdCBiZSBwYXJzZWQuXCJcclxuICAgIH0sXHJcbiAgICBub0NhY2hlZEF1dGhvcml0eUVycm9yOiB7XHJcbiAgICAgICAgY29kZTogXCJub19jYWNoZWRfYXV0aG9yaXR5X2Vycm9yXCIsXHJcbiAgICAgICAgZGVzYzogXCJObyBjYWNoZWQgYXV0aG9yaXR5IGZvdW5kLlwiXHJcbiAgICB9LFxyXG4gICAgYXV0aFJlcXVlc3ROb3RTZXQ6IHtcclxuICAgICAgICBjb2RlOiBcImF1dGhfcmVxdWVzdF9ub3Rfc2V0X2Vycm9yXCIsXHJcbiAgICAgICAgZGVzYzogXCJBdXRoIFJlcXVlc3Qgbm90IHNldC4gUGxlYXNlIGVuc3VyZSBpbml0aWF0ZUF1dGhSZXF1ZXN0IHdhcyBjYWxsZWQgZnJvbSB0aGUgSW50ZXJhY3Rpb25IYW5kbGVyXCJcclxuICAgIH0sXHJcbiAgICBpbnZhbGlkQ2FjaGVUeXBlOiB7XHJcbiAgICAgICAgY29kZTogXCJpbnZhbGlkX2NhY2hlX3R5cGVcIixcclxuICAgICAgICBkZXNjOiBcIkludmFsaWQgY2FjaGUgdHlwZVwiXHJcbiAgICB9LFxyXG4gICAgbm90SW5Ccm93c2VyRW52aXJvbm1lbnQ6IHtcclxuICAgICAgICBjb2RlOiBcIm5vbl9icm93c2VyX2Vudmlyb25tZW50XCIsXHJcbiAgICAgICAgZGVzYzogXCJMb2dpbiBhbmQgdG9rZW4gcmVxdWVzdHMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRzLlwiXHJcbiAgICB9LFxyXG4gICAgZGF0YWJhc2VOb3RPcGVuOiB7XHJcbiAgICAgICAgY29kZTogXCJkYXRhYmFzZV9ub3Rfb3BlblwiLFxyXG4gICAgICAgIGRlc2M6IFwiRGF0YWJhc2UgaXMgbm90IG9wZW4hXCJcclxuICAgIH0sXHJcbiAgICBub05ldHdvcmtDb25uZWN0aXZpdHk6IHtcclxuICAgICAgICBjb2RlOiBcIm5vX25ldHdvcmtfY29ubmVjdGl2aXR5XCIsXHJcbiAgICAgICAgZGVzYzogXCJObyBuZXR3b3JrIGNvbm5lY3Rpdml0eS4gQ2hlY2sgeW91ciBpbnRlcm5ldCBjb25uZWN0aW9uLlwiXHJcbiAgICB9LFxyXG4gICAgcG9zdFJlcXVlc3RGYWlsZWQ6IHtcclxuICAgICAgICBjb2RlOiBcInBvc3RfcmVxdWVzdF9mYWlsZWRcIixcclxuICAgICAgICBkZXNjOiBcIk5ldHdvcmsgcmVxdWVzdCBmYWlsZWQ6IElmIHRoZSBicm93c2VyIHRocmV3IGEgQ09SUyBlcnJvciwgY2hlY2sgdGhhdCB0aGUgcmVkaXJlY3RVcmkgaXMgcmVnaXN0ZXJlZCBpbiB0aGUgQXp1cmUgQXBwIFBvcnRhbCBhcyB0eXBlICdTUEEnXCJcclxuICAgIH0sXHJcbiAgICBnZXRSZXF1ZXN0RmFpbGVkOiB7XHJcbiAgICAgICAgY29kZTogXCJnZXRfcmVxdWVzdF9mYWlsZWRcIixcclxuICAgICAgICBkZXNjOiBcIk5ldHdvcmsgcmVxdWVzdCBmYWlsZWQuIFBsZWFzZSBjaGVjayB0aGUgbmV0d29yayB0cmFjZSB0byBkZXRlcm1pbmUgcm9vdCBjYXVzZS5cIlxyXG4gICAgfSxcclxuICAgIGZhaWxlZFRvUGFyc2VOZXR3b3JrUmVzcG9uc2U6IHtcclxuICAgICAgICBjb2RlOiBcImZhaWxlZF90b19wYXJzZV9yZXNwb25zZVwiLFxyXG4gICAgICAgIGRlc2M6IFwiRmFpbGVkIHRvIHBhcnNlIG5ldHdvcmsgcmVzcG9uc2UuIENoZWNrIG5ldHdvcmsgdHJhY2UuXCJcclxuICAgIH0sXHJcbiAgICB1bmFibGVUb0xvYWRUb2tlbkVycm9yOiB7XHJcbiAgICAgICAgY29kZTogXCJ1bmFibGVfdG9fbG9hZF90b2tlblwiLFxyXG4gICAgICAgIGRlc2M6IFwiRXJyb3IgbG9hZGluZyB0b2tlbiB0byBjYWNoZS5cIlxyXG4gICAgfSxcclxuICAgIHNpZ25pbmdLZXlOb3RGb3VuZEluU3RvcmFnZToge1xyXG4gICAgICAgIGNvZGU6IFwiY3J5cHRvX2tleV9ub3RfZm91bmRcIixcclxuICAgICAgICBkZXNjOiBcIkNyeXB0b2dyYXBoaWMgS2V5IG9yIEtleXBhaXIgbm90IGZvdW5kIGluIGJyb3dzZXIgc3RvcmFnZS5cIlxyXG4gICAgfSxcclxuICAgIGF1dGhDb2RlUmVxdWlyZWQ6IHtcclxuICAgICAgICBjb2RlOiBcImF1dGhfY29kZV9yZXF1aXJlZFwiLFxyXG4gICAgICAgIGRlc2M6IFwiQW4gYXV0aG9yaXphdGlvbiBjb2RlIG11c3QgYmUgcHJvdmlkZWQgKGFzIHRoZSBgY29kZWAgcHJvcGVydHkgb24gdGhlIHJlcXVlc3QpIHRvIHRoaXMgZmxvdy5cIlxyXG4gICAgfSxcclxuICAgIGRhdGFiYXNlVW5hdmFpbGFibGU6IHtcclxuICAgICAgICBjb2RlOiBcImRhdGFiYXNlX3VuYXZhaWxhYmxlXCIsXHJcbiAgICAgICAgZGVzYzogXCJJbmRleGVkREIsIHdoaWNoIGlzIHJlcXVpcmVkIGZvciBwZXJzaXN0ZW50IGNyeXB0b2dyYXBoaWMga2V5IHN0b3JhZ2UsIGlzIHVuYXZhaWxhYmxlLiBUaGlzIG1heSBiZSBjYXVzZWQgYnkgYnJvd3NlciBwcml2YWN5IGZlYXR1cmVzIHdoaWNoIGJsb2NrIHBlcnNpc3RlbnQgc3RvcmFnZSBpbiB0aGlyZC1wYXJ0eSBjb250ZXh0cy5cIlxyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogQnJvd3NlciBsaWJyYXJ5IGVycm9yIGNsYXNzIHRocm93biBieSB0aGUgTVNBTC5qcyBsaWJyYXJ5IGZvciBTUEFzXHJcbiAqL1xyXG52YXIgQnJvd3NlckF1dGhFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhCcm93c2VyQXV0aEVycm9yLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQnJvd3NlckF1dGhFcnJvcihlcnJvckNvZGUsIGVycm9yTWVzc2FnZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGVycm9yQ29kZSwgZXJyb3JNZXNzYWdlKSB8fCB0aGlzO1xyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihfdGhpcywgQnJvd3NlckF1dGhFcnJvci5wcm90b3R5cGUpO1xyXG4gICAgICAgIF90aGlzLm5hbWUgPSBcIkJyb3dzZXJBdXRoRXJyb3JcIjtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gZXJyb3IgdGhyb3duIHdoZW4gUEtDRSBpcyBub3QgaW1wbGVtZW50ZWQuXHJcbiAgICAgKiBAcGFyYW0gZXJyRGV0YWlsXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJBdXRoRXJyb3IuY3JlYXRlUGtjZU5vdEdlbmVyYXRlZEVycm9yID0gZnVuY3Rpb24gKGVyckRldGFpbCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQnJvd3NlckF1dGhFcnJvcihCcm93c2VyQXV0aEVycm9yTWVzc2FnZS5wa2NlTm90R2VuZXJhdGVkLmNvZGUsIEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLnBrY2VOb3RHZW5lcmF0ZWQuZGVzYyArIFwiIERldGFpbDpcIiArIGVyckRldGFpbCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIGVycm9yIHRocm93biB3aGVuIHRoZSBjcnlwdG8gb2JqZWN0IGlzIHVuYXZhaWxhYmxlLlxyXG4gICAgICogQHBhcmFtIGVyckRldGFpbFxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZUNyeXB0b05vdEF2YWlsYWJsZUVycm9yID0gZnVuY3Rpb24gKGVyckRldGFpbCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQnJvd3NlckF1dGhFcnJvcihCcm93c2VyQXV0aEVycm9yTWVzc2FnZS5jcnlwdG9Eb2VzTm90RXhpc3QuY29kZSwgQnJvd3NlckF1dGhFcnJvck1lc3NhZ2UuY3J5cHRvRG9lc05vdEV4aXN0LmRlc2MgKyBcIiBEZXRhaWw6XCIgKyBlcnJEZXRhaWwpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBlcnJvciB0aHJvd24gd2hlbiBhbiBIVFRQIG1ldGhvZCBoYXNuJ3QgYmVlbiBpbXBsZW1lbnRlZCBieSB0aGUgYnJvd3NlciBjbGFzcy5cclxuICAgICAqIEBwYXJhbSBtZXRob2RcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVIdHRwTWV0aG9kTm90SW1wbGVtZW50ZWRFcnJvciA9IGZ1bmN0aW9uIChtZXRob2QpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEJyb3dzZXJBdXRoRXJyb3IoQnJvd3NlckF1dGhFcnJvck1lc3NhZ2UuaHR0cE1ldGhvZE5vdEltcGxlbWVudGVkRXJyb3IuY29kZSwgQnJvd3NlckF1dGhFcnJvck1lc3NhZ2UuaHR0cE1ldGhvZE5vdEltcGxlbWVudGVkRXJyb3IuZGVzYyArIFwiIEdpdmVuIE1ldGhvZDogXCIgKyBtZXRob2QpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBlcnJvciB0aHJvd24gd2hlbiB0aGUgbmF2aWdhdGlvbiBVUkkgaXMgZW1wdHkuXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJBdXRoRXJyb3IuY3JlYXRlRW1wdHlOYXZpZ2F0aW9uVXJpRXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCcm93c2VyQXV0aEVycm9yKEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLmVtcHR5TmF2aWdhdGVVcmlFcnJvci5jb2RlLCBCcm93c2VyQXV0aEVycm9yTWVzc2FnZS5lbXB0eU5hdmlnYXRlVXJpRXJyb3IuZGVzYyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIGVycm9yIHRocm93biB3aGVuIHRoZSBoYXNoIHN0cmluZyB2YWx1ZSBpcyB1bmV4cGVjdGVkbHkgZW1wdHkuXHJcbiAgICAgKiBAcGFyYW0gaGFzaFZhbHVlXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJBdXRoRXJyb3IuY3JlYXRlRW1wdHlIYXNoRXJyb3IgPSBmdW5jdGlvbiAoaGFzaFZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCcm93c2VyQXV0aEVycm9yKEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLmhhc2hFbXB0eUVycm9yLmNvZGUsIEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLmhhc2hFbXB0eUVycm9yLmRlc2MgKyBcIiBHaXZlbiBVcmw6IFwiICsgaGFzaFZhbHVlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gZXJyb3IgdGhyb3duIHdoZW4gdGhlIGhhc2ggc3RyaW5nIHZhbHVlIGlzIHVuZXhwZWN0ZWRseSBlbXB0eS5cclxuICAgICAqL1xyXG4gICAgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVIYXNoRG9lc05vdENvbnRhaW5TdGF0ZUVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQnJvd3NlckF1dGhFcnJvcihCcm93c2VyQXV0aEVycm9yTWVzc2FnZS5oYXNoRG9lc05vdENvbnRhaW5TdGF0ZUVycm9yLmNvZGUsIEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLmhhc2hEb2VzTm90Q29udGFpblN0YXRlRXJyb3IuZGVzYyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIGVycm9yIHRocm93biB3aGVuIHRoZSBoYXNoIHN0cmluZyB2YWx1ZSBkb2VzIG5vdCBjb250YWluIGtub3duIHByb3BlcnRpZXNcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVIYXNoRG9lc05vdENvbnRhaW5Lbm93blByb3BlcnRpZXNFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEJyb3dzZXJBdXRoRXJyb3IoQnJvd3NlckF1dGhFcnJvck1lc3NhZ2UuaGFzaERvZXNOb3RDb250YWluS25vd25Qcm9wZXJ0aWVzRXJyb3IuY29kZSwgQnJvd3NlckF1dGhFcnJvck1lc3NhZ2UuaGFzaERvZXNOb3RDb250YWluS25vd25Qcm9wZXJ0aWVzRXJyb3IuZGVzYyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIGVycm9yIHRocm93biB3aGVuIHRoZSBoYXNoIHN0cmluZyB2YWx1ZSBpcyB1bmV4cGVjdGVkbHkgZW1wdHkuXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJBdXRoRXJyb3IuY3JlYXRlVW5hYmxlVG9QYXJzZVN0YXRlRXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCcm93c2VyQXV0aEVycm9yKEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLnVuYWJsZVRvUGFyc2VTdGF0ZUVycm9yLmNvZGUsIEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLnVuYWJsZVRvUGFyc2VTdGF0ZUVycm9yLmRlc2MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBlcnJvciB0aHJvd24gd2hlbiB0aGUgc3RhdGUgdmFsdWUgaW4gdGhlIGhhc2ggZG9lcyBub3QgbWF0Y2ggdGhlIGludGVyYWN0aW9uIHR5cGUgb2YgdGhlIEFQSSBhdHRlbXB0aW5nIHRvIGNvbnN1bWUgaXQuXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJBdXRoRXJyb3IuY3JlYXRlU3RhdGVJbnRlcmFjdGlvblR5cGVNaXNtYXRjaEVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQnJvd3NlckF1dGhFcnJvcihCcm93c2VyQXV0aEVycm9yTWVzc2FnZS5zdGF0ZUludGVyYWN0aW9uVHlwZU1pc21hdGNoRXJyb3IuY29kZSwgQnJvd3NlckF1dGhFcnJvck1lc3NhZ2Uuc3RhdGVJbnRlcmFjdGlvblR5cGVNaXNtYXRjaEVycm9yLmRlc2MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBlcnJvciB0aHJvd24gd2hlbiBhIGJyb3dzZXIgaW50ZXJhY3Rpb24gKHJlZGlyZWN0IG9yIHBvcHVwKSBpcyBpbiBwcm9ncmVzcy5cclxuICAgICAqL1xyXG4gICAgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVJbnRlcmFjdGlvbkluUHJvZ3Jlc3NFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEJyb3dzZXJBdXRoRXJyb3IoQnJvd3NlckF1dGhFcnJvck1lc3NhZ2UuaW50ZXJhY3Rpb25JblByb2dyZXNzLmNvZGUsIEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLmludGVyYWN0aW9uSW5Qcm9ncmVzcy5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gZXJyb3IgdGhyb3duIHdoZW4gdGhlIHBvcHVwIHdpbmRvdyBjb3VsZCBub3QgYmUgb3BlbmVkLlxyXG4gICAgICogQHBhcmFtIGVyckRldGFpbFxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZVBvcHVwV2luZG93RXJyb3IgPSBmdW5jdGlvbiAoZXJyRGV0YWlsKSB7XHJcbiAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLnBvcHVwV2luZG93RXJyb3IuZGVzYztcclxuICAgICAgICBlcnJvck1lc3NhZ2UgPSAhU3RyaW5nVXRpbHMuaXNFbXB0eShlcnJEZXRhaWwpID8gZXJyb3JNZXNzYWdlICsgXCIgRGV0YWlsczogXCIgKyBlcnJEZXRhaWwgOiBlcnJvck1lc3NhZ2U7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCcm93c2VyQXV0aEVycm9yKEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLnBvcHVwV2luZG93RXJyb3IuY29kZSwgZXJyb3JNZXNzYWdlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gZXJyb3IgdGhyb3duIHdoZW4gd2luZG93Lm9wZW4gcmV0dXJucyBhbiBlbXB0eSB3aW5kb3cgb2JqZWN0LlxyXG4gICAgICogQHBhcmFtIGVyckRldGFpbFxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZUVtcHR5V2luZG93Q3JlYXRlZEVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQnJvd3NlckF1dGhFcnJvcihCcm93c2VyQXV0aEVycm9yTWVzc2FnZS5lbXB0eVdpbmRvd0Vycm9yLmNvZGUsIEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLmVtcHR5V2luZG93RXJyb3IuZGVzYyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIGVycm9yIHRocm93biB3aGVuIHRoZSB1c2VyIGNsb3NlcyBhIHBvcHVwLlxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZVVzZXJDYW5jZWxsZWRFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEJyb3dzZXJBdXRoRXJyb3IoQnJvd3NlckF1dGhFcnJvck1lc3NhZ2UudXNlckNhbmNlbGxlZEVycm9yLmNvZGUsIEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLnVzZXJDYW5jZWxsZWRFcnJvci5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gZXJyb3IgdGhyb3duIHdoZW4gbW9uaXRvclBvcHVwRnJvbUhhc2ggdGltZXMgb3V0IGZvciBhIGdpdmVuIHBvcHVwLlxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZU1vbml0b3JQb3B1cFRpbWVvdXRFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEJyb3dzZXJBdXRoRXJyb3IoQnJvd3NlckF1dGhFcnJvck1lc3NhZ2UubW9uaXRvclBvcHVwVGltZW91dEVycm9yLmNvZGUsIEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLm1vbml0b3JQb3B1cFRpbWVvdXRFcnJvci5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gZXJyb3IgdGhyb3duIHdoZW4gbW9uaXRvcklmcmFtZUZyb21IYXNoIHRpbWVzIG91dCBmb3IgYSBnaXZlbiBpZnJhbWUuXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJBdXRoRXJyb3IuY3JlYXRlTW9uaXRvcklmcmFtZVRpbWVvdXRFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEJyb3dzZXJBdXRoRXJyb3IoQnJvd3NlckF1dGhFcnJvck1lc3NhZ2UubW9uaXRvcklmcmFtZVRpbWVvdXRFcnJvci5jb2RlLCBCcm93c2VyQXV0aEVycm9yTWVzc2FnZS5tb25pdG9ySWZyYW1lVGltZW91dEVycm9yLmRlc2MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBlcnJvciB0aHJvd24gd2hlbiBuYXZpZ2F0ZVdpbmRvdyBpcyBjYWxsZWQgaW5zaWRlIGFuIGlmcmFtZS5cclxuICAgICAqIEBwYXJhbSB3aW5kb3dQYXJlbnRDaGVja1xyXG4gICAgICovXHJcbiAgICBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZVJlZGlyZWN0SW5JZnJhbWVFcnJvciA9IGZ1bmN0aW9uICh3aW5kb3dQYXJlbnRDaGVjaykge1xyXG4gICAgICAgIHJldHVybiBuZXcgQnJvd3NlckF1dGhFcnJvcihCcm93c2VyQXV0aEVycm9yTWVzc2FnZS5yZWRpcmVjdEluSWZyYW1lRXJyb3IuY29kZSwgQnJvd3NlckF1dGhFcnJvck1lc3NhZ2UucmVkaXJlY3RJbklmcmFtZUVycm9yLmRlc2MgKyBcIiAod2luZG93LnBhcmVudCAhPT0gd2luZG93KSA9PiBcIiArIHdpbmRvd1BhcmVudENoZWNrKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gZXJyb3IgdGhyb3duIHdoZW4gYW4gYXV0aCByZWxvYWQgaXMgZG9uZSBpbnNpZGUgYW4gaWZyYW1lLlxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZUJsb2NrUmVsb2FkSW5IaWRkZW5JZnJhbWVFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEJyb3dzZXJBdXRoRXJyb3IoQnJvd3NlckF1dGhFcnJvck1lc3NhZ2UuYmxvY2tUb2tlblJlcXVlc3RzSW5IaWRkZW5JZnJhbWVFcnJvci5jb2RlLCBCcm93c2VyQXV0aEVycm9yTWVzc2FnZS5ibG9ja1Rva2VuUmVxdWVzdHNJbkhpZGRlbklmcmFtZUVycm9yLmRlc2MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBlcnJvciB0aHJvd24gd2hlbiBhIHBvcHVwIGF0dGVtcHRzIHRvIGNhbGwgYW4gYWNxdWlyZVRva2VuIEFQSVxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVCbG9ja0FjcXVpcmVUb2tlbkluUG9wdXBzRXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCcm93c2VyQXV0aEVycm9yKEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLmJsb2NrQWNxdWlyZVRva2VuSW5Qb3B1cHNFcnJvci5jb2RlLCBCcm93c2VyQXV0aEVycm9yTWVzc2FnZS5ibG9ja0FjcXVpcmVUb2tlbkluUG9wdXBzRXJyb3IuZGVzYyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIGVycm9yIHRocm93biB3aGVuIGFuIGlmcmFtZSBpcyBmb3VuZCB0byBiZSBjbG9zZWQgYmVmb3JlIHRoZSB0aW1lb3V0IGlzIHJlYWNoZWQuXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJBdXRoRXJyb3IuY3JlYXRlSWZyYW1lQ2xvc2VkUHJlbWF0dXJlbHlFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEJyb3dzZXJBdXRoRXJyb3IoQnJvd3NlckF1dGhFcnJvck1lc3NhZ2UuaWZyYW1lQ2xvc2VkUHJlbWF0dXJlbHlFcnJvci5jb2RlLCBCcm93c2VyQXV0aEVycm9yTWVzc2FnZS5pZnJhbWVDbG9zZWRQcmVtYXR1cmVseUVycm9yLmRlc2MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBlcnJvciB0aHJvd24gd2hlbiB0aGUgbG9nb3V0IEFQSSBpcyBjYWxsZWQgb24gYW55IG9mIHRoZSBzaWxlbnQgaW50ZXJhY3Rpb24gY2xpZW50c1xyXG4gICAgICovXHJcbiAgICBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZVNpbGVudExvZ291dFVuc3VwcG9ydGVkRXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCcm93c2VyQXV0aEVycm9yKEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLnNpbGVudExvZ291dFVuc3VwcG9ydGVkRXJyb3IuY29kZSwgQnJvd3NlckF1dGhFcnJvck1lc3NhZ2Uuc2lsZW50TG9nb3V0VW5zdXBwb3J0ZWRFcnJvci5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gZXJyb3IgdGhyb3duIHdoZW4gdGhlIGFjY291bnQgb2JqZWN0IGlzIG5vdCBwcm92aWRlZCBpbiB0aGUgYWNxdWlyZVRva2VuU2lsZW50IEFQSS5cclxuICAgICAqL1xyXG4gICAgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVOb0FjY291bnRFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEJyb3dzZXJBdXRoRXJyb3IoQnJvd3NlckF1dGhFcnJvck1lc3NhZ2Uubm9BY2NvdW50RXJyb3IuY29kZSwgQnJvd3NlckF1dGhFcnJvck1lc3NhZ2Uubm9BY2NvdW50RXJyb3IuZGVzYyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIGVycm9yIHRocm93biB3aGVuIGEgZ2l2ZW4gcHJvbXB0IHZhbHVlIGlzIGludmFsaWQgZm9yIHNpbGVudCByZXF1ZXN0cy5cclxuICAgICAqL1xyXG4gICAgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVTaWxlbnRQcm9tcHRWYWx1ZUVycm9yID0gZnVuY3Rpb24gKGdpdmVuUHJvbXB0KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCcm93c2VyQXV0aEVycm9yKEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLnNpbGVudFByb21wdFZhbHVlRXJyb3IuY29kZSwgQnJvd3NlckF1dGhFcnJvck1lc3NhZ2Uuc2lsZW50UHJvbXB0VmFsdWVFcnJvci5kZXNjICsgXCIgR2l2ZW4gdmFsdWU6IFwiICsgZ2l2ZW5Qcm9tcHQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBlcnJvciB0aHJvd24gd2hlbiB0aGUgY2FjaGVkIHRva2VuIHJlcXVlc3QgY291bGQgbm90IGJlIHJldHJpZXZlZCBmcm9tIHRoZSBjYWNoZVxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZVVuYWJsZVRvUGFyc2VUb2tlblJlcXVlc3RDYWNoZUVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQnJvd3NlckF1dGhFcnJvcihCcm93c2VyQXV0aEVycm9yTWVzc2FnZS51bmFibGVUb1BhcnNlVG9rZW5SZXF1ZXN0Q2FjaGVFcnJvci5jb2RlLCBCcm93c2VyQXV0aEVycm9yTWVzc2FnZS51bmFibGVUb1BhcnNlVG9rZW5SZXF1ZXN0Q2FjaGVFcnJvci5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gZXJyb3IgdGhyb3duIHdoZW4gdGhlIHRva2VuIHJlcXVlc3QgY291bGQgbm90IGJlIHJldHJpZXZlZCBmcm9tIHRoZSBjYWNoZVxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZU5vVG9rZW5SZXF1ZXN0Q2FjaGVFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEJyb3dzZXJBdXRoRXJyb3IoQnJvd3NlckF1dGhFcnJvck1lc3NhZ2Uubm9Ub2tlblJlcXVlc3RDYWNoZUVycm9yLmNvZGUsIEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLm5vVG9rZW5SZXF1ZXN0Q2FjaGVFcnJvci5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gZXJyb3IgdGhyb3duIHdoZW4gaGFuZGxlQ29kZVJlc3BvbnNlIGlzIGNhbGxlZCBiZWZvcmUgaW5pdGlhdGVBdXRoUmVxdWVzdCAoSW50ZXJhY3Rpb25IYW5kbGVyKVxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZUF1dGhSZXF1ZXN0Tm90U2V0RXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCcm93c2VyQXV0aEVycm9yKEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLmF1dGhSZXF1ZXN0Tm90U2V0LmNvZGUsIEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLmF1dGhSZXF1ZXN0Tm90U2V0LmRlc2MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBlcnJvciB0aHJvd24gd2hlbiB0aGUgYXV0aG9yaXR5IGNvdWxkIG5vdCBiZSByZXRyaWV2ZWQgZnJvbSB0aGUgY2FjaGVcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVOb0NhY2hlZEF1dGhvcml0eUVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQnJvd3NlckF1dGhFcnJvcihCcm93c2VyQXV0aEVycm9yTWVzc2FnZS5ub0NhY2hlZEF1dGhvcml0eUVycm9yLmNvZGUsIEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLm5vQ2FjaGVkQXV0aG9yaXR5RXJyb3IuZGVzYyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIGVycm9yIHRocm93biBpZiBjYWNoZSB0eXBlIGlzIGludmFsaWQuXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJBdXRoRXJyb3IuY3JlYXRlSW52YWxpZENhY2hlVHlwZUVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQnJvd3NlckF1dGhFcnJvcihCcm93c2VyQXV0aEVycm9yTWVzc2FnZS5pbnZhbGlkQ2FjaGVUeXBlLmNvZGUsIFwiXCIgKyBCcm93c2VyQXV0aEVycm9yTWVzc2FnZS5pbnZhbGlkQ2FjaGVUeXBlLmRlc2MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGFuIGVycm9yIHRocm93biB3aGVuIGxvZ2luIGFuZCB0b2tlbiByZXF1ZXN0cyBhcmUgbWFkZSBmcm9tIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVOb25Ccm93c2VyRW52aXJvbm1lbnRFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEJyb3dzZXJBdXRoRXJyb3IoQnJvd3NlckF1dGhFcnJvck1lc3NhZ2Uubm90SW5Ccm93c2VyRW52aXJvbm1lbnQuY29kZSwgQnJvd3NlckF1dGhFcnJvck1lc3NhZ2Uubm90SW5Ccm93c2VyRW52aXJvbm1lbnQuZGVzYyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYW4gZXJyb3IgdGhyb3duIHdoZW4gaW5kZXhEQiBkYXRhYmFzZSBpcyBub3Qgb3BlblxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZURhdGFiYXNlTm90T3BlbkVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQnJvd3NlckF1dGhFcnJvcihCcm93c2VyQXV0aEVycm9yTWVzc2FnZS5kYXRhYmFzZU5vdE9wZW4uY29kZSwgQnJvd3NlckF1dGhFcnJvck1lc3NhZ2UuZGF0YWJhc2VOb3RPcGVuLmRlc2MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGFuIGVycm9yIHRocm93biB3aGVuIHRva2VuIGZldGNoIGZhaWxzIGR1ZSB0byBubyBpbnRlcm5ldFxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZU5vTmV0d29ya0Nvbm5lY3Rpdml0eUVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQnJvd3NlckF1dGhFcnJvcihCcm93c2VyQXV0aEVycm9yTWVzc2FnZS5ub05ldHdvcmtDb25uZWN0aXZpdHkuY29kZSwgQnJvd3NlckF1dGhFcnJvck1lc3NhZ2Uubm9OZXR3b3JrQ29ubmVjdGl2aXR5LmRlc2MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGFuIGVycm9yIHRocm93biB3aGVuIHRva2VuIGZldGNoIGZhaWxzIGR1ZSB0byByZWFzb25zIG90aGVyIHRoYW4gaW50ZXJuZXQgY29ubmVjdGl2aXR5XHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJBdXRoRXJyb3IuY3JlYXRlUG9zdFJlcXVlc3RGYWlsZWRFcnJvciA9IGZ1bmN0aW9uIChlcnJvckRlc2MsIGVuZHBvaW50KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCcm93c2VyQXV0aEVycm9yKEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLnBvc3RSZXF1ZXN0RmFpbGVkLmNvZGUsIEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLnBvc3RSZXF1ZXN0RmFpbGVkLmRlc2MgKyBcIiB8IE5ldHdvcmsgY2xpZW50IHRocmV3OiBcIiArIGVycm9yRGVzYyArIFwiIHwgQXR0ZW1wdGVkIHRvIHJlYWNoOiBcIiArIGVuZHBvaW50LnNwbGl0KFwiP1wiKVswXSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYW4gZXJyb3IgdGhyb3duIHdoZW4gZ2V0IHJlcXVlc3QgZmFpbHMgZHVlIHRvIHJlYXNvbnMgb3RoZXIgdGhhbiBpbnRlcm5ldCBjb25uZWN0aXZpdHlcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVHZXRSZXF1ZXN0RmFpbGVkRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3JEZXNjLCBlbmRwb2ludCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQnJvd3NlckF1dGhFcnJvcihCcm93c2VyQXV0aEVycm9yTWVzc2FnZS5nZXRSZXF1ZXN0RmFpbGVkLmNvZGUsIEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLmdldFJlcXVlc3RGYWlsZWQuZGVzYyArIFwiIHwgTmV0d29yayBjbGllbnQgdGhyZXc6IFwiICsgZXJyb3JEZXNjICsgXCIgfCBBdHRlbXB0ZWQgdG8gcmVhY2g6IFwiICsgZW5kcG9pbnQuc3BsaXQoXCI/XCIpWzBdKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhbiBlcnJvciB0aHJvd24gd2hlbiBuZXR3b3JrIGNsaWVudCBmYWlscyB0byBwYXJzZSBuZXR3b3JrIHJlc3BvbnNlXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJBdXRoRXJyb3IuY3JlYXRlRmFpbGVkVG9QYXJzZU5ldHdvcmtSZXNwb25zZUVycm9yID0gZnVuY3Rpb24gKGVuZHBvaW50KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCcm93c2VyQXV0aEVycm9yKEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLmZhaWxlZFRvUGFyc2VOZXR3b3JrUmVzcG9uc2UuY29kZSwgQnJvd3NlckF1dGhFcnJvck1lc3NhZ2UuZmFpbGVkVG9QYXJzZU5ldHdvcmtSZXNwb25zZS5kZXNjICsgXCIgfCBBdHRlbXB0ZWQgdG8gcmVhY2g6IFwiICsgZW5kcG9pbnQuc3BsaXQoXCI/XCIpWzBdKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhbiBlcnJvciB0aHJvd24gd2hlbiB0aGUgbmVjZXNzYXJ5IGluZm9ybWF0aW9uIGlzIG5vdCBhdmFpbGFibGUgdG8gc2lkZWxvYWQgdG9rZW5zXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJBdXRoRXJyb3IuY3JlYXRlVW5hYmxlVG9Mb2FkVG9rZW5FcnJvciA9IGZ1bmN0aW9uIChlcnJvckRldGFpbCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQnJvd3NlckF1dGhFcnJvcihCcm93c2VyQXV0aEVycm9yTWVzc2FnZS51bmFibGVUb0xvYWRUb2tlbkVycm9yLmNvZGUsIEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLnVuYWJsZVRvTG9hZFRva2VuRXJyb3IuZGVzYyArIFwiIHwgXCIgKyBlcnJvckRldGFpbCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYW4gZXJyb3IgdGhyb3duIHdoZW4gdGhlIHF1ZXJpZWQgY3J5cHRvZ3JhcGhpYyBrZXkgaXMgbm90IGZvdW5kIGluIEluZGV4ZWREQlxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZVNpZ25pbmdLZXlOb3RGb3VuZEluU3RvcmFnZUVycm9yID0gZnVuY3Rpb24gKGtleUlkKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCcm93c2VyQXV0aEVycm9yKEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLnNpZ25pbmdLZXlOb3RGb3VuZEluU3RvcmFnZS5jb2RlLCBCcm93c2VyQXV0aEVycm9yTWVzc2FnZS5zaWduaW5nS2V5Tm90Rm91bmRJblN0b3JhZ2UuZGVzYyArIFwiIHwgTm8gbWF0Y2ggZm91bmQgZm9yIEtleUlkOiBcIiArIGtleUlkKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhbiBlcnJvciB3aGVuIGFuIGF1dGhvcml6YXRpb24gY29kZSBpcyByZXF1aXJlZCBidXQgbm90IHByb3ZpZGVkXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJBdXRoRXJyb3IuY3JlYXRlQXV0aENvZGVSZXF1aXJlZEVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQnJvd3NlckF1dGhFcnJvcihCcm93c2VyQXV0aEVycm9yTWVzc2FnZS5hdXRoQ29kZVJlcXVpcmVkLmNvZGUsIEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLmF1dGhDb2RlUmVxdWlyZWQuZGVzYyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYW4gZXJyb3Igd2hlbiBJbmRleGVkREIgaXMgdW5hdmFpbGFibGVcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVEYXRhYmFzZVVuYXZhaWxhYmxlRXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCcm93c2VyQXV0aEVycm9yKEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlLmRhdGFiYXNlVW5hdmFpbGFibGUuY29kZSwgQnJvd3NlckF1dGhFcnJvck1lc3NhZ2UuZGF0YWJhc2VVbmF2YWlsYWJsZS5kZXNjKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQnJvd3NlckF1dGhFcnJvcjtcclxufShBdXRoRXJyb3IpKTtcblxuZXhwb3J0IHsgQnJvd3NlckF1dGhFcnJvciwgQnJvd3NlckF1dGhFcnJvck1lc3NhZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJyb3dzZXJBdXRoRXJyb3IuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2Mi4yMi4xIDIwMjItMDMtMDcgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IF9fYXdhaXRlciwgX19nZW5lcmF0b3IgfSBmcm9tICcuLi9fdmlydHVhbC9fdHNsaWIuanMnO1xuaW1wb3J0IHsgQnJvd3NlckF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3IuanMnO1xuaW1wb3J0IHsgQmFzZTY0RW5jb2RlIH0gZnJvbSAnLi4vZW5jb2RlL0Jhc2U2NEVuY29kZS5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vLyBDb25zdGFudCBieXRlIGFycmF5IGxlbmd0aFxyXG52YXIgUkFORE9NX0JZVEVfQVJSX0xFTkdUSCA9IDMyO1xyXG4vKipcclxuICogQ2xhc3Mgd2hpY2ggZXhwb3NlcyBBUElzIHRvIGdlbmVyYXRlIFBLQ0UgY29kZXMgYW5kIGNvZGUgdmVyaWZpZXJzLlxyXG4gKi9cclxudmFyIFBrY2VHZW5lcmF0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBQa2NlR2VuZXJhdG9yKGNyeXB0b09iaikge1xyXG4gICAgICAgIHRoaXMuYmFzZTY0RW5jb2RlID0gbmV3IEJhc2U2NEVuY29kZSgpO1xyXG4gICAgICAgIHRoaXMuY3J5cHRvT2JqID0gY3J5cHRvT2JqO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZXMgUEtDRSBDb2Rlcy4gU2VlIHRoZSBSRkMgZm9yIG1vcmUgaW5mb3JtYXRpb246IGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3NjM2XHJcbiAgICAgKi9cclxuICAgIFBrY2VHZW5lcmF0b3IucHJvdG90eXBlLmdlbmVyYXRlQ29kZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY29kZVZlcmlmaWVyLCBjb2RlQ2hhbGxlbmdlO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlVmVyaWZpZXIgPSB0aGlzLmdlbmVyYXRlQ29kZVZlcmlmaWVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZ2VuZXJhdGVDb2RlQ2hhbGxlbmdlRnJvbVZlcmlmaWVyKGNvZGVWZXJpZmllcildO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZUNoYWxsZW5nZSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZmllcjogY29kZVZlcmlmaWVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYWxsZW5nZTogY29kZUNoYWxsZW5nZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGVzIGEgcmFuZG9tIDMyIGJ5dGUgYnVmZmVyIGFuZCByZXR1cm5zIHRoZSBiYXNlNjRcclxuICAgICAqIGVuY29kZWQgc3RyaW5nIHRvIGJlIHVzZWQgYXMgYSBQS0NFIENvZGUgVmVyaWZpZXJcclxuICAgICAqL1xyXG4gICAgUGtjZUdlbmVyYXRvci5wcm90b3R5cGUuZ2VuZXJhdGVDb2RlVmVyaWZpZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgcmFuZG9tIHZhbHVlcyBhcyB1dGYtOFxyXG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoUkFORE9NX0JZVEVfQVJSX0xFTkdUSCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3J5cHRvT2JqLmdldFJhbmRvbVZhbHVlcyhidWZmZXIpO1xyXG4gICAgICAgICAgICAvLyBlbmNvZGUgdmVyaWZpZXIgYXMgYmFzZTY0XHJcbiAgICAgICAgICAgIHZhciBwa2NlQ29kZVZlcmlmaWVyQjY0ID0gdGhpcy5iYXNlNjRFbmNvZGUudXJsRW5jb2RlQXJyKGJ1ZmZlcik7XHJcbiAgICAgICAgICAgIHJldHVybiBwa2NlQ29kZVZlcmlmaWVyQjY0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZVBrY2VOb3RHZW5lcmF0ZWRFcnJvcihlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgYmFzZTY0IGVuY29kZWQgUEtDRSBDb2RlIENoYWxsZW5nZSBzdHJpbmcgZnJvbSB0aGVcclxuICAgICAqIGhhc2ggY3JlYXRlZCBmcm9tIHRoZSBQS0NFIENvZGUgVmVyaWZpZXIgc3VwcGxpZWRcclxuICAgICAqL1xyXG4gICAgUGtjZUdlbmVyYXRvci5wcm90b3R5cGUuZ2VuZXJhdGVDb2RlQ2hhbGxlbmdlRnJvbVZlcmlmaWVyID0gZnVuY3Rpb24gKHBrY2VDb2RlVmVyaWZpZXIpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBwa2NlSGFzaGVkQ29kZVZlcmlmaWVyLCBlXzE7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMCwgMiwgLCAzXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuY3J5cHRvT2JqLnNoYTI1NkRpZ2VzdChwa2NlQ29kZVZlcmlmaWVyKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwa2NlSGFzaGVkQ29kZVZlcmlmaWVyID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbmNvZGUgaGFzaCBhcyBiYXNlNjRcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuYmFzZTY0RW5jb2RlLnVybEVuY29kZUFycihuZXcgVWludDhBcnJheShwa2NlSGFzaGVkQ29kZVZlcmlmaWVyKSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZV8xID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZVBrY2VOb3RHZW5lcmF0ZWRFcnJvcihlXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUGtjZUdlbmVyYXRvcjtcclxufSgpKTtcblxuZXhwb3J0IHsgUGtjZUdlbmVyYXRvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGtjZUdlbmVyYXRvci5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYyLjIyLjEgMjAyMi0wMy0wNyAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgX19hd2FpdGVyLCBfX2dlbmVyYXRvciB9IGZyb20gJy4uL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgeyBCcm93c2VyU3RyaW5nVXRpbHMgfSBmcm9tICcuLi91dGlscy9Ccm93c2VyU3RyaW5nVXRpbHMuanMnO1xuaW1wb3J0IHsgQnJvd3NlckF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3IuanMnO1xuaW1wb3J0IHsgS0VZX0ZPUk1BVF9KV0sgfSBmcm9tICcuLi91dGlscy9Ccm93c2VyQ29uc3RhbnRzLmpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBTZWUgaGVyZSBmb3IgbW9yZSBpbmZvIG9uIFJzYUhhc2hlZEtleUdlblBhcmFtczogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1JzYUhhc2hlZEtleUdlblBhcmFtc1xyXG4gKi9cclxuLy8gUlNBIEtleUdlbiBBbGdvcml0aG1cclxudmFyIFBLQ1MxX1YxNV9LRVlHRU5fQUxHID0gXCJSU0FTU0EtUEtDUzEtdjFfNVwiO1xyXG4vLyBTSEEtMjU2IGhhc2hpbmcgYWxnb3JpdGhtXHJcbnZhciBTMjU2X0hBU0hfQUxHID0gXCJTSEEtMjU2XCI7XHJcbi8vIE1PRCBsZW5ndGggZm9yIFBvUCB0b2tlbnNcclxudmFyIE1PRFVMVVNfTEVOR1RIID0gMjA0ODtcclxuLy8gUHVibGljIEV4cG9uZW50XHJcbnZhciBQVUJMSUNfRVhQT05FTlQgPSBuZXcgVWludDhBcnJheShbMHgwMSwgMHgwMCwgMHgwMV0pO1xyXG4vKipcclxuICogVGhpcyBjbGFzcyBpbXBsZW1lbnRzIGZ1bmN0aW9ucyB1c2VkIGJ5IHRoZSBicm93c2VyIGxpYnJhcnkgdG8gcGVyZm9ybSBjcnlwdG9ncmFwaHkgb3BlcmF0aW9ucyBzdWNoIGFzXHJcbiAqIGhhc2hpbmcgYW5kIGVuY29kaW5nLiBJdCBhbHNvIGhhcyBoZWxwZXIgZnVuY3Rpb25zIHRvIHZhbGlkYXRlIHRoZSBhdmFpbGFiaWxpdHkgb2Ygc3BlY2lmaWMgQVBJcy5cclxuICovXHJcbnZhciBCcm93c2VyQ3J5cHRvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQnJvd3NlckNyeXB0byhsb2dnZXIpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcclxuICAgICAgICBpZiAoISh0aGlzLmhhc0NyeXB0b0FQSSgpKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZUNyeXB0b05vdEF2YWlsYWJsZUVycm9yKFwiQnJvd3NlciBjcnlwdG8gb3IgbXNDcnlwdG8gb2JqZWN0IG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9rZXlnZW5BbGdvcml0aG1PcHRpb25zID0ge1xyXG4gICAgICAgICAgICBuYW1lOiBQS0NTMV9WMTVfS0VZR0VOX0FMRyxcclxuICAgICAgICAgICAgaGFzaDogUzI1Nl9IQVNIX0FMRyxcclxuICAgICAgICAgICAgbW9kdWx1c0xlbmd0aDogTU9EVUxVU19MRU5HVEgsXHJcbiAgICAgICAgICAgIHB1YmxpY0V4cG9uZW50OiBQVUJMSUNfRVhQT05FTlRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgc2hhLTI1NiBoYXNoIG9mIHRoZSBnaXZlbiBkYXRhU3RyaW5nIGFzIGFuIEFycmF5QnVmZmVyLlxyXG4gICAgICogQHBhcmFtIGRhdGFTdHJpbmdcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNyeXB0by5wcm90b3R5cGUuc2hhMjU2RGlnZXN0ID0gZnVuY3Rpb24gKGRhdGFTdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBkYXRhO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhID0gQnJvd3NlclN0cmluZ1V0aWxzLnN0cmluZ1RvVXRmOEFycihkYXRhU3RyaW5nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLmhhc0lFQ3J5cHRvKCkgPyB0aGlzLmdldE1TQ3J5cHRvRGlnZXN0KFMyNTZfSEFTSF9BTEcsIGRhdGEpIDogdGhpcy5nZXRTdWJ0bGVDcnlwdG9EaWdlc3QoUzI1Nl9IQVNIX0FMRywgZGF0YSldO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFBvcHVsYXRlcyBidWZmZXIgd2l0aCBjcnlwdG9ncmFwaGljYWxseSByYW5kb20gdmFsdWVzLlxyXG4gICAgICogQHBhcmFtIGRhdGFCdWZmZXJcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNyeXB0by5wcm90b3R5cGUuZ2V0UmFuZG9tVmFsdWVzID0gZnVuY3Rpb24gKGRhdGFCdWZmZXIpIHtcclxuICAgICAgICB2YXIgY3J5cHRvT2JqID0gd2luZG93W1wibXNDcnlwdG9cIl0gfHwgd2luZG93LmNyeXB0bztcclxuICAgICAgICBpZiAoIWNyeXB0b09iai5nZXRSYW5kb21WYWx1ZXMpIHtcclxuICAgICAgICAgICAgdGhyb3cgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVDcnlwdG9Ob3RBdmFpbGFibGVFcnJvcihcImdldFJhbmRvbVZhbHVlcyBkb2VzIG5vdCBleGlzdC5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNyeXB0b09iai5nZXRSYW5kb21WYWx1ZXMoZGF0YUJ1ZmZlcik7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZXMgYSBrZXlwYWlyIGJhc2VkIG9uIGN1cnJlbnQga2V5Z2VuIGFsZ29yaXRobSBjb25maWcuXHJcbiAgICAgKiBAcGFyYW0gZXh0cmFjdGFibGVcclxuICAgICAqIEBwYXJhbSB1c2FnZXNcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNyeXB0by5wcm90b3R5cGUuZ2VuZXJhdGVLZXlQYWlyID0gZnVuY3Rpb24gKGV4dHJhY3RhYmxlLCB1c2FnZXMpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCAodGhpcy5oYXNJRUNyeXB0bygpID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tc0NyeXB0b0dlbmVyYXRlS2V5KGV4dHJhY3RhYmxlLCB1c2FnZXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogd2luZG93LmNyeXB0by5zdWJ0bGUuZ2VuZXJhdGVLZXkodGhpcy5fa2V5Z2VuQWxnb3JpdGhtT3B0aW9ucywgZXh0cmFjdGFibGUsIHVzYWdlcykpXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBFeHBvcnQga2V5IGFzIEpzb24gV2ViIEtleSAoSldLKVxyXG4gICAgICogQHBhcmFtIGtleVxyXG4gICAgICogQHBhcmFtIGZvcm1hdFxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ3J5cHRvLnByb3RvdHlwZS5leHBvcnRKd2sgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5oYXNJRUNyeXB0bygpID8gdGhpcy5tc0NyeXB0b0V4cG9ydEp3ayhrZXkpIDogd2luZG93LmNyeXB0by5zdWJ0bGUuZXhwb3J0S2V5KEtFWV9GT1JNQVRfSldLLCBrZXkpXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbXBvcnRzIGtleSBhcyBKc29uIFdlYiBLZXkgKEpXSyksIGNhbiBzZXQgZXh0cmFjdGFibGUgYW5kIHVzYWdlcy5cclxuICAgICAqIEBwYXJhbSBrZXlcclxuICAgICAqIEBwYXJhbSBmb3JtYXRcclxuICAgICAqIEBwYXJhbSBleHRyYWN0YWJsZVxyXG4gICAgICogQHBhcmFtIHVzYWdlc1xyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ3J5cHRvLnByb3RvdHlwZS5pbXBvcnRKd2sgPSBmdW5jdGlvbiAoa2V5LCBleHRyYWN0YWJsZSwgdXNhZ2VzKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIga2V5U3RyaW5nLCBrZXlCdWZmZXI7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIGtleVN0cmluZyA9IEJyb3dzZXJDcnlwdG8uZ2V0SndrU3RyaW5nKGtleSk7XHJcbiAgICAgICAgICAgICAgICBrZXlCdWZmZXIgPSBCcm93c2VyU3RyaW5nVXRpbHMuc3RyaW5nVG9BcnJheUJ1ZmZlcihrZXlTdHJpbmcpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuaGFzSUVDcnlwdG8oKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubXNDcnlwdG9JbXBvcnRLZXkoa2V5QnVmZmVyLCBleHRyYWN0YWJsZSwgdXNhZ2VzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHdpbmRvdy5jcnlwdG8uc3VidGxlLmltcG9ydEtleShLRVlfRk9STUFUX0pXSywga2V5LCB0aGlzLl9rZXlnZW5BbGdvcml0aG1PcHRpb25zLCBleHRyYWN0YWJsZSwgdXNhZ2VzKV07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2lnbnMgZ2l2ZW4gZGF0YSB3aXRoIGdpdmVuIGtleVxyXG4gICAgICogQHBhcmFtIGtleVxyXG4gICAgICogQHBhcmFtIGRhdGFcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNyeXB0by5wcm90b3R5cGUuc2lnbiA9IGZ1bmN0aW9uIChrZXksIGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLmhhc0lFQ3J5cHRvKCkgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1zQ3J5cHRvU2lnbihrZXksIGRhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogd2luZG93LmNyeXB0by5zdWJ0bGUuc2lnbih0aGlzLl9rZXlnZW5BbGdvcml0aG1PcHRpb25zLCBrZXksIGRhdGEpXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayB3aGV0aGVyIElFIGNyeXB0byBvciBvdGhlciBicm93c2VyIGNyeXB0b2dyYXBoeSBpcyBhdmFpbGFibGUuXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJDcnlwdG8ucHJvdG90eXBlLmhhc0NyeXB0b0FQSSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oYXNJRUNyeXB0bygpIHx8IHRoaXMuaGFzQnJvd3NlckNyeXB0bygpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgSUUgY3J5cHRvIChBS0EgbXNDcnlwdG8pIGlzIGF2YWlsYWJsZS5cclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNyeXB0by5wcm90b3R5cGUuaGFzSUVDcnlwdG8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwibXNDcnlwdG9cIiBpbiB3aW5kb3c7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayB3aGV0aGVyIGJyb3dzZXIgY3J5cHRvIGlzIGF2YWlsYWJsZS5cclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNyeXB0by5wcm90b3R5cGUuaGFzQnJvd3NlckNyeXB0byA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gXCJjcnlwdG9cIiBpbiB3aW5kb3c7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gZm9yIFNIQSBkaWdlc3QuXHJcbiAgICAgKiBAcGFyYW0gYWxnb3JpdGhtXHJcbiAgICAgKiBAcGFyYW0gZGF0YVxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ3J5cHRvLnByb3RvdHlwZS5nZXRTdWJ0bGVDcnlwdG9EaWdlc3QgPSBmdW5jdGlvbiAoYWxnb3JpdGhtLCBkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgd2luZG93LmNyeXB0by5zdWJ0bGUuZGlnZXN0KGFsZ29yaXRobSwgZGF0YSldO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIElFIEhlbHBlciBmdW5jdGlvbiBmb3IgU0hBIGRpZ2VzdC5cclxuICAgICAqIEBwYXJhbSBhbGdvcml0aG1cclxuICAgICAqIEBwYXJhbSBkYXRhXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJDcnlwdG8ucHJvdG90eXBlLmdldE1TQ3J5cHRvRGlnZXN0ID0gZnVuY3Rpb24gKGFsZ29yaXRobSwgZGF0YSkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpZ2VzdE9wZXJhdGlvbiA9IHdpbmRvd1tcIm1zQ3J5cHRvXCJdLnN1YnRsZS5kaWdlc3QoYWxnb3JpdGhtLCBkYXRhLmJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZ2VzdE9wZXJhdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiY29tcGxldGVcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZS50YXJnZXQucmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZ2VzdE9wZXJhdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KV07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSUUgSGVscGVyIGZ1bmN0aW9uIGZvciBnZW5lcmF0aW5nIGEga2V5cGFpclxyXG4gICAgICogQHBhcmFtIGV4dHJhY3RhYmxlXHJcbiAgICAgKiBAcGFyYW0gdXNhZ2VzXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJDcnlwdG8ucHJvdG90eXBlLm1zQ3J5cHRvR2VuZXJhdGVLZXkgPSBmdW5jdGlvbiAoZXh0cmFjdGFibGUsIHVzYWdlcykge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1zR2VuZXJhdGVLZXkgPSB3aW5kb3dbXCJtc0NyeXB0b1wiXS5zdWJ0bGUuZ2VuZXJhdGVLZXkoX3RoaXMuX2tleWdlbkFsZ29yaXRobU9wdGlvbnMsIGV4dHJhY3RhYmxlLCB1c2FnZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtc0dlbmVyYXRlS2V5LmFkZEV2ZW50TGlzdGVuZXIoXCJjb21wbGV0ZVwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShlLnRhcmdldC5yZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXNHZW5lcmF0ZUtleS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KV07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSUUgSGVscGVyIGZ1bmN0aW9uIGZvciBleHBvcnRLZXlcclxuICAgICAqIEBwYXJhbSBrZXlcclxuICAgICAqIEBwYXJhbSBmb3JtYXRcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNyeXB0by5wcm90b3R5cGUubXNDcnlwdG9FeHBvcnRKd2sgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbXNFeHBvcnRLZXkgPSB3aW5kb3dbXCJtc0NyeXB0b1wiXS5zdWJ0bGUuZXhwb3J0S2V5KEtFWV9GT1JNQVRfSldLLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtc0V4cG9ydEtleS5hZGRFdmVudExpc3RlbmVyKFwiY29tcGxldGVcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRCdWZmZXIgPSBlLnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0U3RyaW5nID0gQnJvd3NlclN0cmluZ1V0aWxzLnV0ZjhBcnJUb1N0cmluZyhuZXcgVWludDhBcnJheShyZXN1bHRCdWZmZXIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHIvZywgXCJcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxuL2csIFwiXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcdC9nLCBcIlwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zcGxpdChcIiBcIikuam9pbihcIlwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwiXFx1MDAwMFwiLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShKU09OLnBhcnNlKHJlc3VsdFN0cmluZykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtc0V4cG9ydEtleS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KV07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSUUgSGVscGVyIGZ1bmN0aW9uIGZvciBpbXBvcnRLZXlcclxuICAgICAqIEBwYXJhbSBrZXlcclxuICAgICAqIEBwYXJhbSBmb3JtYXRcclxuICAgICAqIEBwYXJhbSBleHRyYWN0YWJsZVxyXG4gICAgICogQHBhcmFtIHVzYWdlc1xyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ3J5cHRvLnByb3RvdHlwZS5tc0NyeXB0b0ltcG9ydEtleSA9IGZ1bmN0aW9uIChrZXlCdWZmZXIsIGV4dHJhY3RhYmxlLCB1c2FnZXMpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtc0ltcG9ydEtleSA9IHdpbmRvd1tcIm1zQ3J5cHRvXCJdLnN1YnRsZS5pbXBvcnRLZXkoS0VZX0ZPUk1BVF9KV0ssIGtleUJ1ZmZlciwgX3RoaXMuX2tleWdlbkFsZ29yaXRobU9wdGlvbnMsIGV4dHJhY3RhYmxlLCB1c2FnZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtc0ltcG9ydEtleS5hZGRFdmVudExpc3RlbmVyKFwiY29tcGxldGVcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZS50YXJnZXQucmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zSW1wb3J0S2V5LmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBJRSBIZWxwZXIgZnVuY3Rpb24gZm9yIHNpZ24gSldUXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKiBAcGFyYW0gZGF0YVxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ3J5cHRvLnByb3RvdHlwZS5tc0NyeXB0b1NpZ24gPSBmdW5jdGlvbiAoa2V5LCBkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbXNTaWduID0gd2luZG93W1wibXNDcnlwdG9cIl0uc3VidGxlLnNpZ24oX3RoaXMuX2tleWdlbkFsZ29yaXRobU9wdGlvbnMsIGtleSwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zU2lnbi5hZGRFdmVudExpc3RlbmVyKFwiY29tcGxldGVcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZS50YXJnZXQucmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zU2lnbi5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KV07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBzdHJpbmdpZmllZCBqd2suXHJcbiAgICAgKiBAcGFyYW0gandrXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJDcnlwdG8uZ2V0SndrU3RyaW5nID0gZnVuY3Rpb24gKGp3aykge1xyXG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShqd2ssIE9iamVjdC5rZXlzKGp3aykuc29ydCgpKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQnJvd3NlckNyeXB0bztcclxufSgpKTtcblxuZXhwb3J0IHsgQnJvd3NlckNyeXB0byB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnJvd3NlckNyeXB0by5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYyLjIyLjEgMjAyMi0wMy0wNyAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgX19hd2FpdGVyLCBfX2dlbmVyYXRvciB9IGZyb20gJy4uL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgeyBCcm93c2VyQXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckF1dGhFcnJvci5qcyc7XG5pbXBvcnQgeyBEQl9OQU1FLCBEQl9WRVJTSU9OLCBEQl9UQUJMRV9OQU1FIH0gZnJvbSAnLi4vdXRpbHMvQnJvd3NlckNvbnN0YW50cy5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogU3RvcmFnZSB3cmFwcGVyIGZvciBJbmRleGVkREIgc3RvcmFnZSBpbiBicm93c2VyczogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0luZGV4ZWREQl9BUElcclxuICovXHJcbnZhciBEYXRhYmFzZVN0b3JhZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBEYXRhYmFzZVN0b3JhZ2UoKSB7XHJcbiAgICAgICAgdGhpcy5kYk5hbWUgPSBEQl9OQU1FO1xyXG4gICAgICAgIHRoaXMudmVyc2lvbiA9IERCX1ZFUlNJT047XHJcbiAgICAgICAgdGhpcy50YWJsZU5hbWUgPSBEQl9UQUJMRV9OQU1FO1xyXG4gICAgICAgIHRoaXMuZGJPcGVuID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE9wZW5zIEluZGV4ZWREQiBpbnN0YW5jZS5cclxuICAgICAqL1xyXG4gICAgRGF0YWJhc2VTdG9yYWdlLnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wZW5EQiA9IHdpbmRvdy5pbmRleGVkREIub3BlbihfdGhpcy5kYk5hbWUsIF90aGlzLnZlcnNpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuREIuYWRkRXZlbnRMaXN0ZW5lcihcInVwZ3JhZGVuZWVkZWRcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudCA9IGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQucmVzdWx0LmNyZWF0ZU9iamVjdFN0b3JlKF90aGlzLnRhYmxlTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuREIuYWRkRXZlbnRMaXN0ZW5lcihcInN1Y2Nlc3NcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudCA9IGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kYiA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kYk9wZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkRCLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBmdW5jdGlvbiAoKSB7IHJldHVybiByZWplY3QoQnJvd3NlckF1dGhFcnJvci5jcmVhdGVEYXRhYmFzZVVuYXZhaWxhYmxlRXJyb3IoKSk7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBPcGVucyBkYXRhYmFzZSBpZiBpdCdzIG5vdCBhbHJlYWR5IG9wZW5cclxuICAgICAqL1xyXG4gICAgRGF0YWJhc2VTdG9yYWdlLnByb3RvdHlwZS52YWxpZGF0ZURiSXNPcGVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhdGhpcy5kYk9wZW4pIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLm9wZW4oKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Euc2VudCgpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXRyaWV2ZXMgaXRlbSBmcm9tIEluZGV4ZWREQiBpbnN0YW5jZS5cclxuICAgICAqIEBwYXJhbSBrZXlcclxuICAgICAqL1xyXG4gICAgRGF0YWJhc2VTdG9yYWdlLnByb3RvdHlwZS5nZXRJdGVtID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy52YWxpZGF0ZURiSXNPcGVuKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IEFkZCB0aW1lb3V0cz9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmRiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoQnJvd3NlckF1dGhFcnJvci5jcmVhdGVEYXRhYmFzZU5vdE9wZW5FcnJvcigpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uID0gX3RoaXMuZGIudHJhbnNhY3Rpb24oW190aGlzLnRhYmxlTmFtZV0sIFwicmVhZG9ubHlcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoX3RoaXMudGFibGVOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGJHZXQgPSBvYmplY3RTdG9yZS5nZXQoa2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYkdldC5hZGRFdmVudExpc3RlbmVyKFwic3VjY2Vzc1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGV2ZW50LnRhcmdldC5yZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiR2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBmdW5jdGlvbiAoZSkgeyByZXR1cm4gcmVqZWN0KGUpOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIGl0ZW0gdG8gSW5kZXhlZERCIHVuZGVyIGdpdmVuIGtleVxyXG4gICAgICogQHBhcmFtIGtleVxyXG4gICAgICogQHBhcmFtIHBheWxvYWRcclxuICAgICAqL1xyXG4gICAgRGF0YWJhc2VTdG9yYWdlLnByb3RvdHlwZS5zZXRJdGVtID0gZnVuY3Rpb24gKGtleSwgcGF5bG9hZCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy52YWxpZGF0ZURiSXNPcGVuKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IEFkZCB0aW1lb3V0cz9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmRiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoQnJvd3NlckF1dGhFcnJvci5jcmVhdGVEYXRhYmFzZU5vdE9wZW5FcnJvcigpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uID0gX3RoaXMuZGIudHJhbnNhY3Rpb24oW190aGlzLnRhYmxlTmFtZV0sIFwicmVhZHdyaXRlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3RTdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKF90aGlzLnRhYmxlTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRiUHV0ID0gb2JqZWN0U3RvcmUucHV0KHBheWxvYWQsIGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGJQdXQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Y2Nlc3NcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZSgpOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYlB1dC5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgZnVuY3Rpb24gKGUpIHsgcmV0dXJuIHJlamVjdChlKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBpdGVtIGZyb20gSW5kZXhlZERCIHVuZGVyIGdpdmVuIGtleVxyXG4gICAgICogQHBhcmFtIGtleVxyXG4gICAgICovXHJcbiAgICBEYXRhYmFzZVN0b3JhZ2UucHJvdG90eXBlLnJlbW92ZUl0ZW0gPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnZhbGlkYXRlRGJJc09wZW4oKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5kYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KEJyb3dzZXJBdXRoRXJyb3IuY3JlYXRlRGF0YWJhc2VOb3RPcGVuRXJyb3IoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2FjdGlvbiA9IF90aGlzLmRiLnRyYW5zYWN0aW9uKFtfdGhpcy50YWJsZU5hbWVdLCBcInJlYWR3cml0ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShfdGhpcy50YWJsZU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYkRlbGV0ZSA9IG9iamVjdFN0b3JlLmRlbGV0ZShrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiRGVsZXRlLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWNjZXNzXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUoKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGJEZWxldGUuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIGZ1bmN0aW9uIChlKSB7IHJldHVybiByZWplY3QoZSk7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldCBhbGwgdGhlIGtleXMgZnJvbSB0aGUgc3RvcmFnZSBvYmplY3QgYXMgYW4gaXRlcmFibGUgYXJyYXkgb2Ygc3RyaW5ncy5cclxuICAgICAqL1xyXG4gICAgRGF0YWJhc2VTdG9yYWdlLnByb3RvdHlwZS5nZXRLZXlzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy52YWxpZGF0ZURiSXNPcGVuKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMuZGIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChCcm93c2VyQXV0aEVycm9yLmNyZWF0ZURhdGFiYXNlTm90T3BlbkVycm9yKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnNhY3Rpb24gPSBfdGhpcy5kYi50cmFuc2FjdGlvbihbX3RoaXMudGFibGVOYW1lXSwgXCJyZWFkb25seVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShfdGhpcy50YWJsZU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYkdldEtleXMgPSBvYmplY3RTdG9yZS5nZXRBbGxLZXlzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGJHZXRLZXlzLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWNjZXNzXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudCA9IGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZXZlbnQudGFyZ2V0LnJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGJHZXRLZXlzLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBmdW5jdGlvbiAoZSkgeyByZXR1cm4gcmVqZWN0KGUpOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlcmUgaXMgYW4gb2JqZWN0IHVuZGVyIHRoZSBzZWFyY2gga2V5IGluIHRoZSBvYmplY3Qgc3RvcmVcclxuICAgICAqL1xyXG4gICAgRGF0YWJhc2VTdG9yYWdlLnByb3RvdHlwZS5jb250YWluc0tleSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMudmFsaWRhdGVEYklzT3BlbigpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmRiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoQnJvd3NlckF1dGhFcnJvci5jcmVhdGVEYXRhYmFzZU5vdE9wZW5FcnJvcigpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uID0gX3RoaXMuZGIudHJhbnNhY3Rpb24oW190aGlzLnRhYmxlTmFtZV0sIFwicmVhZG9ubHlcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoX3RoaXMudGFibGVOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGJDb250YWluc0tleSA9IG9iamVjdFN0b3JlLmNvdW50KGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGJDb250YWluc0tleS5hZGRFdmVudExpc3RlbmVyKFwic3VjY2Vzc1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGV2ZW50LnRhcmdldC5yZXN1bHQgPT09IDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiQ29udGFpbnNLZXkuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIGZ1bmN0aW9uIChlKSB7IHJldHVybiByZWplY3QoZSk7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIERlbGV0ZXMgdGhlIE1TQUwgZGF0YWJhc2UuIFRoZSBkYXRhYmFzZSBpcyBkZWxldGVkIHJhdGhlciB0aGFuIGNsZWFyZWQgdG8gbWFrZSBpdCBwb3NzaWJsZVxyXG4gICAgICogZm9yIGNsaWVudCBhcHBsaWNhdGlvbnMgdG8gZG93bmdyYWRlIHRvIGEgcHJldmlvdXMgTVNBTCB2ZXJzaW9uIHdpdGhvdXQgd29ycnlpbmcgYWJvdXQgZm9yd2FyZCBjb21wYXRpYmlsaXR5IGlzc3Vlc1xyXG4gICAgICogd2l0aCBJbmRleGVkREIgZGF0YWJhc2UgdmVyc2lvbnMuXHJcbiAgICAgKi9cclxuICAgIERhdGFiYXNlU3RvcmFnZS5wcm90b3R5cGUuZGVsZXRlRGF0YWJhc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsZXRlRGJSZXF1ZXN0ID0gd2luZG93LmluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShEQl9OQU1FKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlRGJSZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWNjZXNzXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUodHJ1ZSk7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVEYlJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlamVjdChmYWxzZSk7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIERhdGFiYXNlU3RvcmFnZTtcclxufSgpKTtcblxuZXhwb3J0IHsgRGF0YWJhc2VTdG9yYWdlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EYXRhYmFzZVN0b3JhZ2UuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2Mi4yMi4xIDIwMjItMDMtMDcgKi9cbid1c2Ugc3RyaWN0Jztcbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgTWVtb3J5U3RvcmFnZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE1lbW9yeVN0b3JhZ2UoKSB7XHJcbiAgICAgICAgdGhpcy5jYWNoZSA9IG5ldyBNYXAoKTtcclxuICAgIH1cclxuICAgIE1lbW9yeVN0b3JhZ2UucHJvdG90eXBlLmdldEl0ZW0gPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuZ2V0KGtleSkgfHwgbnVsbDtcclxuICAgIH07XHJcbiAgICBNZW1vcnlTdG9yYWdlLnByb3RvdHlwZS5zZXRJdGVtID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICB0aGlzLmNhY2hlLnNldChrZXksIHZhbHVlKTtcclxuICAgIH07XHJcbiAgICBNZW1vcnlTdG9yYWdlLnByb3RvdHlwZS5yZW1vdmVJdGVtID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHRoaXMuY2FjaGUuZGVsZXRlKGtleSk7XHJcbiAgICB9O1xyXG4gICAgTWVtb3J5U3RvcmFnZS5wcm90b3R5cGUuZ2V0S2V5cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY2FjaGVLZXlzID0gW107XHJcbiAgICAgICAgdGhpcy5jYWNoZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XHJcbiAgICAgICAgICAgIGNhY2hlS2V5cy5wdXNoKGtleSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGNhY2hlS2V5cztcclxuICAgIH07XHJcbiAgICBNZW1vcnlTdG9yYWdlLnByb3RvdHlwZS5jb250YWluc0tleSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZS5oYXMoa2V5KTtcclxuICAgIH07XHJcbiAgICBNZW1vcnlTdG9yYWdlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNhY2hlLmNsZWFyKCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE1lbW9yeVN0b3JhZ2U7XHJcbn0oKSk7XG5cbmV4cG9ydCB7IE1lbW9yeVN0b3JhZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1lbW9yeVN0b3JhZ2UuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2Mi4yMi4xIDIwMjItMDMtMDcgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IF9fYXdhaXRlciwgX19nZW5lcmF0b3IgfSBmcm9tICcuLi9fdmlydHVhbC9fdHNsaWIuanMnO1xuaW1wb3J0IHsgQnJvd3NlckF1dGhFcnJvciwgQnJvd3NlckF1dGhFcnJvck1lc3NhZ2UgfSBmcm9tICcuLi9lcnJvci9Ccm93c2VyQXV0aEVycm9yLmpzJztcbmltcG9ydCB7IERhdGFiYXNlU3RvcmFnZSB9IGZyb20gJy4vRGF0YWJhc2VTdG9yYWdlLmpzJztcbmltcG9ydCB7IE1lbW9yeVN0b3JhZ2UgfSBmcm9tICcuL01lbW9yeVN0b3JhZ2UuanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgYWxsb3dzIE1TQUwgdG8gc3RvcmUgYXJ0aWZhY3RzIGFzeW5jaHJvbm91c2x5IHVzaW5nIHRoZSBEYXRhYmFzZVN0b3JhZ2UgSW5kZXhlZERCIHdyYXBwZXIsXHJcbiAqIGJhY2tlZCB1cCB3aXRoIHRoZSBtb3JlIHZvbGF0aWxlIE1lbW9yeVN0b3JhZ2Ugb2JqZWN0IGZvciBjYXNlcyBpbiB3aGljaCBJbmRleGVkREIgbWF5IGJlIHVuYXZhaWxhYmxlLlxyXG4gKi9cclxudmFyIEFzeW5jTWVtb3J5U3RvcmFnZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEFzeW5jTWVtb3J5U3RvcmFnZShsb2dnZXIpIHtcclxuICAgICAgICB0aGlzLmluTWVtb3J5Q2FjaGUgPSBuZXcgTWVtb3J5U3RvcmFnZSgpO1xyXG4gICAgICAgIHRoaXMuaW5kZXhlZERCQ2FjaGUgPSBuZXcgRGF0YWJhc2VTdG9yYWdlKCk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XHJcbiAgICB9XHJcbiAgICBBc3luY01lbW9yeVN0b3JhZ2UucHJvdG90eXBlLmhhbmRsZURhdGFiYXNlQWNjZXNzRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBCcm93c2VyQXV0aEVycm9yICYmIGVycm9yLmVycm9yQ29kZSA9PT0gQnJvd3NlckF1dGhFcnJvck1lc3NhZ2UuZGF0YWJhc2VVbmF2YWlsYWJsZS5jb2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiQ291bGQgbm90IGFjY2VzcyBwZXJzaXN0ZW50IHN0b3JhZ2UuIFRoaXMgbWF5IGJlIGNhdXNlZCBieSBicm93c2VyIHByaXZhY3kgZmVhdHVyZXMgd2hpY2ggYmxvY2sgcGVyc2lzdGVudCBzdG9yYWdlIGluIHRoaXJkLXBhcnR5IGNvbnRleHRzLlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGl0ZW0gbWF0Y2hpbmcgdGhlIGdpdmVuIGtleS4gVHJpZXMgaW4tbWVtb3J5IGNhY2hlIGZpcnN0LCB0aGVuIGluIHRoZSBhc3luY2hyb25vdXNcclxuICAgICAqIHN0b3JhZ2Ugb2JqZWN0IGlmIGl0ZW0gaXNuJ3QgZm91bmQgaW4tbWVtb3J5LlxyXG4gICAgICogQHBhcmFtIGtleVxyXG4gICAgICovXHJcbiAgICBBc3luY01lbW9yeVN0b3JhZ2UucHJvdG90eXBlLmdldEl0ZW0gPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgaXRlbSwgZV8xO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtID0gdGhpcy5pbk1lbW9yeUNhY2hlLmdldEl0ZW0oa2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhaXRlbSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMSwgMywgLCA0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJRdWVyaWVkIGl0ZW0gbm90IGZvdW5kIGluIGluLW1lbW9yeSBjYWNoZSwgbm93IHF1ZXJ5aW5nIHBlcnNpc3RlbnQgc3RvcmFnZS5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuaW5kZXhlZERCQ2FjaGUuZ2V0SXRlbShrZXkpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbMiAvKnJldHVybiovLCBfYS5zZW50KCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZV8xID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURhdGFiYXNlQWNjZXNzRXJyb3IoZV8xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzIgLypyZXR1cm4qLywgaXRlbV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgaXRlbSBpbiB0aGUgaW4tbWVtb3J5IGNhY2hlIGFuZCB0aGVuIHRyaWVzIHRvIHNldCBpdCBpbiB0aGUgYXN5bmNocm9ub3VzXHJcbiAgICAgKiBzdG9yYWdlIG9iamVjdCB3aXRoIHRoZSBnaXZlbiBrZXkuXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKiBAcGFyYW0gdmFsdWVcclxuICAgICAqL1xyXG4gICAgQXN5bmNNZW1vcnlTdG9yYWdlLnByb3RvdHlwZS5zZXRJdGVtID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBlXzI7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5NZW1vcnlDYWNoZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzEsIDMsICwgNF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmluZGV4ZWREQkNhY2hlLnNldEl0ZW0oa2V5LCB2YWx1ZSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVfMiA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEYXRhYmFzZUFjY2Vzc0Vycm9yKGVfMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgdGhlIGl0ZW0gbWF0Y2hpbmcgdGhlIGtleSBmcm9tIHRoZSBpbi1tZW1vcnkgY2FjaGUsIHRoZW4gdHJpZXMgdG8gcmVtb3ZlIGl0IGZyb20gdGhlIGFzeW5jaHJvbm91cyBzdG9yYWdlIG9iamVjdC5cclxuICAgICAqIEBwYXJhbSBrZXlcclxuICAgICAqL1xyXG4gICAgQXN5bmNNZW1vcnlTdG9yYWdlLnByb3RvdHlwZS5yZW1vdmVJdGVtID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGVfMztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbk1lbW9yeUNhY2hlLnJlbW92ZUl0ZW0oa2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFsxLCAzLCAsIDRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5pbmRleGVkREJDYWNoZS5yZW1vdmVJdGVtKGtleSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVfMyA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEYXRhYmFzZUFjY2Vzc0Vycm9yKGVfMyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldCBhbGwgdGhlIGtleXMgZnJvbSB0aGUgaW4tbWVtb3J5IGNhY2hlIGFzIGFuIGl0ZXJhYmxlIGFycmF5IG9mIHN0cmluZ3MuIElmIG5vIGtleXMgYXJlIGZvdW5kLCBxdWVyeSB0aGUga2V5cyBpbiB0aGVcclxuICAgICAqIGFzeW5jaHJvbm91cyBzdG9yYWdlIG9iamVjdC5cclxuICAgICAqL1xyXG4gICAgQXN5bmNNZW1vcnlTdG9yYWdlLnByb3RvdHlwZS5nZXRLZXlzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNhY2hlS2V5cywgZV80O1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUtleXMgPSB0aGlzLmluTWVtb3J5Q2FjaGUuZ2V0S2V5cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShjYWNoZUtleXMubGVuZ3RoID09PSAwKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMSwgMywgLCA0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJJbi1tZW1vcnkgY2FjaGUgaXMgZW1wdHksIG5vdyBxdWVyeWluZyBwZXJzaXN0ZW50IHN0b3JhZ2UuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmluZGV4ZWREQkNhY2hlLmdldEtleXMoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Euc2VudCgpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVfNCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEYXRhYmFzZUFjY2Vzc0Vycm9yKGVfNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNhY2hlS2V5c107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0cnVlIG9yIGZhbHNlIGlmIHRoZSBnaXZlbiBrZXkgaXMgcHJlc2VudCBpbiB0aGUgY2FjaGUuXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKi9cclxuICAgIEFzeW5jTWVtb3J5U3RvcmFnZS5wcm90b3R5cGUuY29udGFpbnNLZXkgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY29udGFpbnNLZXksIGVfNTtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbnNLZXkgPSB0aGlzLmluTWVtb3J5Q2FjaGUuY29udGFpbnNLZXkoa2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhY29udGFpbnNLZXkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzEsIDMsICwgNF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiS2V5IG5vdCBmb3VuZCBpbiBpbi1tZW1vcnkgY2FjaGUsIG5vdyBxdWVyeWluZyBwZXJzaXN0ZW50IHN0b3JhZ2UuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmluZGV4ZWREQkNhY2hlLmNvbnRhaW5zS2V5KGtleSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlXzUgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRGF0YWJhc2VBY2Nlc3NFcnJvcihlXzUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiAvKnJldHVybiovLCBjb250YWluc0tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2xlYXJzIGluLW1lbW9yeSBNYXAgYW5kIHRyaWVzIHRvIGRlbGV0ZSB0aGUgSW5kZXhlZERCIGRhdGFiYXNlLlxyXG4gICAgICovXHJcbiAgICBBc3luY01lbW9yeVN0b3JhZ2UucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGVfNjtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbk1lbW9yeUNhY2hlLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMSwgMywgLCA0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuaW5kZXhlZERCQ2FjaGUuZGVsZXRlRGF0YWJhc2UoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZV82ID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURhdGFiYXNlQWNjZXNzRXJyb3IoZV82KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBBc3luY01lbW9yeVN0b3JhZ2U7XHJcbn0oKSk7XG5cbmV4cG9ydCB7IEFzeW5jTWVtb3J5U3RvcmFnZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXN5bmNNZW1vcnlTdG9yYWdlLmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjIuMjIuMSAyMDIyLTAzLTA3ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBfX2F3YWl0ZXIsIF9fZ2VuZXJhdG9yIH0gZnJvbSAnLi4vX3ZpcnR1YWwvX3RzbGliLmpzJztcbmltcG9ydCB7IEd1aWRHZW5lcmF0b3IgfSBmcm9tICcuL0d1aWRHZW5lcmF0b3IuanMnO1xuaW1wb3J0IHsgQmFzZTY0RW5jb2RlIH0gZnJvbSAnLi4vZW5jb2RlL0Jhc2U2NEVuY29kZS5qcyc7XG5pbXBvcnQgeyBCYXNlNjREZWNvZGUgfSBmcm9tICcuLi9lbmNvZGUvQmFzZTY0RGVjb2RlLmpzJztcbmltcG9ydCB7IFBrY2VHZW5lcmF0b3IgfSBmcm9tICcuL1BrY2VHZW5lcmF0b3IuanMnO1xuaW1wb3J0IHsgQnJvd3NlckNyeXB0byB9IGZyb20gJy4vQnJvd3NlckNyeXB0by5qcyc7XG5pbXBvcnQgeyBCcm93c2VyU3RyaW5nVXRpbHMgfSBmcm9tICcuLi91dGlscy9Ccm93c2VyU3RyaW5nVXRpbHMuanMnO1xuaW1wb3J0IHsgS0VZX0ZPUk1BVF9KV0sgfSBmcm9tICcuLi91dGlscy9Ccm93c2VyQ29uc3RhbnRzLmpzJztcbmltcG9ydCB7IEJyb3dzZXJBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9Ccm93c2VyQXV0aEVycm9yLmpzJztcbmltcG9ydCB7IEFzeW5jTWVtb3J5U3RvcmFnZSB9IGZyb20gJy4uL2NhY2hlL0FzeW5jTWVtb3J5U3RvcmFnZS5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogVGhpcyBjbGFzcyBpbXBsZW1lbnRzIE1TQUwncyBjcnlwdG8gaW50ZXJmYWNlLCB3aGljaCBhbGxvd3MgaXQgdG8gcGVyZm9ybSBiYXNlNjQgZW5jb2RpbmcgYW5kIGRlY29kaW5nLCBnZW5lcmF0aW5nIGNyeXB0b2dyYXBoaWNhbGx5IHJhbmRvbSBHVUlEcyBhbmRcclxuICogaW1wbGVtZW50aW5nIFByb29mIEtleSBmb3IgQ29kZSBFeGNoYW5nZSBzcGVjcyBmb3IgdGhlIE9BdXRoIEF1dGhvcml6YXRpb24gQ29kZSBGbG93IHVzaW5nIFBLQ0UgKHJmYyBoZXJlOiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNzYzNikuXHJcbiAqL1xyXG52YXIgQ3J5cHRvT3BzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ3J5cHRvT3BzKGxvZ2dlcikge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xyXG4gICAgICAgIC8vIEJyb3dzZXIgY3J5cHRvIG5lZWRzIHRvIGJlIHZhbGlkYXRlZCBmaXJzdCBiZWZvcmUgYW55IG90aGVyIGNsYXNzZXMgY2FuIGJlIHNldC5cclxuICAgICAgICB0aGlzLmJyb3dzZXJDcnlwdG8gPSBuZXcgQnJvd3NlckNyeXB0byh0aGlzLmxvZ2dlcik7XHJcbiAgICAgICAgdGhpcy5iNjRFbmNvZGUgPSBuZXcgQmFzZTY0RW5jb2RlKCk7XHJcbiAgICAgICAgdGhpcy5iNjREZWNvZGUgPSBuZXcgQmFzZTY0RGVjb2RlKCk7XHJcbiAgICAgICAgdGhpcy5ndWlkR2VuZXJhdG9yID0gbmV3IEd1aWRHZW5lcmF0b3IodGhpcy5icm93c2VyQ3J5cHRvKTtcclxuICAgICAgICB0aGlzLnBrY2VHZW5lcmF0b3IgPSBuZXcgUGtjZUdlbmVyYXRvcih0aGlzLmJyb3dzZXJDcnlwdG8pO1xyXG4gICAgICAgIHRoaXMuY2FjaGUgPSB7XHJcbiAgICAgICAgICAgIGFzeW1tZXRyaWNLZXlzOiBuZXcgQXN5bmNNZW1vcnlTdG9yYWdlKHRoaXMubG9nZ2VyKSxcclxuICAgICAgICAgICAgc3ltbWV0cmljS2V5czogbmV3IEFzeW5jTWVtb3J5U3RvcmFnZSh0aGlzLmxvZ2dlcilcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJhbmRvbSBHVUlEIC0gdXNlZCB0byBwb3B1bGF0ZSBzdGF0ZSBhbmQgbm9uY2UuXHJcbiAgICAgKiBAcmV0dXJucyBzdHJpbmcgKEdVSUQpXHJcbiAgICAgKi9cclxuICAgIENyeXB0b09wcy5wcm90b3R5cGUuY3JlYXRlTmV3R3VpZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ndWlkR2VuZXJhdG9yLmdlbmVyYXRlR3VpZCgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRW5jb2RlcyBpbnB1dCBzdHJpbmcgdG8gYmFzZTY0LlxyXG4gICAgICogQHBhcmFtIGlucHV0XHJcbiAgICAgKi9cclxuICAgIENyeXB0b09wcy5wcm90b3R5cGUuYmFzZTY0RW5jb2RlID0gZnVuY3Rpb24gKGlucHV0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYjY0RW5jb2RlLmVuY29kZShpbnB1dCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBEZWNvZGVzIGlucHV0IHN0cmluZyBmcm9tIGJhc2U2NC5cclxuICAgICAqIEBwYXJhbSBpbnB1dFxyXG4gICAgICovXHJcbiAgICBDcnlwdG9PcHMucHJvdG90eXBlLmJhc2U2NERlY29kZSA9IGZ1bmN0aW9uIChpbnB1dCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmI2NERlY29kZS5kZWNvZGUoaW5wdXQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGVzIFBLQ0UgY29kZXMgdXNlZCBpbiBBdXRob3JpemF0aW9uIENvZGUgRmxvdy5cclxuICAgICAqL1xyXG4gICAgQ3J5cHRvT3BzLnByb3RvdHlwZS5nZW5lcmF0ZVBrY2VDb2RlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLnBrY2VHZW5lcmF0b3IuZ2VuZXJhdGVDb2RlcygpXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZXMgYSBrZXlwYWlyLCBzdG9yZXMgaXQgYW5kIHJldHVybnMgYSB0aHVtYnByaW50XHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBDcnlwdG9PcHMucHJvdG90eXBlLmdldFB1YmxpY0tleVRodW1icHJpbnQgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGtleVBhaXIsIHB1YmxpY0tleUp3aywgcHViS2V5VGh1bXByaW50T2JqLCBwdWJsaWNKd2tTdHJpbmcsIHB1YmxpY0p3a0hhc2gsIHByaXZhdGVLZXlKd2ssIHVuZXh0cmFjdGFibGVQcml2YXRlS2V5O1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmJyb3dzZXJDcnlwdG8uZ2VuZXJhdGVLZXlQYWlyKENyeXB0b09wcy5FWFRSQUNUQUJMRSwgQ3J5cHRvT3BzLlBPUF9LRVlfVVNBR0VTKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlQYWlyID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmJyb3dzZXJDcnlwdG8uZXhwb3J0SndrKGtleVBhaXIucHVibGljS2V5KV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwdWJsaWNLZXlKd2sgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1YktleVRodW1wcmludE9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGU6IHB1YmxpY0tleUp3ay5lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga3R5OiBwdWJsaWNLZXlKd2sua3R5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbjogcHVibGljS2V5SndrLm5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHVibGljSndrU3RyaW5nID0gQnJvd3NlckNyeXB0by5nZXRKd2tTdHJpbmcocHViS2V5VGh1bXByaW50T2JqKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5oYXNoU3RyaW5nKHB1YmxpY0p3a1N0cmluZyldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHVibGljSndrSGFzaCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5icm93c2VyQ3J5cHRvLmV4cG9ydEp3ayhrZXlQYWlyLnByaXZhdGVLZXkpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaXZhdGVLZXlKd2sgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuYnJvd3NlckNyeXB0by5pbXBvcnRKd2socHJpdmF0ZUtleUp3aywgZmFsc2UsIFtcInNpZ25cIl0pXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZXh0cmFjdGFibGVQcml2YXRlS2V5ID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSBLZXlwYWlyIGRhdGEgaW4ga2V5c3RvcmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5jYWNoZS5hc3ltbWV0cmljS2V5cy5zZXRJdGVtKHB1YmxpY0p3a0hhc2gsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcml2YXRlS2V5OiB1bmV4dHJhY3RhYmxlUHJpdmF0ZUtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdWJsaWNLZXk6IGtleVBhaXIucHVibGljS2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RNZXRob2Q6IHJlcXVlc3QucmVzb3VyY2VSZXF1ZXN0TWV0aG9kLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RVcmk6IHJlcXVlc3QucmVzb3VyY2VSZXF1ZXN0VXJpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSBLZXlwYWlyIGRhdGEgaW4ga2V5c3RvcmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgcHVibGljSndrSGFzaF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBjcnlwdG9ncmFwaGljIGtleXBhaXIgZnJvbSBrZXkgc3RvcmUgbWF0Y2hpbmcgdGhlIGtleUlkIHBhc3NlZCBpblxyXG4gICAgICogQHBhcmFtIGtpZFxyXG4gICAgICovXHJcbiAgICBDcnlwdG9PcHMucHJvdG90eXBlLnJlbW92ZVRva2VuQmluZGluZ0tleSA9IGZ1bmN0aW9uIChraWQpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBrZXlGb3VuZDtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5jYWNoZS5hc3ltbWV0cmljS2V5cy5yZW1vdmVJdGVtKGtpZCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmNhY2hlLmFzeW1tZXRyaWNLZXlzLmNvbnRhaW5zS2V5KGtpZCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Rm91bmQgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCAha2V5Rm91bmRdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYWxsIGNyeXB0b2dyYXBoaWMga2V5cyBmcm9tIEluZGV4ZWREQiBzdG9yYWdlXHJcbiAgICAgKi9cclxuICAgIENyeXB0b09wcy5wcm90b3R5cGUuY2xlYXJLZXlzdG9yZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBkYXRhU3RvcmVOYW1lcywgZGF0YWJhc2VTdG9yYWdlLCBfYTtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVN0b3JlTmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLmNhY2hlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2VTdG9yYWdlID0gdGhpcy5jYWNoZVtkYXRhU3RvcmVOYW1lc1swXV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGF0YWJhc2VTdG9yYWdlKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZGF0YWJhc2VTdG9yYWdlLmRlbGV0ZURhdGFiYXNlKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAzO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTaWducyB0aGUgZ2l2ZW4gb2JqZWN0IGFzIGEgand0IHBheWxvYWQgd2l0aCBwcml2YXRlIGtleSByZXRyaWV2ZWQgYnkgZ2l2ZW4ga2lkLlxyXG4gICAgICogQHBhcmFtIHBheWxvYWRcclxuICAgICAqIEBwYXJhbSBraWRcclxuICAgICAqL1xyXG4gICAgQ3J5cHRvT3BzLnByb3RvdHlwZS5zaWduSnd0ID0gZnVuY3Rpb24gKHBheWxvYWQsIGtpZCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNhY2hlZEtleVBhaXIsIHB1YmxpY0tleUp3aywgcHVibGljS2V5SndrU3RyaW5nLCBoZWFkZXIsIGVuY29kZWRIZWFkZXIsIGVuY29kZWRQYXlsb2FkLCB0b2tlblN0cmluZywgdG9rZW5CdWZmZXIsIHNpZ25hdHVyZUJ1ZmZlciwgZW5jb2RlZFNpZ25hdHVyZTtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5jYWNoZS5hc3ltbWV0cmljS2V5cy5nZXRJdGVtKGtpZCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVkS2V5UGFpciA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWNoZWRLZXlQYWlyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZVNpZ25pbmdLZXlOb3RGb3VuZEluU3RvcmFnZUVycm9yKGtpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5icm93c2VyQ3J5cHRvLmV4cG9ydEp3ayhjYWNoZWRLZXlQYWlyLnB1YmxpY0tleSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHVibGljS2V5SndrID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwdWJsaWNLZXlKd2tTdHJpbmcgPSBCcm93c2VyQ3J5cHRvLmdldEp3a1N0cmluZyhwdWJsaWNLZXlKd2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXIgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGc6IHB1YmxpY0tleUp3ay5hbGcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBLRVlfRk9STUFUX0pXS1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmNvZGVkSGVhZGVyID0gdGhpcy5iNjRFbmNvZGUudXJsRW5jb2RlKEpTT04uc3RyaW5naWZ5KGhlYWRlcikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSBwYXlsb2FkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuY25mID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgandrOiBKU09OLnBhcnNlKHB1YmxpY0tleUp3a1N0cmluZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5jb2RlZFBheWxvYWQgPSB0aGlzLmI2NEVuY29kZS51cmxFbmNvZGUoSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlblN0cmluZyA9IGVuY29kZWRIZWFkZXIgKyBcIi5cIiArIGVuY29kZWRQYXlsb2FkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbkJ1ZmZlciA9IEJyb3dzZXJTdHJpbmdVdGlscy5zdHJpbmdUb0FycmF5QnVmZmVyKHRva2VuU3RyaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5icm93c2VyQ3J5cHRvLnNpZ24oY2FjaGVkS2V5UGFpci5wcml2YXRlS2V5LCB0b2tlbkJ1ZmZlcildO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlQnVmZmVyID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmNvZGVkU2lnbmF0dXJlID0gdGhpcy5iNjRFbmNvZGUudXJsRW5jb2RlQXJyKG5ldyBVaW50OEFycmF5KHNpZ25hdHVyZUJ1ZmZlcikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdG9rZW5TdHJpbmcgKyBcIi5cIiArIGVuY29kZWRTaWduYXR1cmVdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIFNIQS0yNTYgaGFzaCBvZiBhbiBpbnB1dCBzdHJpbmdcclxuICAgICAqIEBwYXJhbSBwbGFpblRleHRcclxuICAgICAqL1xyXG4gICAgQ3J5cHRvT3BzLnByb3RvdHlwZS5oYXNoU3RyaW5nID0gZnVuY3Rpb24gKHBsYWluVGV4dCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGhhc2hCdWZmZXIsIGhhc2hCeXRlcztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5icm93c2VyQ3J5cHRvLnNoYTI1NkRpZ2VzdChwbGFpblRleHQpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc2hCdWZmZXIgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc2hCeXRlcyA9IG5ldyBVaW50OEFycmF5KGhhc2hCdWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5iNjRFbmNvZGUudXJsRW5jb2RlQXJyKGhhc2hCeXRlcyldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBDcnlwdG9PcHMuUE9QX0tFWV9VU0FHRVMgPSBbXCJzaWduXCIsIFwidmVyaWZ5XCJdO1xyXG4gICAgQ3J5cHRvT3BzLkVYVFJBQ1RBQkxFID0gdHJ1ZTtcclxuICAgIHJldHVybiBDcnlwdG9PcHM7XHJcbn0oKSk7XG5cbmV4cG9ydCB7IENyeXB0b09wcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q3J5cHRvT3BzLmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjIuMjIuMSAyMDIyLTAzLTA3ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tICcuLi9fdmlydHVhbC9fdHNsaWIuanMnO1xuaW1wb3J0IHsgQXV0aEVycm9yIH0gZnJvbSAnQGF6dXJlL21zYWwtY29tbW9uJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBCcm93c2VyQXV0aEVycm9yTWVzc2FnZSBjbGFzcyBjb250YWluaW5nIHN0cmluZyBjb25zdGFudHMgdXNlZCBieSBlcnJvciBjb2RlcyBhbmQgbWVzc2FnZXMuXHJcbiAqL1xyXG52YXIgQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3JNZXNzYWdlID0ge1xyXG4gICAgcmVkaXJlY3RVcmlOb3RTZXQ6IHtcclxuICAgICAgICBjb2RlOiBcInJlZGlyZWN0X3VyaV9lbXB0eVwiLFxyXG4gICAgICAgIGRlc2M6IFwiQSByZWRpcmVjdCBVUkkgaXMgcmVxdWlyZWQgZm9yIGFsbCBjYWxscywgYW5kIG5vbmUgaGFzIGJlZW4gc2V0LlwiXHJcbiAgICB9LFxyXG4gICAgcG9zdExvZ291dFVyaU5vdFNldDoge1xyXG4gICAgICAgIGNvZGU6IFwicG9zdF9sb2dvdXRfdXJpX2VtcHR5XCIsXHJcbiAgICAgICAgZGVzYzogXCJBIHBvc3QgbG9nb3V0IHJlZGlyZWN0IGhhcyBub3QgYmVlbiBzZXQuXCJcclxuICAgIH0sXHJcbiAgICBzdG9yYWdlTm90U3VwcG9ydGVkRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBcInN0b3JhZ2Vfbm90X3N1cHBvcnRlZFwiLFxyXG4gICAgICAgIGRlc2M6IFwiR2l2ZW4gc3RvcmFnZSBjb25maWd1cmF0aW9uIG9wdGlvbiB3YXMgbm90IHN1cHBvcnRlZC5cIlxyXG4gICAgfSxcclxuICAgIG5vUmVkaXJlY3RDYWxsYmFja3NTZXQ6IHtcclxuICAgICAgICBjb2RlOiBcIm5vX3JlZGlyZWN0X2NhbGxiYWNrc1wiLFxyXG4gICAgICAgIGRlc2M6IFwiTm8gcmVkaXJlY3QgY2FsbGJhY2tzIGhhdmUgYmVlbiBzZXQuIFBsZWFzZSBjYWxsIHNldFJlZGlyZWN0Q2FsbGJhY2tzKCkgd2l0aCB0aGUgYXBwcm9wcmlhdGUgZnVuY3Rpb24gYXJndW1lbnRzIGJlZm9yZSBjb250aW51aW5nLiBcIiArXHJcbiAgICAgICAgICAgIFwiTW9yZSBpbmZvcm1hdGlvbiBpcyBhdmFpbGFibGUgaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL0F6dXJlQUQvbWljcm9zb2Z0LWF1dGhlbnRpY2F0aW9uLWxpYnJhcnktZm9yLWpzL3dpa2kvTVNBTC1iYXNpY3MuXCJcclxuICAgIH0sXHJcbiAgICBpbnZhbGlkQ2FsbGJhY2tPYmplY3Q6IHtcclxuICAgICAgICBjb2RlOiBcImludmFsaWRfY2FsbGJhY2tfb2JqZWN0XCIsXHJcbiAgICAgICAgZGVzYzogXCJUaGUgb2JqZWN0IHBhc3NlZCBmb3IgdGhlIGNhbGxiYWNrIHdhcyBpbnZhbGlkLiBcIiArXHJcbiAgICAgICAgICAgIFwiTW9yZSBpbmZvcm1hdGlvbiBpcyBhdmFpbGFibGUgaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL0F6dXJlQUQvbWljcm9zb2Z0LWF1dGhlbnRpY2F0aW9uLWxpYnJhcnktZm9yLWpzL3dpa2kvTVNBTC1iYXNpY3MuXCJcclxuICAgIH0sXHJcbiAgICBzdHViUGNhSW5zdGFuY2VDYWxsZWQ6IHtcclxuICAgICAgICBjb2RlOiBcInN0dWJiZWRfcHVibGljX2NsaWVudF9hcHBsaWNhdGlvbl9jYWxsZWRcIixcclxuICAgICAgICBkZXNjOiBcIlN0dWIgaW5zdGFuY2Ugb2YgUHVibGljIENsaWVudCBBcHBsaWNhdGlvbiB3YXMgY2FsbGVkLiBJZiB1c2luZyBtc2FsLXJlYWN0LCBwbGVhc2UgZW5zdXJlIGNvbnRleHQgaXMgbm90IHVzZWQgd2l0aG91dCBhIHByb3ZpZGVyLiBGb3IgbW9yZSB2aXNpdDogYWthLm1zL21zYWxqcy9icm93c2VyLWVycm9yc1wiXHJcbiAgICB9LFxyXG4gICAgaW5NZW1SZWRpcmVjdFVuYXZhaWxhYmxlOiB7XHJcbiAgICAgICAgY29kZTogXCJpbl9tZW1fcmVkaXJlY3RfdW5hdmFpbGFibGVcIixcclxuICAgICAgICBkZXNjOiBcIlJlZGlyZWN0IGNhbm5vdCBiZSBzdXBwb3J0ZWQuIEluLW1lbW9yeSBzdG9yYWdlIHdhcyBzZWxlY3RlZCBhbmQgc3RvcmVBdXRoU3RhdGVJbkNvb2tpZT1mYWxzZSwgd2hpY2ggd291bGQgY2F1c2UgdGhlIGxpYnJhcnkgdG8gYmUgdW5hYmxlIHRvIGhhbmRsZSB0aGUgaW5jb21pbmcgaGFzaC4gSWYgeW91IHdvdWxkIGxpa2UgdG8gdXNlIHRoZSByZWRpcmVjdCBBUEksIHBsZWFzZSB1c2Ugc2Vzc2lvbi9sb2NhbFN0b3JhZ2Ugb3Igc2V0IHN0b3JlQXV0aFN0YXRlSW5Db29raWU9dHJ1ZS5cIlxyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogQnJvd3NlciBsaWJyYXJ5IGVycm9yIGNsYXNzIHRocm93biBieSB0aGUgTVNBTC5qcyBsaWJyYXJ5IGZvciBTUEFzXHJcbiAqL1xyXG52YXIgQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3IsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBCcm93c2VyQ29uZmlndXJhdGlvbkF1dGhFcnJvcihlcnJvckNvZGUsIGVycm9yTWVzc2FnZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGVycm9yQ29kZSwgZXJyb3JNZXNzYWdlKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLm5hbWUgPSBcIkJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yXCI7XHJcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKF90aGlzLCBCcm93c2VyQ29uZmlndXJhdGlvbkF1dGhFcnJvci5wcm90b3R5cGUpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBlcnJvciB0aHJvd24gd2hlbiB0aGUgcmVkaXJlY3QgdXJpIGlzIGVtcHR5IChub3Qgc2V0IGJ5IGNhbGxlcilcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3IuY3JlYXRlUmVkaXJlY3RVcmlFbXB0eUVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3IoQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3JNZXNzYWdlLnJlZGlyZWN0VXJpTm90U2V0LmNvZGUsIEJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yTWVzc2FnZS5yZWRpcmVjdFVyaU5vdFNldC5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gZXJyb3IgdGhyb3duIHdoZW4gdGhlIHBvc3QtbG9nb3V0IHJlZGlyZWN0IHVyaSBpcyBlbXB0eSAobm90IHNldCBieSBjYWxsZXIpXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yLmNyZWF0ZVBvc3RMb2dvdXRSZWRpcmVjdFVyaUVtcHR5RXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCcm93c2VyQ29uZmlndXJhdGlvbkF1dGhFcnJvcihCcm93c2VyQ29uZmlndXJhdGlvbkF1dGhFcnJvck1lc3NhZ2UucG9zdExvZ291dFVyaU5vdFNldC5jb2RlLCBCcm93c2VyQ29uZmlndXJhdGlvbkF1dGhFcnJvck1lc3NhZ2UucG9zdExvZ291dFVyaU5vdFNldC5kZXNjKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgZXJyb3IgdGhyb3duIHdoZW4gZ2l2ZW4gc3RvcmFnZSBsb2NhdGlvbiBpcyBub3Qgc3VwcG9ydGVkLlxyXG4gICAgICogQHBhcmFtIGdpdmVuU3RvcmFnZUxvY2F0aW9uXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yLmNyZWF0ZVN0b3JhZ2VOb3RTdXBwb3J0ZWRFcnJvciA9IGZ1bmN0aW9uIChnaXZlblN0b3JhZ2VMb2NhdGlvbikge1xyXG4gICAgICAgIHJldHVybiBuZXcgQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3IoQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3JNZXNzYWdlLnN0b3JhZ2VOb3RTdXBwb3J0ZWRFcnJvci5jb2RlLCBCcm93c2VyQ29uZmlndXJhdGlvbkF1dGhFcnJvck1lc3NhZ2Uuc3RvcmFnZU5vdFN1cHBvcnRlZEVycm9yLmRlc2MgKyBcIiBHaXZlbiBMb2NhdGlvbjogXCIgKyBnaXZlblN0b3JhZ2VMb2NhdGlvbik7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGVycm9yIHRocm93biB3aGVuIHJlZGlyZWN0IGNhbGxiYWNrcyBhcmUgbm90IHNldCBiZWZvcmUgY2FsbGluZyBsb2dpblJlZGlyZWN0KCkgb3IgYWNxdWlyZVRva2VuUmVkaXJlY3QoKS5cclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3IuY3JlYXRlUmVkaXJlY3RDYWxsYmFja3NOb3RTZXRFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yKEJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yTWVzc2FnZS5ub1JlZGlyZWN0Q2FsbGJhY2tzU2V0LmNvZGUsIEJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yTWVzc2FnZS5ub1JlZGlyZWN0Q2FsbGJhY2tzU2V0LmRlc2MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBlcnJvciB0aHJvd24gd2hlbiB0aGUgc3R1YiBpbnN0YW5jZSBvZiBQdWJsaWNDbGllbnRBcHBsaWNhdGlvbiBpcyBjYWxsZWQuXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yLmNyZWF0ZVN0dWJQY2FJbnN0YW5jZUNhbGxlZEVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3IoQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3JNZXNzYWdlLnN0dWJQY2FJbnN0YW5jZUNhbGxlZC5jb2RlLCBCcm93c2VyQ29uZmlndXJhdGlvbkF1dGhFcnJvck1lc3NhZ2Uuc3R1YlBjYUluc3RhbmNlQ2FsbGVkLmRlc2MpO1xyXG4gICAgfTtcclxuICAgIC8qXHJcbiAgICAgKiBDcmVhdGUgYW4gZXJyb3IgdGhyb3duIHdoZW4gaW4tbWVtb3J5IHN0b3JhZ2UgaXMgdXNlZCBhbmQgc3RvcmVBdXRoU3RhdGVJbkNvb2tpZT1mYWxzZS5cclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3IuY3JlYXRlSW5NZW1vcnlSZWRpcmVjdFVuYXZhaWxhYmxlRXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCcm93c2VyQ29uZmlndXJhdGlvbkF1dGhFcnJvcihCcm93c2VyQ29uZmlndXJhdGlvbkF1dGhFcnJvck1lc3NhZ2UuaW5NZW1SZWRpcmVjdFVuYXZhaWxhYmxlLmNvZGUsIEJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yTWVzc2FnZS5pbk1lbVJlZGlyZWN0VW5hdmFpbGFibGUuZGVzYyk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yO1xyXG59KEF1dGhFcnJvcikpO1xuXG5leHBvcnQgeyBCcm93c2VyQ29uZmlndXJhdGlvbkF1dGhFcnJvciwgQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3JNZXNzYWdlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ccm93c2VyQ29uZmlndXJhdGlvbkF1dGhFcnJvci5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYyLjIyLjEgMjAyMi0wMy0wNyAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9Ccm93c2VyQ29uZmlndXJhdGlvbkF1dGhFcnJvci5qcyc7XG5pbXBvcnQgeyBCcm93c2VyQ2FjaGVMb2NhdGlvbiB9IGZyb20gJy4uL3V0aWxzL0Jyb3dzZXJDb25zdGFudHMuanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxudmFyIEJyb3dzZXJTdG9yYWdlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQnJvd3NlclN0b3JhZ2UoY2FjaGVMb2NhdGlvbikge1xyXG4gICAgICAgIHRoaXMudmFsaWRhdGVXaW5kb3dTdG9yYWdlKGNhY2hlTG9jYXRpb24pO1xyXG4gICAgICAgIHRoaXMud2luZG93U3RvcmFnZSA9IHdpbmRvd1tjYWNoZUxvY2F0aW9uXTtcclxuICAgIH1cclxuICAgIEJyb3dzZXJTdG9yYWdlLnByb3RvdHlwZS52YWxpZGF0ZVdpbmRvd1N0b3JhZ2UgPSBmdW5jdGlvbiAoY2FjaGVMb2NhdGlvbikge1xyXG4gICAgICAgIGlmIChjYWNoZUxvY2F0aW9uICE9PSBCcm93c2VyQ2FjaGVMb2NhdGlvbi5Mb2NhbFN0b3JhZ2UgJiYgY2FjaGVMb2NhdGlvbiAhPT0gQnJvd3NlckNhY2hlTG9jYXRpb24uU2Vzc2lvblN0b3JhZ2UpIHtcclxuICAgICAgICAgICAgdGhyb3cgQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3IuY3JlYXRlU3RvcmFnZU5vdFN1cHBvcnRlZEVycm9yKGNhY2hlTG9jYXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgc3RvcmFnZVN1cHBvcnRlZCA9ICEhd2luZG93W2NhY2hlTG9jYXRpb25dO1xyXG4gICAgICAgIGlmICghc3RvcmFnZVN1cHBvcnRlZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBCcm93c2VyQ29uZmlndXJhdGlvbkF1dGhFcnJvci5jcmVhdGVTdG9yYWdlTm90U3VwcG9ydGVkRXJyb3IoY2FjaGVMb2NhdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEJyb3dzZXJTdG9yYWdlLnByb3RvdHlwZS5nZXRJdGVtID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLndpbmRvd1N0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgfTtcclxuICAgIEJyb3dzZXJTdG9yYWdlLnByb3RvdHlwZS5zZXRJdGVtID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICB0aGlzLndpbmRvd1N0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcclxuICAgIH07XHJcbiAgICBCcm93c2VyU3RvcmFnZS5wcm90b3R5cGUucmVtb3ZlSXRlbSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICB0aGlzLndpbmRvd1N0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xyXG4gICAgfTtcclxuICAgIEJyb3dzZXJTdG9yYWdlLnByb3RvdHlwZS5nZXRLZXlzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLndpbmRvd1N0b3JhZ2UpO1xyXG4gICAgfTtcclxuICAgIEJyb3dzZXJTdG9yYWdlLnByb3RvdHlwZS5jb250YWluc0tleSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy53aW5kb3dTdG9yYWdlLmhhc093blByb3BlcnR5KGtleSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEJyb3dzZXJTdG9yYWdlO1xyXG59KCkpO1xuXG5leHBvcnQgeyBCcm93c2VyU3RvcmFnZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnJvd3NlclN0b3JhZ2UuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2Mi4yMi4xIDIwMjItMDMtMDcgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IFN0cmluZ1V0aWxzLCBQcm90b2NvbFV0aWxzLCBDbGllbnRBdXRoRXJyb3IsIFVybFN0cmluZyB9IGZyb20gJ0BhenVyZS9tc2FsLWNvbW1vbic7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgQnJvd3NlclByb3RvY29sVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBCcm93c2VyUHJvdG9jb2xVdGlscygpIHtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRXh0cmFjdHMgdGhlIEJyb3dzZXJTdGF0ZU9iamVjdCBmcm9tIHRoZSBzdGF0ZSBzdHJpbmcuXHJcbiAgICAgKiBAcGFyYW0gYnJvd3NlckNyeXB0b1xyXG4gICAgICogQHBhcmFtIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJQcm90b2NvbFV0aWxzLmV4dHJhY3RCcm93c2VyUmVxdWVzdFN0YXRlID0gZnVuY3Rpb24gKGJyb3dzZXJDcnlwdG8sIHN0YXRlKSB7XHJcbiAgICAgICAgaWYgKFN0cmluZ1V0aWxzLmlzRW1wdHkoc3RhdGUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgcmVxdWVzdFN0YXRlT2JqID0gUHJvdG9jb2xVdGlscy5wYXJzZVJlcXVlc3RTdGF0ZShicm93c2VyQ3J5cHRvLCBzdGF0ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXF1ZXN0U3RhdGVPYmoubGlicmFyeVN0YXRlLm1ldGE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRocm93IENsaWVudEF1dGhFcnJvci5jcmVhdGVJbnZhbGlkU3RhdGVFcnJvcihzdGF0ZSwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUGFyc2VzIHByb3BlcnRpZXMgb2Ygc2VydmVyIHJlc3BvbnNlIGZyb20gdXJsIGhhc2hcclxuICAgICAqIEBwYXJhbSBsb2NhdGlvbkhhc2ggSGFzaCBmcm9tIHVybFxyXG4gICAgICovXHJcbiAgICBCcm93c2VyUHJvdG9jb2xVdGlscy5wYXJzZVNlcnZlclJlc3BvbnNlRnJvbUhhc2ggPSBmdW5jdGlvbiAobG9jYXRpb25IYXNoKSB7XHJcbiAgICAgICAgaWYgKCFsb2NhdGlvbkhhc2gpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaGFzaFVybFN0cmluZyA9IG5ldyBVcmxTdHJpbmcobG9jYXRpb25IYXNoKTtcclxuICAgICAgICByZXR1cm4gVXJsU3RyaW5nLmdldERlc2VyaWFsaXplZEhhc2goaGFzaFVybFN0cmluZy5nZXRIYXNoKCkpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBCcm93c2VyUHJvdG9jb2xVdGlscztcclxufSgpKTtcblxuZXhwb3J0IHsgQnJvd3NlclByb3RvY29sVXRpbHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJyb3dzZXJQcm90b2NvbFV0aWxzLmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjIuMjIuMSAyMDIyLTAzLTA3ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBfX2V4dGVuZHMsIF9fc3ByZWFkLCBfX2F3YWl0ZXIsIF9fZ2VuZXJhdG9yIH0gZnJvbSAnLi4vX3ZpcnR1YWwvX3RzbGliLmpzJztcbmltcG9ydCB7IEFjY291bnRFbnRpdHksIENhY2hlTWFuYWdlciwgSWRUb2tlbkVudGl0eSwgQWNjZXNzVG9rZW5FbnRpdHksIFJlZnJlc2hUb2tlbkVudGl0eSwgQXBwTWV0YWRhdGFFbnRpdHksIFNlcnZlclRlbGVtZXRyeUVudGl0eSwgQXV0aG9yaXR5TWV0YWRhdGFFbnRpdHksIFBlcnNpc3RlbnRDYWNoZUtleXMsIFRocm90dGxpbmdFbnRpdHksIFN0cmluZ1V0aWxzLCBDb25zdGFudHMsIFByb3RvY29sVXRpbHMsIENjc0NyZWRlbnRpYWxUeXBlLCBJZFRva2VuLCBERUZBVUxUX0NSWVBUT19JTVBMRU1FTlRBVElPTiB9IGZyb20gJ0BhenVyZS9tc2FsLWNvbW1vbic7XG5pbXBvcnQgeyBCcm93c2VyQXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckF1dGhFcnJvci5qcyc7XG5pbXBvcnQgeyBCcm93c2VyQ2FjaGVMb2NhdGlvbiwgSW5NZW1vcnlDYWNoZUtleXMsIFRlbXBvcmFyeUNhY2hlS2V5cyB9IGZyb20gJy4uL3V0aWxzL0Jyb3dzZXJDb25zdGFudHMuanMnO1xuaW1wb3J0IHsgQnJvd3NlclN0b3JhZ2UgfSBmcm9tICcuL0Jyb3dzZXJTdG9yYWdlLmpzJztcbmltcG9ydCB7IE1lbW9yeVN0b3JhZ2UgfSBmcm9tICcuL01lbW9yeVN0b3JhZ2UuanMnO1xuaW1wb3J0IHsgQnJvd3NlclByb3RvY29sVXRpbHMgfSBmcm9tICcuLi91dGlscy9Ccm93c2VyUHJvdG9jb2xVdGlscy5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogVGhpcyBjbGFzcyBpbXBsZW1lbnRzIHRoZSBjYWNoZSBzdG9yYWdlIGludGVyZmFjZSBmb3IgTVNBTCB0aHJvdWdoIGJyb3dzZXIgbG9jYWwgb3Igc2Vzc2lvbiBzdG9yYWdlLlxyXG4gKiBDb29raWVzIGFyZSBvbmx5IHVzZWQgaWYgc3RvcmVBdXRoU3RhdGVJbkNvb2tpZSBpcyB0cnVlLCBhbmQgYXJlIG9ubHkgdXNlZCBmb3JcclxuICogcGFyYW1ldGVycyBzdWNoIGFzIHN0YXRlIGFuZCBub25jZSwgZ2VuZXJhbGx5LlxyXG4gKi9cclxudmFyIEJyb3dzZXJDYWNoZU1hbmFnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQnJvd3NlckNhY2hlTWFuYWdlciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEJyb3dzZXJDYWNoZU1hbmFnZXIoY2xpZW50SWQsIGNhY2hlQ29uZmlnLCBjcnlwdG9JbXBsLCBsb2dnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjbGllbnRJZCwgY3J5cHRvSW1wbCkgfHwgdGhpcztcclxuICAgICAgICAvLyBDb29raWUgbGlmZSBjYWxjdWxhdGlvbiAoaG91cnMgKiBtaW51dGVzICogc2Vjb25kcyAqIG1zKVxyXG4gICAgICAgIF90aGlzLkNPT0tJRV9MSUZFX01VTFRJUExJRVIgPSAyNCAqIDYwICogNjAgKiAxMDAwO1xyXG4gICAgICAgIF90aGlzLmNhY2hlQ29uZmlnID0gY2FjaGVDb25maWc7XHJcbiAgICAgICAgX3RoaXMubG9nZ2VyID0gbG9nZ2VyO1xyXG4gICAgICAgIF90aGlzLmludGVybmFsU3RvcmFnZSA9IG5ldyBNZW1vcnlTdG9yYWdlKCk7XHJcbiAgICAgICAgX3RoaXMuYnJvd3NlclN0b3JhZ2UgPSBfdGhpcy5zZXR1cEJyb3dzZXJTdG9yYWdlKF90aGlzLmNhY2hlQ29uZmlnLmNhY2hlTG9jYXRpb24pO1xyXG4gICAgICAgIF90aGlzLnRlbXBvcmFyeUNhY2hlU3RvcmFnZSA9IF90aGlzLnNldHVwVGVtcG9yYXJ5Q2FjaGVTdG9yYWdlKF90aGlzLmNhY2hlQ29uZmlnLmNhY2hlTG9jYXRpb24pO1xyXG4gICAgICAgIC8vIE1pZ3JhdGUgYW55IGNhY2hlIGVudHJpZXMgZnJvbSBvbGRlciB2ZXJzaW9ucyBvZiBNU0FMLlxyXG4gICAgICAgIF90aGlzLm1pZ3JhdGVDYWNoZUVudHJpZXMoKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSB3aW5kb3cgc3RvcmFnZSBjbGFzcyBpbXBsZW1lbnRpbmcgdGhlIElXaW5kb3dTdG9yYWdlIGludGVyZmFjZSB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBjb25maWd1cmVkIGNhY2hlTG9jYXRpb24uXHJcbiAgICAgKiBAcGFyYW0gY2FjaGVMb2NhdGlvblxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5zZXR1cEJyb3dzZXJTdG9yYWdlID0gZnVuY3Rpb24gKGNhY2hlTG9jYXRpb24pIHtcclxuICAgICAgICBzd2l0Y2ggKGNhY2hlTG9jYXRpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBCcm93c2VyQ2FjaGVMb2NhdGlvbi5Mb2NhbFN0b3JhZ2U6XHJcbiAgICAgICAgICAgIGNhc2UgQnJvd3NlckNhY2hlTG9jYXRpb24uU2Vzc2lvblN0b3JhZ2U6XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRlbXBvcmFyeSBjYWNoZSBpdGVtcyB3aWxsIGFsd2F5cyBiZSBzdG9yZWQgaW4gc2Vzc2lvbiBzdG9yYWdlIHRvIG1pdGlnYXRlIHByb2JsZW1zIGNhdXNlZCBieSBtdWx0aXBsZSB0YWJzXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCcm93c2VyU3RvcmFnZShjYWNoZUxvY2F0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jYWNoZUNvbmZpZy5jYWNoZUxvY2F0aW9uID0gQnJvd3NlckNhY2hlTG9jYXRpb24uTWVtb3J5U3RvcmFnZTtcclxuICAgICAgICByZXR1cm4gbmV3IE1lbW9yeVN0b3JhZ2UoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY2FjaGVMb2NhdGlvblxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5zZXR1cFRlbXBvcmFyeUNhY2hlU3RvcmFnZSA9IGZ1bmN0aW9uIChjYWNoZUxvY2F0aW9uKSB7XHJcbiAgICAgICAgc3dpdGNoIChjYWNoZUxvY2F0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQnJvd3NlckNhY2hlTG9jYXRpb24uTG9jYWxTdG9yYWdlOlxyXG4gICAgICAgICAgICBjYXNlIEJyb3dzZXJDYWNoZUxvY2F0aW9uLlNlc3Npb25TdG9yYWdlOlxyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUZW1wb3JhcnkgY2FjaGUgaXRlbXMgd2lsbCBhbHdheXMgYmUgc3RvcmVkIGluIHNlc3Npb24gc3RvcmFnZSB0byBtaXRpZ2F0ZSBwcm9ibGVtcyBjYXVzZWQgYnkgbXVsdGlwbGUgdGFic1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQnJvd3NlclN0b3JhZ2UoQnJvd3NlckNhY2hlTG9jYXRpb24uU2Vzc2lvblN0b3JhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmludGVybmFsU3RvcmFnZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBCcm93c2VyQ2FjaGVMb2NhdGlvbi5NZW1vcnlTdG9yYWdlOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxTdG9yYWdlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIE1pZ3JhdGUgYWxsIG9sZCBjYWNoZSBlbnRyaWVzIHRvIG5ldyBzY2hlbWEuIE5vIHJvbGxiYWNrIHN1cHBvcnRlZC5cclxuICAgICAqIEBwYXJhbSBzdG9yZUF1dGhTdGF0ZUluQ29va2llXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJDYWNoZU1hbmFnZXIucHJvdG90eXBlLm1pZ3JhdGVDYWNoZUVudHJpZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgaWRUb2tlbktleSA9IENvbnN0YW50cy5DQUNIRV9QUkVGSVggKyBcIi5cIiArIFBlcnNpc3RlbnRDYWNoZUtleXMuSURfVE9LRU47XHJcbiAgICAgICAgdmFyIGNsaWVudEluZm9LZXkgPSBDb25zdGFudHMuQ0FDSEVfUFJFRklYICsgXCIuXCIgKyBQZXJzaXN0ZW50Q2FjaGVLZXlzLkNMSUVOVF9JTkZPO1xyXG4gICAgICAgIHZhciBlcnJvcktleSA9IENvbnN0YW50cy5DQUNIRV9QUkVGSVggKyBcIi5cIiArIFBlcnNpc3RlbnRDYWNoZUtleXMuRVJST1I7XHJcbiAgICAgICAgdmFyIGVycm9yRGVzY0tleSA9IENvbnN0YW50cy5DQUNIRV9QUkVGSVggKyBcIi5cIiArIFBlcnNpc3RlbnRDYWNoZUtleXMuRVJST1JfREVTQztcclxuICAgICAgICB2YXIgaWRUb2tlblZhbHVlID0gdGhpcy5icm93c2VyU3RvcmFnZS5nZXRJdGVtKGlkVG9rZW5LZXkpO1xyXG4gICAgICAgIHZhciBjbGllbnRJbmZvVmFsdWUgPSB0aGlzLmJyb3dzZXJTdG9yYWdlLmdldEl0ZW0oY2xpZW50SW5mb0tleSk7XHJcbiAgICAgICAgdmFyIGVycm9yVmFsdWUgPSB0aGlzLmJyb3dzZXJTdG9yYWdlLmdldEl0ZW0oZXJyb3JLZXkpO1xyXG4gICAgICAgIHZhciBlcnJvckRlc2NWYWx1ZSA9IHRoaXMuYnJvd3NlclN0b3JhZ2UuZ2V0SXRlbShlcnJvckRlc2NLZXkpO1xyXG4gICAgICAgIHZhciB2YWx1ZXMgPSBbaWRUb2tlblZhbHVlLCBjbGllbnRJbmZvVmFsdWUsIGVycm9yVmFsdWUsIGVycm9yRGVzY1ZhbHVlXTtcclxuICAgICAgICB2YXIga2V5c1RvTWlncmF0ZSA9IFtQZXJzaXN0ZW50Q2FjaGVLZXlzLklEX1RPS0VOLCBQZXJzaXN0ZW50Q2FjaGVLZXlzLkNMSUVOVF9JTkZPLCBQZXJzaXN0ZW50Q2FjaGVLZXlzLkVSUk9SLCBQZXJzaXN0ZW50Q2FjaGVLZXlzLkVSUk9SX0RFU0NdO1xyXG4gICAgICAgIGtleXNUb01pZ3JhdGUuZm9yRWFjaChmdW5jdGlvbiAoY2FjaGVLZXksIGluZGV4KSB7IHJldHVybiBfdGhpcy5taWdyYXRlQ2FjaGVFbnRyeShjYWNoZUtleSwgdmFsdWVzW2luZGV4XSk7IH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVXRpbGl0eSBmdW5jdGlvbiB0byBoZWxwIHdpdGggbWlncmF0aW9uLlxyXG4gICAgICogQHBhcmFtIG5ld0tleVxyXG4gICAgICogQHBhcmFtIHZhbHVlXHJcbiAgICAgKiBAcGFyYW0gc3RvcmVBdXRoU3RhdGVJbkNvb2tpZVxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5taWdyYXRlQ2FjaGVFbnRyeSA9IGZ1bmN0aW9uIChuZXdLZXksIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VGVtcG9yYXJ5Q2FjaGUobmV3S2V5LCB2YWx1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUGFyc2VzIHBhc3NlZCB2YWx1ZSBhcyBKU09OIG9iamVjdCwgSlNPTi5wYXJzZSgpIHdpbGwgdGhyb3cgYW4gZXJyb3IuXHJcbiAgICAgKiBAcGFyYW0gaW5wdXRcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNhY2hlTWFuYWdlci5wcm90b3R5cGUudmFsaWRhdGVBbmRQYXJzZUpzb24gPSBmdW5jdGlvbiAoanNvblZhbHVlKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIHBhcnNlZEpzb24gPSBKU09OLnBhcnNlKGpzb25WYWx1ZSk7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBUaGVyZSBhcmUgZWRnZSBjYXNlcyBpbiB3aGljaCBKU09OLnBhcnNlIHdpbGwgc3VjY2Vzc2Z1bGx5IHBhcnNlIGEgbm9uLXZhbGlkIEpTT04gb2JqZWN0XHJcbiAgICAgICAgICAgICAqIChlLmcuIEpTT04ucGFyc2Ugd2lsbCBwYXJzZSBhbiBlc2NhcGVkIHN0cmluZyBpbnRvIGFuIHVuZXNjYXBlZCBzdHJpbmcpLCBzbyBhZGRpbmcgYSB0eXBlIGNoZWNrXHJcbiAgICAgICAgICAgICAqIG9mIHRoZSBwYXJzZWQgdmFsdWUgaXMgbmVjZXNzYXJ5IGluIG9yZGVyIHRvIGJlIGNlcnRhaW4gdGhhdCB0aGUgc3RyaW5nIHJlcHJlc2VudHMgYSB2YWxpZCBKU09OIG9iamVjdC5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHJldHVybiAocGFyc2VkSnNvbiAmJiB0eXBlb2YgcGFyc2VkSnNvbiA9PT0gXCJvYmplY3RcIikgPyBwYXJzZWRKc29uIDogbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIGZldGNoZXMgdGhlIGVudHJ5IGZyb20gdGhlIGJyb3dzZXIgc3RvcmFnZSBiYXNlZCBvZmYgdGhlIGtleVxyXG4gICAgICogQHBhcmFtIGtleVxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5nZXRJdGVtID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJyb3dzZXJTdG9yYWdlLmdldEl0ZW0oa2V5KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIHNldHMgdGhlIGVudHJ5IGluIHRoZSBicm93c2VyIHN0b3JhZ2VcclxuICAgICAqIEBwYXJhbSBrZXlcclxuICAgICAqIEBwYXJhbSB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5zZXRJdGVtID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBmZXRjaCB0aGUgYWNjb3VudCBlbnRpdHkgZnJvbSB0aGUgcGxhdGZvcm0gY2FjaGVcclxuICAgICAqIEBwYXJhbSBhY2NvdW50S2V5XHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJDYWNoZU1hbmFnZXIucHJvdG90eXBlLmdldEFjY291bnQgPSBmdW5jdGlvbiAoYWNjb3VudEtleSkge1xyXG4gICAgICAgIHZhciBhY2NvdW50ID0gdGhpcy5nZXRJdGVtKGFjY291bnRLZXkpO1xyXG4gICAgICAgIGlmICghYWNjb3VudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHBhcnNlZEFjY291bnQgPSB0aGlzLnZhbGlkYXRlQW5kUGFyc2VKc29uKGFjY291bnQpO1xyXG4gICAgICAgIGlmICghcGFyc2VkQWNjb3VudCB8fCAhQWNjb3VudEVudGl0eS5pc0FjY291bnRFbnRpdHkocGFyc2VkQWNjb3VudCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBDYWNoZU1hbmFnZXIudG9PYmplY3QobmV3IEFjY291bnRFbnRpdHkoKSwgcGFyc2VkQWNjb3VudCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBzZXQgYWNjb3VudCBlbnRpdHkgaW4gdGhlIHBsYXRmb3JtIGNhY2hlXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKiBAcGFyYW0gdmFsdWVcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNhY2hlTWFuYWdlci5wcm90b3R5cGUuc2V0QWNjb3VudCA9IGZ1bmN0aW9uIChhY2NvdW50KSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLnNldEFjY291bnQgY2FsbGVkXCIpO1xyXG4gICAgICAgIHZhciBrZXkgPSBhY2NvdW50LmdlbmVyYXRlQWNjb3VudEtleSgpO1xyXG4gICAgICAgIHRoaXMuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KGFjY291bnQpKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIGdlbmVyYXRlcyBpZFRva2VuIGVudGl0eSBmcm9tIGEgc3RyaW5nXHJcbiAgICAgKiBAcGFyYW0gaWRUb2tlbktleVxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5nZXRJZFRva2VuQ3JlZGVudGlhbCA9IGZ1bmN0aW9uIChpZFRva2VuS2V5KSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5nZXRJdGVtKGlkVG9rZW5LZXkpO1xyXG4gICAgICAgIGlmICghdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmdldElkVG9rZW5DcmVkZW50aWFsOiBjYWxsZWQsIG5vIGNhY2hlIGhpdFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBwYXJzZWRJZFRva2VuID0gdGhpcy52YWxpZGF0ZUFuZFBhcnNlSnNvbih2YWx1ZSk7XHJcbiAgICAgICAgaWYgKCFwYXJzZWRJZFRva2VuIHx8ICFJZFRva2VuRW50aXR5LmlzSWRUb2tlbkVudGl0eShwYXJzZWRJZFRva2VuKSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuZ2V0SWRUb2tlbkNyZWRlbnRpYWw6IGNhbGxlZCwgbm8gY2FjaGUgaGl0XCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmdldElkVG9rZW5DcmVkZW50aWFsOiBjYWNoZSBoaXRcIik7XHJcbiAgICAgICAgcmV0dXJuIENhY2hlTWFuYWdlci50b09iamVjdChuZXcgSWRUb2tlbkVudGl0eSgpLCBwYXJzZWRJZFRva2VuKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIHNldCBJZFRva2VuIGNyZWRlbnRpYWwgdG8gdGhlIHBsYXRmb3JtIGNhY2hlXHJcbiAgICAgKiBAcGFyYW0gaWRUb2tlblxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5zZXRJZFRva2VuQ3JlZGVudGlhbCA9IGZ1bmN0aW9uIChpZFRva2VuKSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLnNldElkVG9rZW5DcmVkZW50aWFsIGNhbGxlZFwiKTtcclxuICAgICAgICB2YXIgaWRUb2tlbktleSA9IGlkVG9rZW4uZ2VuZXJhdGVDcmVkZW50aWFsS2V5KCk7XHJcbiAgICAgICAgdGhpcy5zZXRJdGVtKGlkVG9rZW5LZXksIEpTT04uc3RyaW5naWZ5KGlkVG9rZW4pKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIGdlbmVyYXRlcyBhY2Nlc3NUb2tlbiBlbnRpdHkgZnJvbSBhIHN0cmluZ1xyXG4gICAgICogQHBhcmFtIGtleVxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5nZXRBY2Nlc3NUb2tlbkNyZWRlbnRpYWwgPSBmdW5jdGlvbiAoYWNjZXNzVG9rZW5LZXkpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLmdldEl0ZW0oYWNjZXNzVG9rZW5LZXkpO1xyXG4gICAgICAgIGlmICghdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmdldEFjY2Vzc1Rva2VuQ3JlZGVudGlhbDogY2FsbGVkLCBubyBjYWNoZSBoaXRcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcGFyc2VkQWNjZXNzVG9rZW4gPSB0aGlzLnZhbGlkYXRlQW5kUGFyc2VKc29uKHZhbHVlKTtcclxuICAgICAgICBpZiAoIXBhcnNlZEFjY2Vzc1Rva2VuIHx8ICFBY2Nlc3NUb2tlbkVudGl0eS5pc0FjY2Vzc1Rva2VuRW50aXR5KHBhcnNlZEFjY2Vzc1Rva2VuKSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuZ2V0QWNjZXNzVG9rZW5DcmVkZW50aWFsOiBjYWxsZWQsIG5vIGNhY2hlIGhpdFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5nZXRBY2Nlc3NUb2tlbkNyZWRlbnRpYWw6IGNhY2hlIGhpdFwiKTtcclxuICAgICAgICByZXR1cm4gQ2FjaGVNYW5hZ2VyLnRvT2JqZWN0KG5ldyBBY2Nlc3NUb2tlbkVudGl0eSgpLCBwYXJzZWRBY2Nlc3NUb2tlbik7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBzZXQgYWNjZXNzVG9rZW4gY3JlZGVudGlhbCB0byB0aGUgcGxhdGZvcm0gY2FjaGVcclxuICAgICAqIEBwYXJhbSBhY2Nlc3NUb2tlblxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5zZXRBY2Nlc3NUb2tlbkNyZWRlbnRpYWwgPSBmdW5jdGlvbiAoYWNjZXNzVG9rZW4pIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuc2V0QWNjZXNzVG9rZW5DcmVkZW50aWFsIGNhbGxlZFwiKTtcclxuICAgICAgICB2YXIgYWNjZXNzVG9rZW5LZXkgPSBhY2Nlc3NUb2tlbi5nZW5lcmF0ZUNyZWRlbnRpYWxLZXkoKTtcclxuICAgICAgICB0aGlzLnNldEl0ZW0oYWNjZXNzVG9rZW5LZXksIEpTT04uc3RyaW5naWZ5KGFjY2Vzc1Rva2VuKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBnZW5lcmF0ZXMgcmVmcmVzaFRva2VuIGVudGl0eSBmcm9tIGEgc3RyaW5nXHJcbiAgICAgKiBAcGFyYW0gcmVmcmVzaFRva2VuS2V5XHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJDYWNoZU1hbmFnZXIucHJvdG90eXBlLmdldFJlZnJlc2hUb2tlbkNyZWRlbnRpYWwgPSBmdW5jdGlvbiAocmVmcmVzaFRva2VuS2V5KSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5nZXRJdGVtKHJlZnJlc2hUb2tlbktleSk7XHJcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuZ2V0UmVmcmVzaFRva2VuQ3JlZGVudGlhbDogY2FsbGVkLCBubyBjYWNoZSBoaXRcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcGFyc2VkUmVmcmVzaFRva2VuID0gdGhpcy52YWxpZGF0ZUFuZFBhcnNlSnNvbih2YWx1ZSk7XHJcbiAgICAgICAgaWYgKCFwYXJzZWRSZWZyZXNoVG9rZW4gfHwgIVJlZnJlc2hUb2tlbkVudGl0eS5pc1JlZnJlc2hUb2tlbkVudGl0eShwYXJzZWRSZWZyZXNoVG9rZW4pKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5nZXRSZWZyZXNoVG9rZW5DcmVkZW50aWFsOiBjYWxsZWQsIG5vIGNhY2hlIGhpdFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5nZXRSZWZyZXNoVG9rZW5DcmVkZW50aWFsOiBjYWNoZSBoaXRcIik7XHJcbiAgICAgICAgcmV0dXJuIENhY2hlTWFuYWdlci50b09iamVjdChuZXcgUmVmcmVzaFRva2VuRW50aXR5KCksIHBhcnNlZFJlZnJlc2hUb2tlbik7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBzZXQgcmVmcmVzaFRva2VuIGNyZWRlbnRpYWwgdG8gdGhlIHBsYXRmb3JtIGNhY2hlXHJcbiAgICAgKiBAcGFyYW0gcmVmcmVzaFRva2VuXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJDYWNoZU1hbmFnZXIucHJvdG90eXBlLnNldFJlZnJlc2hUb2tlbkNyZWRlbnRpYWwgPSBmdW5jdGlvbiAocmVmcmVzaFRva2VuKSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLnNldFJlZnJlc2hUb2tlbkNyZWRlbnRpYWwgY2FsbGVkXCIpO1xyXG4gICAgICAgIHZhciByZWZyZXNoVG9rZW5LZXkgPSByZWZyZXNoVG9rZW4uZ2VuZXJhdGVDcmVkZW50aWFsS2V5KCk7XHJcbiAgICAgICAgdGhpcy5zZXRJdGVtKHJlZnJlc2hUb2tlbktleSwgSlNPTi5zdHJpbmdpZnkocmVmcmVzaFRva2VuKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBmZXRjaCBhcHBNZXRhZGF0YSBlbnRpdHkgZnJvbSB0aGUgcGxhdGZvcm0gY2FjaGVcclxuICAgICAqIEBwYXJhbSBhcHBNZXRhZGF0YUtleVxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5nZXRBcHBNZXRhZGF0YSA9IGZ1bmN0aW9uIChhcHBNZXRhZGF0YUtleSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0SXRlbShhcHBNZXRhZGF0YUtleSk7XHJcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuZ2V0QXBwTWV0YWRhdGE6IGNhbGxlZCwgbm8gY2FjaGUgaGl0XCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHBhcnNlZE1ldGFkYXRhID0gdGhpcy52YWxpZGF0ZUFuZFBhcnNlSnNvbih2YWx1ZSk7XHJcbiAgICAgICAgaWYgKCFwYXJzZWRNZXRhZGF0YSB8fCAhQXBwTWV0YWRhdGFFbnRpdHkuaXNBcHBNZXRhZGF0YUVudGl0eShhcHBNZXRhZGF0YUtleSwgcGFyc2VkTWV0YWRhdGEpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5nZXRBcHBNZXRhZGF0YTogY2FsbGVkLCBubyBjYWNoZSBoaXRcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuZ2V0QXBwTWV0YWRhdGE6IGNhY2hlIGhpdFwiKTtcclxuICAgICAgICByZXR1cm4gQ2FjaGVNYW5hZ2VyLnRvT2JqZWN0KG5ldyBBcHBNZXRhZGF0YUVudGl0eSgpLCBwYXJzZWRNZXRhZGF0YSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBzZXQgYXBwTWV0YWRhdGEgZW50aXR5IHRvIHRoZSBwbGF0Zm9ybSBjYWNoZVxyXG4gICAgICogQHBhcmFtIGFwcE1ldGFkYXRhXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJDYWNoZU1hbmFnZXIucHJvdG90eXBlLnNldEFwcE1ldGFkYXRhID0gZnVuY3Rpb24gKGFwcE1ldGFkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLnNldEFwcE1ldGFkYXRhIGNhbGxlZFwiKTtcclxuICAgICAgICB2YXIgYXBwTWV0YWRhdGFLZXkgPSBhcHBNZXRhZGF0YS5nZW5lcmF0ZUFwcE1ldGFkYXRhS2V5KCk7XHJcbiAgICAgICAgdGhpcy5zZXRJdGVtKGFwcE1ldGFkYXRhS2V5LCBKU09OLnN0cmluZ2lmeShhcHBNZXRhZGF0YSkpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogZmV0Y2ggc2VydmVyIHRlbGVtZXRyeSBlbnRpdHkgZnJvbSB0aGUgcGxhdGZvcm0gY2FjaGVcclxuICAgICAqIEBwYXJhbSBzZXJ2ZXJUZWxlbWV0cnlLZXlcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNhY2hlTWFuYWdlci5wcm90b3R5cGUuZ2V0U2VydmVyVGVsZW1ldHJ5ID0gZnVuY3Rpb24gKHNlcnZlclRlbGVtZXRyeUtleSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0SXRlbShzZXJ2ZXJUZWxlbWV0cnlLZXkpO1xyXG4gICAgICAgIGlmICghdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmdldFNlcnZlclRlbGVtZXRyeTogY2FsbGVkLCBubyBjYWNoZSBoaXRcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcGFyc2VkTWV0YWRhdGEgPSB0aGlzLnZhbGlkYXRlQW5kUGFyc2VKc29uKHZhbHVlKTtcclxuICAgICAgICBpZiAoIXBhcnNlZE1ldGFkYXRhIHx8ICFTZXJ2ZXJUZWxlbWV0cnlFbnRpdHkuaXNTZXJ2ZXJUZWxlbWV0cnlFbnRpdHkoc2VydmVyVGVsZW1ldHJ5S2V5LCBwYXJzZWRNZXRhZGF0YSkpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmdldFNlcnZlclRlbGVtZXRyeTogY2FsbGVkLCBubyBjYWNoZSBoaXRcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuZ2V0U2VydmVyVGVsZW1ldHJ5OiBjYWNoZSBoaXRcIik7XHJcbiAgICAgICAgcmV0dXJuIENhY2hlTWFuYWdlci50b09iamVjdChuZXcgU2VydmVyVGVsZW1ldHJ5RW50aXR5KCksIHBhcnNlZE1ldGFkYXRhKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIHNldCBzZXJ2ZXIgdGVsZW1ldHJ5IGVudGl0eSB0byB0aGUgcGxhdGZvcm0gY2FjaGVcclxuICAgICAqIEBwYXJhbSBzZXJ2ZXJUZWxlbWV0cnlLZXlcclxuICAgICAqIEBwYXJhbSBzZXJ2ZXJUZWxlbWV0cnlcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNhY2hlTWFuYWdlci5wcm90b3R5cGUuc2V0U2VydmVyVGVsZW1ldHJ5ID0gZnVuY3Rpb24gKHNlcnZlclRlbGVtZXRyeUtleSwgc2VydmVyVGVsZW1ldHJ5KSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLnNldFNlcnZlclRlbGVtZXRyeSBjYWxsZWRcIik7XHJcbiAgICAgICAgdGhpcy5zZXRJdGVtKHNlcnZlclRlbGVtZXRyeUtleSwgSlNPTi5zdHJpbmdpZnkoc2VydmVyVGVsZW1ldHJ5KSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5nZXRBdXRob3JpdHlNZXRhZGF0YSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLmludGVybmFsU3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuZ2V0QXV0aG9yaXR5TWV0YWRhdGE6IGNhbGxlZCwgbm8gY2FjaGUgaGl0XCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHBhcnNlZE1ldGFkYXRhID0gdGhpcy52YWxpZGF0ZUFuZFBhcnNlSnNvbih2YWx1ZSk7XHJcbiAgICAgICAgaWYgKHBhcnNlZE1ldGFkYXRhICYmIEF1dGhvcml0eU1ldGFkYXRhRW50aXR5LmlzQXV0aG9yaXR5TWV0YWRhdGFFbnRpdHkoa2V5LCBwYXJzZWRNZXRhZGF0YSkpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmdldEF1dGhvcml0eU1ldGFkYXRhOiBjYWNoZSBoaXRcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBDYWNoZU1hbmFnZXIudG9PYmplY3QobmV3IEF1dGhvcml0eU1ldGFkYXRhRW50aXR5KCksIHBhcnNlZE1ldGFkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5nZXRBdXRob3JpdHlNZXRhZGF0YUtleXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgYWxsS2V5cyA9IHRoaXMuaW50ZXJuYWxTdG9yYWdlLmdldEtleXMoKTtcclxuICAgICAgICByZXR1cm4gYWxsS2V5cy5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuaXNBdXRob3JpdHlNZXRhZGF0YShrZXkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB3cmFwcGVyIG1ldGFkYXRhIGluIG1lbW9yeVxyXG4gICAgICogQHBhcmFtIHdyYXBwZXJTS1VcclxuICAgICAqIEBwYXJhbSB3cmFwcGVyVmVyc2lvblxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5zZXRXcmFwcGVyTWV0YWRhdGEgPSBmdW5jdGlvbiAod3JhcHBlclNLVSwgd3JhcHBlclZlcnNpb24pIHtcclxuICAgICAgICB0aGlzLmludGVybmFsU3RvcmFnZS5zZXRJdGVtKEluTWVtb3J5Q2FjaGVLZXlzLldSQVBQRVJfU0tVLCB3cmFwcGVyU0tVKTtcclxuICAgICAgICB0aGlzLmludGVybmFsU3RvcmFnZS5zZXRJdGVtKEluTWVtb3J5Q2FjaGVLZXlzLldSQVBQRVJfVkVSLCB3cmFwcGVyVmVyc2lvbik7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHdyYXBwZXIgbWV0YWRhdGEgZnJvbSBpbi1tZW1vcnkgc3RvcmFnZVxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5nZXRXcmFwcGVyTWV0YWRhdGEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHNrdSA9IHRoaXMuaW50ZXJuYWxTdG9yYWdlLmdldEl0ZW0oSW5NZW1vcnlDYWNoZUtleXMuV1JBUFBFUl9TS1UpIHx8IFwiXCI7XHJcbiAgICAgICAgdmFyIHZlcnNpb24gPSB0aGlzLmludGVybmFsU3RvcmFnZS5nZXRJdGVtKEluTWVtb3J5Q2FjaGVLZXlzLldSQVBQRVJfVkVSKSB8fCBcIlwiO1xyXG4gICAgICAgIHJldHVybiBbc2t1LCB2ZXJzaW9uXTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZW50aXR5XHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJDYWNoZU1hbmFnZXIucHJvdG90eXBlLnNldEF1dGhvcml0eU1ldGFkYXRhID0gZnVuY3Rpb24gKGtleSwgZW50aXR5KSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLnNldEF1dGhvcml0eU1ldGFkYXRhIGNhbGxlZFwiKTtcclxuICAgICAgICB0aGlzLmludGVybmFsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkoZW50aXR5KSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBhY3RpdmUgYWNjb3VudFxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5nZXRBY3RpdmVBY2NvdW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhY3RpdmVBY2NvdW50SWRLZXkgPSB0aGlzLmdlbmVyYXRlQ2FjaGVLZXkoUGVyc2lzdGVudENhY2hlS2V5cy5BQ1RJVkVfQUNDT1VOVCk7XHJcbiAgICAgICAgdmFyIGFjdGl2ZUFjY291bnRJZCA9IHRoaXMuYnJvd3NlclN0b3JhZ2UuZ2V0SXRlbShhY3RpdmVBY2NvdW50SWRLZXkpO1xyXG4gICAgICAgIGlmICghYWN0aXZlQWNjb3VudElkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRBY2NvdW50SW5mb0J5RmlsdGVyKHsgbG9jYWxBY2NvdW50SWQ6IGFjdGl2ZUFjY291bnRJZCB9KVswXSB8fCBudWxsO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgYWN0aXZlIGFjY291bnQncyBsb2NhbEFjY291bnRJZCBpbiBjYWNoZVxyXG4gICAgICogQHBhcmFtIGFjY291bnRcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNhY2hlTWFuYWdlci5wcm90b3R5cGUuc2V0QWN0aXZlQWNjb3VudCA9IGZ1bmN0aW9uIChhY2NvdW50KSB7XHJcbiAgICAgICAgdmFyIGFjdGl2ZUFjY291bnRJZEtleSA9IHRoaXMuZ2VuZXJhdGVDYWNoZUtleShQZXJzaXN0ZW50Q2FjaGVLZXlzLkFDVElWRV9BQ0NPVU5UKTtcclxuICAgICAgICBpZiAoYWNjb3VudCkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwic2V0QWN0aXZlQWNjb3VudDogQWN0aXZlIGFjY291bnQgc2V0XCIpO1xyXG4gICAgICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLnNldEl0ZW0oYWN0aXZlQWNjb3VudElkS2V5LCBhY2NvdW50LmxvY2FsQWNjb3VudElkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJzZXRBY3RpdmVBY2NvdW50OiBObyBhY2NvdW50IHBhc3NlZCwgYWN0aXZlIGFjY291bnQgbm90IHNldFwiKTtcclxuICAgICAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZS5yZW1vdmVJdGVtKGFjdGl2ZUFjY291bnRJZEtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBhIGxpc3Qgb2YgYWNjb3VudHMgdGhhdCBtYXRjaCBhbGwgb2YgdGhlIGZpbHRlcnMgcHJvdmlkZWRcclxuICAgICAqIEBwYXJhbSBhY2NvdW50XHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJDYWNoZU1hbmFnZXIucHJvdG90eXBlLmdldEFjY291bnRJbmZvQnlGaWx0ZXIgPSBmdW5jdGlvbiAoYWNjb3VudEZpbHRlcikge1xyXG4gICAgICAgIHZhciBhbGxBY2NvdW50cyA9IHRoaXMuZ2V0QWxsQWNjb3VudHMoKTtcclxuICAgICAgICByZXR1cm4gYWxsQWNjb3VudHMuZmlsdGVyKGZ1bmN0aW9uIChhY2NvdW50T2JqKSB7XHJcbiAgICAgICAgICAgIGlmIChhY2NvdW50RmlsdGVyLnVzZXJuYW1lICYmIGFjY291bnRGaWx0ZXIudXNlcm5hbWUudG9Mb3dlckNhc2UoKSAhPT0gYWNjb3VudE9iai51c2VybmFtZS50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFjY291bnRGaWx0ZXIuaG9tZUFjY291bnRJZCAmJiBhY2NvdW50RmlsdGVyLmhvbWVBY2NvdW50SWQgIT09IGFjY291bnRPYmouaG9tZUFjY291bnRJZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhY2NvdW50RmlsdGVyLmxvY2FsQWNjb3VudElkICYmIGFjY291bnRGaWx0ZXIubG9jYWxBY2NvdW50SWQgIT09IGFjY291bnRPYmoubG9jYWxBY2NvdW50SWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYWNjb3VudEZpbHRlci50ZW5hbnRJZCAmJiBhY2NvdW50RmlsdGVyLnRlbmFudElkICE9PSBhY2NvdW50T2JqLnRlbmFudElkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFjY291bnRGaWx0ZXIuZW52aXJvbm1lbnQgJiYgYWNjb3VudEZpbHRlci5lbnZpcm9ubWVudCAhPT0gYWNjb3VudE9iai5lbnZpcm9ubWVudCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogZmV0Y2ggdGhyb3R0bGluZyBlbnRpdHkgZnJvbSB0aGUgcGxhdGZvcm0gY2FjaGVcclxuICAgICAqIEBwYXJhbSB0aHJvdHRsaW5nQ2FjaGVLZXlcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNhY2hlTWFuYWdlci5wcm90b3R5cGUuZ2V0VGhyb3R0bGluZ0NhY2hlID0gZnVuY3Rpb24gKHRocm90dGxpbmdDYWNoZUtleSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0SXRlbSh0aHJvdHRsaW5nQ2FjaGVLZXkpO1xyXG4gICAgICAgIGlmICghdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmdldFRocm90dGxpbmdDYWNoZTogY2FsbGVkLCBubyBjYWNoZSBoaXRcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcGFyc2VkVGhyb3R0bGluZ0NhY2hlID0gdGhpcy52YWxpZGF0ZUFuZFBhcnNlSnNvbih2YWx1ZSk7XHJcbiAgICAgICAgaWYgKCFwYXJzZWRUaHJvdHRsaW5nQ2FjaGUgfHwgIVRocm90dGxpbmdFbnRpdHkuaXNUaHJvdHRsaW5nRW50aXR5KHRocm90dGxpbmdDYWNoZUtleSwgcGFyc2VkVGhyb3R0bGluZ0NhY2hlKSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuZ2V0VGhyb3R0bGluZ0NhY2hlOiBjYWxsZWQsIG5vIGNhY2hlIGhpdFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5nZXRUaHJvdHRsaW5nQ2FjaGU6IGNhY2hlIGhpdFwiKTtcclxuICAgICAgICByZXR1cm4gQ2FjaGVNYW5hZ2VyLnRvT2JqZWN0KG5ldyBUaHJvdHRsaW5nRW50aXR5KCksIHBhcnNlZFRocm90dGxpbmdDYWNoZSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBzZXQgdGhyb3R0bGluZyBlbnRpdHkgdG8gdGhlIHBsYXRmb3JtIGNhY2hlXHJcbiAgICAgKiBAcGFyYW0gdGhyb3R0bGluZ0NhY2hlS2V5XHJcbiAgICAgKiBAcGFyYW0gdGhyb3R0bGluZ0NhY2hlXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJDYWNoZU1hbmFnZXIucHJvdG90eXBlLnNldFRocm90dGxpbmdDYWNoZSA9IGZ1bmN0aW9uICh0aHJvdHRsaW5nQ2FjaGVLZXksIHRocm90dGxpbmdDYWNoZSkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5zZXRUaHJvdHRsaW5nQ2FjaGUgY2FsbGVkXCIpO1xyXG4gICAgICAgIHRoaXMuc2V0SXRlbSh0aHJvdHRsaW5nQ2FjaGVLZXksIEpTT04uc3RyaW5naWZ5KHRocm90dGxpbmdDYWNoZSkpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBjYWNoZSBpdGVtIHdpdGggZ2l2ZW4ga2V5LlxyXG4gICAgICogV2lsbCByZXRyaWV2ZSBmcm9tIGNvb2tpZXMgaWYgc3RvcmVBdXRoU3RhdGVJbkNvb2tpZSBpcyBzZXQgdG8gdHJ1ZS5cclxuICAgICAqIEBwYXJhbSBrZXlcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNhY2hlTWFuYWdlci5wcm90b3R5cGUuZ2V0VGVtcG9yYXJ5Q2FjaGUgPSBmdW5jdGlvbiAoY2FjaGVLZXksIGdlbmVyYXRlS2V5KSB7XHJcbiAgICAgICAgdmFyIGtleSA9IGdlbmVyYXRlS2V5ID8gdGhpcy5nZW5lcmF0ZUNhY2hlS2V5KGNhY2hlS2V5KSA6IGNhY2hlS2V5O1xyXG4gICAgICAgIGlmICh0aGlzLmNhY2hlQ29uZmlnLnN0b3JlQXV0aFN0YXRlSW5Db29raWUpIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW1Db29raWUgPSB0aGlzLmdldEl0ZW1Db29raWUoa2V5KTtcclxuICAgICAgICAgICAgaWYgKGl0ZW1Db29raWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5nZXRUZW1wb3JhcnlDYWNoZTogc3RvcmVBdXRoU3RhdGVJbkNvb2tpZXMgc2V0IHRvIHRydWUsIHJldHJpZXZpbmcgZnJvbSBjb29raWVzXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1Db29raWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy50ZW1wb3JhcnlDYWNoZVN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgICAgIGlmICghdmFsdWUpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGVtcCBjYWNoZSBpdGVtIG5vdCBmb3VuZCBpbiBzZXNzaW9uL21lbW9yeSwgY2hlY2sgbG9jYWwgc3RvcmFnZSBmb3IgaXRlbXMgc2V0IGJ5IG9sZCB2ZXJzaW9uc1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jYWNoZUNvbmZpZy5jYWNoZUxvY2F0aW9uID09PSBCcm93c2VyQ2FjaGVMb2NhdGlvbi5Mb2NhbFN0b3JhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5icm93c2VyU3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5nZXRUZW1wb3JhcnlDYWNoZTogVGVtcG9yYXJ5IGNhY2hlIGl0ZW0gZm91bmQgaW4gbG9jYWwgc3RvcmFnZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuZ2V0VGVtcG9yYXJ5Q2FjaGU6IE5vIGNhY2hlIGl0ZW0gZm91bmQgaW4gbG9jYWwgc3RvcmFnZVwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5nZXRUZW1wb3JhcnlDYWNoZTogVGVtcG9yYXJ5IGNhY2hlIGl0ZW0gcmV0dXJuZWRcIik7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgY2FjaGUgaXRlbSB3aXRoIHRoZSBrZXkgYW5kIHZhbHVlIGdpdmVuLlxyXG4gICAgICogU3RvcmVzIGluIGNvb2tpZSBpZiBzdG9yZUF1dGhTdGF0ZUluQ29va2llIGlzIHNldCB0byB0cnVlLlxyXG4gICAgICogVGhpcyBjYW4gY2F1c2UgY29va2llIG92ZXJmbG93IGlmIHVzZWQgaW5jb3JyZWN0bHkuXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKiBAcGFyYW0gdmFsdWVcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNhY2hlTWFuYWdlci5wcm90b3R5cGUuc2V0VGVtcG9yYXJ5Q2FjaGUgPSBmdW5jdGlvbiAoY2FjaGVLZXksIHZhbHVlLCBnZW5lcmF0ZUtleSkge1xyXG4gICAgICAgIHZhciBrZXkgPSBnZW5lcmF0ZUtleSA/IHRoaXMuZ2VuZXJhdGVDYWNoZUtleShjYWNoZUtleSkgOiBjYWNoZUtleTtcclxuICAgICAgICB0aGlzLnRlbXBvcmFyeUNhY2hlU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xyXG4gICAgICAgIGlmICh0aGlzLmNhY2hlQ29uZmlnLnN0b3JlQXV0aFN0YXRlSW5Db29raWUpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLnNldFRlbXBvcmFyeUNhY2hlOiBzdG9yZUF1dGhTdGF0ZUluQ29va2llIHNldCB0byB0cnVlLCBzZXR0aW5nIGl0ZW0gY29va2llXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnNldEl0ZW1Db29raWUoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyB0aGUgY2FjaGUgaXRlbSB3aXRoIHRoZSBnaXZlbiBrZXkuXHJcbiAgICAgKiBXaWxsIGFsc28gY2xlYXIgdGhlIGNvb2tpZSBpdGVtIGlmIHN0b3JlQXV0aFN0YXRlSW5Db29raWUgaXMgc2V0IHRvIHRydWUuXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJDYWNoZU1hbmFnZXIucHJvdG90eXBlLnJlbW92ZUl0ZW0gPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XHJcbiAgICAgICAgdGhpcy50ZW1wb3JhcnlDYWNoZVN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xyXG4gICAgICAgIGlmICh0aGlzLmNhY2hlQ29uZmlnLnN0b3JlQXV0aFN0YXRlSW5Db29raWUpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLnJlbW92ZUl0ZW06IHN0b3JlQXV0aFN0YXRlSW5Db29raWUgaXMgdHJ1ZSwgY2xlYXJpbmcgaXRlbSBjb29raWVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJJdGVtQ29va2llKGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIHdoZXRoZXIga2V5IGlzIGluIGNhY2hlLlxyXG4gICAgICogQHBhcmFtIGtleVxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5jb250YWluc0tleSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5icm93c2VyU3RvcmFnZS5jb250YWluc0tleShrZXkpIHx8IHRoaXMudGVtcG9yYXJ5Q2FjaGVTdG9yYWdlLmNvbnRhaW5zS2V5KGtleSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGFsbCBrZXlzIGluIHdpbmRvdy5cclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNhY2hlTWFuYWdlci5wcm90b3R5cGUuZ2V0S2V5cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gX19zcHJlYWQodGhpcy5icm93c2VyU3RvcmFnZS5nZXRLZXlzKCksIHRoaXMudGVtcG9yYXJ5Q2FjaGVTdG9yYWdlLmdldEtleXMoKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhcnMgYWxsIGNhY2hlIGVudHJpZXMgY3JlYXRlZCBieSBNU0FMLlxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZXMgYWxsIGFjY291bnRzIGFuZCB0aGVpciBjcmVkZW50aWFsc1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVtb3ZlQWxsQWNjb3VudHMoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmVzIGFsbCBhY2NvdW50cyBhbmQgdGhlaXIgY3JlZGVudGlhbHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUFwcE1ldGFkYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZXMgYWxsIHJlbWFpbmluZyBNU0FMIGNhY2hlIGl0ZW1zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0S2V5cygpLmZvckVhY2goZnVuY3Rpb24gKGNhY2hlS2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBrZXkgY29udGFpbnMgbXNhbCBwcmVmaXg7IEZvciBub3csIHdlIGFyZSBjbGVhcmluZyBhbGwgdGhlIGNhY2hlIGl0ZW1zIGNyZWF0ZWQgYnkgTVNBTC5qc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChfdGhpcy5icm93c2VyU3RvcmFnZS5jb250YWluc0tleShjYWNoZUtleSkgfHwgX3RoaXMudGVtcG9yYXJ5Q2FjaGVTdG9yYWdlLmNvbnRhaW5zS2V5KGNhY2hlS2V5KSkgJiYgKChjYWNoZUtleS5pbmRleE9mKENvbnN0YW50cy5DQUNIRV9QUkVGSVgpICE9PSAtMSkgfHwgKGNhY2hlS2V5LmluZGV4T2YoX3RoaXMuY2xpZW50SWQpICE9PSAtMSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVtb3ZlSXRlbShjYWNoZUtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVybmFsU3RvcmFnZS5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQWRkIHZhbHVlIHRvIGNvb2tpZXNcclxuICAgICAqIEBwYXJhbSBjb29raWVOYW1lXHJcbiAgICAgKiBAcGFyYW0gY29va2llVmFsdWVcclxuICAgICAqIEBwYXJhbSBleHBpcmVzXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJDYWNoZU1hbmFnZXIucHJvdG90eXBlLnNldEl0ZW1Db29raWUgPSBmdW5jdGlvbiAoY29va2llTmFtZSwgY29va2llVmFsdWUsIGV4cGlyZXMpIHtcclxuICAgICAgICB2YXIgY29va2llU3RyID0gZW5jb2RlVVJJQ29tcG9uZW50KGNvb2tpZU5hbWUpICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoY29va2llVmFsdWUpICsgXCI7cGF0aD0vO1wiO1xyXG4gICAgICAgIGlmIChleHBpcmVzKSB7XHJcbiAgICAgICAgICAgIHZhciBleHBpcmVUaW1lID0gdGhpcy5nZXRDb29raWVFeHBpcmF0aW9uVGltZShleHBpcmVzKTtcclxuICAgICAgICAgICAgY29va2llU3RyICs9IFwiZXhwaXJlcz1cIiArIGV4cGlyZVRpbWUgKyBcIjtcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY2FjaGVDb25maWcuc2VjdXJlQ29va2llcykge1xyXG4gICAgICAgICAgICBjb29raWVTdHIgKz0gXCJTZWN1cmU7XCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZVN0cjtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldCBvbmUgaXRlbSBieSBrZXkgZnJvbSBjb29raWVzXHJcbiAgICAgKiBAcGFyYW0gY29va2llTmFtZVxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5nZXRJdGVtQ29va2llID0gZnVuY3Rpb24gKGNvb2tpZU5hbWUpIHtcclxuICAgICAgICB2YXIgbmFtZSA9IGVuY29kZVVSSUNvbXBvbmVudChjb29raWVOYW1lKSArIFwiPVwiO1xyXG4gICAgICAgIHZhciBjb29raWVMaXN0ID0gZG9jdW1lbnQuY29va2llLnNwbGl0KFwiO1wiKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvb2tpZUxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGNvb2tpZSA9IGNvb2tpZUxpc3RbaV07XHJcbiAgICAgICAgICAgIHdoaWxlIChjb29raWUuY2hhckF0KDApID09PSBcIiBcIikge1xyXG4gICAgICAgICAgICAgICAgY29va2llID0gY29va2llLnN1YnN0cmluZygxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY29va2llLmluZGV4T2YobmFtZSkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoY29va2llLnN1YnN0cmluZyhuYW1lLmxlbmd0aCwgY29va2llLmxlbmd0aCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2xlYXIgYWxsIG1zYWwtcmVsYXRlZCBjb29raWVzIGN1cnJlbnRseSBzZXQgaW4gdGhlIGJyb3dzZXIuIFNob3VsZCBvbmx5IGJlIHVzZWQgdG8gY2xlYXIgdGVtcG9yYXJ5IGNhY2hlIGl0ZW1zLlxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5jbGVhck1zYWxDb29raWVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGNvb2tpZVByZWZpeCA9IENvbnN0YW50cy5DQUNIRV9QUkVGSVggKyBcIi5cIiArIHRoaXMuY2xpZW50SWQ7XHJcbiAgICAgICAgdmFyIGNvb2tpZUxpc3QgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoXCI7XCIpO1xyXG4gICAgICAgIGNvb2tpZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoY29va2llKSB7XHJcbiAgICAgICAgICAgIHdoaWxlIChjb29raWUuY2hhckF0KDApID09PSBcIiBcIikge1xyXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXHJcbiAgICAgICAgICAgICAgICBjb29raWUgPSBjb29raWUuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjb29raWUuaW5kZXhPZihjb29raWVQcmVmaXgpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29va2llS2V5ID0gY29va2llLnNwbGl0KFwiPVwiKVswXTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmNsZWFySXRlbUNvb2tpZShjb29raWVLZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhciBhbiBpdGVtIGluIHRoZSBjb29raWVzIGJ5IGtleVxyXG4gICAgICogQHBhcmFtIGNvb2tpZU5hbWVcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNhY2hlTWFuYWdlci5wcm90b3R5cGUuY2xlYXJJdGVtQ29va2llID0gZnVuY3Rpb24gKGNvb2tpZU5hbWUpIHtcclxuICAgICAgICB0aGlzLnNldEl0ZW1Db29raWUoY29va2llTmFtZSwgXCJcIiwgLTEpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2V0IGNvb2tpZSBleHBpcmF0aW9uIHRpbWVcclxuICAgICAqIEBwYXJhbSBjb29raWVMaWZlRGF5c1xyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5nZXRDb29raWVFeHBpcmF0aW9uVGltZSA9IGZ1bmN0aW9uIChjb29raWVMaWZlRGF5cykge1xyXG4gICAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgdmFyIGV4cHIgPSBuZXcgRGF0ZSh0b2RheS5nZXRUaW1lKCkgKyBjb29raWVMaWZlRGF5cyAqIHRoaXMuQ09PS0lFX0xJRkVfTVVMVElQTElFUik7XHJcbiAgICAgICAgcmV0dXJuIGV4cHIudG9VVENTdHJpbmcoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIGNhY2hlIG9iamVjdCByZWZlcmVuY2VkIGJ5IHRoZSBicm93c2VyXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJDYWNoZU1hbmFnZXIucHJvdG90eXBlLmdldENhY2hlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJyb3dzZXJTdG9yYWdlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogaW50ZXJmYWNlIGNvbXBhdCwgd2UgY2Fubm90IG92ZXJ3cml0ZSBicm93c2VyIGNhY2hlOyBGdW5jdGlvbmFsaXR5IGlzIHN1cHBvcnRlZCBieSBpbmRpdmlkdWFsIGVudGl0aWVzIGluIGJyb3dzZXJcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNhY2hlTWFuYWdlci5wcm90b3R5cGUuc2V0Q2FjaGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gc2V0cyBub3RoaW5nXHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQcmVwZW5kIG1zYWwuPGNsaWVudC1pZD4gdG8gZWFjaCBrZXk7IFNraXAgZm9yIGFueSBKU09OIG9iamVjdCBhcyBLZXkgKGRlZmluZWQgc2NoZW1hcyBkbyBub3QgbmVlZCB0aGUga2V5IGFwcGVuZGVkOiBBY2Nlc3NUb2tlbiBLZXlzIG9yIHRoZSB1cGNvbWluZyBzY2hlbWEpXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKiBAcGFyYW0gYWRkSW5zdGFuY2VJZFxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5nZW5lcmF0ZUNhY2hlS2V5ID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHZhciBnZW5lcmF0ZWRLZXkgPSB0aGlzLnZhbGlkYXRlQW5kUGFyc2VKc29uKGtleSk7XHJcbiAgICAgICAgaWYgKCFnZW5lcmF0ZWRLZXkpIHtcclxuICAgICAgICAgICAgaWYgKFN0cmluZ1V0aWxzLnN0YXJ0c1dpdGgoa2V5LCBDb25zdGFudHMuQ0FDSEVfUFJFRklYKSB8fCBTdHJpbmdVdGlscy5zdGFydHNXaXRoKGtleSwgUGVyc2lzdGVudENhY2hlS2V5cy5BREFMX0lEX1RPS0VOKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gQ29uc3RhbnRzLkNBQ0hFX1BSRUZJWCArIFwiLlwiICsgdGhpcy5jbGllbnRJZCArIFwiLlwiICsga2V5O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoa2V5KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhdXRob3JpdHlLZXkgdG8gY2FjaGUgYXV0aG9yaXR5XHJcbiAgICAgKiBAcGFyYW0gc3RhdGVcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNhY2hlTWFuYWdlci5wcm90b3R5cGUuZ2VuZXJhdGVBdXRob3JpdHlLZXkgPSBmdW5jdGlvbiAoc3RhdGVTdHJpbmcpIHtcclxuICAgICAgICB2YXIgc3RhdGVJZCA9IFByb3RvY29sVXRpbHMucGFyc2VSZXF1ZXN0U3RhdGUodGhpcy5jcnlwdG9JbXBsLCBzdGF0ZVN0cmluZykubGlicmFyeVN0YXRlLmlkO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlQ2FjaGVLZXkoVGVtcG9yYXJ5Q2FjaGVLZXlzLkFVVEhPUklUWSArIFwiLlwiICsgc3RhdGVJZCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgTm9uY2Uga2V5IHRvIGNhY2hlIG5vbmNlXHJcbiAgICAgKiBAcGFyYW0gc3RhdGVcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNhY2hlTWFuYWdlci5wcm90b3R5cGUuZ2VuZXJhdGVOb25jZUtleSA9IGZ1bmN0aW9uIChzdGF0ZVN0cmluZykge1xyXG4gICAgICAgIHZhciBzdGF0ZUlkID0gUHJvdG9jb2xVdGlscy5wYXJzZVJlcXVlc3RTdGF0ZSh0aGlzLmNyeXB0b0ltcGwsIHN0YXRlU3RyaW5nKS5saWJyYXJ5U3RhdGUuaWQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVDYWNoZUtleShUZW1wb3JhcnlDYWNoZUtleXMuTk9OQ0VfSURUT0tFTiArIFwiLlwiICsgc3RhdGVJZCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGZ1bGwgY2FjaGUga2V5IGZvciB0aGUgcmVxdWVzdCBzdGF0ZVxyXG4gICAgICogQHBhcmFtIHN0YXRlU3RyaW5nIFN0YXRlIHN0cmluZyBmb3IgdGhlIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNhY2hlTWFuYWdlci5wcm90b3R5cGUuZ2VuZXJhdGVTdGF0ZUtleSA9IGZ1bmN0aW9uIChzdGF0ZVN0cmluZykge1xyXG4gICAgICAgIC8vIFVzZSB0aGUgbGlicmFyeSBzdGF0ZSBpZCB0byBrZXkgdGVtcCBzdG9yYWdlIGZvciB1bmlxdWVuZXNzIGZvciBtdWx0aXBsZSBjb25jdXJyZW50IHJlcXVlc3RzXHJcbiAgICAgICAgdmFyIHN0YXRlSWQgPSBQcm90b2NvbFV0aWxzLnBhcnNlUmVxdWVzdFN0YXRlKHRoaXMuY3J5cHRvSW1wbCwgc3RhdGVTdHJpbmcpLmxpYnJhcnlTdGF0ZS5pZDtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZUNhY2hlS2V5KFRlbXBvcmFyeUNhY2hlS2V5cy5SRVFVRVNUX1NUQVRFICsgXCIuXCIgKyBzdGF0ZUlkKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIGNhY2hlZCBhdXRob3JpdHkgYmFzZWQgb24gdGhlIGNhY2hlZCBzdGF0ZS4gUmV0dXJucyBlbXB0eSBpZiBubyBjYWNoZWQgc3RhdGUgZm91bmQuXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJDYWNoZU1hbmFnZXIucHJvdG90eXBlLmdldENhY2hlZEF1dGhvcml0eSA9IGZ1bmN0aW9uIChjYWNoZWRTdGF0ZSkge1xyXG4gICAgICAgIHZhciBzdGF0ZUNhY2hlS2V5ID0gdGhpcy5nZW5lcmF0ZVN0YXRlS2V5KGNhY2hlZFN0YXRlKTtcclxuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLmdldFRlbXBvcmFyeUNhY2hlKHN0YXRlQ2FjaGVLZXkpO1xyXG4gICAgICAgIGlmICghc3RhdGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBhdXRob3JpdHlDYWNoZUtleSA9IHRoaXMuZ2VuZXJhdGVBdXRob3JpdHlLZXkoc3RhdGUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFRlbXBvcmFyeUNhY2hlKGF1dGhvcml0eUNhY2hlS2V5KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZXMgYWNjb3VudCwgYXV0aG9yaXR5LCBhbmQgc3RhdGUgaW4gY2FjaGVcclxuICAgICAqIEBwYXJhbSBzZXJ2ZXJBdXRoZW50aWNhdGlvblJlcXVlc3RcclxuICAgICAqIEBwYXJhbSBhY2NvdW50XHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJDYWNoZU1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZUNhY2hlRW50cmllcyA9IGZ1bmN0aW9uIChzdGF0ZSwgbm9uY2UsIGF1dGhvcml0eUluc3RhbmNlLCBsb2dpbkhpbnQsIGFjY291bnQpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIudXBkYXRlQ2FjaGVFbnRyaWVzIGNhbGxlZFwiKTtcclxuICAgICAgICAvLyBDYWNoZSB0aGUgcmVxdWVzdCBzdGF0ZVxyXG4gICAgICAgIHZhciBzdGF0ZUNhY2hlS2V5ID0gdGhpcy5nZW5lcmF0ZVN0YXRlS2V5KHN0YXRlKTtcclxuICAgICAgICB0aGlzLnNldFRlbXBvcmFyeUNhY2hlKHN0YXRlQ2FjaGVLZXksIHN0YXRlLCBmYWxzZSk7XHJcbiAgICAgICAgLy8gQ2FjaGUgdGhlIG5vbmNlXHJcbiAgICAgICAgdmFyIG5vbmNlQ2FjaGVLZXkgPSB0aGlzLmdlbmVyYXRlTm9uY2VLZXkoc3RhdGUpO1xyXG4gICAgICAgIHRoaXMuc2V0VGVtcG9yYXJ5Q2FjaGUobm9uY2VDYWNoZUtleSwgbm9uY2UsIGZhbHNlKTtcclxuICAgICAgICAvLyBDYWNoZSBhdXRob3JpdHlLZXlcclxuICAgICAgICB2YXIgYXV0aG9yaXR5Q2FjaGVLZXkgPSB0aGlzLmdlbmVyYXRlQXV0aG9yaXR5S2V5KHN0YXRlKTtcclxuICAgICAgICB0aGlzLnNldFRlbXBvcmFyeUNhY2hlKGF1dGhvcml0eUNhY2hlS2V5LCBhdXRob3JpdHlJbnN0YW5jZSwgZmFsc2UpO1xyXG4gICAgICAgIGlmIChhY2NvdW50KSB7XHJcbiAgICAgICAgICAgIHZhciBjY3NDcmVkZW50aWFsID0ge1xyXG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbDogYWNjb3VudC5ob21lQWNjb3VudElkLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogQ2NzQ3JlZGVudGlhbFR5cGUuSE9NRV9BQ0NPVU5UX0lEXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VGVtcG9yYXJ5Q2FjaGUoVGVtcG9yYXJ5Q2FjaGVLZXlzLkNDU19DUkVERU5USUFMLCBKU09OLnN0cmluZ2lmeShjY3NDcmVkZW50aWFsKSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFTdHJpbmdVdGlscy5pc0VtcHR5KGxvZ2luSGludCkpIHtcclxuICAgICAgICAgICAgdmFyIGNjc0NyZWRlbnRpYWwgPSB7XHJcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsOiBsb2dpbkhpbnQsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBDY3NDcmVkZW50aWFsVHlwZS5VUE5cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5zZXRUZW1wb3JhcnlDYWNoZShUZW1wb3JhcnlDYWNoZUtleXMuQ0NTX0NSRURFTlRJQUwsIEpTT04uc3RyaW5naWZ5KGNjc0NyZWRlbnRpYWwpLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNldCBhbGwgdGVtcG9yYXJ5IGNhY2hlIGl0ZW1zXHJcbiAgICAgKiBAcGFyYW0gc3RhdGVcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNhY2hlTWFuYWdlci5wcm90b3R5cGUucmVzZXRSZXF1ZXN0Q2FjaGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5yZXNldFJlcXVlc3RDYWNoZSBjYWxsZWRcIik7XHJcbiAgICAgICAgLy8gY2hlY2sgc3RhdGUgYW5kIHJlbW92ZSBhc3NvY2lhdGVkIGNhY2hlIGl0ZW1zXHJcbiAgICAgICAgaWYgKCFTdHJpbmdVdGlscy5pc0VtcHR5KHN0YXRlKSkge1xyXG4gICAgICAgICAgICB0aGlzLmdldEtleXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZihzdGF0ZSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVtb3ZlSXRlbShrZXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZGVsZXRlIGdlbmVyaWMgaW50ZXJhY3RpdmUgcmVxdWVzdCBwYXJhbWV0ZXJzXHJcbiAgICAgICAgaWYgKHN0YXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlSXRlbSh0aGlzLmdlbmVyYXRlU3RhdGVLZXkoc3RhdGUpKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVJdGVtKHRoaXMuZ2VuZXJhdGVOb25jZUtleShzdGF0ZSkpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUl0ZW0odGhpcy5nZW5lcmF0ZUF1dGhvcml0eUtleShzdGF0ZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlbW92ZUl0ZW0odGhpcy5nZW5lcmF0ZUNhY2hlS2V5KFRlbXBvcmFyeUNhY2hlS2V5cy5SRVFVRVNUX1BBUkFNUykpO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlSXRlbSh0aGlzLmdlbmVyYXRlQ2FjaGVLZXkoVGVtcG9yYXJ5Q2FjaGVLZXlzLk9SSUdJTl9VUkkpKTtcclxuICAgICAgICB0aGlzLnJlbW92ZUl0ZW0odGhpcy5nZW5lcmF0ZUNhY2hlS2V5KFRlbXBvcmFyeUNhY2hlS2V5cy5VUkxfSEFTSCkpO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlSXRlbSh0aGlzLmdlbmVyYXRlQ2FjaGVLZXkoVGVtcG9yYXJ5Q2FjaGVLZXlzLkNPUlJFTEFUSU9OX0lEKSk7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVJdGVtKHRoaXMuZ2VuZXJhdGVDYWNoZUtleShUZW1wb3JhcnlDYWNoZUtleXMuQ0NTX0NSRURFTlRJQUwpKTtcclxuICAgICAgICB0aGlzLnNldEludGVyYWN0aW9uSW5Qcm9ncmVzcyhmYWxzZSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIHRlbXBvcmFyeSBjYWNoZSBmb3IgdGhlIHByb3ZpZGVkIHN0YXRlXHJcbiAgICAgKiBAcGFyYW0gc3RhdGVTdHJpbmdcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNhY2hlTWFuYWdlci5wcm90b3R5cGUuY2xlYW5SZXF1ZXN0QnlTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZVN0cmluZykge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5jbGVhblJlcXVlc3RCeVN0YXRlIGNhbGxlZFwiKTtcclxuICAgICAgICAvLyBJbnRlcmFjdGlvbiBpcyBjb21wbGV0ZWQgLSByZW1vdmUgaW50ZXJhY3Rpb24gc3RhdHVzLlxyXG4gICAgICAgIGlmIChzdGF0ZVN0cmluZykge1xyXG4gICAgICAgICAgICB2YXIgc3RhdGVLZXkgPSB0aGlzLmdlbmVyYXRlU3RhdGVLZXkoc3RhdGVTdHJpbmcpO1xyXG4gICAgICAgICAgICB2YXIgY2FjaGVkU3RhdGUgPSB0aGlzLnRlbXBvcmFyeUNhY2hlU3RvcmFnZS5nZXRJdGVtKHN0YXRlS2V5KTtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mb1BpaShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuY2xlYW5SZXF1ZXN0QnlTdGF0ZTogUmVtb3ZpbmcgdGVtcG9yYXJ5IGNhY2hlIGl0ZW1zIGZvciBzdGF0ZTogXCIgKyBjYWNoZWRTdGF0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRSZXF1ZXN0Q2FjaGUoY2FjaGVkU3RhdGUgfHwgXCJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2xlYXJNc2FsQ29va2llcygpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogTG9va3MgaW4gdGVtcG9yYXJ5IGNhY2hlIGZvciBhbnkgc3RhdGUgdmFsdWVzIHdpdGggdGhlIHByb3ZpZGVkIGludGVyYWN0aW9uVHlwZSBhbmQgcmVtb3ZlcyBhbGwgdGVtcG9yYXJ5IGNhY2hlIGl0ZW1zIGZvciB0aGF0IHN0YXRlXHJcbiAgICAgKiBVc2VkIGluIHNjZW5hcmlvcyB3aGVyZSB0ZW1wIGNhY2hlIG5lZWRzIHRvIGJlIGNsZWFuZWQgYnV0IHN0YXRlIGlzIG5vdCBrbm93biwgc3VjaCBhcyBjbGlja2luZyBicm93c2VyIGJhY2sgYnV0dG9uLlxyXG4gICAgICogQHBhcmFtIGludGVyYWN0aW9uVHlwZVxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5jbGVhblJlcXVlc3RCeUludGVyYWN0aW9uVHlwZSA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvblR5cGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5jbGVhblJlcXVlc3RCeUludGVyYWN0aW9uVHlwZSBjYWxsZWRcIik7XHJcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBrZXlzIHRvIGZpbmQgc3RhdGUga2V5XHJcbiAgICAgICAgdGhpcy5nZXRLZXlzKCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIC8vIElmIHRoaXMga2V5IGlzIG5vdCB0aGUgc3RhdGUga2V5LCBtb3ZlIG9uXHJcbiAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZihUZW1wb3JhcnlDYWNoZUtleXMuUkVRVUVTVF9TVEFURSkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gUmV0cmlldmUgc3RhdGUgdmFsdWUsIHJldHVybiBpZiBub3QgYSB2YWxpZCB2YWx1ZVxyXG4gICAgICAgICAgICB2YXIgc3RhdGVWYWx1ZSA9IF90aGlzLnRlbXBvcmFyeUNhY2hlU3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgICAgICAgICAgIGlmICghc3RhdGVWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEV4dHJhY3Qgc3RhdGUgYW5kIGVuc3VyZSBpdCBtYXRjaGVzIGdpdmVuIEludGVyYWN0aW9uVHlwZSwgdGhlbiBjbGVhbiByZXF1ZXN0IGNhY2hlXHJcbiAgICAgICAgICAgIHZhciBwYXJzZWRTdGF0ZSA9IEJyb3dzZXJQcm90b2NvbFV0aWxzLmV4dHJhY3RCcm93c2VyUmVxdWVzdFN0YXRlKF90aGlzLmNyeXB0b0ltcGwsIHN0YXRlVmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAocGFyc2VkU3RhdGUgJiYgcGFyc2VkU3RhdGUuaW50ZXJhY3Rpb25UeXBlID09PSBpbnRlcmFjdGlvblR5cGUpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5pbmZvUGlpKFwiQnJvd3NlckNhY2hlTWFuYWdlci5jbGVhblJlcXVlc3RCeUludGVyYWN0aW9uVHlwZTogUmVtb3ZpbmcgdGVtcG9yYXJ5IGNhY2hlIGl0ZW1zIGZvciBzdGF0ZTogXCIgKyBzdGF0ZVZhbHVlKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnJlc2V0UmVxdWVzdENhY2hlKHN0YXRlVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jbGVhck1zYWxDb29raWVzKCk7XHJcbiAgICAgICAgdGhpcy5zZXRJbnRlcmFjdGlvbkluUHJvZ3Jlc3MoZmFsc2UpO1xyXG4gICAgfTtcclxuICAgIEJyb3dzZXJDYWNoZU1hbmFnZXIucHJvdG90eXBlLmNhY2hlQ29kZVJlcXVlc3QgPSBmdW5jdGlvbiAoYXV0aENvZGVSZXF1ZXN0LCBicm93c2VyQ3J5cHRvKSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmNhY2hlQ29kZVJlcXVlc3QgY2FsbGVkXCIpO1xyXG4gICAgICAgIHZhciBlbmNvZGVkVmFsdWUgPSBicm93c2VyQ3J5cHRvLmJhc2U2NEVuY29kZShKU09OLnN0cmluZ2lmeShhdXRoQ29kZVJlcXVlc3QpKTtcclxuICAgICAgICB0aGlzLnNldFRlbXBvcmFyeUNhY2hlKFRlbXBvcmFyeUNhY2hlS2V5cy5SRVFVRVNUX1BBUkFNUywgZW5jb2RlZFZhbHVlLCB0cnVlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIHRva2VuIGV4Y2hhbmdlIHBhcmFtZXRlcnMgZnJvbSB0aGUgY2FjaGUuIFRocm93cyBhbiBlcnJvciBpZiBub3RoaW5nIGlzIGZvdW5kLlxyXG4gICAgICovXHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5nZXRDYWNoZWRSZXF1ZXN0ID0gZnVuY3Rpb24gKHN0YXRlLCBicm93c2VyQ3J5cHRvKSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmdldENhY2hlZFJlcXVlc3QgY2FsbGVkXCIpO1xyXG4gICAgICAgIC8vIEdldCB0b2tlbiByZXF1ZXN0IGZyb20gY2FjaGUgYW5kIHBhcnNlIGFzIFRva2VuRXhjaGFuZ2VQYXJhbWV0ZXJzLlxyXG4gICAgICAgIHZhciBlbmNvZGVkVG9rZW5SZXF1ZXN0ID0gdGhpcy5nZXRUZW1wb3JhcnlDYWNoZShUZW1wb3JhcnlDYWNoZUtleXMuUkVRVUVTVF9QQVJBTVMsIHRydWUpO1xyXG4gICAgICAgIGlmICghZW5jb2RlZFRva2VuUmVxdWVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZU5vVG9rZW5SZXF1ZXN0Q2FjaGVFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcGFyc2VkUmVxdWVzdCA9IHRoaXMudmFsaWRhdGVBbmRQYXJzZUpzb24oYnJvd3NlckNyeXB0by5iYXNlNjREZWNvZGUoZW5jb2RlZFRva2VuUmVxdWVzdCkpO1xyXG4gICAgICAgIGlmICghcGFyc2VkUmVxdWVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZVVuYWJsZVRvUGFyc2VUb2tlblJlcXVlc3RDYWNoZUVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVtb3ZlSXRlbSh0aGlzLmdlbmVyYXRlQ2FjaGVLZXkoVGVtcG9yYXJ5Q2FjaGVLZXlzLlJFUVVFU1RfUEFSQU1TKSk7XHJcbiAgICAgICAgLy8gR2V0IGNhY2hlZCBhdXRob3JpdHkgYW5kIHVzZSBpZiBubyBhdXRob3JpdHkgaXMgY2FjaGVkIHdpdGggcmVxdWVzdC5cclxuICAgICAgICBpZiAoU3RyaW5nVXRpbHMuaXNFbXB0eShwYXJzZWRSZXF1ZXN0LmF1dGhvcml0eSkpIHtcclxuICAgICAgICAgICAgdmFyIGF1dGhvcml0eUNhY2hlS2V5ID0gdGhpcy5nZW5lcmF0ZUF1dGhvcml0eUtleShzdGF0ZSk7XHJcbiAgICAgICAgICAgIHZhciBjYWNoZWRBdXRob3JpdHkgPSB0aGlzLmdldFRlbXBvcmFyeUNhY2hlKGF1dGhvcml0eUNhY2hlS2V5KTtcclxuICAgICAgICAgICAgaWYgKCFjYWNoZWRBdXRob3JpdHkpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IEJyb3dzZXJBdXRoRXJyb3IuY3JlYXRlTm9DYWNoZWRBdXRob3JpdHlFcnJvcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhcnNlZFJlcXVlc3QuYXV0aG9yaXR5ID0gY2FjaGVkQXV0aG9yaXR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGFyc2VkUmVxdWVzdDtcclxuICAgIH07XHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5pc0ludGVyYWN0aW9uSW5Qcm9ncmVzcyA9IGZ1bmN0aW9uIChtYXRjaENsaWVudElkKSB7XHJcbiAgICAgICAgdmFyIGNsaWVudElkID0gdGhpcy5nZXRJbnRlcmFjdGlvbkluUHJvZ3Jlc3MoKTtcclxuICAgICAgICBpZiAobWF0Y2hDbGllbnRJZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2xpZW50SWQgPT09IHRoaXMuY2xpZW50SWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gISFjbGllbnRJZDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQnJvd3NlckNhY2hlTWFuYWdlci5wcm90b3R5cGUuZ2V0SW50ZXJhY3Rpb25JblByb2dyZXNzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBrZXkgPSBDb25zdGFudHMuQ0FDSEVfUFJFRklYICsgXCIuXCIgKyBUZW1wb3JhcnlDYWNoZUtleXMuSU5URVJBQ1RJT05fU1RBVFVTX0tFWTtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRUZW1wb3JhcnlDYWNoZShrZXksIGZhbHNlKTtcclxuICAgIH07XHJcbiAgICBCcm93c2VyQ2FjaGVNYW5hZ2VyLnByb3RvdHlwZS5zZXRJbnRlcmFjdGlvbkluUHJvZ3Jlc3MgPSBmdW5jdGlvbiAoaW5Qcm9ncmVzcykge1xyXG4gICAgICAgIC8vIEVuc3VyZSB3ZSBkb24ndCBvdmVyd3JpdGUgaW50ZXJhY3Rpb24gaW4gcHJvZ3Jlc3MgZm9yIGEgZGlmZmVyZW50IGNsaWVudElkXHJcbiAgICAgICAgdmFyIGtleSA9IENvbnN0YW50cy5DQUNIRV9QUkVGSVggKyBcIi5cIiArIFRlbXBvcmFyeUNhY2hlS2V5cy5JTlRFUkFDVElPTl9TVEFUVVNfS0VZO1xyXG4gICAgICAgIGlmIChpblByb2dyZXNzKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldEludGVyYWN0aW9uSW5Qcm9ncmVzcygpKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZUludGVyYWN0aW9uSW5Qcm9ncmVzc0Vycm9yKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBObyBpbnRlcmFjdGlvbiBpcyBpbiBwcm9ncmVzc1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUZW1wb3JhcnlDYWNoZShrZXksIHRoaXMuY2xpZW50SWQsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghaW5Qcm9ncmVzcyAmJiB0aGlzLmdldEludGVyYWN0aW9uSW5Qcm9ncmVzcygpID09PSB0aGlzLmNsaWVudElkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlSXRlbShrZXkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdXNlcm5hbWUgcmV0cmlldmVkIGZyb20gQURBTCBvciBNU0FMIHYxIGlkVG9rZW5cclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNhY2hlTWFuYWdlci5wcm90b3R5cGUuZ2V0TGVnYWN5TG9naW5IaW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIE9ubHkgY2hlY2sgZm9yIGFkYWwvbXNhbCB0b2tlbiBpZiBubyBTU08gcGFyYW1zIGFyZSBiZWluZyB1c2VkXHJcbiAgICAgICAgdmFyIGFkYWxJZFRva2VuU3RyaW5nID0gdGhpcy5nZXRUZW1wb3JhcnlDYWNoZShQZXJzaXN0ZW50Q2FjaGVLZXlzLkFEQUxfSURfVE9LRU4pO1xyXG4gICAgICAgIGlmIChhZGFsSWRUb2tlblN0cmluZykge1xyXG4gICAgICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLnJlbW92ZUl0ZW0oUGVyc2lzdGVudENhY2hlS2V5cy5BREFMX0lEX1RPS0VOKTtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIkNhY2hlZCBBREFMIGlkIHRva2VuIHJldHJpZXZlZC5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENoZWNrIGZvciBjYWNoZWQgTVNBTCB2MSBpZCB0b2tlblxyXG4gICAgICAgIHZhciBtc2FsSWRUb2tlblN0cmluZyA9IHRoaXMuZ2V0VGVtcG9yYXJ5Q2FjaGUoUGVyc2lzdGVudENhY2hlS2V5cy5JRF9UT0tFTiwgdHJ1ZSk7XHJcbiAgICAgICAgaWYgKG1zYWxJZFRva2VuU3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlSXRlbSh0aGlzLmdlbmVyYXRlQ2FjaGVLZXkoUGVyc2lzdGVudENhY2hlS2V5cy5JRF9UT0tFTikpO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiQ2FjaGVkIE1TQUwuanMgdjEgaWQgdG9rZW4gcmV0cmlldmVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY2FjaGVkSWRUb2tlblN0cmluZyA9IG1zYWxJZFRva2VuU3RyaW5nIHx8IGFkYWxJZFRva2VuU3RyaW5nO1xyXG4gICAgICAgIGlmIChjYWNoZWRJZFRva2VuU3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHZhciBjYWNoZWRJZFRva2VuID0gbmV3IElkVG9rZW4oY2FjaGVkSWRUb2tlblN0cmluZywgdGhpcy5jcnlwdG9JbXBsKTtcclxuICAgICAgICAgICAgaWYgKGNhY2hlZElkVG9rZW4uY2xhaW1zICYmIGNhY2hlZElkVG9rZW4uY2xhaW1zLnByZWZlcnJlZF91c2VybmFtZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIk5vIFNTTyBwYXJhbXMgdXNlZCBhbmQgQURBTC9NU0FMIHYxIHRva2VuIHJldHJpZXZlZCwgc2V0dGluZyBBREFML01TQUwgdjEgcHJlZmVycmVkX3VzZXJuYW1lIGFzIGxvZ2luSGludFwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZWRJZFRva2VuLmNsYWltcy5wcmVmZXJyZWRfdXNlcm5hbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2FjaGVkSWRUb2tlbi5jbGFpbXMgJiYgY2FjaGVkSWRUb2tlbi5jbGFpbXMudXBuKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiTm8gU1NPIHBhcmFtcyB1c2VkIGFuZCBBREFML01TQUwgdjEgdG9rZW4gcmV0cmlldmVkLCBzZXR0aW5nIEFEQUwvTVNBTCB2MSB1cG4gYXMgbG9naW5IaW50XCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlZElkVG9rZW4uY2xhaW1zLnVwbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJObyBTU08gcGFyYW1zIHVzZWQgYW5kIEFEQUwvTVNBTCB2MSB0b2tlbiByZXRyaWV2ZWQsIGhvd2V2ZXIsIG5vIGFjY291bnQgaGludCBjbGFpbSBmb3VuZC4gRW5hYmxlIHByZWZlcnJlZF91c2VybmFtZSBvciB1cG4gaWQgdG9rZW4gY2xhaW0gdG8gZ2V0IFNTTy5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIGEgY3JlZGVudGlhbCdzIGNhY2hlIGtleSBpZiB0aGUgY3VycmVudCBjYWNoZSBrZXkgaXMgb3V0ZGF0ZWRcclxuICAgICAqL1xyXG4gICAgQnJvd3NlckNhY2hlTWFuYWdlci5wcm90b3R5cGUudXBkYXRlQ3JlZGVudGlhbENhY2hlS2V5ID0gZnVuY3Rpb24gKGN1cnJlbnRDYWNoZUtleSwgY3JlZGVudGlhbCkge1xyXG4gICAgICAgIHZhciB1cGRhdGVkQ2FjaGVLZXkgPSBjcmVkZW50aWFsLmdlbmVyYXRlQ3JlZGVudGlhbEtleSgpO1xyXG4gICAgICAgIGlmIChjdXJyZW50Q2FjaGVLZXkgIT09IHVwZGF0ZWRDYWNoZUtleSkge1xyXG4gICAgICAgICAgICB2YXIgY2FjaGVJdGVtID0gdGhpcy5nZXRJdGVtKGN1cnJlbnRDYWNoZUtleSk7XHJcbiAgICAgICAgICAgIGlmIChjYWNoZUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlSXRlbShjdXJyZW50Q2FjaGVLZXkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJdGVtKHVwZGF0ZWRDYWNoZUtleSwgY2FjaGVJdGVtKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJVcGRhdGVkIGFuIG91dGRhdGVkIFwiICsgY3JlZGVudGlhbC5jcmVkZW50aWFsVHlwZSArIFwiIGNhY2hlIGtleVwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVkQ2FjaGVLZXk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIkF0dGVtcHRlZCB0byB1cGRhdGUgYW4gb3V0ZGF0ZWQgXCIgKyBjcmVkZW50aWFsLmNyZWRlbnRpYWxUeXBlICsgXCIgY2FjaGUga2V5IGJ1dCBubyBpdGVtIG1hdGNoaW5nIHRoZSBvdXRkYXRlZCBrZXkgd2FzIGZvdW5kIGluIHN0b3JhZ2VcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRDYWNoZUtleTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQnJvd3NlckNhY2hlTWFuYWdlcjtcclxufShDYWNoZU1hbmFnZXIpKTtcclxudmFyIERFRkFVTFRfQlJPV1NFUl9DQUNIRV9NQU5BR0VSID0gZnVuY3Rpb24gKGNsaWVudElkLCBsb2dnZXIpIHtcclxuICAgIHZhciBjYWNoZU9wdGlvbnMgPSB7XHJcbiAgICAgICAgY2FjaGVMb2NhdGlvbjogQnJvd3NlckNhY2hlTG9jYXRpb24uTWVtb3J5U3RvcmFnZSxcclxuICAgICAgICBzdG9yZUF1dGhTdGF0ZUluQ29va2llOiBmYWxzZSxcclxuICAgICAgICBzZWN1cmVDb29raWVzOiBmYWxzZVxyXG4gICAgfTtcclxuICAgIHJldHVybiBuZXcgQnJvd3NlckNhY2hlTWFuYWdlcihjbGllbnRJZCwgY2FjaGVPcHRpb25zLCBERUZBVUxUX0NSWVBUT19JTVBMRU1FTlRBVElPTiwgbG9nZ2VyKTtcclxufTtcblxuZXhwb3J0IHsgQnJvd3NlckNhY2hlTWFuYWdlciwgREVGQVVMVF9CUk9XU0VSX0NBQ0hFX01BTkFHRVIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJyb3dzZXJDYWNoZU1hbmFnZXIuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2Mi4yMi4xIDIwMjItMDMtMDcgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IF9fYXdhaXRlciwgX19nZW5lcmF0b3IgfSBmcm9tICcuLi9fdmlydHVhbC9fdHNsaWIuanMnO1xuaW1wb3J0IHsgQnJvd3NlckF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3IuanMnO1xuaW1wb3J0IHsgSFRUUF9SRVFVRVNUX1RZUEUgfSBmcm9tICcuLi91dGlscy9Ccm93c2VyQ29uc3RhbnRzLmpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIGltcGxlbWVudHMgdGhlIEZldGNoIEFQSSBmb3IgR0VUIGFuZCBQT1NUIHJlcXVlc3RzLiBTZWUgbW9yZSBoZXJlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRmV0Y2hfQVBJXHJcbiAqL1xyXG52YXIgRmV0Y2hDbGllbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBGZXRjaENsaWVudCgpIHtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRmV0Y2ggQ2xpZW50IGZvciBSRVNUIGVuZHBvaW50cyAtIEdldCByZXF1ZXN0XHJcbiAgICAgKiBAcGFyYW0gdXJsXHJcbiAgICAgKiBAcGFyYW0gaGVhZGVyc1xyXG4gICAgICogQHBhcmFtIGJvZHlcclxuICAgICAqL1xyXG4gICAgRmV0Y2hDbGllbnQucHJvdG90eXBlLnNlbmRHZXRSZXF1ZXN0QXN5bmMgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcmVzcG9uc2UsIGVfMSwgX2E7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbMCwgMiwgLCAzXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoKHVybCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogSFRUUF9SRVFVRVNUX1RZUEUuR0VULFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuZ2V0RmV0Y2hIZWFkZXJzKG9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlXzEgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm9uTGluZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVHZXRSZXF1ZXN0RmFpbGVkRXJyb3IoZV8xLCB1cmwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVOb05ldHdvcmtDb25uZWN0aXZpdHlFcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzMsIDUsICwgNl0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuZ2V0SGVhZGVyRGljdChyZXNwb25zZS5oZWFkZXJzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZXNwb25zZS5qc29uKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIChfYS5ib2R5ID0gKF9iLnNlbnQoKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zdGF0dXMgPSByZXNwb25zZS5zdGF0dXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZUZhaWxlZFRvUGFyc2VOZXR3b3JrUmVzcG9uc2VFcnJvcih1cmwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEZldGNoIENsaWVudCBmb3IgUkVTVCBlbmRwb2ludHMgLSBQb3N0IHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSB1cmxcclxuICAgICAqIEBwYXJhbSBoZWFkZXJzXHJcbiAgICAgKiBAcGFyYW0gYm9keVxyXG4gICAgICovXHJcbiAgICBGZXRjaENsaWVudC5wcm90b3R5cGUuc2VuZFBvc3RSZXF1ZXN0QXN5bmMgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcmVxQm9keSwgcmVzcG9uc2UsIGVfMywgX2E7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcUJvZHkgPSAob3B0aW9ucyAmJiBvcHRpb25zLmJvZHkpIHx8IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbMSwgMywgLCA0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoKHVybCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogSFRUUF9SRVFVRVNUX1RZUEUuUE9TVCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmdldEZldGNoSGVhZGVycyhvcHRpb25zKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiByZXFCb2R5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlXzMgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm9uTGluZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVQb3N0UmVxdWVzdEZhaWxlZEVycm9yKGVfMywgdXJsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEJyb3dzZXJBdXRoRXJyb3IuY3JlYXRlTm9OZXR3b3JrQ29ubmVjdGl2aXR5RXJyb3IoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFs0LCA2LCAsIDddKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmdldEhlYWRlckRpY3QocmVzcG9uc2UuaGVhZGVycylcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzcG9uc2UuanNvbigpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6IHJldHVybiBbMiAvKnJldHVybiovLCAoX2EuYm9keSA9IChfYi5zZW50KCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Euc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVGYWlsZWRUb1BhcnNlTmV0d29ya1Jlc3BvbnNlRXJyb3IodXJsKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgRmV0Y2ggQVBJIEhlYWRlcnMgb2JqZWN0IGZyb20gc3RyaW5nIG1hcFxyXG4gICAgICogQHBhcmFtIGlucHV0SGVhZGVyc1xyXG4gICAgICovXHJcbiAgICBGZXRjaENsaWVudC5wcm90b3R5cGUuZ2V0RmV0Y2hIZWFkZXJzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XHJcbiAgICAgICAgaWYgKCEob3B0aW9ucyAmJiBvcHRpb25zLmhlYWRlcnMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBoZWFkZXJzO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgb3B0aW9uc0hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XHJcbiAgICAgICAgT2JqZWN0LmtleXMob3B0aW9uc0hlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICBoZWFkZXJzLmFwcGVuZChrZXksIG9wdGlvbnNIZWFkZXJzW2tleV0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBoZWFkZXJzO1xyXG4gICAgfTtcclxuICAgIEZldGNoQ2xpZW50LnByb3RvdHlwZS5nZXRIZWFkZXJEaWN0ID0gZnVuY3Rpb24gKGhlYWRlcnMpIHtcclxuICAgICAgICB2YXIgaGVhZGVyRGljdCA9IHt9O1xyXG4gICAgICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xyXG4gICAgICAgICAgICBoZWFkZXJEaWN0W2tleV0gPSB2YWx1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gaGVhZGVyRGljdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRmV0Y2hDbGllbnQ7XHJcbn0oKSk7XG5cbmV4cG9ydCB7IEZldGNoQ2xpZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GZXRjaENsaWVudC5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYyLjIyLjEgMjAyMi0wMy0wNyAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgX19hd2FpdGVyLCBfX2dlbmVyYXRvciB9IGZyb20gJy4uL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgeyBCcm93c2VyQXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckF1dGhFcnJvci5qcyc7XG5pbXBvcnQgeyBIVFRQX1JFUVVFU1RfVFlQRSB9IGZyb20gJy4uL3V0aWxzL0Jyb3dzZXJDb25zdGFudHMuanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFRoaXMgY2xpZW50IGltcGxlbWVudHMgdGhlIFhNTEh0dHBSZXF1ZXN0IGNsYXNzIHRvIHNlbmQgR0VUIGFuZCBQT1NUIHJlcXVlc3RzLlxyXG4gKi9cclxudmFyIFhockNsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFhockNsaWVudCgpIHtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogWGhyQ2xpZW50IGZvciBSRVNUIGVuZHBvaW50cyAtIEdldCByZXF1ZXN0XHJcbiAgICAgKiBAcGFyYW0gdXJsXHJcbiAgICAgKiBAcGFyYW0gaGVhZGVyc1xyXG4gICAgICogQHBhcmFtIGJvZHlcclxuICAgICAqL1xyXG4gICAgWGhyQ2xpZW50LnByb3RvdHlwZS5zZW5kR2V0UmVxdWVzdEFzeW5jID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuc2VuZFJlcXVlc3RBc3luYyh1cmwsIEhUVFBfUkVRVUVTVF9UWVBFLkdFVCwgb3B0aW9ucyldO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFhockNsaWVudCBmb3IgUkVTVCBlbmRwb2ludHMgLSBQb3N0IHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSB1cmxcclxuICAgICAqIEBwYXJhbSBoZWFkZXJzXHJcbiAgICAgKiBAcGFyYW0gYm9keVxyXG4gICAgICovXHJcbiAgICBYaHJDbGllbnQucHJvdG90eXBlLnNlbmRQb3N0UmVxdWVzdEFzeW5jID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuc2VuZFJlcXVlc3RBc3luYyh1cmwsIEhUVFBfUkVRVUVTVF9UWVBFLlBPU1QsIG9wdGlvbnMpXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgZm9yIFhockNsaWVudCByZXF1ZXN0cy5cclxuICAgICAqIEBwYXJhbSB1cmxcclxuICAgICAqIEBwYXJhbSBtZXRob2RcclxuICAgICAqIEBwYXJhbSBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIFhockNsaWVudC5wcm90b3R5cGUuc2VuZFJlcXVlc3RBc3luYyA9IGZ1bmN0aW9uICh1cmwsIG1ldGhvZCwgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICB4aHIub3BlbihtZXRob2QsIHVybCwgLyogYXN5bmM6ICovIHRydWUpO1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRYaHJIZWFkZXJzKHhociwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA8IDIwMCB8fCB4aHIuc3RhdHVzID49IDMwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXRob2QgPT09IEhUVFBfUkVRVUVTVF9UWVBFLlBPU1QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KEJyb3dzZXJBdXRoRXJyb3IuY3JlYXRlUG9zdFJlcXVlc3RGYWlsZWRFcnJvcihcIkZhaWxlZCB3aXRoIHN0YXR1cyBcIiArIHhoci5zdGF0dXMsIHVybCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KEJyb3dzZXJBdXRoRXJyb3IuY3JlYXRlR2V0UmVxdWVzdEZhaWxlZEVycm9yKFwiRmFpbGVkIHdpdGggc3RhdHVzIFwiICsgeGhyLnN0YXR1cywgdXJsKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIganNvblJlc3BvbnNlID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV0d29ya1Jlc3BvbnNlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiBfdGhpcy5nZXRIZWFkZXJEaWN0KHhociksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IGpzb25SZXNwb25zZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG5ldHdvcmtSZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChCcm93c2VyQXV0aEVycm9yLmNyZWF0ZUZhaWxlZFRvUGFyc2VOZXR3b3JrUmVzcG9uc2VFcnJvcih1cmwpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAod2luZG93Lm5hdmlnYXRvci5vbkxpbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWV0aG9kID09PSBIVFRQX1JFUVVFU1RfVFlQRS5QT1NUKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChCcm93c2VyQXV0aEVycm9yLmNyZWF0ZVBvc3RSZXF1ZXN0RmFpbGVkRXJyb3IoXCJGYWlsZWQgd2l0aCBzdGF0dXMgXCIgKyB4aHIuc3RhdHVzLCB1cmwpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChCcm93c2VyQXV0aEVycm9yLmNyZWF0ZUdldFJlcXVlc3RGYWlsZWRFcnJvcihcIkZhaWxlZCB3aXRoIHN0YXR1cyBcIiArIHhoci5zdGF0dXMsIHVybCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChCcm93c2VyQXV0aEVycm9yLmNyZWF0ZU5vTmV0d29ya0Nvbm5lY3Rpdml0eUVycm9yKCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpZiAobWV0aG9kID09PSBIVFRQX1JFUVVFU1RfVFlQRS5QT1NUICYmIG9wdGlvbnMgJiYgb3B0aW9ucy5ib2R5KSB7XHJcbiAgICAgICAgICAgICAgICB4aHIuc2VuZChvcHRpb25zLmJvZHkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG1ldGhvZCA9PT0gSFRUUF9SRVFVRVNUX1RZUEUuR0VUKSB7XHJcbiAgICAgICAgICAgICAgICB4aHIuc2VuZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVIdHRwTWV0aG9kTm90SW1wbGVtZW50ZWRFcnJvcihtZXRob2QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgdG8gc2V0IFhIUiBoZWFkZXJzIGZvciByZXF1ZXN0LlxyXG4gICAgICogQHBhcmFtIHhoclxyXG4gICAgICogQHBhcmFtIG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgWGhyQ2xpZW50LnByb3RvdHlwZS5zZXRYaHJIZWFkZXJzID0gZnVuY3Rpb24gKHhociwgb3B0aW9ucykge1xyXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaGVhZGVycykge1xyXG4gICAgICAgICAgICB2YXIgaGVhZGVyc18xID0gb3B0aW9ucy5oZWFkZXJzO1xyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhoZWFkZXJzXzEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCBoZWFkZXJzXzFba2V5XSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgYSBzdHJpbmcgbWFwIG9mIHRoZSBoZWFkZXJzIHJlY2VpdmVkIGluIHRoZSByZXNwb25zZS5cclxuICAgICAqXHJcbiAgICAgKiBBbGdvcml0aG0gY29tZXMgZnJvbSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvWE1MSHR0cFJlcXVlc3QvZ2V0QWxsUmVzcG9uc2VIZWFkZXJzXHJcbiAgICAgKiBAcGFyYW0geGhyXHJcbiAgICAgKi9cclxuICAgIFhockNsaWVudC5wcm90b3R5cGUuZ2V0SGVhZGVyRGljdCA9IGZ1bmN0aW9uICh4aHIpIHtcclxuICAgICAgICB2YXIgaGVhZGVyU3RyaW5nID0geGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpO1xyXG4gICAgICAgIHZhciBoZWFkZXJBcnIgPSBoZWFkZXJTdHJpbmcudHJpbSgpLnNwbGl0KC9bXFxyXFxuXSsvKTtcclxuICAgICAgICB2YXIgaGVhZGVyRGljdCA9IHt9O1xyXG4gICAgICAgIGhlYWRlckFyci5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICB2YXIgcGFydHMgPSB2YWx1ZS5zcGxpdChcIjogXCIpO1xyXG4gICAgICAgICAgICB2YXIgaGVhZGVyTmFtZSA9IHBhcnRzLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgIHZhciBoZWFkZXJWYWwgPSBwYXJ0cy5qb2luKFwiOiBcIik7XHJcbiAgICAgICAgICAgIGlmIChoZWFkZXJOYW1lICYmIGhlYWRlclZhbCkge1xyXG4gICAgICAgICAgICAgICAgaGVhZGVyRGljdFtoZWFkZXJOYW1lXSA9IGhlYWRlclZhbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBoZWFkZXJEaWN0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBYaHJDbGllbnQ7XHJcbn0oKSk7XG5cbmV4cG9ydCB7IFhockNsaWVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9WGhyQ2xpZW50LmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjIuMjIuMSAyMDIyLTAzLTA3ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBDb25zdGFudHMsIFVybFN0cmluZyB9IGZyb20gJ0BhenVyZS9tc2FsLWNvbW1vbic7XG5pbXBvcnQgeyBGZXRjaENsaWVudCB9IGZyb20gJy4uL25ldHdvcmsvRmV0Y2hDbGllbnQuanMnO1xuaW1wb3J0IHsgWGhyQ2xpZW50IH0gZnJvbSAnLi4vbmV0d29yay9YaHJDbGllbnQuanMnO1xuaW1wb3J0IHsgQnJvd3NlckF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3IuanMnO1xuaW1wb3J0IHsgQnJvd3NlckNvbnN0YW50cywgSW50ZXJhY3Rpb25UeXBlIH0gZnJvbSAnLi9Ccm93c2VyQ29uc3RhbnRzLmpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBVdGlsaXR5IGNsYXNzIGZvciBicm93c2VyIHNwZWNpZmljIGZ1bmN0aW9uc1xyXG4gKi9cclxudmFyIEJyb3dzZXJVdGlscyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEJyb3dzZXJVdGlscygpIHtcclxuICAgIH1cclxuICAgIC8vICNyZWdpb24gV2luZG93IE5hdmlnYXRpb24gYW5kIFVSTCBtYW5hZ2VtZW50XHJcbiAgICAvKipcclxuICAgICAqIENsZWFycyBoYXNoIGZyb20gd2luZG93IHVybC5cclxuICAgICAqL1xyXG4gICAgQnJvd3NlclV0aWxzLmNsZWFySGFzaCA9IGZ1bmN0aW9uIChjb250ZW50V2luZG93KSB7XHJcbiAgICAgICAgLy8gT2ZmaWNlLmpzIHNldHMgaGlzdG9yeS5yZXBsYWNlU3RhdGUgdG8gbnVsbFxyXG4gICAgICAgIGNvbnRlbnRXaW5kb3cubG9jYXRpb24uaGFzaCA9IENvbnN0YW50cy5FTVBUWV9TVFJJTkc7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50V2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgLy8gRnVsbCByZW1vdmVzIFwiI1wiIGZyb20gdXJsXHJcbiAgICAgICAgICAgIGNvbnRlbnRXaW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgQ29uc3RhbnRzLkVNUFRZX1NUUklORywgXCJcIiArIGNvbnRlbnRXaW5kb3cubG9jYXRpb24ub3JpZ2luICsgY29udGVudFdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIGNvbnRlbnRXaW5kb3cubG9jYXRpb24uc2VhcmNoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXBsYWNlcyBjdXJyZW50IGhhc2ggd2l0aCBoYXNoIGZyb20gcHJvdmlkZWQgdXJsXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJVdGlscy5yZXBsYWNlSGFzaCA9IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICB2YXIgdXJsUGFydHMgPSB1cmwuc3BsaXQoXCIjXCIpO1xyXG4gICAgICAgIHVybFBhcnRzLnNoaWZ0KCk7IC8vIFJlbW92ZSBwYXJ0IGJlZm9yZSB0aGUgaGFzaFxyXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gdXJsUGFydHMubGVuZ3RoID4gMCA/IHVybFBhcnRzLmpvaW4oXCIjXCIpIDogXCJcIjtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYm9vbGVhbiBvZiB3aGV0aGVyIHRoZSBjdXJyZW50IHdpbmRvdyBpcyBpbiBhbiBpZnJhbWUgb3Igbm90LlxyXG4gICAgICovXHJcbiAgICBCcm93c2VyVXRpbHMuaXNJbklmcmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gd2luZG93LnBhcmVudCAhPT0gd2luZG93O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBib29sZWFuIG9mIHdoZXRoZXIgb3Igbm90IHRoZSBjdXJyZW50IHdpbmRvdyBpcyBhIHBvcHVwIG9wZW5lZCBieSBtc2FsXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJVdGlscy5pc0luUG9wdXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgISF3aW5kb3cub3BlbmVyICYmXHJcbiAgICAgICAgICAgIHdpbmRvdy5vcGVuZXIgIT09IHdpbmRvdyAmJlxyXG4gICAgICAgICAgICB0eXBlb2Ygd2luZG93Lm5hbWUgPT09IFwic3RyaW5nXCIgJiZcclxuICAgICAgICAgICAgd2luZG93Lm5hbWUuaW5kZXhPZihCcm93c2VyQ29uc3RhbnRzLlBPUFVQX05BTUVfUFJFRklYICsgXCIuXCIpID09PSAwO1xyXG4gICAgfTtcclxuICAgIC8vICNlbmRyZWdpb25cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBjdXJyZW50IHdpbmRvdyBVUkwgYXMgcmVkaXJlY3QgdXJpXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJVdGlscy5nZXRDdXJyZW50VXJpID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdChcIj9cIilbMF0uc3BsaXQoXCIjXCIpWzBdO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgaG9tZXBhZ2UgdXJsIGZvciB0aGUgY3VycmVudCB3aW5kb3cgbG9jYXRpb24uXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJVdGlscy5nZXRIb21lcGFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY3VycmVudFVybCA9IG5ldyBVcmxTdHJpbmcod2luZG93LmxvY2F0aW9uLmhyZWYpO1xyXG4gICAgICAgIHZhciB1cmxDb21wb25lbnRzID0gY3VycmVudFVybC5nZXRVcmxDb21wb25lbnRzKCk7XHJcbiAgICAgICAgcmV0dXJuIHVybENvbXBvbmVudHMuUHJvdG9jb2wgKyBcIi8vXCIgKyB1cmxDb21wb25lbnRzLkhvc3ROYW1lQW5kUG9ydCArIFwiL1wiO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBiZXN0IGNvbXBhdGlibGUgbmV0d29yayBjbGllbnQgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBCcm93c2VyVXRpbHMuZ2V0QnJvd3Nlck5ldHdvcmtDbGllbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5mZXRjaCAmJiB3aW5kb3cuSGVhZGVycykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEZldGNoQ2xpZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFhockNsaWVudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRocm93cyBlcnJvciBpZiB3ZSBoYXZlIGNvbXBsZXRlZCBhbiBhdXRoIGFuZCBhcmVcclxuICAgICAqIGF0dGVtcHRpbmcgYW5vdGhlciBhdXRoIHJlcXVlc3QgaW5zaWRlIGFuIGlmcmFtZS5cclxuICAgICAqL1xyXG4gICAgQnJvd3NlclV0aWxzLmJsb2NrUmVsb2FkSW5IaWRkZW5JZnJhbWVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBpc1Jlc3BvbnNlSGFzaCA9IFVybFN0cmluZy5oYXNoQ29udGFpbnNLbm93blByb3BlcnRpZXMod2luZG93LmxvY2F0aW9uLmhhc2gpO1xyXG4gICAgICAgIC8vIHJldHVybiBhbiBlcnJvciBpZiBjYWxsZWQgZnJvbSB0aGUgaGlkZGVuIGlmcmFtZSBjcmVhdGVkIGJ5IHRoZSBtc2FsIGpzIHNpbGVudCBjYWxsc1xyXG4gICAgICAgIGlmIChpc1Jlc3BvbnNlSGFzaCAmJiBCcm93c2VyVXRpbHMuaXNJbklmcmFtZSgpKSB7XHJcbiAgICAgICAgICAgIHRocm93IEJyb3dzZXJBdXRoRXJyb3IuY3JlYXRlQmxvY2tSZWxvYWRJbkhpZGRlbklmcmFtZUVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQmxvY2sgcmVkaXJlY3Qgb3BlcmF0aW9ucyBpbiBpZnJhbWVzIHVubGVzcyBleHBsaWNpdGx5IGFsbG93ZWRcclxuICAgICAqIEBwYXJhbSBpbnRlcmFjdGlvblR5cGUgSW50ZXJhY3Rpb24gdHlwZSBmb3IgdGhlIHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSBhbGxvd1JlZGlyZWN0SW5JZnJhbWUgQ29uZmlnIHZhbHVlIHRvIGFsbG93IHJlZGlyZWN0cyB3aGVuIGFwcCBpcyBpbnNpZGUgYW4gaWZyYW1lXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJVdGlscy5ibG9ja1JlZGlyZWN0SW5JZnJhbWUgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25UeXBlLCBhbGxvd1JlZGlyZWN0SW5JZnJhbWUpIHtcclxuICAgICAgICB2YXIgaXNJZnJhbWVkQXBwID0gQnJvd3NlclV0aWxzLmlzSW5JZnJhbWUoKTtcclxuICAgICAgICBpZiAoaW50ZXJhY3Rpb25UeXBlID09PSBJbnRlcmFjdGlvblR5cGUuUmVkaXJlY3QgJiYgaXNJZnJhbWVkQXBwICYmICFhbGxvd1JlZGlyZWN0SW5JZnJhbWUpIHtcclxuICAgICAgICAgICAgLy8gSWYgd2UgYXJlIG5vdCBpbiB0b3AgZnJhbWUsIHdlIHNob3VsZG4ndCByZWRpcmVjdC4gVGhpcyBpcyBhbHNvIGhhbmRsZWQgYnkgdGhlIHNlcnZpY2UuXHJcbiAgICAgICAgICAgIHRocm93IEJyb3dzZXJBdXRoRXJyb3IuY3JlYXRlUmVkaXJlY3RJbklmcmFtZUVycm9yKGlzSWZyYW1lZEFwcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQmxvY2sgcmVkaXJlY3RVcmkgbG9hZGVkIGluIHBvcHVwIGZyb20gY2FsbGluZyBBY3F1aXJlVG9rZW4gQVBJc1xyXG4gICAgICovXHJcbiAgICBCcm93c2VyVXRpbHMuYmxvY2tBY3F1aXJlVG9rZW5JblBvcHVwcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBQb3B1cHMgb3BlbmVkIGJ5IG1zYWwgcG9wdXAgQVBJcyBhcmUgZ2l2ZW4gYSBuYW1lIHRoYXQgc3RhcnRzIHdpdGggXCJtc2FsLlwiXHJcbiAgICAgICAgaWYgKEJyb3dzZXJVdGlscy5pc0luUG9wdXAoKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZUJsb2NrQWNxdWlyZVRva2VuSW5Qb3B1cHNFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRocm93cyBlcnJvciBpZiB0b2tlbiByZXF1ZXN0cyBhcmUgbWFkZSBpbiBub24tYnJvd3NlciBlbnZpcm9ubWVudFxyXG4gICAgICogQHBhcmFtIGlzQnJvd3NlckVudmlyb25tZW50IEZsYWcgaW5kaWNhdGluZyBpZiBlbnZpcm9ubWVudCBpcyBhIGJyb3dzZXIuXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJVdGlscy5ibG9ja05vbkJyb3dzZXJFbnZpcm9ubWVudCA9IGZ1bmN0aW9uIChpc0Jyb3dzZXJFbnZpcm9ubWVudCkge1xyXG4gICAgICAgIGlmICghaXNCcm93c2VyRW52aXJvbm1lbnQpIHtcclxuICAgICAgICAgICAgdGhyb3cgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVOb25Ccm93c2VyRW52aXJvbm1lbnRFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYm9vbGVhbiBvZiB3aGV0aGVyIGN1cnJlbnQgYnJvd3NlciBpcyBhbiBJbnRlcm5ldCBFeHBsb3JlciBvciBFZGdlIGJyb3dzZXIuXHJcbiAgICAgKi9cclxuICAgIEJyb3dzZXJVdGlscy5kZXRlY3RJRU9yRWRnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcclxuICAgICAgICB2YXIgbXNpZSA9IHVhLmluZGV4T2YoXCJNU0lFIFwiKTtcclxuICAgICAgICB2YXIgbXNpZTExID0gdWEuaW5kZXhPZihcIlRyaWRlbnQvXCIpO1xyXG4gICAgICAgIHZhciBtc2VkZ2UgPSB1YS5pbmRleE9mKFwiRWRnZS9cIik7XHJcbiAgICAgICAgdmFyIGlzSUUgPSBtc2llID4gMCB8fCBtc2llMTEgPiAwO1xyXG4gICAgICAgIHZhciBpc0VkZ2UgPSBtc2VkZ2UgPiAwO1xyXG4gICAgICAgIHJldHVybiBpc0lFIHx8IGlzRWRnZTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQnJvd3NlclV0aWxzO1xyXG59KCkpO1xuXG5leHBvcnQgeyBCcm93c2VyVXRpbHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJyb3dzZXJVdGlscy5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYyLjIyLjEgMjAyMi0wMy0wNyAqL1xuJ3VzZSBzdHJpY3QnO1xuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbnZhciBOYXZpZ2F0aW9uQ2xpZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gTmF2aWdhdGlvbkNsaWVudCgpIHtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTmF2aWdhdGVzIHRvIG90aGVyIHBhZ2VzIHdpdGhpbiB0aGUgc2FtZSB3ZWIgYXBwbGljYXRpb25cclxuICAgICAqIEBwYXJhbSB1cmxcclxuICAgICAqIEBwYXJhbSBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIE5hdmlnYXRpb25DbGllbnQucHJvdG90eXBlLm5hdmlnYXRlSW50ZXJuYWwgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIE5hdmlnYXRpb25DbGllbnQuZGVmYXVsdE5hdmlnYXRlV2luZG93KHVybCwgb3B0aW9ucyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBOYXZpZ2F0ZXMgdG8gb3RoZXIgcGFnZXMgb3V0c2lkZSB0aGUgd2ViIGFwcGxpY2F0aW9uIGkuZS4gdGhlIElkZW50aXR5IFByb3ZpZGVyXHJcbiAgICAgKiBAcGFyYW0gdXJsXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBOYXZpZ2F0aW9uQ2xpZW50LnByb3RvdHlwZS5uYXZpZ2F0ZUV4dGVybmFsID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiBOYXZpZ2F0aW9uQ2xpZW50LmRlZmF1bHROYXZpZ2F0ZVdpbmRvdyh1cmwsIG9wdGlvbnMpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBuYXZpZ2F0aW9uIGltcGxlbWVudGF0aW9uIGludm9rZWQgYnkgdGhlIGludGVybmFsIGFuZCBleHRlcm5hbCBmdW5jdGlvbnNcclxuICAgICAqIEBwYXJhbSB1cmxcclxuICAgICAqIEBwYXJhbSBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIE5hdmlnYXRpb25DbGllbnQuZGVmYXVsdE5hdmlnYXRlV2luZG93ID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xyXG4gICAgICAgIGlmIChvcHRpb25zLm5vSGlzdG9yeSkge1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh1cmwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbih1cmwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xyXG4gICAgICAgICAgICB9LCBvcHRpb25zLnRpbWVvdXQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBOYXZpZ2F0aW9uQ2xpZW50O1xyXG59KCkpO1xuXG5leHBvcnQgeyBOYXZpZ2F0aW9uQ2xpZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1OYXZpZ2F0aW9uQ2xpZW50LmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjIuMjIuMSAyMDIyLTAzLTA3ICovXG4ndXNlIHN0cmljdCc7XG4vKiBlc2xpbnQtZGlzYWJsZSBoZWFkZXIvaGVhZGVyICovXHJcbnZhciBuYW1lID0gXCJAYXp1cmUvbXNhbC1icm93c2VyXCI7XHJcbnZhciB2ZXJzaW9uID0gXCIyLjIyLjFcIjtcblxuZXhwb3J0IHsgbmFtZSwgdmVyc2lvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFja2FnZU1ldGFkYXRhLmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjIuMjIuMSAyMDIyLTAzLTA3ICovXG4ndXNlIHN0cmljdCc7XG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxudmFyIEV2ZW50VHlwZTtcclxuKGZ1bmN0aW9uIChFdmVudFR5cGUpIHtcclxuICAgIEV2ZW50VHlwZVtcIkFDQ09VTlRfQURERURcIl0gPSBcIm1zYWw6YWNjb3VudEFkZGVkXCI7XHJcbiAgICBFdmVudFR5cGVbXCJBQ0NPVU5UX1JFTU9WRURcIl0gPSBcIm1zYWw6YWNjb3VudFJlbW92ZWRcIjtcclxuICAgIEV2ZW50VHlwZVtcIkxPR0lOX1NUQVJUXCJdID0gXCJtc2FsOmxvZ2luU3RhcnRcIjtcclxuICAgIEV2ZW50VHlwZVtcIkxPR0lOX1NVQ0NFU1NcIl0gPSBcIm1zYWw6bG9naW5TdWNjZXNzXCI7XHJcbiAgICBFdmVudFR5cGVbXCJMT0dJTl9GQUlMVVJFXCJdID0gXCJtc2FsOmxvZ2luRmFpbHVyZVwiO1xyXG4gICAgRXZlbnRUeXBlW1wiQUNRVUlSRV9UT0tFTl9TVEFSVFwiXSA9IFwibXNhbDphY3F1aXJlVG9rZW5TdGFydFwiO1xyXG4gICAgRXZlbnRUeXBlW1wiQUNRVUlSRV9UT0tFTl9TVUNDRVNTXCJdID0gXCJtc2FsOmFjcXVpcmVUb2tlblN1Y2Nlc3NcIjtcclxuICAgIEV2ZW50VHlwZVtcIkFDUVVJUkVfVE9LRU5fRkFJTFVSRVwiXSA9IFwibXNhbDphY3F1aXJlVG9rZW5GYWlsdXJlXCI7XHJcbiAgICBFdmVudFR5cGVbXCJBQ1FVSVJFX1RPS0VOX05FVFdPUktfU1RBUlRcIl0gPSBcIm1zYWw6YWNxdWlyZVRva2VuRnJvbU5ldHdvcmtTdGFydFwiO1xyXG4gICAgRXZlbnRUeXBlW1wiU1NPX1NJTEVOVF9TVEFSVFwiXSA9IFwibXNhbDpzc29TaWxlbnRTdGFydFwiO1xyXG4gICAgRXZlbnRUeXBlW1wiU1NPX1NJTEVOVF9TVUNDRVNTXCJdID0gXCJtc2FsOnNzb1NpbGVudFN1Y2Nlc3NcIjtcclxuICAgIEV2ZW50VHlwZVtcIlNTT19TSUxFTlRfRkFJTFVSRVwiXSA9IFwibXNhbDpzc29TaWxlbnRGYWlsdXJlXCI7XHJcbiAgICBFdmVudFR5cGVbXCJBQ1FVSVJFX1RPS0VOX0JZX0NPREVfU1RBUlRcIl0gPSBcIm1zYWw6YWNxdWlyZVRva2VuQnlDb2RlU3RhcnRcIjtcclxuICAgIEV2ZW50VHlwZVtcIkFDUVVJUkVfVE9LRU5fQllfQ09ERV9TVUNDRVNTXCJdID0gXCJtc2FsOmFjcXVpcmVUb2tlbkJ5Q29kZVN1Y2Nlc3NcIjtcclxuICAgIEV2ZW50VHlwZVtcIkFDUVVJUkVfVE9LRU5fQllfQ09ERV9GQUlMVVJFXCJdID0gXCJtc2FsOmFjcXVpcmVUb2tlbkJ5Q29kZUZhaWx1cmVcIjtcclxuICAgIEV2ZW50VHlwZVtcIkhBTkRMRV9SRURJUkVDVF9TVEFSVFwiXSA9IFwibXNhbDpoYW5kbGVSZWRpcmVjdFN0YXJ0XCI7XHJcbiAgICBFdmVudFR5cGVbXCJIQU5ETEVfUkVESVJFQ1RfRU5EXCJdID0gXCJtc2FsOmhhbmRsZVJlZGlyZWN0RW5kXCI7XHJcbiAgICBFdmVudFR5cGVbXCJQT1BVUF9PUEVORURcIl0gPSBcIm1zYWw6cG9wdXBPcGVuZWRcIjtcclxuICAgIEV2ZW50VHlwZVtcIkxPR09VVF9TVEFSVFwiXSA9IFwibXNhbDpsb2dvdXRTdGFydFwiO1xyXG4gICAgRXZlbnRUeXBlW1wiTE9HT1VUX1NVQ0NFU1NcIl0gPSBcIm1zYWw6bG9nb3V0U3VjY2Vzc1wiO1xyXG4gICAgRXZlbnRUeXBlW1wiTE9HT1VUX0ZBSUxVUkVcIl0gPSBcIm1zYWw6bG9nb3V0RmFpbHVyZVwiO1xyXG4gICAgRXZlbnRUeXBlW1wiTE9HT1VUX0VORFwiXSA9IFwibXNhbDpsb2dvdXRFbmRcIjtcclxufSkoRXZlbnRUeXBlIHx8IChFdmVudFR5cGUgPSB7fSkpO1xuXG5leHBvcnQgeyBFdmVudFR5cGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV2ZW50VHlwZS5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYyLjIyLjEgMjAyMi0wMy0wNyAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgQWNjb3VudEVudGl0eSwgQ2FjaGVNYW5hZ2VyIH0gZnJvbSAnQGF6dXJlL21zYWwtY29tbW9uJztcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gJy4vRXZlbnRUeXBlLmpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbnZhciBFdmVudEhhbmRsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBFdmVudEhhbmRsZXIobG9nZ2VyLCBicm93c2VyQ3J5cHRvKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudENhbGxiYWNrcyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcclxuICAgICAgICB0aGlzLmJyb3dzZXJDcnlwdG8gPSBicm93c2VyQ3J5cHRvO1xyXG4gICAgICAgIHRoaXMubGlzdGVuaW5nVG9TdG9yYWdlRXZlbnRzID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVBY2NvdW50Q2FjaGVDaGFuZ2UgPSB0aGlzLmhhbmRsZUFjY291bnRDYWNoZUNoYW5nZS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIGV2ZW50IGNhbGxiYWNrcyB0byBhcnJheVxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrXHJcbiAgICAgKi9cclxuICAgIEV2ZW50SGFuZGxlci5wcm90b3R5cGUuYWRkRXZlbnRDYWxsYmFjayA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIHZhciBjYWxsYmFja0lkID0gdGhpcy5icm93c2VyQ3J5cHRvLmNyZWF0ZU5ld0d1aWQoKTtcclxuICAgICAgICAgICAgdGhpcy5ldmVudENhbGxiYWNrcy5zZXQoY2FsbGJhY2tJZCwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiRXZlbnQgY2FsbGJhY2sgcmVnaXN0ZXJlZCB3aXRoIGlkOiBcIiArIGNhbGxiYWNrSWQpO1xyXG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2tJZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGNhbGxiYWNrIHdpdGggcHJvdmlkZWQgaWQgZnJvbSBjYWxsYmFjayBhcnJheVxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrSWRcclxuICAgICAqL1xyXG4gICAgRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5yZW1vdmVFdmVudENhbGxiYWNrID0gZnVuY3Rpb24gKGNhbGxiYWNrSWQpIHtcclxuICAgICAgICB0aGlzLmV2ZW50Q2FsbGJhY2tzLmRlbGV0ZShjYWxsYmFja0lkKTtcclxuICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiRXZlbnQgY2FsbGJhY2sgXCIgKyBjYWxsYmFja0lkICsgXCIgcmVtb3ZlZC5cIik7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIGV2ZW50IGxpc3RlbmVyIHRoYXQgZW1pdHMgYW4gZXZlbnQgd2hlbiBhIHVzZXIgYWNjb3VudCBpcyBhZGRlZCBvciByZW1vdmVkIGZyb20gbG9jYWxzdG9yYWdlIGluIGEgZGlmZmVyZW50IGJyb3dzZXIgdGFiIG9yIHdpbmRvd1xyXG4gICAgICovXHJcbiAgICBFdmVudEhhbmRsZXIucHJvdG90eXBlLmVuYWJsZUFjY291bnRTdG9yYWdlRXZlbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmxpc3RlbmluZ1RvU3RvcmFnZUV2ZW50cykge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiQWRkaW5nIGFjY291bnQgc3RvcmFnZSBsaXN0ZW5lci5cIik7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdGVuaW5nVG9TdG9yYWdlRXZlbnRzID0gdHJ1ZTtcclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsIHRoaXMuaGFuZGxlQWNjb3VudENhY2hlQ2hhbmdlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJBY2NvdW50IHN0b3JhZ2UgbGlzdGVuZXIgYWxyZWFkeSByZWdpc3RlcmVkLlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGV2ZW50IGxpc3RlbmVyIHRoYXQgZW1pdHMgYW4gZXZlbnQgd2hlbiBhIHVzZXIgYWNjb3VudCBpcyBhZGRlZCBvciByZW1vdmVkIGZyb20gbG9jYWxzdG9yYWdlIGluIGEgZGlmZmVyZW50IGJyb3dzZXIgdGFiIG9yIHdpbmRvd1xyXG4gICAgICovXHJcbiAgICBFdmVudEhhbmRsZXIucHJvdG90eXBlLmRpc2FibGVBY2NvdW50U3RvcmFnZUV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmxpc3RlbmluZ1RvU3RvcmFnZUV2ZW50cykge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiUmVtb3ZpbmcgYWNjb3VudCBzdG9yYWdlIGxpc3RlbmVyLlwiKTtcclxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsIHRoaXMuaGFuZGxlQWNjb3VudENhY2hlQ2hhbmdlKTtcclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5pbmdUb1N0b3JhZ2VFdmVudHMgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJObyBhY2NvdW50IHN0b3JhZ2UgbGlzdGVuZXIgcmVnaXN0ZXJlZC5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRW1pdHMgZXZlbnRzIGJ5IGNhbGxpbmcgY2FsbGJhY2sgd2l0aCBldmVudCBtZXNzYWdlXHJcbiAgICAgKiBAcGFyYW0gZXZlbnRUeXBlXHJcbiAgICAgKiBAcGFyYW0gaW50ZXJhY3Rpb25UeXBlXHJcbiAgICAgKiBAcGFyYW0gcGF5bG9hZFxyXG4gICAgICogQHBhcmFtIGVycm9yXHJcbiAgICAgKi9cclxuICAgIEV2ZW50SGFuZGxlci5wcm90b3R5cGUuZW1pdEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50VHlwZSwgaW50ZXJhY3Rpb25UeXBlLCBwYXlsb2FkLCBlcnJvcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgdmFyIG1lc3NhZ2VfMSA9IHtcclxuICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogZXZlbnRUeXBlLFxyXG4gICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25UeXBlOiBpbnRlcmFjdGlvblR5cGUgfHwgbnVsbCxcclxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHBheWxvYWQgfHwgbnVsbCxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvciB8fCBudWxsLFxyXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJFbWl0dGluZyBldmVudDogXCIgKyBldmVudFR5cGUpO1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50Q2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrLCBjYWxsYmFja0lkKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIudmVyYm9zZShcIkVtaXR0aW5nIGV2ZW50IHRvIGNhbGxiYWNrIFwiICsgY2FsbGJhY2tJZCArIFwiOiBcIiArIGV2ZW50VHlwZSk7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseShudWxsLCBbbWVzc2FnZV8xXSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEVtaXQgYWNjb3VudCBhZGRlZC9yZW1vdmVkIGV2ZW50cyB3aGVuIGNhY2hlZCBhY2NvdW50cyBhcmUgY2hhbmdlZCBpbiBhIGRpZmZlcmVudCB0YWIgb3IgZnJhbWVcclxuICAgICAqL1xyXG4gICAgRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVBY2NvdW50Q2FjaGVDaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBjYWNoZVZhbHVlID0gZS5uZXdWYWx1ZSB8fCBlLm9sZFZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoIWNhY2hlVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcGFyc2VkVmFsdWUgPSBKU09OLnBhcnNlKGNhY2hlVmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhcnNlZFZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICFBY2NvdW50RW50aXR5LmlzQWNjb3VudEVudGl0eShwYXJzZWRWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgYWNjb3VudEVudGl0eSA9IENhY2hlTWFuYWdlci50b09iamVjdChuZXcgQWNjb3VudEVudGl0eSgpLCBwYXJzZWRWYWx1ZSk7XHJcbiAgICAgICAgICAgIHZhciBhY2NvdW50SW5mbyA9IGFjY291bnRFbnRpdHkuZ2V0QWNjb3VudEluZm8oKTtcclxuICAgICAgICAgICAgaWYgKCFlLm9sZFZhbHVlICYmIGUubmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJBY2NvdW50IHdhcyBhZGRlZCB0byBjYWNoZSBpbiBhIGRpZmZlcmVudCB3aW5kb3dcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRFdmVudChFdmVudFR5cGUuQUNDT1VOVF9BRERFRCwgdW5kZWZpbmVkLCBhY2NvdW50SW5mbyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIWUubmV3VmFsdWUgJiYgZS5vbGRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcIkFjY291bnQgd2FzIHJlbW92ZWQgZnJvbSBjYWNoZSBpbiBhIGRpZmZlcmVudCB3aW5kb3dcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRFdmVudChFdmVudFR5cGUuQUNDT1VOVF9SRU1PVkVELCB1bmRlZmluZWQsIGFjY291bnRJbmZvKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBFdmVudEhhbmRsZXI7XHJcbn0oKSk7XG5cbmV4cG9ydCB7IEV2ZW50SGFuZGxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXZlbnRIYW5kbGVyLmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjIuMjIuMSAyMDIyLTAzLTA3ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBfX2V4dGVuZHMsIF9fYXdhaXRlciwgX19nZW5lcmF0b3IsIF9fYXNzaWduIH0gZnJvbSAnLi4vX3ZpcnR1YWwvX3RzbGliLmpzJztcbmltcG9ydCB7IFVybFN0cmluZywgQ29uc3RhbnRzLCBBdXRob3JpemF0aW9uQ29kZUNsaWVudCwgQXV0aG9yaXR5LCBBdXRob3JpdHlGYWN0b3J5LCBSZXNwb25zZU1vZGUsIFN0cmluZ1V0aWxzLCBQcm90b2NvbFV0aWxzIH0gZnJvbSAnQGF6dXJlL21zYWwtY29tbW9uJztcbmltcG9ydCB7IEJhc2VJbnRlcmFjdGlvbkNsaWVudCB9IGZyb20gJy4vQmFzZUludGVyYWN0aW9uQ2xpZW50LmpzJztcbmltcG9ydCB7IEJyb3dzZXJDb25zdGFudHMgfSBmcm9tICcuLi91dGlscy9Ccm93c2VyQ29uc3RhbnRzLmpzJztcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tICcuLi9wYWNrYWdlTWV0YWRhdGEuanMnO1xuaW1wb3J0IHsgQnJvd3NlckF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3IuanMnO1xuaW1wb3J0IHsgQnJvd3NlclByb3RvY29sVXRpbHMgfSBmcm9tICcuLi91dGlscy9Ccm93c2VyUHJvdG9jb2xVdGlscy5qcyc7XG5pbXBvcnQgeyBCcm93c2VyVXRpbHMgfSBmcm9tICcuLi91dGlscy9Ccm93c2VyVXRpbHMuanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIERlZmluZXMgdGhlIGNsYXNzIHN0cnVjdHVyZSBhbmQgaGVscGVyIGZ1bmN0aW9ucyB1c2VkIGJ5IHRoZSBcInN0YW5kYXJkXCIsIG5vbi1icm9rZXJlZCBhdXRoIGZsb3dzIChwb3B1cCwgcmVkaXJlY3QsIHNpbGVudCAoUlQpLCBzaWxlbnQgKGlmcmFtZSkpXHJcbiAqL1xyXG52YXIgU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudChjb25maWcsIHN0b3JhZ2VJbXBsLCBicm93c2VyQ3J5cHRvLCBsb2dnZXIsIGV2ZW50SGFuZGxlciwgbmF2aWdhdGlvbkNsaWVudCwgY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZywgc3RvcmFnZUltcGwsIGJyb3dzZXJDcnlwdG8sIGxvZ2dlciwgZXZlbnRIYW5kbGVyLCBjb3JyZWxhdGlvbklkKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLm5hdmlnYXRpb25DbGllbnQgPSBuYXZpZ2F0aW9uQ2xpZW50O1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGVzIGFuIGF1dGggY29kZSByZXF1ZXN0IHRpZWQgdG8gdGhlIHVybCByZXF1ZXN0LlxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZUF1dGhvcml6YXRpb25Db2RlUmVxdWVzdCA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2VuZXJhdGVkUGtjZVBhcmFtcywgYXV0aENvZGVSZXF1ZXN0O1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiaW5pdGlhbGl6ZUF1dGhvcml6YXRpb25SZXF1ZXN0IGNhbGxlZFwiLCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmJyb3dzZXJDcnlwdG8uZ2VuZXJhdGVQa2NlQ29kZXMoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZWRQa2NlUGFyYW1zID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRoQ29kZVJlcXVlc3QgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcmVxdWVzdCksIHsgcmVkaXJlY3RVcmk6IHJlcXVlc3QucmVkaXJlY3RVcmksIGNvZGU6IFwiXCIsIGNvZGVWZXJpZmllcjogZ2VuZXJhdGVkUGtjZVBhcmFtcy52ZXJpZmllciB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5jb2RlQ2hhbGxlbmdlID0gZ2VuZXJhdGVkUGtjZVBhcmFtcy5jaGFsbGVuZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3QuY29kZUNoYWxsZW5nZU1ldGhvZCA9IENvbnN0YW50cy5TMjU2X0NPREVfQ0hBTExFTkdFX01FVEhPRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGF1dGhDb2RlUmVxdWVzdF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZXIgZm9yIHRoZSBsb2dvdXQgcmVxdWVzdC5cclxuICAgICAqIEBwYXJhbSBsb2dvdXRSZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIFN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnQucHJvdG90eXBlLmluaXRpYWxpemVMb2dvdXRSZXF1ZXN0ID0gZnVuY3Rpb24gKGxvZ291dFJlcXVlc3QpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiaW5pdGlhbGl6ZUxvZ291dFJlcXVlc3QgY2FsbGVkXCIsIGxvZ291dFJlcXVlc3QgPT09IG51bGwgfHwgbG9nb3V0UmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogbG9nb3V0UmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICB2YXIgdmFsaWRMb2dvdXRSZXF1ZXN0ID0gX19hc3NpZ24oeyBjb3JyZWxhdGlvbklkOiB0aGlzLmJyb3dzZXJDcnlwdG8uY3JlYXRlTmV3R3VpZCgpIH0sIGxvZ291dFJlcXVlc3QpO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNldCBsb2dvdXRfaGludCB0byBiZSBsb2dpbl9oaW50IGZyb20gSUQgVG9rZW4gQ2xhaW1zIGlmIHByZXNlbnRcclxuICAgICAgICAgKiBhbmQgbG9nb3V0SGludCBhdHRyaWJ1dGUgd2Fzbid0IG1hbnVhbGx5IHNldCBpbiBsb2dvdXQgcmVxdWVzdFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGlmIChsb2dvdXRSZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgIC8vIElmIGxvZ291dEhpbnQgaXNuJ3Qgc2V0IGFuZCBhbiBhY2NvdW50IHdhcyBwYXNzZWQgaW4sIHRyeSB0byBleHRyYWN0IGxvZ291dEhpbnQgZnJvbSBJRCBUb2tlbiBDbGFpbXNcclxuICAgICAgICAgICAgaWYgKCFsb2dvdXRSZXF1ZXN0LmxvZ291dEhpbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChsb2dvdXRSZXF1ZXN0LmFjY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbG9nb3V0SGludCA9IHRoaXMuZ2V0TG9nb3V0SGludEZyb21JZFRva2VuQ2xhaW1zKGxvZ291dFJlcXVlc3QuYWNjb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvZ291dEhpbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlNldHRpbmcgbG9nb3V0SGludCB0byBsb2dpbl9oaW50IElEIFRva2VuIENsYWltIHZhbHVlIGZvciB0aGUgYWNjb3VudCBwcm92aWRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRMb2dvdXRSZXF1ZXN0LmxvZ291dEhpbnQgPSBsb2dvdXRIaW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJsb2dvdXRIaW50IHdhcyBub3Qgc2V0IGFuZCBhY2NvdW50IHdhcyBub3QgcGFzc2VkIGludG8gbG9nb3V0IHJlcXVlc3QsIGxvZ291dEhpbnQgd2lsbCBub3QgYmUgc2V0XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcImxvZ291dEhpbnQgaGFzIGFscmVhZHkgYmVlbiBzZXQgaW4gbG9nb3V0UmVxdWVzdFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcImxvZ291dEhpbnQgd2lsbCBub3QgYmUgc2V0IHNpbmNlIG5vIGxvZ291dCByZXF1ZXN0IHdhcyBjb25maWd1cmVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIE9ubHkgc2V0IHJlZGlyZWN0IHVyaSBpZiBsb2dvdXQgcmVxdWVzdCBpc24ndCBwcm92aWRlZCBvciB0aGUgc2V0IHVyaSBpc24ndCBudWxsLlxyXG4gICAgICAgICAqIE90aGVyd2lzZSwgdXNlIHBhc3NlZCB1cmksIGNvbmZpZywgb3IgY3VycmVudCBwYWdlLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGlmICghbG9nb3V0UmVxdWVzdCB8fCBsb2dvdXRSZXF1ZXN0LnBvc3RMb2dvdXRSZWRpcmVjdFVyaSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAobG9nb3V0UmVxdWVzdCAmJiBsb2dvdXRSZXF1ZXN0LnBvc3RMb2dvdXRSZWRpcmVjdFVyaSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlNldHRpbmcgcG9zdExvZ291dFJlZGlyZWN0VXJpIHRvIHVyaSBzZXQgb24gbG9nb3V0IHJlcXVlc3RcIiwgdmFsaWRMb2dvdXRSZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgdmFsaWRMb2dvdXRSZXF1ZXN0LnBvc3RMb2dvdXRSZWRpcmVjdFVyaSA9IFVybFN0cmluZy5nZXRBYnNvbHV0ZVVybChsb2dvdXRSZXF1ZXN0LnBvc3RMb2dvdXRSZWRpcmVjdFVyaSwgQnJvd3NlclV0aWxzLmdldEN1cnJlbnRVcmkoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5jb25maWcuYXV0aC5wb3N0TG9nb3V0UmVkaXJlY3RVcmkgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJwb3N0TG9nb3V0UmVkaXJlY3RVcmkgY29uZmlndXJlZCBhcyBudWxsIGFuZCBubyB1cmkgc2V0IG9uIHJlcXVlc3QsIG5vdCBwYXNzaW5nIHBvc3QgbG9nb3V0IHJlZGlyZWN0XCIsIHZhbGlkTG9nb3V0UmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmNvbmZpZy5hdXRoLnBvc3RMb2dvdXRSZWRpcmVjdFVyaSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlNldHRpbmcgcG9zdExvZ291dFJlZGlyZWN0VXJpIHRvIGNvbmZpZ3VyZWQgdXJpXCIsIHZhbGlkTG9nb3V0UmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAgICAgICAgIHZhbGlkTG9nb3V0UmVxdWVzdC5wb3N0TG9nb3V0UmVkaXJlY3RVcmkgPSBVcmxTdHJpbmcuZ2V0QWJzb2x1dGVVcmwodGhpcy5jb25maWcuYXV0aC5wb3N0TG9nb3V0UmVkaXJlY3RVcmksIEJyb3dzZXJVdGlscy5nZXRDdXJyZW50VXJpKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlNldHRpbmcgcG9zdExvZ291dFJlZGlyZWN0VXJpIHRvIGN1cnJlbnQgcGFnZVwiLCB2YWxpZExvZ291dFJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgICAgICB2YWxpZExvZ291dFJlcXVlc3QucG9zdExvZ291dFJlZGlyZWN0VXJpID0gVXJsU3RyaW5nLmdldEFic29sdXRlVXJsKEJyb3dzZXJVdGlscy5nZXRDdXJyZW50VXJpKCksIEJyb3dzZXJVdGlscy5nZXRDdXJyZW50VXJpKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwicG9zdExvZ291dFJlZGlyZWN0VXJpIHBhc3NlZCBhcyBudWxsLCBub3Qgc2V0dGluZyBwb3N0IGxvZ291dCByZWRpcmVjdCB1cmlcIiwgdmFsaWRMb2dvdXRSZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsaWRMb2dvdXRSZXF1ZXN0O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUGFyc2VzIGxvZ2luX2hpbnQgSUQgVG9rZW4gQ2xhaW0gb3V0IG9mIEFjY291bnRJbmZvIG9iamVjdCB0byBiZSB1c2VkIGFzXHJcbiAgICAgKiBsb2dvdXRfaGludCBpbiBlbmQgc2Vzc2lvbiByZXF1ZXN0LlxyXG4gICAgICogQHBhcmFtIGFjY291bnRcclxuICAgICAqL1xyXG4gICAgU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudC5wcm90b3R5cGUuZ2V0TG9nb3V0SGludEZyb21JZFRva2VuQ2xhaW1zID0gZnVuY3Rpb24gKGFjY291bnQpIHtcclxuICAgICAgICB2YXIgaWRUb2tlbkNsYWltcyA9IGFjY291bnQuaWRUb2tlbkNsYWltcztcclxuICAgICAgICBpZiAoaWRUb2tlbkNsYWltcykge1xyXG4gICAgICAgICAgICBpZiAoaWRUb2tlbkNsYWltcy5sb2dpbl9oaW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaWRUb2tlbkNsYWltcy5sb2dpbl9oaW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlRoZSBJRCBUb2tlbiBDbGFpbXMgdGllZCB0byB0aGUgcHJvdmlkZWQgYWNjb3VudCBkbyBub3QgY29udGFpbiBhIGxvZ2luX2hpbnQgY2xhaW0sIGxvZ291dEhpbnQgd2lsbCBub3QgYmUgYWRkZWQgdG8gbG9nb3V0IHJlcXVlc3RcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJUaGUgcHJvdmlkZWQgYWNjb3VudCBkb2VzIG5vdCBjb250YWluIElEIFRva2VuIENsYWltcywgbG9nb3V0SGludCB3aWxsIG5vdCBiZSBhZGRlZCB0byBsb2dvdXQgcmVxdWVzdFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIEF1dGhvcml6YXRpb24gQ29kZSBDbGllbnQgd2l0aCB0aGUgZ2l2ZW4gYXV0aG9yaXR5LCBvciB0aGUgZGVmYXVsdCBhdXRob3JpdHkuXHJcbiAgICAgKiBAcGFyYW0gc2VydmVyVGVsZW1ldHJ5TWFuYWdlclxyXG4gICAgICogQHBhcmFtIGF1dGhvcml0eVVybFxyXG4gICAgICovXHJcbiAgICBTdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50LnByb3RvdHlwZS5jcmVhdGVBdXRoQ29kZUNsaWVudCA9IGZ1bmN0aW9uIChzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLCBhdXRob3JpdHlVcmwsIHJlcXVlc3RBenVyZUNsb3VkT3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNsaWVudENvbmZpZztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5nZXRDbGllbnRDb25maWd1cmF0aW9uKHNlcnZlclRlbGVtZXRyeU1hbmFnZXIsIGF1dGhvcml0eVVybCwgcmVxdWVzdEF6dXJlQ2xvdWRPcHRpb25zKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRDb25maWcgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBuZXcgQXV0aG9yaXphdGlvbkNvZGVDbGllbnQoY2xpZW50Q29uZmlnKV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIENsaWVudCBDb25maWd1cmF0aW9uIG9iamVjdCB3aXRoIHRoZSBnaXZlbiByZXF1ZXN0IGF1dGhvcml0eSwgb3IgdGhlIGRlZmF1bHQgYXV0aG9yaXR5LlxyXG4gICAgICogQHBhcmFtIHNlcnZlclRlbGVtZXRyeU1hbmFnZXJcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0QXV0aG9yaXR5XHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdENvcnJlbGF0aW9uSWRcclxuICAgICAqL1xyXG4gICAgU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudC5wcm90b3R5cGUuZ2V0Q2xpZW50Q29uZmlndXJhdGlvbiA9IGZ1bmN0aW9uIChzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLCByZXF1ZXN0QXV0aG9yaXR5LCByZXF1ZXN0QXp1cmVDbG91ZE9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBkaXNjb3ZlcmVkQXV0aG9yaXR5O1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiZ2V0Q2xpZW50Q29uZmlndXJhdGlvbiBjYWxsZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZ2V0RGlzY292ZXJlZEF1dGhvcml0eShyZXF1ZXN0QXV0aG9yaXR5LCByZXF1ZXN0QXp1cmVDbG91ZE9wdGlvbnMpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdmVyZWRBdXRob3JpdHkgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aE9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50SWQ6IHRoaXMuY29uZmlnLmF1dGguY2xpZW50SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcml0eTogZGlzY292ZXJlZEF1dGhvcml0eSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50Q2FwYWJpbGl0aWVzOiB0aGlzLmNvbmZpZy5hdXRoLmNsaWVudENhcGFiaWxpdGllc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3lzdGVtT3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlblJlbmV3YWxPZmZzZXRTZWNvbmRzOiB0aGlzLmNvbmZpZy5zeXN0ZW0udG9rZW5SZW5ld2FsT2Zmc2V0U2Vjb25kcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmVudENvcnNQcmVmbGlnaHQ6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlck9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyQ2FsbGJhY2s6IHRoaXMuY29uZmlnLnN5c3RlbS5sb2dnZXJPcHRpb25zLmxvZ2dlckNhbGxiYWNrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWlMb2dnaW5nRW5hYmxlZDogdGhpcy5jb25maWcuc3lzdGVtLmxvZ2dlck9wdGlvbnMucGlpTG9nZ2luZ0VuYWJsZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ0xldmVsOiB0aGlzLmNvbmZpZy5zeXN0ZW0ubG9nZ2VyT3B0aW9ucy5sb2dMZXZlbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVsYXRpb25JZDogdGhpcy5jb3JyZWxhdGlvbklkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcnlwdG9JbnRlcmZhY2U6IHRoaXMuYnJvd3NlckNyeXB0byxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXR3b3JrSW50ZXJmYWNlOiB0aGlzLm5ldHdvcmtDbGllbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZUludGVyZmFjZTogdGhpcy5icm93c2VyU3RvcmFnZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyOiBzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpYnJhcnlJbmZvOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNrdTogQnJvd3NlckNvbnN0YW50cy5NU0FMX1NLVSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVyc2lvbjogdmVyc2lvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3B1OiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvczogXCJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBoYXNoXHJcbiAgICAgKiBAcGFyYW0gaW50ZXJhY3Rpb25UeXBlXHJcbiAgICAgKi9cclxuICAgIFN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnQucHJvdG90eXBlLnZhbGlkYXRlQW5kRXh0cmFjdFN0YXRlRnJvbUhhc2ggPSBmdW5jdGlvbiAoaGFzaCwgaW50ZXJhY3Rpb25UeXBlLCByZXF1ZXN0Q29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJ2YWxpZGF0ZUFuZEV4dHJhY3RTdGF0ZUZyb21IYXNoIGNhbGxlZFwiLCByZXF1ZXN0Q29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgLy8gRGVzZXJpYWxpemUgaGFzaCBmcmFnbWVudCByZXNwb25zZSBwYXJhbWV0ZXJzLlxyXG4gICAgICAgIHZhciBzZXJ2ZXJQYXJhbXMgPSBVcmxTdHJpbmcuZ2V0RGVzZXJpYWxpemVkSGFzaChoYXNoKTtcclxuICAgICAgICBpZiAoIXNlcnZlclBhcmFtcy5zdGF0ZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZUhhc2hEb2VzTm90Q29udGFpblN0YXRlRXJyb3IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHBsYXRmb3JtU3RhdGVPYmogPSBCcm93c2VyUHJvdG9jb2xVdGlscy5leHRyYWN0QnJvd3NlclJlcXVlc3RTdGF0ZSh0aGlzLmJyb3dzZXJDcnlwdG8sIHNlcnZlclBhcmFtcy5zdGF0ZSk7XHJcbiAgICAgICAgaWYgKCFwbGF0Zm9ybVN0YXRlT2JqKSB7XHJcbiAgICAgICAgICAgIHRocm93IEJyb3dzZXJBdXRoRXJyb3IuY3JlYXRlVW5hYmxlVG9QYXJzZVN0YXRlRXJyb3IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBsYXRmb3JtU3RhdGVPYmouaW50ZXJhY3Rpb25UeXBlICE9PSBpbnRlcmFjdGlvblR5cGUpIHtcclxuICAgICAgICAgICAgdGhyb3cgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVTdGF0ZUludGVyYWN0aW9uVHlwZU1pc21hdGNoRXJyb3IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlJldHVybmluZyBzdGF0ZSBmcm9tIGhhc2hcIiwgcmVxdWVzdENvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIHJldHVybiBzZXJ2ZXJQYXJhbXMuc3RhdGU7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBVc2VkIHRvIGdldCBhIGRpc2NvdmVyZWQgdmVyc2lvbiBvZiB0aGUgZGVmYXVsdCBhdXRob3JpdHkuXHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdEF1dGhvcml0eVxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RDb3JyZWxhdGlvbklkXHJcbiAgICAgKi9cclxuICAgIFN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnQucHJvdG90eXBlLmdldERpc2NvdmVyZWRBdXRob3JpdHkgPSBmdW5jdGlvbiAocmVxdWVzdEF1dGhvcml0eSwgcmVxdWVzdEF6dXJlQ2xvdWRPcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgYXV0aG9yaXR5T3B0aW9ucywgdXNlckF1dGhvcml0eSwgYnVpbHRBdXRob3JpdHk7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJnZXREaXNjb3ZlcmVkQXV0aG9yaXR5IGNhbGxlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yaXR5T3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3RvY29sTW9kZTogdGhpcy5jb25maWcuYXV0aC5wcm90b2NvbE1vZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrbm93bkF1dGhvcml0aWVzOiB0aGlzLmNvbmZpZy5hdXRoLmtub3duQXV0aG9yaXRpZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG91ZERpc2NvdmVyeU1ldGFkYXRhOiB0aGlzLmNvbmZpZy5hdXRoLmNsb3VkRGlzY292ZXJ5TWV0YWRhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRob3JpdHlNZXRhZGF0YTogdGhpcy5jb25maWcuYXV0aC5hdXRob3JpdHlNZXRhZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlckF1dGhvcml0eSA9IHJlcXVlc3RBdXRob3JpdHkgPyByZXF1ZXN0QXV0aG9yaXR5IDogdGhpcy5jb25maWcuYXV0aC5hdXRob3JpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWx0QXV0aG9yaXR5ID0gQXV0aG9yaXR5LmdlbmVyYXRlQXV0aG9yaXR5KHVzZXJBdXRob3JpdHksIHJlcXVlc3RBenVyZUNsb3VkT3B0aW9ucyB8fCB0aGlzLmNvbmZpZy5hdXRoLmF6dXJlQ2xvdWRPcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIkNyZWF0aW5nIGRpc2NvdmVyZWQgYXV0aG9yaXR5IHdpdGggY29uZmlndXJlZCBhdXRob3JpdHlcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIEF1dGhvcml0eUZhY3RvcnkuY3JlYXRlRGlzY292ZXJlZEluc3RhbmNlKGJ1aWx0QXV0aG9yaXR5LCB0aGlzLmNvbmZpZy5zeXN0ZW0ubmV0d29ya0NsaWVudCwgdGhpcy5icm93c2VyU3RvcmFnZSwgYXV0aG9yaXR5T3B0aW9ucyldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIHRvIGluaXRpYWxpemUgcmVxdWlyZWQgcmVxdWVzdCBwYXJhbWV0ZXJzIGZvciBpbnRlcmFjdGl2ZSBBUElzIGFuZCBzc29TaWxlbnQoKVxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSBpbnRlcmFjdGlvblR5cGVcclxuICAgICAqL1xyXG4gICAgU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZUF1dGhvcml6YXRpb25SZXF1ZXN0ID0gZnVuY3Rpb24gKHJlcXVlc3QsIGludGVyYWN0aW9uVHlwZSkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJlZGlyZWN0VXJpLCBicm93c2VyU3RhdGUsIHN0YXRlLCB2YWxpZGF0ZWRSZXF1ZXN0LCBfYSwgYWNjb3VudCwgbGVnYWN5TG9naW5IaW50O1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiaW5pdGlhbGl6ZUF1dGhvcml6YXRpb25SZXF1ZXN0IGNhbGxlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3RVcmkgPSB0aGlzLmdldFJlZGlyZWN0VXJpKHJlcXVlc3QucmVkaXJlY3RVcmkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicm93c2VyU3RhdGUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvblR5cGU6IGludGVyYWN0aW9uVHlwZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IFByb3RvY29sVXRpbHMuc2V0UmVxdWVzdFN0YXRlKHRoaXMuYnJvd3NlckNyeXB0bywgKHJlcXVlc3QgJiYgcmVxdWVzdC5zdGF0ZSkgfHwgQ29uc3RhbnRzLkVNUFRZX1NUUklORywgYnJvd3NlclN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSBbe31dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmluaXRpYWxpemVCYXNlUmVxdWVzdChyZXF1ZXN0KV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZWRSZXF1ZXN0ID0gX19hc3NpZ24uYXBwbHkodm9pZCAwLCBbX19hc3NpZ24uYXBwbHkodm9pZCAwLCBfYS5jb25jYXQoW19iLnNlbnQoKV0pKSwgeyByZWRpcmVjdFVyaTogcmVkaXJlY3RVcmksIHN0YXRlOiBzdGF0ZSwgbm9uY2U6IHJlcXVlc3Qubm9uY2UgfHwgdGhpcy5icm93c2VyQ3J5cHRvLmNyZWF0ZU5ld0d1aWQoKSwgcmVzcG9uc2VNb2RlOiBSZXNwb25zZU1vZGUuRlJBR01FTlQgfV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50ID0gcmVxdWVzdC5hY2NvdW50IHx8IHRoaXMuYnJvd3NlclN0b3JhZ2UuZ2V0QWN0aXZlQWNjb3VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWNjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlNldHRpbmcgdmFsaWRhdGVkIHJlcXVlc3QgYWNjb3VudFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2VQaWkoXCJTZXR0aW5nIHZhbGlkYXRlZCByZXF1ZXN0IGFjY291bnQ6IFwiICsgYWNjb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZWRSZXF1ZXN0LmFjY291bnQgPSBhY2NvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBBREFML01TQUwgdjEgU1NPXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChTdHJpbmdVdGlscy5pc0VtcHR5KHZhbGlkYXRlZFJlcXVlc3QubG9naW5IaW50KSAmJiAhYWNjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVnYWN5TG9naW5IaW50ID0gdGhpcy5icm93c2VyU3RvcmFnZS5nZXRMZWdhY3lMb2dpbkhpbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsZWdhY3lMb2dpbkhpbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZWRSZXF1ZXN0LmxvZ2luSGludCA9IGxlZ2FjeUxvZ2luSGludDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdmFsaWRhdGVkUmVxdWVzdF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBTdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50O1xyXG59KEJhc2VJbnRlcmFjdGlvbkNsaWVudCkpO1xuXG5leHBvcnQgeyBTdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50LmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjIuMjIuMSAyMDIyLTAzLTA3ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBfX2F3YWl0ZXIsIF9fZ2VuZXJhdG9yLCBfX3NwcmVhZCwgX19hc3NpZ24gfSBmcm9tICcuLi9fdmlydHVhbC9fdHNsaWIuanMnO1xuaW1wb3J0IHsgQWNjb3VudEVudGl0eSwgQXV0aGVudGljYXRpb25TY2hlbWUsIENsaWVudENvbmZpZ3VyYXRpb25FcnJvciwgU3RyaW5nVXRpbHMsIFVybFN0cmluZywgU2VydmVyVGVsZW1ldHJ5TWFuYWdlciB9IGZyb20gJ0BhenVyZS9tc2FsLWNvbW1vbic7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSAnLi4vcGFja2FnZU1ldGFkYXRhLmpzJztcbmltcG9ydCB7IEJyb3dzZXJDb25zdGFudHMgfSBmcm9tICcuLi91dGlscy9Ccm93c2VyQ29uc3RhbnRzLmpzJztcbmltcG9ydCB7IEJyb3dzZXJVdGlscyB9IGZyb20gJy4uL3V0aWxzL0Jyb3dzZXJVdGlscy5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgQmFzZUludGVyYWN0aW9uQ2xpZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQmFzZUludGVyYWN0aW9uQ2xpZW50KGNvbmZpZywgc3RvcmFnZUltcGwsIGJyb3dzZXJDcnlwdG8sIGxvZ2dlciwgZXZlbnRIYW5kbGVyLCBjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XHJcbiAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZSA9IHN0b3JhZ2VJbXBsO1xyXG4gICAgICAgIHRoaXMuYnJvd3NlckNyeXB0byA9IGJyb3dzZXJDcnlwdG87XHJcbiAgICAgICAgdGhpcy5uZXR3b3JrQ2xpZW50ID0gdGhpcy5jb25maWcuc3lzdGVtLm5ldHdvcmtDbGllbnQ7XHJcbiAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIgPSBldmVudEhhbmRsZXI7XHJcbiAgICAgICAgdGhpcy5jb3JyZWxhdGlvbklkID0gY29ycmVsYXRpb25JZCB8fCB0aGlzLmJyb3dzZXJDcnlwdG8uY3JlYXRlTmV3R3VpZCgpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyLmNsb25lKEJyb3dzZXJDb25zdGFudHMuTVNBTF9TS1UsIHZlcnNpb24sIHRoaXMuY29ycmVsYXRpb25JZCk7XHJcbiAgICB9XHJcbiAgICBCYXNlSW50ZXJhY3Rpb25DbGllbnQucHJvdG90eXBlLmNsZWFyQ2FjaGVPbkxvZ291dCA9IGZ1bmN0aW9uIChhY2NvdW50KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFjY291bnQpIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQWNjb3VudEVudGl0eS5hY2NvdW50SW5mb0lzRXF1YWwoYWNjb3VudCwgdGhpcy5icm93c2VyU3RvcmFnZS5nZXRBY3RpdmVBY2NvdW50KCksIGZhbHNlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlNldHRpbmcgYWN0aXZlIGFjY291bnQgdG8gbnVsbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2Uuc2V0QWN0aXZlQWNjb3VudChudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzEsIDMsICwgNF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmJyb3dzZXJTdG9yYWdlLnJlbW92ZUFjY291bnQoQWNjb3VudEVudGl0eS5nZW5lcmF0ZUFjY291bnRDYWNoZUtleShhY2NvdW50KSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiQ2xlYXJlZCBjYWNoZSBpdGVtcyBiZWxvbmdpbmcgdG8gdGhlIGFjY291bnQgcHJvdmlkZWQgaW4gdGhlIGxvZ291dCByZXF1ZXN0LlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiQWNjb3VudCBwcm92aWRlZCBpbiBsb2dvdXQgcmVxdWVzdCB3YXMgbm90IGZvdW5kLiBMb2NhbCBjYWNoZSB1bmNoYW5nZWQuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMyAvKmJyZWFrKi8sIDldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFs1LCA4LCAsIDldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgYWxsIGFjY291bnRzIGFuZCB0b2tlbnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5icm93c2VyU3RvcmFnZS5jbGVhcigpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsZWFyIGFsbCBhY2NvdW50cyBhbmQgdG9rZW5zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgYW55IHN0cmF5IGtleXMgZnJvbSBJbmRleGVkREJcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5icm93c2VyQ3J5cHRvLmNsZWFyS2V5c3RvcmUoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDbGVhciBhbnkgc3RyYXkga2V5cyBmcm9tIEluZGV4ZWREQlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJObyBhY2NvdW50IHByb3ZpZGVkIGluIGxvZ291dCByZXF1ZXN0LCBjbGVhcmluZyBhbGwgY2FjaGUgaXRlbXMuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA5XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDg6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJBdHRlbXB0ZWQgdG8gY2xlYXIgYWxsIE1TQUwgY2FjaGUgaXRlbXMgYW5kIGZhaWxlZC4gTG9jYWwgY2FjaGUgdW5jaGFuZ2VkLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgOV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA5OiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZXIgZnVuY3Rpb24gZm9yIGFsbCByZXF1ZXN0IEFQSXNcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIEJhc2VJbnRlcmFjdGlvbkNsaWVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZUJhc2VSZXF1ZXN0ID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBhdXRob3JpdHksIHNjb3BlcywgdmFsaWRhdGVkUmVxdWVzdCwgX2E7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJJbml0aWFsaXppbmcgQmFzZUF1dGhSZXF1ZXN0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRob3JpdHkgPSByZXF1ZXN0LmF1dGhvcml0eSB8fCB0aGlzLmNvbmZpZy5hdXRoLmF1dGhvcml0eTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVzID0gX19zcHJlYWQoKChyZXF1ZXN0ICYmIHJlcXVlc3Quc2NvcGVzKSB8fCBbXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZWRSZXF1ZXN0ID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHJlcXVlc3QpLCB7IGNvcnJlbGF0aW9uSWQ6IHRoaXMuY29ycmVsYXRpb25JZCwgYXV0aG9yaXR5OiBhdXRob3JpdHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZXM6IHNjb3BlcyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGF1dGhlbnRpY2F0aW9uU2NoZW1lIHRvIEJFQVJFUiBpZiBub3QgZXhwbGljaXRseSBzZXQgaW4gdGhlIHJlcXVlc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZWRSZXF1ZXN0LmF1dGhlbnRpY2F0aW9uU2NoZW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZWRSZXF1ZXN0LmF1dGhlbnRpY2F0aW9uU2NoZW1lID0gQXV0aGVudGljYXRpb25TY2hlbWUuQkVBUkVSO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIkF1dGhlbnRpY2F0aW9uIFNjaGVtZSB3YXNuJ3QgZXhwbGljaXRseSBzZXQgaW4gcmVxdWVzdCwgZGVmYXVsdGluZyB0byBcXFwiQmVhcmVyXFxcIiByZXF1ZXN0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRlZFJlcXVlc3QuYXV0aGVudGljYXRpb25TY2hlbWUgPT09IEF1dGhlbnRpY2F0aW9uU2NoZW1lLlNTSCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVxdWVzdC5zc2hKd2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLmNyZWF0ZU1pc3NpbmdTc2hKd2tFcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcXVlc3Quc3NoS2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IENsaWVudENvbmZpZ3VyYXRpb25FcnJvci5jcmVhdGVNaXNzaW5nU3NoS2lkRXJyb3IoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiQXV0aGVudGljYXRpb24gU2NoZW1lIHNldCB0byBcXFwiXCIgKyB2YWxpZGF0ZWRSZXF1ZXN0LmF1dGhlbnRpY2F0aW9uU2NoZW1lICsgXCJcXFwiIGFzIGNvbmZpZ3VyZWQgaW4gQXV0aCByZXF1ZXN0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlcXVlc3QuY2xhaW1zICYmICFTdHJpbmdVdGlscy5pc0VtcHR5KHJlcXVlc3QuY2xhaW1zKSkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IHZhbGlkYXRlZFJlcXVlc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuYnJvd3NlckNyeXB0by5oYXNoU3RyaW5nKHJlcXVlc3QuY2xhaW1zKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5yZXF1ZXN0ZWRDbGFpbXNIYXNoID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzIgLypyZXR1cm4qLywgdmFsaWRhdGVkUmVxdWVzdF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIFVzZSB0byBnZXQgdGhlIHJlZGlyZWN0IHVyaSBjb25maWd1cmVkIGluIE1TQUwgb3IgbnVsbC5cclxuICAgICAqIEBwYXJhbSByZXF1ZXN0UmVkaXJlY3RVcmlcclxuICAgICAqIEByZXR1cm5zIFJlZGlyZWN0IFVSTFxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgQmFzZUludGVyYWN0aW9uQ2xpZW50LnByb3RvdHlwZS5nZXRSZWRpcmVjdFVyaSA9IGZ1bmN0aW9uIChyZXF1ZXN0UmVkaXJlY3RVcmkpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiZ2V0UmVkaXJlY3RVcmkgY2FsbGVkXCIpO1xyXG4gICAgICAgIHZhciByZWRpcmVjdFVyaSA9IHJlcXVlc3RSZWRpcmVjdFVyaSB8fCB0aGlzLmNvbmZpZy5hdXRoLnJlZGlyZWN0VXJpIHx8IEJyb3dzZXJVdGlscy5nZXRDdXJyZW50VXJpKCk7XHJcbiAgICAgICAgcmV0dXJuIFVybFN0cmluZy5nZXRBYnNvbHV0ZVVybChyZWRpcmVjdFVyaSwgQnJvd3NlclV0aWxzLmdldEN1cnJlbnRVcmkoKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGFwaUlkXHJcbiAgICAgKiBAcGFyYW0gY29ycmVsYXRpb25JZFxyXG4gICAgICogQHBhcmFtIGZvcmNlUmVmcmVzaFxyXG4gICAgICovXHJcbiAgICBCYXNlSW50ZXJhY3Rpb25DbGllbnQucHJvdG90eXBlLmluaXRpYWxpemVTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyID0gZnVuY3Rpb24gKGFwaUlkLCBmb3JjZVJlZnJlc2gpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiaW5pdGlhbGl6ZVNlcnZlclRlbGVtZXRyeU1hbmFnZXIgY2FsbGVkXCIpO1xyXG4gICAgICAgIHZhciB0ZWxlbWV0cnlQYXlsb2FkID0ge1xyXG4gICAgICAgICAgICBjbGllbnRJZDogdGhpcy5jb25maWcuYXV0aC5jbGllbnRJZCxcclxuICAgICAgICAgICAgY29ycmVsYXRpb25JZDogdGhpcy5jb3JyZWxhdGlvbklkLFxyXG4gICAgICAgICAgICBhcGlJZDogYXBpSWQsXHJcbiAgICAgICAgICAgIGZvcmNlUmVmcmVzaDogZm9yY2VSZWZyZXNoIHx8IGZhbHNlLFxyXG4gICAgICAgICAgICB3cmFwcGVyU0tVOiB0aGlzLmJyb3dzZXJTdG9yYWdlLmdldFdyYXBwZXJNZXRhZGF0YSgpWzBdLFxyXG4gICAgICAgICAgICB3cmFwcGVyVmVyOiB0aGlzLmJyb3dzZXJTdG9yYWdlLmdldFdyYXBwZXJNZXRhZGF0YSgpWzFdXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gbmV3IFNlcnZlclRlbGVtZXRyeU1hbmFnZXIodGVsZW1ldHJ5UGF5bG9hZCwgdGhpcy5icm93c2VyU3RvcmFnZSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEJhc2VJbnRlcmFjdGlvbkNsaWVudDtcclxufSgpKTtcblxuZXhwb3J0IHsgQmFzZUludGVyYWN0aW9uQ2xpZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXNlSW50ZXJhY3Rpb25DbGllbnQuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2Mi4yMi4xIDIwMjItMDMtMDcgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IFN0cmluZ1V0aWxzLCBDb25zdGFudHMgfSBmcm9tICdAYXp1cmUvbXNhbC1jb21tb24nO1xuaW1wb3J0IHsgQnJvd3NlckF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3IuanMnO1xuaW1wb3J0IHsgQnJvd3NlckNvbnN0YW50cywgSW50ZXJhY3Rpb25UeXBlIH0gZnJvbSAnLi9Ccm93c2VyQ29uc3RhbnRzLmpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbnZhciBQb3B1cFV0aWxzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUG9wdXBVdGlscyhzdG9yYWdlSW1wbCwgbG9nZ2VyKSB7XHJcbiAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZSA9IHN0b3JhZ2VJbXBsO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xyXG4gICAgICAgIC8vIFByb3Blcmx5IHNldHMgdGhpcyByZWZlcmVuY2UgZm9yIHRoZSB1bmxvYWQgZXZlbnQuXHJcbiAgICAgICAgdGhpcy51bmxvYWRXaW5kb3cgPSB0aGlzLnVubG9hZFdpbmRvdy5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKlxyXG4gICAgICogQ29uZmlndXJlcyBwb3B1cCB3aW5kb3cgZm9yIGxvZ2luLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB1cmxOYXZpZ2F0ZVxyXG4gICAgICogQHBhcmFtIHRpdGxlXHJcbiAgICAgKiBAcGFyYW0gcG9wVXBXaWR0aFxyXG4gICAgICogQHBhcmFtIHBvcFVwSGVpZ2h0XHJcbiAgICAgKiBAcGFyYW0gcG9wdXBXaW5kb3dBdHRyaWJ1dGVzXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIFBvcHVwVXRpbHMucHJvdG90eXBlLm9wZW5Qb3B1cCA9IGZ1bmN0aW9uICh1cmxOYXZpZ2F0ZSwgcG9wdXBQYXJhbXMpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgcG9wdXBXaW5kb3cgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIC8vIFBvcHVwIHdpbmRvdyBwYXNzZWQgaW4sIHNldHRpbmcgdXJsIHRvIG5hdmlnYXRlIHRvXHJcbiAgICAgICAgICAgIGlmIChwb3B1cFBhcmFtcy5wb3B1cCkge1xyXG4gICAgICAgICAgICAgICAgcG9wdXBXaW5kb3cgPSBwb3B1cFBhcmFtcy5wb3B1cDtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2VQaWkoXCJOYXZpZ2F0aW5nIHBvcHVwIHdpbmRvdyB0bzogXCIgKyB1cmxOYXZpZ2F0ZSk7XHJcbiAgICAgICAgICAgICAgICBwb3B1cFdpbmRvdy5sb2NhdGlvbi5hc3NpZ24odXJsTmF2aWdhdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBwb3B1cFBhcmFtcy5wb3B1cCA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgLy8gUG9wdXAgd2lsbCBiZSB1bmRlZmluZWQgaWYgaXQgd2FzIG5vdCBwYXNzZWQgaW5cclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2VQaWkoXCJPcGVuaW5nIHBvcHVwIHdpbmRvdyB0bzogXCIgKyB1cmxOYXZpZ2F0ZSk7XHJcbiAgICAgICAgICAgICAgICBwb3B1cFdpbmRvdyA9IFBvcHVwVXRpbHMub3BlblNpemVkUG9wdXAodXJsTmF2aWdhdGUsIHBvcHVwUGFyYW1zLnBvcHVwTmFtZSwgcG9wdXBQYXJhbXMucG9wdXBXaW5kb3dBdHRyaWJ1dGVzLCB0aGlzLmxvZ2dlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gUG9wdXAgd2lsbCBiZSBudWxsIGlmIHBvcHVwcyBhcmUgYmxvY2tlZFxyXG4gICAgICAgICAgICBpZiAoIXBvcHVwV2luZG93KSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZUVtcHR5V2luZG93Q3JlYXRlZEVycm9yKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHBvcHVwV2luZG93LmZvY3VzKSB7XHJcbiAgICAgICAgICAgICAgICBwb3B1cFdpbmRvdy5mb2N1cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFdpbmRvdyA9IHBvcHVwV2luZG93O1xyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCB0aGlzLnVubG9hZFdpbmRvdyk7XHJcbiAgICAgICAgICAgIHJldHVybiBwb3B1cFdpbmRvdztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJlcnJvciBvcGVuaW5nIHBvcHVwIFwiICsgZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZS5zZXRJbnRlcmFjdGlvbkluUHJvZ3Jlc3MoZmFsc2UpO1xyXG4gICAgICAgICAgICB0aHJvdyBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZVBvcHVwV2luZG93RXJyb3IoZS50b1N0cmluZygpKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gc2V0IHBvcHVwIHdpbmRvdyBkaW1lbnNpb25zIGFuZCBwb3NpdGlvblxyXG4gICAgICogQHBhcmFtIHVybE5hdmlnYXRlXHJcbiAgICAgKiBAcGFyYW0gcG9wdXBOYW1lXHJcbiAgICAgKiBAcGFyYW0gcG9wdXBXaW5kb3dBdHRyaWJ1dGVzXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBQb3B1cFV0aWxzLm9wZW5TaXplZFBvcHVwID0gZnVuY3Rpb24gKHVybE5hdmlnYXRlLCBwb3B1cE5hbWUsIHBvcHVwV2luZG93QXR0cmlidXRlcywgbG9nZ2VyKSB7XHJcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIGFkZGluZyB3aW5MZWZ0IGFuZCB3aW5Ub3AgdG8gYWNjb3VudCBmb3IgZHVhbCBtb25pdG9yXHJcbiAgICAgICAgICogdXNpbmcgc2NyZWVuTGVmdCBhbmQgc2NyZWVuVG9wIGZvciBJRTggYW5kIGVhcmxpZXJcclxuICAgICAgICAgKi9cclxuICAgICAgICB2YXIgd2luTGVmdCA9IHdpbmRvdy5zY3JlZW5MZWZ0ID8gd2luZG93LnNjcmVlbkxlZnQgOiB3aW5kb3cuc2NyZWVuWDtcclxuICAgICAgICB2YXIgd2luVG9wID0gd2luZG93LnNjcmVlblRvcCA/IHdpbmRvdy5zY3JlZW5Ub3AgOiB3aW5kb3cuc2NyZWVuWTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiB3aW5kb3cuaW5uZXJXaWR0aCBkaXNwbGF5cyBicm93c2VyIHdpbmRvd1wicyBoZWlnaHQgYW5kIHdpZHRoIGV4Y2x1ZGluZyB0b29sYmFyc1xyXG4gICAgICAgICAqIHVzaW5nIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCBmb3IgSUU4IGFuZCBlYXJsaWVyXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdmFyIHdpbldpZHRoID0gd2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIHx8IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgdmFyIHdpbkhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IHx8IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0O1xyXG4gICAgICAgIHZhciB3aWR0aCA9IChfYSA9IHBvcHVwV2luZG93QXR0cmlidXRlcy5wb3B1cFNpemUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS53aWR0aDtcclxuICAgICAgICB2YXIgaGVpZ2h0ID0gKF9iID0gcG9wdXBXaW5kb3dBdHRyaWJ1dGVzLnBvcHVwU2l6ZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmhlaWdodDtcclxuICAgICAgICB2YXIgdG9wID0gKF9jID0gcG9wdXBXaW5kb3dBdHRyaWJ1dGVzLnBvcHVwUG9zaXRpb24pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy50b3A7XHJcbiAgICAgICAgdmFyIGxlZnQgPSAoX2QgPSBwb3B1cFdpbmRvd0F0dHJpYnV0ZXMucG9wdXBQb3NpdGlvbikgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmxlZnQ7XHJcbiAgICAgICAgaWYgKCF3aWR0aCB8fCB3aWR0aCA8IDAgfHwgd2lkdGggPiB3aW5XaWR0aCkge1xyXG4gICAgICAgICAgICBsb2dnZXIudmVyYm9zZShcIkRlZmF1bHQgcG9wdXAgd2luZG93IHdpZHRoIHVzZWQuIFdpbmRvdyB3aWR0aCBub3QgY29uZmlndXJlZCBvciBpbnZhbGlkLlwiKTtcclxuICAgICAgICAgICAgd2lkdGggPSBCcm93c2VyQ29uc3RhbnRzLlBPUFVQX1dJRFRIO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWhlaWdodCB8fCBoZWlnaHQgPCAwIHx8IGhlaWdodCA+IHdpbkhlaWdodCkge1xyXG4gICAgICAgICAgICBsb2dnZXIudmVyYm9zZShcIkRlZmF1bHQgcG9wdXAgd2luZG93IGhlaWdodCB1c2VkLiBXaW5kb3cgaGVpZ2h0IG5vdCBjb25maWd1cmVkIG9yIGludmFsaWQuXCIpO1xyXG4gICAgICAgICAgICBoZWlnaHQgPSBCcm93c2VyQ29uc3RhbnRzLlBPUFVQX0hFSUdIVDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0b3AgfHwgdG9wIDwgMCB8fCB0b3AgPiB3aW5IZWlnaHQpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLnZlcmJvc2UoXCJEZWZhdWx0IHBvcHVwIHdpbmRvdyB0b3AgcG9zaXRpb24gdXNlZC4gV2luZG93IHRvcCBub3QgY29uZmlndXJlZCBvciBpbnZhbGlkLlwiKTtcclxuICAgICAgICAgICAgdG9wID0gTWF0aC5tYXgoMCwgKCh3aW5IZWlnaHQgLyAyKSAtIChCcm93c2VyQ29uc3RhbnRzLlBPUFVQX0hFSUdIVCAvIDIpKSArIHdpblRvcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghbGVmdCB8fCBsZWZ0IDwgMCB8fCBsZWZ0ID4gd2luV2lkdGgpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLnZlcmJvc2UoXCJEZWZhdWx0IHBvcHVwIHdpbmRvdyBsZWZ0IHBvc2l0aW9uIHVzZWQuIFdpbmRvdyBsZWZ0IG5vdCBjb25maWd1cmVkIG9yIGludmFsaWQuXCIpO1xyXG4gICAgICAgICAgICBsZWZ0ID0gTWF0aC5tYXgoMCwgKCh3aW5XaWR0aCAvIDIpIC0gKEJyb3dzZXJDb25zdGFudHMuUE9QVVBfV0lEVEggLyAyKSkgKyB3aW5MZWZ0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5vcGVuKHVybE5hdmlnYXRlLCBwb3B1cE5hbWUsIFwid2lkdGg9XCIgKyB3aWR0aCArIFwiLCBoZWlnaHQ9XCIgKyBoZWlnaHQgKyBcIiwgdG9wPVwiICsgdG9wICsgXCIsIGxlZnQ9XCIgKyBsZWZ0ICsgXCIsIHNjcm9sbGJhcnM9eWVzXCIpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRXZlbnQgY2FsbGJhY2sgdG8gdW5sb2FkIG1haW4gd2luZG93LlxyXG4gICAgICovXHJcbiAgICBQb3B1cFV0aWxzLnByb3RvdHlwZS51bmxvYWRXaW5kb3cgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2UuY2xlYW5SZXF1ZXN0QnlJbnRlcmFjdGlvblR5cGUoSW50ZXJhY3Rpb25UeXBlLlBvcHVwKTtcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50V2luZG93KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFdpbmRvdy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBHdWFyYW50ZWVzIGJyb3dzZXIgdW5sb2FkIHdpbGwgaGFwcGVuLCBzbyBubyBvdGhlciBlcnJvcnMgd2lsbCBiZSB0aHJvd24uXHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2xvc2VzIHBvcHVwLCByZW1vdmVzIGFueSBzdGF0ZSB2YXJzIGNyZWF0ZWQgZHVyaW5nIHBvcHVwIGNhbGxzLlxyXG4gICAgICogQHBhcmFtIHBvcHVwV2luZG93XHJcbiAgICAgKi9cclxuICAgIFBvcHVwVXRpbHMucHJvdG90eXBlLmNsZWFuUG9wdXAgPSBmdW5jdGlvbiAocG9wdXBXaW5kb3cpIHtcclxuICAgICAgICBpZiAocG9wdXBXaW5kb3cpIHtcclxuICAgICAgICAgICAgLy8gQ2xvc2Ugd2luZG93LlxyXG4gICAgICAgICAgICBwb3B1cFdpbmRvdy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSZW1vdmUgd2luZG93IHVubG9hZCBmdW5jdGlvblxyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIHRoaXMudW5sb2FkV2luZG93KTtcclxuICAgICAgICAvLyBJbnRlcmFjdGlvbiBpcyBjb21wbGV0ZWQgLSByZW1vdmUgaW50ZXJhY3Rpb24gc3RhdHVzLlxyXG4gICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2Uuc2V0SW50ZXJhY3Rpb25JblByb2dyZXNzKGZhbHNlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIE1vbml0b3JzIGEgd2luZG93IHVudGlsIGl0IGxvYWRzIGEgdXJsIHdpdGggdGhlIHNhbWUgb3JpZ2luLlxyXG4gICAgICogQHBhcmFtIHBvcHVwV2luZG93IC0gd2luZG93IHRoYXQgaXMgYmVpbmcgbW9uaXRvcmVkXHJcbiAgICAgKi9cclxuICAgIFBvcHVwVXRpbHMucHJvdG90eXBlLm1vbml0b3JQb3B1cEZvclNhbWVPcmlnaW4gPSBmdW5jdGlvbiAocG9wdXBXaW5kb3cpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBvcHVwV2luZG93LmNsb3NlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFdpbmRvdyBpcyBjbG9zZWRcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jbGVhblBvcHVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoQnJvd3NlckF1dGhFcnJvci5jcmVhdGVVc2VyQ2FuY2VsbGVkRXJyb3IoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGhyZWYgPSBDb25zdGFudHMuRU1QVFlfU1RSSU5HO1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICAgICAqIFdpbGwgdGhyb3cgaWYgY3Jvc3Mgb3JpZ2luLFxyXG4gICAgICAgICAgICAgICAgICAgICAqIHdoaWNoIHNob3VsZCBiZSBjYXVnaHQgYW5kIGlnbm9yZWRcclxuICAgICAgICAgICAgICAgICAgICAgKiBzaW5jZSB3ZSBuZWVkIHRoZSBpbnRlcnZhbCB0byBrZWVwIHJ1bm5pbmcgd2hpbGUgb24gU1RTIFVJLlxyXG4gICAgICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGhyZWYgPSBwb3B1cFdpbmRvdy5sb2NhdGlvbi5ocmVmO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxyXG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgcHJvY2VzcyBibGFuayBwYWdlcyBvciBjcm9zcyBkb21haW5cclxuICAgICAgICAgICAgICAgIGlmIChTdHJpbmdVdGlscy5pc0VtcHR5KGhyZWYpIHx8IGhyZWYgPT09IFwiYWJvdXQ6YmxhbmtcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH0sIEJyb3dzZXJDb25zdGFudHMuUE9MTF9JTlRFUlZBTF9NUyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZXMgdGhlIG5hbWUgZm9yIHRoZSBwb3B1cCBiYXNlZCBvbiB0aGUgY2xpZW50IGlkIGFuZCByZXF1ZXN0XHJcbiAgICAgKiBAcGFyYW0gY2xpZW50SWRcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIFBvcHVwVXRpbHMuZ2VuZXJhdGVQb3B1cE5hbWUgPSBmdW5jdGlvbiAoY2xpZW50SWQsIHNjb3BlcywgYXV0aG9yaXR5LCBjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgcmV0dXJuIEJyb3dzZXJDb25zdGFudHMuUE9QVVBfTkFNRV9QUkVGSVggKyBcIi5cIiArIGNsaWVudElkICsgXCIuXCIgKyBzY29wZXMuam9pbihcIi1cIikgKyBcIi5cIiArIGF1dGhvcml0eSArIFwiLlwiICsgY29ycmVsYXRpb25JZDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlcyB0aGUgbmFtZSBmb3IgdGhlIHBvcHVwIGJhc2VkIG9uIHRoZSBjbGllbnQgaWQgYW5kIHJlcXVlc3QgZm9yIGxvZ291dHNcclxuICAgICAqIEBwYXJhbSBjbGllbnRJZFxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgUG9wdXBVdGlscy5nZW5lcmF0ZUxvZ291dFBvcHVwTmFtZSA9IGZ1bmN0aW9uIChjbGllbnRJZCwgcmVxdWVzdCkge1xyXG4gICAgICAgIHZhciBob21lQWNjb3VudElkID0gcmVxdWVzdC5hY2NvdW50ICYmIHJlcXVlc3QuYWNjb3VudC5ob21lQWNjb3VudElkO1xyXG4gICAgICAgIHJldHVybiBCcm93c2VyQ29uc3RhbnRzLlBPUFVQX05BTUVfUFJFRklYICsgXCIuXCIgKyBjbGllbnRJZCArIFwiLlwiICsgaG9tZUFjY291bnRJZCArIFwiLlwiICsgcmVxdWVzdC5jb3JyZWxhdGlvbklkO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQb3B1cFV0aWxzO1xyXG59KCkpO1xuXG5leHBvcnQgeyBQb3B1cFV0aWxzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qb3B1cFV0aWxzLmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjIuMjIuMSAyMDIyLTAzLTA3ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBfX2F3YWl0ZXIsIF9fZ2VuZXJhdG9yIH0gZnJvbSAnLi4vX3ZpcnR1YWwvX3RzbGliLmpzJztcbmltcG9ydCB7IFN0cmluZ1V0aWxzLCBDbGllbnRBdXRoRXJyb3IsIEF1dGhvcml0eUZhY3RvcnkgfSBmcm9tICdAYXp1cmUvbXNhbC1jb21tb24nO1xuaW1wb3J0IHsgQnJvd3NlckF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3IuanMnO1xuaW1wb3J0IHsgVGVtcG9yYXJ5Q2FjaGVLZXlzIH0gZnJvbSAnLi4vdXRpbHMvQnJvd3NlckNvbnN0YW50cy5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQWJzdHJhY3QgY2xhc3Mgd2hpY2ggZGVmaW5lcyBvcGVyYXRpb25zIGZvciBhIGJyb3dzZXIgaW50ZXJhY3Rpb24gaGFuZGxpbmcgY2xhc3MuXHJcbiAqL1xyXG52YXIgSW50ZXJhY3Rpb25IYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25IYW5kbGVyKGF1dGhDb2RlTW9kdWxlLCBzdG9yYWdlSW1wbCwgYXV0aENvZGVSZXF1ZXN0LCBicm93c2VyUmVxdWVzdExvZ2dlcikge1xyXG4gICAgICAgIHRoaXMuYXV0aE1vZHVsZSA9IGF1dGhDb2RlTW9kdWxlO1xyXG4gICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2UgPSBzdG9yYWdlSW1wbDtcclxuICAgICAgICB0aGlzLmF1dGhDb2RlUmVxdWVzdCA9IGF1dGhDb2RlUmVxdWVzdDtcclxuICAgICAgICB0aGlzLmJyb3dzZXJSZXF1ZXN0TG9nZ2VyID0gYnJvd3NlclJlcXVlc3RMb2dnZXI7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEZ1bmN0aW9uIHRvIGhhbmRsZSByZXNwb25zZSBwYXJhbWV0ZXJzIGZyb20gaGFzaC5cclxuICAgICAqIEBwYXJhbSBsb2NhdGlvbkhhc2hcclxuICAgICAqL1xyXG4gICAgSW50ZXJhY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVDb2RlUmVzcG9uc2VGcm9tSGFzaCA9IGZ1bmN0aW9uIChsb2NhdGlvbkhhc2gsIHN0YXRlLCBhdXRob3JpdHksIG5ldHdvcmtNb2R1bGUpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzdGF0ZUtleSwgcmVxdWVzdFN0YXRlLCBhdXRoQ29kZVJlc3BvbnNlO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJyb3dzZXJSZXF1ZXN0TG9nZ2VyLnZlcmJvc2UoXCJJbnRlcmFjdGlvbkhhbmRsZXIuaGFuZGxlQ29kZVJlc3BvbnNlIGNhbGxlZFwiKTtcclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgbG9jYXRpb24gaGFzaCBpc24ndCBlbXB0eS5cclxuICAgICAgICAgICAgICAgIGlmIChTdHJpbmdVdGlscy5pc0VtcHR5KGxvY2F0aW9uSGFzaCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZUVtcHR5SGFzaEVycm9yKGxvY2F0aW9uSGFzaCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzdGF0ZUtleSA9IHRoaXMuYnJvd3NlclN0b3JhZ2UuZ2VuZXJhdGVTdGF0ZUtleShzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0U3RhdGUgPSB0aGlzLmJyb3dzZXJTdG9yYWdlLmdldFRlbXBvcmFyeUNhY2hlKHN0YXRlS2V5KTtcclxuICAgICAgICAgICAgICAgIGlmICghcmVxdWVzdFN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZVN0YXRlTm90Rm91bmRFcnJvcihcIkNhY2hlZCBTdGF0ZVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGF1dGhDb2RlUmVzcG9uc2UgPSB0aGlzLmF1dGhNb2R1bGUuaGFuZGxlRnJhZ21lbnRSZXNwb25zZShsb2NhdGlvbkhhc2gsIHJlcXVlc3RTdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5oYW5kbGVDb2RlUmVzcG9uc2VGcm9tU2VydmVyKGF1dGhDb2RlUmVzcG9uc2UsIHN0YXRlLCBhdXRob3JpdHksIG5ldHdvcmtNb2R1bGUpXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQcm9jZXNzIGF1dGggY29kZSByZXNwb25zZSBmcm9tIEFBRFxyXG4gICAgICogQHBhcmFtIGF1dGhDb2RlUmVzcG9uc2VcclxuICAgICAqIEBwYXJhbSBzdGF0ZVxyXG4gICAgICogQHBhcmFtIGF1dGhvcml0eVxyXG4gICAgICogQHBhcmFtIG5ldHdvcmtNb2R1bGVcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIEludGVyYWN0aW9uSGFuZGxlci5wcm90b3R5cGUuaGFuZGxlQ29kZVJlc3BvbnNlRnJvbVNlcnZlciA9IGZ1bmN0aW9uIChhdXRoQ29kZVJlc3BvbnNlLCBzdGF0ZSwgYXV0aG9yaXR5LCBuZXR3b3JrTW9kdWxlLCB2YWxpZGF0ZU5vbmNlKSB7XHJcbiAgICAgICAgaWYgKHZhbGlkYXRlTm9uY2UgPT09IHZvaWQgMCkgeyB2YWxpZGF0ZU5vbmNlID0gdHJ1ZTsgfVxyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHN0YXRlS2V5LCByZXF1ZXN0U3RhdGUsIG5vbmNlS2V5LCBjYWNoZWROb25jZSwgY2FjaGVkQ2NzQ3JlZCwgdG9rZW5SZXNwb25zZTtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5icm93c2VyUmVxdWVzdExvZ2dlci50cmFjZShcIkludGVyYWN0aW9uSGFuZGxlci5oYW5kbGVDb2RlUmVzcG9uc2VGcm9tU2VydmVyIGNhbGxlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVLZXkgPSB0aGlzLmJyb3dzZXJTdG9yYWdlLmdlbmVyYXRlU3RhdGVLZXkoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0U3RhdGUgPSB0aGlzLmJyb3dzZXJTdG9yYWdlLmdldFRlbXBvcmFyeUNhY2hlKHN0YXRlS2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXF1ZXN0U3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IENsaWVudEF1dGhFcnJvci5jcmVhdGVTdGF0ZU5vdEZvdW5kRXJyb3IoXCJDYWNoZWQgU3RhdGVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9uY2VLZXkgPSB0aGlzLmJyb3dzZXJTdG9yYWdlLmdlbmVyYXRlTm9uY2VLZXkocmVxdWVzdFN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVkTm9uY2UgPSB0aGlzLmJyb3dzZXJTdG9yYWdlLmdldFRlbXBvcmFyeUNhY2hlKG5vbmNlS2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXNzaWduIGNvZGUgdG8gcmVxdWVzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF1dGhDb2RlUmVxdWVzdC5jb2RlID0gYXV0aENvZGVSZXNwb25zZS5jb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWF1dGhDb2RlUmVzcG9uc2UuY2xvdWRfaW5zdGFuY2VfaG9zdF9uYW1lKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy51cGRhdGVUb2tlbkVuZHBvaW50QXV0aG9yaXR5KGF1dGhDb2RlUmVzcG9uc2UuY2xvdWRfaW5zdGFuY2VfaG9zdF9uYW1lLCBhdXRob3JpdHksIG5ldHdvcmtNb2R1bGUpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm9uY2UgdmFsaWRhdGlvbiBub3QgbmVlZGVkIHdoZW4gcmVkaXJlY3Qgbm90IGludm9sdmVkIChlLmcuIGh5YnJpZCBzcGEsIHJlbmV3aW5nIHRva2VuIHZpYSBydClcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRlTm9uY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhDb2RlUmVzcG9uc2Uubm9uY2UgPSBjYWNoZWROb25jZSB8fCB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aENvZGVSZXNwb25zZS5zdGF0ZSA9IHJlcXVlc3RTdGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIENDUyBwYXJhbWV0ZXJzIGlmIGF2YWlsYWJsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXV0aENvZGVSZXNwb25zZS5jbGllbnRfaW5mbykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXRoQ29kZVJlcXVlc3QuY2xpZW50SW5mbyA9IGF1dGhDb2RlUmVzcG9uc2UuY2xpZW50X2luZm87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZWRDY3NDcmVkID0gdGhpcy5jaGVja0Njc0NyZWRlbnRpYWxzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVkQ2NzQ3JlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXV0aENvZGVSZXF1ZXN0LmNjc0NyZWRlbnRpYWwgPSBjYWNoZWRDY3NDcmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuYXV0aE1vZHVsZS5hY3F1aXJlVG9rZW4odGhpcy5hdXRoQ29kZVJlcXVlc3QsIGF1dGhDb2RlUmVzcG9uc2UpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuUmVzcG9uc2UgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2UuY2xlYW5SZXF1ZXN0QnlTdGF0ZShzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0b2tlblJlc3BvbnNlXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIGF1dGhvcml0eSBiYXNlZCBvbiBjbG91ZEluc3RhbmNlSG9zdG5hbWVcclxuICAgICAqIEBwYXJhbSBjbG91ZEluc3RhbmNlSG9zdG5hbWVcclxuICAgICAqIEBwYXJhbSBhdXRob3JpdHlcclxuICAgICAqIEBwYXJhbSBuZXR3b3JrTW9kdWxlXHJcbiAgICAgKi9cclxuICAgIEludGVyYWN0aW9uSGFuZGxlci5wcm90b3R5cGUudXBkYXRlVG9rZW5FbmRwb2ludEF1dGhvcml0eSA9IGZ1bmN0aW9uIChjbG91ZEluc3RhbmNlSG9zdG5hbWUsIGF1dGhvcml0eSwgbmV0d29ya01vZHVsZSkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNsb3VkSW5zdGFuY2VBdXRob3JpdHlVcmksIGNsb3VkSW5zdGFuY2VBdXRob3JpdHk7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3VkSW5zdGFuY2VBdXRob3JpdHlVcmkgPSBcImh0dHBzOi8vXCIgKyBjbG91ZEluc3RhbmNlSG9zdG5hbWUgKyBcIi9cIiArIGF1dGhvcml0eS50ZW5hbnQgKyBcIi9cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgQXV0aG9yaXR5RmFjdG9yeS5jcmVhdGVEaXNjb3ZlcmVkSW5zdGFuY2UoY2xvdWRJbnN0YW5jZUF1dGhvcml0eVVyaSwgbmV0d29ya01vZHVsZSwgdGhpcy5icm93c2VyU3RvcmFnZSwgYXV0aG9yaXR5Lm9wdGlvbnMpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3VkSW5zdGFuY2VBdXRob3JpdHkgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXV0aE1vZHVsZS51cGRhdGVBdXRob3JpdHkoY2xvdWRJbnN0YW5jZUF1dGhvcml0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBMb29rcyB1cCBjY3MgY3JlZHMgaW4gdGhlIGNhY2hlXHJcbiAgICAgKi9cclxuICAgIEludGVyYWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY2hlY2tDY3NDcmVkZW50aWFscyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBMb29rIHVwIGNjcyBjcmVkZW50aWFsIGluIHRlbXAgY2FjaGVcclxuICAgICAgICB2YXIgY2FjaGVkQ2NzQ3JlZCA9IHRoaXMuYnJvd3NlclN0b3JhZ2UuZ2V0VGVtcG9yYXJ5Q2FjaGUoVGVtcG9yYXJ5Q2FjaGVLZXlzLkNDU19DUkVERU5USUFMLCB0cnVlKTtcclxuICAgICAgICBpZiAoY2FjaGVkQ2NzQ3JlZCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoY2FjaGVkQ2NzQ3JlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXV0aE1vZHVsZS5sb2dnZXIuZXJyb3IoXCJDYWNoZSBjcmVkZW50aWFsIGNvdWxkIG5vdCBiZSBwYXJzZWRcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1dGhNb2R1bGUubG9nZ2VyLmVycm9yUGlpKFwiQ2FjaGUgY3JlZGVudGlhbCBjb3VsZCBub3QgYmUgcGFyc2VkOiBcIiArIGNhY2hlZENjc0NyZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBJbnRlcmFjdGlvbkhhbmRsZXI7XHJcbn0oKSk7XG5cbmV4cG9ydCB7IEludGVyYWN0aW9uSGFuZGxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW50ZXJhY3Rpb25IYW5kbGVyLmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjIuMjIuMSAyMDIyLTAzLTA3ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tICcuLi9fdmlydHVhbC9fdHNsaWIuanMnO1xuaW1wb3J0IHsgU3RyaW5nVXRpbHMsIFVybFN0cmluZyB9IGZyb20gJ0BhenVyZS9tc2FsLWNvbW1vbic7XG5pbXBvcnQgeyBJbnRlcmFjdGlvbkhhbmRsZXIgfSBmcm9tICcuL0ludGVyYWN0aW9uSGFuZGxlci5qcyc7XG5pbXBvcnQgeyBCcm93c2VyQXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckF1dGhFcnJvci5qcyc7XG5pbXBvcnQgeyBQb3B1cFV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvUG9wdXBVdGlscy5qcyc7XG5pbXBvcnQgeyBCcm93c2VyVXRpbHMgfSBmcm9tICcuLi91dGlscy9Ccm93c2VyVXRpbHMuanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgaW1wbGVtZW50cyB0aGUgaW50ZXJhY3Rpb24gaGFuZGxlciBiYXNlIGNsYXNzIGZvciBicm93c2Vycy4gSXQgaXMgd3JpdHRlbiBzcGVjaWZpY2FsbHkgZm9yIGhhbmRsaW5nXHJcbiAqIHBvcHVwIHdpbmRvdyBzY2VuYXJpb3MuIEl0IGluY2x1ZGVzIGZ1bmN0aW9ucyBmb3IgbW9uaXRvcmluZyB0aGUgcG9wdXAgd2luZG93IGZvciBhIGhhc2guXHJcbiAqL1xyXG52YXIgUG9wdXBIYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFBvcHVwSGFuZGxlciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFBvcHVwSGFuZGxlcihhdXRoQ29kZU1vZHVsZSwgc3RvcmFnZUltcGwsIGF1dGhDb2RlUmVxdWVzdCwgYnJvd3NlclJlcXVlc3RMb2dnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBhdXRoQ29kZU1vZHVsZSwgc3RvcmFnZUltcGwsIGF1dGhDb2RlUmVxdWVzdCwgYnJvd3NlclJlcXVlc3RMb2dnZXIpIHx8IHRoaXM7XHJcbiAgICAgICAgLy8gUHJvcGVybHkgc2V0cyB0aGlzIHJlZmVyZW5jZSBmb3IgdGhlIHVubG9hZCBldmVudC5cclxuICAgICAgICBfdGhpcy5wb3B1cFV0aWxzID0gbmV3IFBvcHVwVXRpbHMoc3RvcmFnZUltcGwsIGJyb3dzZXJSZXF1ZXN0TG9nZ2VyKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE9wZW5zIGEgcG9wdXAgd2luZG93IHdpdGggZ2l2ZW4gcmVxdWVzdCBVcmwuXHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFVybFxyXG4gICAgICovXHJcbiAgICBQb3B1cEhhbmRsZXIucHJvdG90eXBlLmluaXRpYXRlQXV0aFJlcXVlc3QgPSBmdW5jdGlvbiAocmVxdWVzdFVybCwgcGFyYW1zKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgdGhhdCByZXF1ZXN0IHVybCBpcyBub3QgZW1wdHkuXHJcbiAgICAgICAgaWYgKCFTdHJpbmdVdGlscy5pc0VtcHR5KHJlcXVlc3RVcmwpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnJvd3NlclJlcXVlc3RMb2dnZXIuaW5mb1BpaShcIk5hdmlnYXRlIHRvOiBcIiArIHJlcXVlc3RVcmwpO1xyXG4gICAgICAgICAgICAvLyBPcGVuIHRoZSBwb3B1cCB3aW5kb3cgdG8gcmVxdWVzdFVybC5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9wdXBVdGlscy5vcGVuUG9wdXAocmVxdWVzdFVybCwgcGFyYW1zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFRocm93IGVycm9yIGlmIHJlcXVlc3QgVVJMIGlzIGVtcHR5LlxyXG4gICAgICAgICAgICB0aGlzLmJyb3dzZXJSZXF1ZXN0TG9nZ2VyLmVycm9yKFwiTmF2aWdhdGUgdXJsIGlzIGVtcHR5XCIpO1xyXG4gICAgICAgICAgICB0aHJvdyBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZUVtcHR5TmF2aWdhdGlvblVyaUVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogTW9uaXRvcnMgYSB3aW5kb3cgdW50aWwgaXQgbG9hZHMgYSB1cmwgd2l0aCBhIGtub3duIGhhc2gsIG9yIGhpdHMgYSBzcGVjaWZpZWQgdGltZW91dC5cclxuICAgICAqIEBwYXJhbSBwb3B1cFdpbmRvdyAtIHdpbmRvdyB0aGF0IGlzIGJlaW5nIG1vbml0b3JlZFxyXG4gICAgICogQHBhcmFtIHRpbWVvdXQgLSBtaWxsaXNlY29uZHMgdW50aWwgdGltZW91dFxyXG4gICAgICovXHJcbiAgICBQb3B1cEhhbmRsZXIucHJvdG90eXBlLm1vbml0b3JQb3B1cEZvckhhc2ggPSBmdW5jdGlvbiAocG9wdXBXaW5kb3cpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBvcHVwVXRpbHMubW9uaXRvclBvcHVwRm9yU2FtZU9yaWdpbihwb3B1cFdpbmRvdykudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250ZW50SGFzaCA9IHBvcHVwV2luZG93LmxvY2F0aW9uLmhhc2g7XHJcbiAgICAgICAgICAgIEJyb3dzZXJVdGlscy5jbGVhckhhc2gocG9wdXBXaW5kb3cpO1xyXG4gICAgICAgICAgICBfdGhpcy5wb3B1cFV0aWxzLmNsZWFuUG9wdXAocG9wdXBXaW5kb3cpO1xyXG4gICAgICAgICAgICBpZiAoIWNvbnRlbnRIYXNoKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZUVtcHR5SGFzaEVycm9yKHBvcHVwV2luZG93LmxvY2F0aW9uLmhyZWYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChVcmxTdHJpbmcuaGFzaENvbnRhaW5zS25vd25Qcm9wZXJ0aWVzKGNvbnRlbnRIYXNoKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRIYXNoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVIYXNoRG9lc05vdENvbnRhaW5Lbm93blByb3BlcnRpZXNFcnJvcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFBvcHVwSGFuZGxlcjtcclxufShJbnRlcmFjdGlvbkhhbmRsZXIpKTtcblxuZXhwb3J0IHsgUG9wdXBIYW5kbGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qb3B1cEhhbmRsZXIuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2Mi4yMi4xIDIwMjItMDMtMDcgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IF9fZXh0ZW5kcywgX19hd2FpdGVyLCBfX2dlbmVyYXRvciB9IGZyb20gJy4uL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgeyBPSURDX0RFRkFVTFRfU0NPUEVTLCBBdXRoRXJyb3IsIFRocm90dGxpbmdVdGlscywgVXJsU3RyaW5nIH0gZnJvbSAnQGF6dXJlL21zYWwtY29tbW9uJztcbmltcG9ydCB7IFN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnQgfSBmcm9tICcuL1N0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnQuanMnO1xuaW1wb3J0IHsgUG9wdXBVdGlscyB9IGZyb20gJy4uL3V0aWxzL1BvcHVwVXRpbHMuanMnO1xuaW1wb3J0IHsgRXZlbnRUeXBlIH0gZnJvbSAnLi4vZXZlbnQvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7IEludGVyYWN0aW9uVHlwZSwgQXBpSWQgfSBmcm9tICcuLi91dGlscy9Ccm93c2VyQ29uc3RhbnRzLmpzJztcbmltcG9ydCB7IFBvcHVwSGFuZGxlciB9IGZyb20gJy4uL2ludGVyYWN0aW9uX2hhbmRsZXIvUG9wdXBIYW5kbGVyLmpzJztcbmltcG9ydCB7IEJyb3dzZXJVdGlscyB9IGZyb20gJy4uL3V0aWxzL0Jyb3dzZXJVdGlscy5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgUG9wdXBDbGllbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUG9wdXBDbGllbnQsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBQb3B1cENsaWVudCgpIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFjcXVpcmVzIHRva2VucyBieSBvcGVuaW5nIGEgcG9wdXAgd2luZG93IHRvIHRoZSAvYXV0aG9yaXplIGVuZHBvaW50IG9mIHRoZSBhdXRob3JpdHlcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIFBvcHVwQ2xpZW50LnByb3RvdHlwZS5hY3F1aXJlVG9rZW4gPSBmdW5jdGlvbiAocmVxdWVzdCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBwb3B1cE5hbWUgPSBQb3B1cFV0aWxzLmdlbmVyYXRlUG9wdXBOYW1lKHRoaXMuY29uZmlnLmF1dGguY2xpZW50SWQsIHJlcXVlc3Quc2NvcGVzIHx8IE9JRENfREVGQVVMVF9TQ09QRVMsIHJlcXVlc3QuYXV0aG9yaXR5IHx8IHRoaXMuY29uZmlnLmF1dGguYXV0aG9yaXR5LCB0aGlzLmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICB2YXIgcG9wdXBXaW5kb3dBdHRyaWJ1dGVzID0gcmVxdWVzdC5wb3B1cFdpbmRvd0F0dHJpYnV0ZXMgfHwge307XHJcbiAgICAgICAgICAgIC8vIGFzeW5jUG9wdXBzIGZsYWcgaXMgdHJ1ZS4gQWNxdWlyZXMgdG9rZW4gd2l0aG91dCBmaXJzdCBvcGVuaW5nIHBvcHVwLiBQb3B1cCB3aWxsIGJlIG9wZW5lZCBsYXRlciBhc3luY2hyb25vdXNseS5cclxuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLnN5c3RlbS5hc3luY1BvcHVwcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcImFzeW5jUG9wdXBzIHNldCB0byB0cnVlLCBhY3F1aXJpbmcgdG9rZW5cIik7XHJcbiAgICAgICAgICAgICAgICAvLyBQYXNzZXMgb24gcG9wdXAgcG9zaXRpb24gYW5kIGRpbWVuc2lvbnMgaWYgaW4gcmVxdWVzdFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWNxdWlyZVRva2VuUG9wdXBBc3luYyhyZXF1ZXN0LCBwb3B1cE5hbWUsIHBvcHVwV2luZG93QXR0cmlidXRlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhc3luY1BvcHVwcyBmbGFnIGlzIHNldCB0byBmYWxzZS4gT3BlbnMgcG9wdXAgYmVmb3JlIGFjcXVpcmluZyB0b2tlbi5cclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJhc3luY1BvcHVwIHNldCB0byBmYWxzZSwgb3BlbmluZyBwb3B1cCBiZWZvcmUgYWNxdWlyaW5nIHRva2VuXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvcHVwID0gUG9wdXBVdGlscy5vcGVuU2l6ZWRQb3B1cChcImFib3V0OmJsYW5rXCIsIHBvcHVwTmFtZSwgcG9wdXBXaW5kb3dBdHRyaWJ1dGVzLCB0aGlzLmxvZ2dlcik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hY3F1aXJlVG9rZW5Qb3B1cEFzeW5jKHJlcXVlc3QsIHBvcHVwTmFtZSwgcG9wdXBXaW5kb3dBdHRyaWJ1dGVzLCBwb3B1cCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENsZWFycyBsb2NhbCBjYWNoZSBmb3IgdGhlIGN1cnJlbnQgdXNlciB0aGVuIG9wZW5zIGEgcG9wdXAgd2luZG93IHByb21wdGluZyB0aGUgdXNlciB0byBzaWduLW91dCBvZiB0aGUgc2VydmVyXHJcbiAgICAgKiBAcGFyYW0gbG9nb3V0UmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBQb3B1cENsaWVudC5wcm90b3R5cGUubG9nb3V0ID0gZnVuY3Rpb24gKGxvZ291dFJlcXVlc3QpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwibG9nb3V0UG9wdXAgY2FsbGVkXCIpO1xyXG4gICAgICAgICAgICB2YXIgdmFsaWRMb2dvdXRSZXF1ZXN0ID0gdGhpcy5pbml0aWFsaXplTG9nb3V0UmVxdWVzdChsb2dvdXRSZXF1ZXN0KTtcclxuICAgICAgICAgICAgdmFyIHBvcHVwTmFtZSA9IFBvcHVwVXRpbHMuZ2VuZXJhdGVMb2dvdXRQb3B1cE5hbWUodGhpcy5jb25maWcuYXV0aC5jbGllbnRJZCwgdmFsaWRMb2dvdXRSZXF1ZXN0KTtcclxuICAgICAgICAgICAgdmFyIGF1dGhvcml0eSA9IGxvZ291dFJlcXVlc3QgJiYgbG9nb3V0UmVxdWVzdC5hdXRob3JpdHk7XHJcbiAgICAgICAgICAgIHZhciBtYWluV2luZG93UmVkaXJlY3RVcmkgPSBsb2dvdXRSZXF1ZXN0ICYmIGxvZ291dFJlcXVlc3QubWFpbldpbmRvd1JlZGlyZWN0VXJpO1xyXG4gICAgICAgICAgICB2YXIgcG9wdXBXaW5kb3dBdHRyaWJ1dGVzID0gKGxvZ291dFJlcXVlc3QgPT09IG51bGwgfHwgbG9nb3V0UmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogbG9nb3V0UmVxdWVzdC5wb3B1cFdpbmRvd0F0dHJpYnV0ZXMpIHx8IHt9O1xyXG4gICAgICAgICAgICAvLyBhc3luY1BvcHVwcyBmbGFnIGlzIHRydWUuIEFjcXVpcmVzIHRva2VuIHdpdGhvdXQgZmlyc3Qgb3BlbmluZyBwb3B1cC4gUG9wdXAgd2lsbCBiZSBvcGVuZWQgbGF0ZXIgYXN5bmNocm9ub3VzbHkuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5zeXN0ZW0uYXN5bmNQb3B1cHMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJhc3luY1BvcHVwcyBzZXQgdG8gdHJ1ZVwiKTtcclxuICAgICAgICAgICAgICAgIC8vIFBhc3NlcyBvbiBwb3B1cCBwb3NpdGlvbiBhbmQgZGltZW5zaW9ucyBpZiBpbiByZXF1ZXN0XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2dvdXRQb3B1cEFzeW5jKHZhbGlkTG9nb3V0UmVxdWVzdCwgcG9wdXBOYW1lLCBwb3B1cFdpbmRvd0F0dHJpYnV0ZXMsIGF1dGhvcml0eSwgdW5kZWZpbmVkLCBtYWluV2luZG93UmVkaXJlY3RVcmkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gYXN5bmNQb3B1cHMgZmxhZyBpcyBzZXQgdG8gZmFsc2UuIE9wZW5zIHBvcHVwIGJlZm9yZSBsb2dnaW5nIG91dC5cclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJhc3luY1BvcHVwIHNldCB0byBmYWxzZSwgb3BlbmluZyBwb3B1cFwiKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3B1cCA9IFBvcHVwVXRpbHMub3BlblNpemVkUG9wdXAoXCJhYm91dDpibGFua1wiLCBwb3B1cE5hbWUsIHBvcHVwV2luZG93QXR0cmlidXRlcywgdGhpcy5sb2dnZXIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9nb3V0UG9wdXBBc3luYyh2YWxpZExvZ291dFJlcXVlc3QsIHBvcHVwTmFtZSwgcG9wdXBXaW5kb3dBdHRyaWJ1dGVzLCBhdXRob3JpdHksIHBvcHVwLCBtYWluV2luZG93UmVkaXJlY3RVcmkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIC8vIFNpbmNlIHRoaXMgZnVuY3Rpb24gaXMgc3luY2hyb25vdXMgd2UgbmVlZCB0byByZWplY3RcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciB3aGljaCBvYnRhaW5zIGFuIGFjY2Vzc190b2tlbiBmb3IgeW91ciBBUEkgdmlhIG9wZW5pbmcgYSBwb3B1cCB3aW5kb3cgaW4gdGhlIHVzZXIncyBicm93c2VyXHJcbiAgICAgKiBAcGFyYW0gdmFsaWRSZXF1ZXN0XHJcbiAgICAgKiBAcGFyYW0gcG9wdXBOYW1lXHJcbiAgICAgKiBAcGFyYW0gcG9wdXBcclxuICAgICAqIEBwYXJhbSBwb3B1cFdpbmRvd0F0dHJpYnV0ZXNcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiB0aGlzIGZ1bmN0aW9uIGhhcyBjb21wbGV0ZWQsIG9yIHJlamVjdGVkIGlmIGFuIGVycm9yIHdhcyByYWlzZWQuXHJcbiAgICAgKi9cclxuICAgIFBvcHVwQ2xpZW50LnByb3RvdHlwZS5hY3F1aXJlVG9rZW5Qb3B1cEFzeW5jID0gZnVuY3Rpb24gKHJlcXVlc3QsIHBvcHVwTmFtZSwgcG9wdXBXaW5kb3dBdHRyaWJ1dGVzLCBwb3B1cCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIsIHZhbGlkUmVxdWVzdCwgYXV0aENvZGVSZXF1ZXN0LCBhdXRoQ2xpZW50LCBuYXZpZ2F0ZVVybCwgaW50ZXJhY3Rpb25IYW5kbGVyLCBwb3B1cFBhcmFtZXRlcnMsIHBvcHVwV2luZG93LCBoYXNoLCBzdGF0ZSwgcmVzdWx0LCBlXzE7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJhY3F1aXJlVG9rZW5Qb3B1cEFzeW5jIGNhbGxlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyVGVsZW1ldHJ5TWFuYWdlciA9IHRoaXMuaW5pdGlhbGl6ZVNlcnZlclRlbGVtZXRyeU1hbmFnZXIoQXBpSWQuYWNxdWlyZVRva2VuUG9wdXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmluaXRpYWxpemVBdXRob3JpemF0aW9uUmVxdWVzdChyZXF1ZXN0LCBJbnRlcmFjdGlvblR5cGUuUG9wdXApXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkUmVxdWVzdCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZS51cGRhdGVDYWNoZUVudHJpZXModmFsaWRSZXF1ZXN0LnN0YXRlLCB2YWxpZFJlcXVlc3Qubm9uY2UsIHZhbGlkUmVxdWVzdC5hdXRob3JpdHksIHZhbGlkUmVxdWVzdC5sb2dpbkhpbnQgfHwgXCJcIiwgdmFsaWRSZXF1ZXN0LmFjY291bnQgfHwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMiwgOCwgLCA5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuaW5pdGlhbGl6ZUF1dGhvcml6YXRpb25Db2RlUmVxdWVzdCh2YWxpZFJlcXVlc3QpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhDb2RlUmVxdWVzdCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5jcmVhdGVBdXRoQ29kZUNsaWVudChzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLCB2YWxpZFJlcXVlc3QuYXV0aG9yaXR5LCB2YWxpZFJlcXVlc3QuYXp1cmVDbG91ZE9wdGlvbnMpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhDbGllbnQgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJBdXRoIGNvZGUgY2xpZW50IGNyZWF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGF1dGhDbGllbnQuZ2V0QXV0aENvZGVVcmwodmFsaWRSZXF1ZXN0KV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0ZVVybCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25IYW5kbGVyID0gbmV3IFBvcHVwSGFuZGxlcihhdXRoQ2xpZW50LCB0aGlzLmJyb3dzZXJTdG9yYWdlLCBhdXRoQ29kZVJlcXVlc3QsIHRoaXMubG9nZ2VyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBQYXJhbWV0ZXJzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXA6IHBvcHVwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBOYW1lOiBwb3B1cE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1cFdpbmRvd0F0dHJpYnV0ZXM6IHBvcHVwV2luZG93QXR0cmlidXRlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1cFdpbmRvdyA9IGludGVyYWN0aW9uSGFuZGxlci5pbml0aWF0ZUF1dGhSZXF1ZXN0KG5hdmlnYXRlVXJsLCBwb3B1cFBhcmFtZXRlcnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLlBPUFVQX09QRU5FRCwgSW50ZXJhY3Rpb25UeXBlLlBvcHVwLCB7IHBvcHVwV2luZG93OiBwb3B1cFdpbmRvdyB9LCBudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgaW50ZXJhY3Rpb25IYW5kbGVyLm1vbml0b3JQb3B1cEZvckhhc2gocG9wdXBXaW5kb3cpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc2ggPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gdGhpcy52YWxpZGF0ZUFuZEV4dHJhY3RTdGF0ZUZyb21IYXNoKGhhc2gsIEludGVyYWN0aW9uVHlwZS5Qb3B1cCwgdmFsaWRSZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhyb3R0bGUgaWYgaXQgZXhpc3RzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRocm90dGxpbmdVdGlscy5yZW1vdmVUaHJvdHRsZSh0aGlzLmJyb3dzZXJTdG9yYWdlLCB0aGlzLmNvbmZpZy5hdXRoLmNsaWVudElkLCBhdXRoQ29kZVJlcXVlc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBpbnRlcmFjdGlvbkhhbmRsZXIuaGFuZGxlQ29kZVJlc3BvbnNlRnJvbUhhc2goaGFzaCwgc3RhdGUsIGF1dGhDbGllbnQuYXV0aG9yaXR5LCB0aGlzLm5ldHdvcmtDbGllbnQpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlc3VsdF07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlXzEgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3B1cCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xvc2UgdGhlIHN5bmNocm9ub3VzIHBvcHVwIGlmIGFuIGVycm9yIGlzIHRocm93biBiZWZvcmUgdGhlIHdpbmRvdyB1bmxvYWQgZXZlbnQgaXMgcmVnaXN0ZXJlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXAuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZV8xIGluc3RhbmNlb2YgQXV0aEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlXzEuc2V0Q29ycmVsYXRpb25JZCh0aGlzLmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIuY2FjaGVGYWlsZWRSZXF1ZXN0KGVfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2UuY2xlYW5SZXF1ZXN0QnlTdGF0ZSh2YWxpZFJlcXVlc3Quc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlXzE7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA5OiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2YWxpZFJlcXVlc3RcclxuICAgICAqIEBwYXJhbSBwb3B1cE5hbWVcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0QXV0aG9yaXR5XHJcbiAgICAgKiBAcGFyYW0gcG9wdXBcclxuICAgICAqIEBwYXJhbSBtYWluV2luZG93UmVkaXJlY3RVcmlcclxuICAgICAqIEBwYXJhbSBwb3B1cFdpbmRvd0F0dHJpYnV0ZXNcclxuICAgICAqL1xyXG4gICAgUG9wdXBDbGllbnQucHJvdG90eXBlLmxvZ291dFBvcHVwQXN5bmMgPSBmdW5jdGlvbiAodmFsaWRSZXF1ZXN0LCBwb3B1cE5hbWUsIHBvcHVwV2luZG93QXR0cmlidXRlcywgcmVxdWVzdEF1dGhvcml0eSwgcG9wdXAsIG1haW5XaW5kb3dSZWRpcmVjdFVyaSkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIsIGF1dGhDbGllbnQsIGxvZ291dFVyaSwgcG9wdXBVdGlscywgcG9wdXBXaW5kb3csIGVfMiwgbmF2aWdhdGlvbk9wdGlvbnMsIGFic29sdXRlVXJsLCBlXzM7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJsb2dvdXRQb3B1cEFzeW5jIGNhbGxlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5MT0dPVVRfU1RBUlQsIEludGVyYWN0aW9uVHlwZS5Qb3B1cCwgdmFsaWRSZXF1ZXN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyVGVsZW1ldHJ5TWFuYWdlciA9IHRoaXMuaW5pdGlhbGl6ZVNlcnZlclRlbGVtZXRyeU1hbmFnZXIoQXBpSWQubG9nb3V0UG9wdXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzEsIDgsICwgOV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDbGVhciBjYWNoZSBvbiBsb2dvdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5jbGVhckNhY2hlT25Mb2dvdXQodmFsaWRSZXF1ZXN0LmFjY291bnQpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsZWFyIGNhY2hlIG9uIGxvZ291dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuY3JlYXRlQXV0aENvZGVDbGllbnQoc2VydmVyVGVsZW1ldHJ5TWFuYWdlciwgcmVxdWVzdEF1dGhvcml0eSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aENsaWVudCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIkF1dGggY29kZSBjbGllbnQgY3JlYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nb3V0VXJpID0gYXV0aENsaWVudC5nZXRMb2dvdXRVcmkodmFsaWRSZXF1ZXN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5MT0dPVVRfU1VDQ0VTUywgSW50ZXJhY3Rpb25UeXBlLlBvcHVwLCB2YWxpZFJlcXVlc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1cFV0aWxzID0gbmV3IFBvcHVwVXRpbHModGhpcy5icm93c2VyU3RvcmFnZSwgdGhpcy5sb2dnZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1cFdpbmRvdyA9IHBvcHVwVXRpbHMub3BlblBvcHVwKGxvZ291dFVyaSwgeyBwb3B1cE5hbWU6IHBvcHVwTmFtZSwgcG9wdXBXaW5kb3dBdHRyaWJ1dGVzOiBwb3B1cFdpbmRvd0F0dHJpYnV0ZXMsIHBvcHVwOiBwb3B1cCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5QT1BVUF9PUEVORUQsIEludGVyYWN0aW9uVHlwZS5Qb3B1cCwgeyBwb3B1cFdpbmRvdzogcG9wdXBXaW5kb3cgfSwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gNDtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbNCwgNiwgLCA3XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGNhcmUgaWYgdGhpcyB0aHJvd3MgYW4gZXJyb3IgKFVzZXIgQ2FuY2VsbGVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBwb3B1cFV0aWxzLm1vbml0b3JQb3B1cEZvclNhbWVPcmlnaW4ocG9wdXBXaW5kb3cpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGNhcmUgaWYgdGhpcyB0aHJvd3MgYW4gZXJyb3IgKFVzZXIgQ2FuY2VsbGVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJQb3B1cCBzdWNjZXNzZnVsbHkgcmVkaXJlY3RlZCB0byBwb3N0TG9nb3V0UmVkaXJlY3RVcmlcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDddO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZV8yID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiRXJyb3Igb2NjdXJyZWQgd2hpbGUgbW9uaXRvcmluZyBwb3B1cCBmb3Igc2FtZSBvcmlnaW4uIFNlc3Npb24gb24gc2VydmVyIG1heSByZW1haW4gYWN0aXZlLiBFcnJvcjogXCIgKyBlXzIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA3XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwVXRpbHMuY2xlYW5Qb3B1cChwb3B1cFdpbmRvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYWluV2luZG93UmVkaXJlY3RVcmkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRpb25PcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaUlkOiBBcGlJZC5sb2dvdXRQb3B1cCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiB0aGlzLmNvbmZpZy5zeXN0ZW0ucmVkaXJlY3ROYXZpZ2F0aW9uVGltZW91dCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub0hpc3Rvcnk6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWJzb2x1dGVVcmwgPSBVcmxTdHJpbmcuZ2V0QWJzb2x1dGVVcmwobWFpbldpbmRvd1JlZGlyZWN0VXJpLCBCcm93c2VyVXRpbHMuZ2V0Q3VycmVudFVyaSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJSZWRpcmVjdGluZyBtYWluIHdpbmRvdyB0byB1cmwgc3BlY2lmaWVkIGluIHRoZSByZXF1ZXN0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZVBpaShcIlJlZGlyZWN0aW5nIG1haW4gd2luZG93IHRvOiBcIiArIGFic29sdXRlVXJsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvbkNsaWVudC5uYXZpZ2F0ZUludGVybmFsKGFic29sdXRlVXJsLCBuYXZpZ2F0aW9uT3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiTm8gbWFpbiB3aW5kb3cgbmF2aWdhdGlvbiByZXF1ZXN0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgOV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlXzMgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3B1cCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xvc2UgdGhlIHN5bmNocm9ub3VzIHBvcHVwIGlmIGFuIGVycm9yIGlzIHRocm93biBiZWZvcmUgdGhlIHdpbmRvdyB1bmxvYWQgZXZlbnQgaXMgcmVnaXN0ZXJlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXAuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZV8zIGluc3RhbmNlb2YgQXV0aEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlXzMuc2V0Q29ycmVsYXRpb25JZCh0aGlzLmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2Uuc2V0SW50ZXJhY3Rpb25JblByb2dyZXNzKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5MT0dPVVRfRkFJTFVSRSwgSW50ZXJhY3Rpb25UeXBlLlBvcHVwLCBudWxsLCBlXzMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkxPR09VVF9FTkQsIEludGVyYWN0aW9uVHlwZS5Qb3B1cCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIuY2FjaGVGYWlsZWRSZXF1ZXN0KGVfMyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVfMztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuTE9HT1VUX0VORCwgSW50ZXJhY3Rpb25UeXBlLlBvcHVwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUG9wdXBDbGllbnQ7XHJcbn0oU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudCkpO1xuXG5leHBvcnQgeyBQb3B1cENsaWVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9wdXBDbGllbnQuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2Mi4yMi4xIDIwMjItMDMtMDcgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IF9fZXh0ZW5kcywgX19hd2FpdGVyLCBfX2dlbmVyYXRvciB9IGZyb20gJy4uL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgeyBTdHJpbmdVdGlscywgVGhyb3R0bGluZ1V0aWxzLCBDbGllbnRBdXRoRXJyb3IgfSBmcm9tICdAYXp1cmUvbXNhbC1jb21tb24nO1xuaW1wb3J0IHsgQnJvd3NlckF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3IuanMnO1xuaW1wb3J0IHsgVGVtcG9yYXJ5Q2FjaGVLZXlzLCBBcGlJZCB9IGZyb20gJy4uL3V0aWxzL0Jyb3dzZXJDb25zdGFudHMuanMnO1xuaW1wb3J0IHsgSW50ZXJhY3Rpb25IYW5kbGVyIH0gZnJvbSAnLi9JbnRlcmFjdGlvbkhhbmRsZXIuanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxudmFyIFJlZGlyZWN0SGFuZGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhSZWRpcmVjdEhhbmRsZXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSZWRpcmVjdEhhbmRsZXIoYXV0aENvZGVNb2R1bGUsIHN0b3JhZ2VJbXBsLCBhdXRoQ29kZVJlcXVlc3QsIGJyb3dzZXJSZXF1ZXN0TG9nZ2VyLCBicm93c2VyQ3J5cHRvKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgYXV0aENvZGVNb2R1bGUsIHN0b3JhZ2VJbXBsLCBhdXRoQ29kZVJlcXVlc3QsIGJyb3dzZXJSZXF1ZXN0TG9nZ2VyKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmJyb3dzZXJDcnlwdG8gPSBicm93c2VyQ3J5cHRvO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVkaXJlY3RzIHdpbmRvdyB0byBnaXZlbiBVUkwuXHJcbiAgICAgKiBAcGFyYW0gdXJsTmF2aWdhdGVcclxuICAgICAqL1xyXG4gICAgUmVkaXJlY3RIYW5kbGVyLnByb3RvdHlwZS5pbml0aWF0ZUF1dGhSZXF1ZXN0ID0gZnVuY3Rpb24gKHJlcXVlc3RVcmwsIHBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIG5hdmlnYXRpb25PcHRpb25zLCBuYXZpZ2F0ZTtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5icm93c2VyUmVxdWVzdExvZ2dlci52ZXJib3NlKFwiUmVkaXJlY3RIYW5kbGVyLmluaXRpYXRlQXV0aFJlcXVlc3QgY2FsbGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISFTdHJpbmdVdGlscy5pc0VtcHR5KHJlcXVlc3RVcmwpKSByZXR1cm4gWzMgLypicmVhayovLCA3XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FjaGUgc3RhcnQgcGFnZSwgcmV0dXJucyB0byB0aGlzIHBhZ2UgYWZ0ZXIgcmVkaXJlY3RVcmkgaWYgbmF2aWdhdGVUb0xvZ2luUmVxdWVzdFVybCBpcyB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbXMucmVkaXJlY3RTdGFydFBhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnJvd3NlclJlcXVlc3RMb2dnZXIudmVyYm9zZShcIlJlZGlyZWN0SGFuZGxlci5pbml0aWF0ZUF1dGhSZXF1ZXN0OiByZWRpcmVjdFN0YXJ0UGFnZSBzZXQsIGNhY2hpbmcgc3RhcnQgcGFnZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2Uuc2V0VGVtcG9yYXJ5Q2FjaGUoVGVtcG9yYXJ5Q2FjaGVLZXlzLk9SSUdJTl9VUkksIHBhcmFtcy5yZWRpcmVjdFN0YXJ0UGFnZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGludGVyYWN0aW9uIHN0YXR1cyBpbiB0aGUgbGlicmFyeS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZS5zZXRUZW1wb3JhcnlDYWNoZShUZW1wb3JhcnlDYWNoZUtleXMuQ09SUkVMQVRJT05fSUQsIHRoaXMuYXV0aENvZGVSZXF1ZXN0LmNvcnJlbGF0aW9uSWQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLmNhY2hlQ29kZVJlcXVlc3QodGhpcy5hdXRoQ29kZVJlcXVlc3QsIHRoaXMuYnJvd3NlckNyeXB0byk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnJvd3NlclJlcXVlc3RMb2dnZXIuaW5mb1BpaShcIlJlZGlyZWN0SGFuZGxlci5pbml0aWF0ZUF1dGhSZXF1ZXN0OiBOYXZpZ2F0ZSB0bzogXCIgKyByZXF1ZXN0VXJsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvbk9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlJZDogQXBpSWQuYWNxdWlyZVRva2VuUmVkaXJlY3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiBwYXJhbXMucmVkaXJlY3RUaW1lb3V0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9IaXN0b3J5OiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISh0eXBlb2YgcGFyYW1zLm9uUmVkaXJlY3ROYXZpZ2F0ZSA9PT0gXCJmdW5jdGlvblwiKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnJvd3NlclJlcXVlc3RMb2dnZXIudmVyYm9zZShcIlJlZGlyZWN0SGFuZGxlci5pbml0aWF0ZUF1dGhSZXF1ZXN0OiBJbnZva2luZyBvblJlZGlyZWN0TmF2aWdhdGUgY2FsbGJhY2tcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRlID0gcGFyYW1zLm9uUmVkaXJlY3ROYXZpZ2F0ZShyZXF1ZXN0VXJsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEobmF2aWdhdGUgIT09IGZhbHNlKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnJvd3NlclJlcXVlc3RMb2dnZXIudmVyYm9zZShcIlJlZGlyZWN0SGFuZGxlci5pbml0aWF0ZUF1dGhSZXF1ZXN0OiBvblJlZGlyZWN0TmF2aWdhdGUgZGlkIG5vdCByZXR1cm4gZmFsc2UsIG5hdmlnYXRpbmdcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHBhcmFtcy5uYXZpZ2F0aW9uQ2xpZW50Lm5hdmlnYXRlRXh0ZXJuYWwocmVxdWVzdFVybCwgbmF2aWdhdGlvbk9wdGlvbnMpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5icm93c2VyUmVxdWVzdExvZ2dlci52ZXJib3NlKFwiUmVkaXJlY3RIYW5kbGVyLmluaXRpYXRlQXV0aFJlcXVlc3Q6IG9uUmVkaXJlY3ROYXZpZ2F0ZSByZXR1cm5lZCBmYWxzZSwgc3RvcHBpbmcgbmF2aWdhdGlvblwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFszIC8qYnJlYWsqLywgNl07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOYXZpZ2F0ZSB3aW5kb3cgdG8gcmVxdWVzdCBVUkxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5icm93c2VyUmVxdWVzdExvZ2dlci52ZXJib3NlKFwiUmVkaXJlY3RIYW5kbGVyLmluaXRpYXRlQXV0aFJlcXVlc3Q6IE5hdmlnYXRpbmcgd2luZG93IHRvIG5hdmlnYXRlIHVybFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcGFyYW1zLm5hdmlnYXRpb25DbGllbnQubmF2aWdhdGVFeHRlcm5hbChyZXF1ZXN0VXJsLCBuYXZpZ2F0aW9uT3B0aW9ucyldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OiByZXR1cm4gWzMgLypicmVhayovLCA4XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRocm93IGVycm9yIGlmIHJlcXVlc3QgVVJMIGlzIGVtcHR5LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJyb3dzZXJSZXF1ZXN0TG9nZ2VyLmluZm8oXCJSZWRpcmVjdEhhbmRsZXIuaW5pdGlhdGVBdXRoUmVxdWVzdDogTmF2aWdhdGUgdXJsIGlzIGVtcHR5XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZUVtcHR5TmF2aWdhdGlvblVyaUVycm9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIGF1dGhvcml6YXRpb24gY29kZSByZXNwb25zZSBpbiB0aGUgd2luZG93LlxyXG4gICAgICogQHBhcmFtIGhhc2hcclxuICAgICAqL1xyXG4gICAgUmVkaXJlY3RIYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVDb2RlUmVzcG9uc2VGcm9tSGFzaCA9IGZ1bmN0aW9uIChsb2NhdGlvbkhhc2gsIHN0YXRlLCBhdXRob3JpdHksIG5ldHdvcmtNb2R1bGUsIGNsaWVudElkKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc3RhdGVLZXksIHJlcXVlc3RTdGF0ZSwgYXV0aENvZGVSZXNwb25zZSwgbm9uY2VLZXksIGNhY2hlZE5vbmNlLCBjYWNoZWRDY3NDcmVkLCB0b2tlblJlc3BvbnNlO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJyb3dzZXJSZXF1ZXN0TG9nZ2VyLnZlcmJvc2UoXCJSZWRpcmVjdEhhbmRsZXIuaGFuZGxlQ29kZVJlc3BvbnNlIGNhbGxlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCBsb2NhdGlvbiBoYXNoIGlzbid0IGVtcHR5LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoU3RyaW5nVXRpbHMuaXNFbXB0eShsb2NhdGlvbkhhc2gpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZUVtcHR5SGFzaEVycm9yKGxvY2F0aW9uSGFzaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW50ZXJhY3Rpb24gaXMgY29tcGxldGVkIC0gcmVtb3ZlIGludGVyYWN0aW9uIHN0YXR1cy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZS5zZXRJbnRlcmFjdGlvbkluUHJvZ3Jlc3MoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUtleSA9IHRoaXMuYnJvd3NlclN0b3JhZ2UuZ2VuZXJhdGVTdGF0ZUtleShzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RTdGF0ZSA9IHRoaXMuYnJvd3NlclN0b3JhZ2UuZ2V0VGVtcG9yYXJ5Q2FjaGUoc3RhdGVLZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcXVlc3RTdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZVN0YXRlTm90Rm91bmRFcnJvcihcIkNhY2hlZCBTdGF0ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRoQ29kZVJlc3BvbnNlID0gdGhpcy5hdXRoTW9kdWxlLmhhbmRsZUZyYWdtZW50UmVzcG9uc2UobG9jYXRpb25IYXNoLCByZXF1ZXN0U3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub25jZUtleSA9IHRoaXMuYnJvd3NlclN0b3JhZ2UuZ2VuZXJhdGVOb25jZUtleShyZXF1ZXN0U3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZWROb25jZSA9IHRoaXMuYnJvd3NlclN0b3JhZ2UuZ2V0VGVtcG9yYXJ5Q2FjaGUobm9uY2VLZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBc3NpZ24gY29kZSB0byByZXF1ZXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXV0aENvZGVSZXF1ZXN0LmNvZGUgPSBhdXRoQ29kZVJlc3BvbnNlLmNvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYXV0aENvZGVSZXNwb25zZS5jbG91ZF9pbnN0YW5jZV9ob3N0X25hbWUpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnVwZGF0ZVRva2VuRW5kcG9pbnRBdXRob3JpdHkoYXV0aENvZGVSZXNwb25zZS5jbG91ZF9pbnN0YW5jZV9ob3N0X25hbWUsIGF1dGhvcml0eSwgbmV0d29ya01vZHVsZSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRoQ29kZVJlc3BvbnNlLm5vbmNlID0gY2FjaGVkTm9uY2UgfHwgdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRoQ29kZVJlc3BvbnNlLnN0YXRlID0gcmVxdWVzdFN0YXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgQ0NTIHBhcmFtZXRlcnMgaWYgYXZhaWxhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdXRoQ29kZVJlc3BvbnNlLmNsaWVudF9pbmZvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF1dGhDb2RlUmVxdWVzdC5jbGllbnRJbmZvID0gYXV0aENvZGVSZXNwb25zZS5jbGllbnRfaW5mbztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlZENjc0NyZWQgPSB0aGlzLmNoZWNrQ2NzQ3JlZGVudGlhbHMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZWRDY3NDcmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXRoQ29kZVJlcXVlc3QuY2NzQ3JlZGVudGlhbCA9IGNhY2hlZENjc0NyZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRocm90dGxlIGlmIGl0IGV4aXN0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xpZW50SWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRocm90dGxpbmdVdGlscy5yZW1vdmVUaHJvdHRsZSh0aGlzLmJyb3dzZXJTdG9yYWdlLCBjbGllbnRJZCwgdGhpcy5hdXRoQ29kZVJlcXVlc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuYXV0aE1vZHVsZS5hY3F1aXJlVG9rZW4odGhpcy5hdXRoQ29kZVJlcXVlc3QsIGF1dGhDb2RlUmVzcG9uc2UpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuUmVzcG9uc2UgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2UuY2xlYW5SZXF1ZXN0QnlTdGF0ZShzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0b2tlblJlc3BvbnNlXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFJlZGlyZWN0SGFuZGxlcjtcclxufShJbnRlcmFjdGlvbkhhbmRsZXIpKTtcblxuZXhwb3J0IHsgUmVkaXJlY3RIYW5kbGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZWRpcmVjdEhhbmRsZXIuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2Mi4yMi4xIDIwMjItMDMtMDcgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IF9fZXh0ZW5kcywgX19hd2FpdGVyLCBfX2dlbmVyYXRvciB9IGZyb20gJy4uL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgeyBVcmxTdHJpbmcsIEF1dGhFcnJvciB9IGZyb20gJ0BhenVyZS9tc2FsLWNvbW1vbic7XG5pbXBvcnQgeyBTdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50IH0gZnJvbSAnLi9TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50LmpzJztcbmltcG9ydCB7IFRlbXBvcmFyeUNhY2hlS2V5cywgQXBpSWQsIEludGVyYWN0aW9uVHlwZSB9IGZyb20gJy4uL3V0aWxzL0Jyb3dzZXJDb25zdGFudHMuanMnO1xuaW1wb3J0IHsgUmVkaXJlY3RIYW5kbGVyIH0gZnJvbSAnLi4vaW50ZXJhY3Rpb25faGFuZGxlci9SZWRpcmVjdEhhbmRsZXIuanMnO1xuaW1wb3J0IHsgQnJvd3NlclV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvQnJvd3NlclV0aWxzLmpzJztcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gJy4uL2V2ZW50L0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgeyBCcm93c2VyQXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckF1dGhFcnJvci5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgUmVkaXJlY3RDbGllbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUmVkaXJlY3RDbGllbnQsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSZWRpcmVjdENsaWVudCgpIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlZGlyZWN0cyB0aGUgcGFnZSB0byB0aGUgL2F1dGhvcml6ZSBlbmRwb2ludCBvZiB0aGUgSURQXHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBSZWRpcmVjdENsaWVudC5wcm90b3R5cGUuYWNxdWlyZVRva2VuID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWxpZFJlcXVlc3QsIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIsIGhhbmRsZUJhY2tCdXR0b24sIGF1dGhDb2RlUmVxdWVzdCwgYXV0aENsaWVudCwgaW50ZXJhY3Rpb25IYW5kbGVyLCBuYXZpZ2F0ZVVybCwgcmVkaXJlY3RTdGFydFBhZ2UsIGVfMTtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5pbml0aWFsaXplQXV0aG9yaXphdGlvblJlcXVlc3QocmVxdWVzdCwgSW50ZXJhY3Rpb25UeXBlLlJlZGlyZWN0KV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZFJlcXVlc3QgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2UudXBkYXRlQ2FjaGVFbnRyaWVzKHZhbGlkUmVxdWVzdC5zdGF0ZSwgdmFsaWRSZXF1ZXN0Lm5vbmNlLCB2YWxpZFJlcXVlc3QuYXV0aG9yaXR5LCB2YWxpZFJlcXVlc3QubG9naW5IaW50IHx8IFwiXCIsIHZhbGlkUmVxdWVzdC5hY2NvdW50IHx8IG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyID0gdGhpcy5pbml0aWFsaXplU2VydmVyVGVsZW1ldHJ5TWFuYWdlcihBcGlJZC5hY3F1aXJlVG9rZW5SZWRpcmVjdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUJhY2tCdXR0b24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsZWFyIHRlbXBvcmFyeSBjYWNoZSBpZiB0aGUgYmFjayBidXR0b24gaXMgY2xpY2tlZCBkdXJpbmcgdGhlIHJlZGlyZWN0IGZsb3cuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQucGVyc2lzdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLnZlcmJvc2UoXCJQYWdlIHdhcyByZXN0b3JlZCBmcm9tIGJhY2svZm9yd2FyZCBjYWNoZS4gQ2xlYXJpbmcgdGVtcG9yYXJ5IGNhY2hlLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5icm93c2VyU3RvcmFnZS5jbGVhblJlcXVlc3RCeVN0YXRlKHZhbGlkUmVxdWVzdC5zdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMiwgNywgLCA4XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuaW5pdGlhbGl6ZUF1dGhvcml6YXRpb25Db2RlUmVxdWVzdCh2YWxpZFJlcXVlc3QpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhDb2RlUmVxdWVzdCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5jcmVhdGVBdXRoQ29kZUNsaWVudChzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLCB2YWxpZFJlcXVlc3QuYXV0aG9yaXR5LCB2YWxpZFJlcXVlc3QuYXp1cmVDbG91ZE9wdGlvbnMpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhDbGllbnQgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJBdXRoIGNvZGUgY2xpZW50IGNyZWF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uSGFuZGxlciA9IG5ldyBSZWRpcmVjdEhhbmRsZXIoYXV0aENsaWVudCwgdGhpcy5icm93c2VyU3RvcmFnZSwgYXV0aENvZGVSZXF1ZXN0LCB0aGlzLmxvZ2dlciwgdGhpcy5icm93c2VyQ3J5cHRvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgYXV0aENsaWVudC5nZXRBdXRoQ29kZVVybCh2YWxpZFJlcXVlc3QpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRlVXJsID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdFN0YXJ0UGFnZSA9IHRoaXMuZ2V0UmVkaXJlY3RTdGFydFBhZ2UocmVxdWVzdC5yZWRpcmVjdFN0YXJ0UGFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2VQaWkoXCJSZWRpcmVjdCBzdGFydCBwYWdlOiBcIiArIHJlZGlyZWN0U3RhcnRQYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGVtcG9yYXJ5IGNhY2hlIGlmIHRoZSBiYWNrIGJ1dHRvbiBpcyBjbGlja2VkIGR1cmluZyB0aGUgcmVkaXJlY3QgZmxvdy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlc2hvd1wiLCBoYW5kbGVCYWNrQnV0dG9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgaW50ZXJhY3Rpb25IYW5kbGVyLmluaXRpYXRlQXV0aFJlcXVlc3QobmF2aWdhdGVVcmwsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uQ2xpZW50OiB0aGlzLm5hdmlnYXRpb25DbGllbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3RUaW1lb3V0OiB0aGlzLmNvbmZpZy5zeXN0ZW0ucmVkaXJlY3ROYXZpZ2F0aW9uVGltZW91dCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdFN0YXJ0UGFnZTogcmVkaXJlY3RTdGFydFBhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25SZWRpcmVjdE5hdmlnYXRlOiByZXF1ZXN0Lm9uUmVkaXJlY3ROYXZpZ2F0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjogXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU2hvdyB0aGUgVUkgb25jZSB0aGUgdXJsIGhhcyBiZWVuIGNyZWF0ZWQuIFJlc3BvbnNlIHdpbGwgY29tZSBiYWNrIGluIHRoZSBoYXNoLCB3aGljaCB3aWxsIGJlIGhhbmRsZWQgaW4gdGhlIGhhbmRsZVJlZGlyZWN0Q2FsbGJhY2sgZnVuY3Rpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlXzEgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlXzEgaW5zdGFuY2VvZiBBdXRoRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVfMS5zZXRDb3JyZWxhdGlvbklkKHRoaXMuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwYWdlc2hvd1wiLCBoYW5kbGVCYWNrQnV0dG9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyVGVsZW1ldHJ5TWFuYWdlci5jYWNoZUZhaWxlZFJlcXVlc3QoZV8xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZS5jbGVhblJlcXVlc3RCeVN0YXRlKHZhbGlkUmVxdWVzdC5zdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVfMTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDg6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgbmF2aWdhdGVUb0xvZ2luUmVxdWVzdFVybCBpcyBzZXQsIGFuZDpcclxuICAgICAqIC0gaWYgdHJ1ZSwgcGVyZm9ybXMgbG9naWMgdG8gY2FjaGUgYW5kIG5hdmlnYXRlXHJcbiAgICAgKiAtIGlmIGZhbHNlLCBoYW5kbGVzIGhhc2ggc3RyaW5nIGFuZCBwYXJzZXMgcmVzcG9uc2VcclxuICAgICAqIEBwYXJhbSBoYXNoXHJcbiAgICAgKi9cclxuICAgIFJlZGlyZWN0Q2xpZW50LnByb3RvdHlwZS5oYW5kbGVSZWRpcmVjdFByb21pc2UgPSBmdW5jdGlvbiAoaGFzaCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIsIHJlc3BvbnNlSGFzaCwgc3RhdGUsIGxvZ2luUmVxdWVzdFVybCwgbG9naW5SZXF1ZXN0VXJsTm9ybWFsaXplZCwgY3VycmVudFVybE5vcm1hbGl6ZWQsIGhhbmRsZUhhc2hSZXN1bHQsIG5hdmlnYXRpb25PcHRpb25zLCBwcm9jZXNzSGFzaE9uUmVkaXJlY3QsIGhvbWVwYWdlLCBlXzI7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIgPSB0aGlzLmluaXRpYWxpemVTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyKEFwaUlkLmhhbmRsZVJlZGlyZWN0UHJvbWlzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMSwgMTAsICwgMTFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmJyb3dzZXJTdG9yYWdlLmlzSW50ZXJhY3Rpb25JblByb2dyZXNzKHRydWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFwiaGFuZGxlUmVkaXJlY3RQcm9taXNlIGNhbGxlZCBidXQgdGhlcmUgaXMgbm8gaW50ZXJhY3Rpb24gaW4gcHJvZ3Jlc3MsIHJldHVybmluZyBudWxsLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBudWxsXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZUhhc2ggPSB0aGlzLmdldFJlZGlyZWN0UmVzcG9uc2VIYXNoKGhhc2ggfHwgd2luZG93LmxvY2F0aW9uLmhhc2gpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlSGFzaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm90IGEgcmVjb2duaXplZCBzZXJ2ZXIgcmVzcG9uc2UgaGFzaCBvciBoYXNoIG5vdCBhc3NvY2lhdGVkIHdpdGggYSByZWRpcmVjdCByZXF1ZXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFwiaGFuZGxlUmVkaXJlY3RQcm9taXNlIGRpZCBub3QgZGV0ZWN0IGEgcmVzcG9uc2UgaGFzaCBhcyBhIHJlc3VsdCBvZiBhIHJlZGlyZWN0LiBDbGVhbmluZyB0ZW1wb3JhcnkgY2FjaGUuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZS5jbGVhblJlcXVlc3RCeUludGVyYWN0aW9uVHlwZShJbnRlcmFjdGlvblR5cGUuUmVkaXJlY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG51bGxdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gdm9pZCAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSB0aGlzLnZhbGlkYXRlQW5kRXh0cmFjdFN0YXRlRnJvbUhhc2gocmVzcG9uc2VIYXNoLCBJbnRlcmFjdGlvblR5cGUuUmVkaXJlY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlN0YXRlIGV4dHJhY3RlZCBmcm9tIGhhc2hcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJoYW5kbGVSZWRpcmVjdFByb21pc2Ugd2FzIHVuYWJsZSB0byBleHRyYWN0IHN0YXRlIGR1ZSB0bzogXCIgKyBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2UuY2xlYW5SZXF1ZXN0QnlJbnRlcmFjdGlvblR5cGUoSW50ZXJhY3Rpb25UeXBlLlJlZGlyZWN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBudWxsXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dpblJlcXVlc3RVcmwgPSB0aGlzLmJyb3dzZXJTdG9yYWdlLmdldFRlbXBvcmFyeUNhY2hlKFRlbXBvcmFyeUNhY2hlS2V5cy5PUklHSU5fVVJJLCB0cnVlKSB8fCBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dpblJlcXVlc3RVcmxOb3JtYWxpemVkID0gVXJsU3RyaW5nLnJlbW92ZUhhc2hGcm9tVXJsKGxvZ2luUmVxdWVzdFVybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRVcmxOb3JtYWxpemVkID0gVXJsU3RyaW5nLnJlbW92ZUhhc2hGcm9tVXJsKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEobG9naW5SZXF1ZXN0VXJsTm9ybWFsaXplZCA9PT0gY3VycmVudFVybE5vcm1hbGl6ZWQgJiYgdGhpcy5jb25maWcuYXV0aC5uYXZpZ2F0ZVRvTG9naW5SZXF1ZXN0VXJsKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBvbiB0aGUgcGFnZSB3ZSBuZWVkIHRvIG5hdmlnYXRlIHRvIC0gaGFuZGxlIGhhc2hcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIkN1cnJlbnQgcGFnZSBpcyBsb2dpblJlcXVlc3RVcmwsIGhhbmRsaW5nIGhhc2hcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuaGFuZGxlSGFzaChyZXNwb25zZUhhc2gsIHN0YXRlLCBzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVIYXNoUmVzdWx0ID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobG9naW5SZXF1ZXN0VXJsLmluZGV4T2YoXCIjXCIpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlcGxhY2UgY3VycmVudCBoYXNoIHdpdGggbm9uLW1zYWwgaGFzaCwgaWYgcHJlc2VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQnJvd3NlclV0aWxzLnJlcGxhY2VIYXNoKGxvZ2luUmVxdWVzdFVybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGhhbmRsZUhhc2hSZXN1bHRdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhdGhpcy5jb25maWcuYXV0aC5uYXZpZ2F0ZVRvTG9naW5SZXF1ZXN0VXJsKSByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIk5hdmlnYXRlVG9Mb2dpblJlcXVlc3RVcmwgc2V0IHRvIGZhbHNlLCBoYW5kbGluZyBoYXNoXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5oYW5kbGVIYXNoKHJlc3BvbnNlSGFzaCwgc3RhdGUsIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKCFCcm93c2VyVXRpbHMuaXNJbklmcmFtZSgpIHx8IHRoaXMuY29uZmlnLnN5c3RlbS5hbGxvd1JlZGlyZWN0SW5JZnJhbWUpKSByZXR1cm4gWzMgLypicmVhayovLCA5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAgICAgICAgICogUmV0dXJuZWQgZnJvbSBhdXRob3JpdHkgdXNpbmcgcmVkaXJlY3QgLSBuZWVkIHRvIHBlcmZvcm0gbmF2aWdhdGlvbiBiZWZvcmUgcHJvY2Vzc2luZyByZXNwb25zZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBDYWNoZSB0aGUgaGFzaCB0byBiZSByZXRyaWV2ZWQgYWZ0ZXIgdGhlIG5leHQgcmVkaXJlY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2Uuc2V0VGVtcG9yYXJ5Q2FjaGUoVGVtcG9yYXJ5Q2FjaGVLZXlzLlVSTF9IQVNILCByZXNwb25zZUhhc2gsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaUlkOiBBcGlJZC5oYW5kbGVSZWRpcmVjdFByb21pc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiB0aGlzLmNvbmZpZy5zeXN0ZW0ucmVkaXJlY3ROYXZpZ2F0aW9uVGltZW91dCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vSGlzdG9yeTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzSGFzaE9uUmVkaXJlY3QgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISghbG9naW5SZXF1ZXN0VXJsIHx8IGxvZ2luUmVxdWVzdFVybCA9PT0gXCJudWxsXCIpKSByZXR1cm4gWzMgLypicmVhayovLCA2XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaG9tZXBhZ2UgPSBCcm93c2VyVXRpbHMuZ2V0SG9tZXBhZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FjaGUgdGhlIGhvbWVwYWdlIHVuZGVyIE9SSUdJTl9VUkkgdG8gZW5zdXJlIGNhY2hlZCBoYXNoIGlzIHByb2Nlc3NlZCBvbiBob21lcGFnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLnNldFRlbXBvcmFyeUNhY2hlKFRlbXBvcmFyeUNhY2hlS2V5cy5PUklHSU5fVVJJLCBob21lcGFnZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm5pbmcoXCJVbmFibGUgdG8gZ2V0IHZhbGlkIGxvZ2luIHJlcXVlc3QgdXJsIGZyb20gY2FjaGUsIHJlZGlyZWN0aW5nIHRvIGhvbWUgcGFnZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5uYXZpZ2F0aW9uQ2xpZW50Lm5hdmlnYXRlSW50ZXJuYWwoaG9tZXBhZ2UsIG5hdmlnYXRpb25PcHRpb25zKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzSGFzaE9uUmVkaXJlY3QgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDhdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTmF2aWdhdGUgdG8gcGFnZSB0aGF0IGluaXRpYXRlZCB0aGUgcmVkaXJlY3QgcmVxdWVzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiTmF2aWdhdGluZyB0byBsb2dpblJlcXVlc3RVcmw6IFwiICsgbG9naW5SZXF1ZXN0VXJsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5uYXZpZ2F0aW9uQ2xpZW50Lm5hdmlnYXRlSW50ZXJuYWwobG9naW5SZXF1ZXN0VXJsLCBuYXZpZ2F0aW9uT3B0aW9ucyldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0hhc2hPblJlZGlyZWN0ID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDg7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBuYXZpZ2F0ZUludGVybmFsIGltcGxlbWVudGF0aW9uIHJldHVybnMgZmFsc2UsIGhhbmRsZSB0aGUgaGFzaCBub3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9jZXNzSGFzaE9uUmVkaXJlY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLmhhbmRsZUhhc2gocmVzcG9uc2VIYXNoLCBzdGF0ZSwgc2VydmVyVGVsZW1ldHJ5TWFuYWdlcildO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gOTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDk6IHJldHVybiBbMiAvKnJldHVybiovLCBudWxsXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlXzIgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlXzIgaW5zdGFuY2VvZiBBdXRoRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVfMi5zZXRDb3JyZWxhdGlvbklkKHRoaXMuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyVGVsZW1ldHJ5TWFuYWdlci5jYWNoZUZhaWxlZFJlcXVlc3QoZV8yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZS5jbGVhblJlcXVlc3RCeUludGVyYWN0aW9uVHlwZShJbnRlcmFjdGlvblR5cGUuUmVkaXJlY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlXzI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMTogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIHJlc3BvbnNlIGhhc2ggZm9yIGEgcmVkaXJlY3QgcmVxdWVzdFxyXG4gICAgICogUmV0dXJucyBudWxsIGlmIGludGVyYWN0aW9uVHlwZSBpbiB0aGUgc3RhdGUgdmFsdWUgaXMgbm90IFwicmVkaXJlY3RcIiBvciB0aGUgaGFzaCBkb2VzIG5vdCBjb250YWluIGtub3duIHByb3BlcnRpZXNcclxuICAgICAqIEBwYXJhbSBoYXNoXHJcbiAgICAgKi9cclxuICAgIFJlZGlyZWN0Q2xpZW50LnByb3RvdHlwZS5nZXRSZWRpcmVjdFJlc3BvbnNlSGFzaCA9IGZ1bmN0aW9uIChoYXNoKSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcImdldFJlZGlyZWN0UmVzcG9uc2VIYXNoIGNhbGxlZFwiKTtcclxuICAgICAgICAvLyBHZXQgY3VycmVudCBsb2NhdGlvbiBoYXNoIGZyb20gd2luZG93IG9yIGNhY2hlLlxyXG4gICAgICAgIHZhciBpc1Jlc3BvbnNlSGFzaCA9IFVybFN0cmluZy5oYXNoQ29udGFpbnNLbm93blByb3BlcnRpZXMoaGFzaCk7XHJcbiAgICAgICAgaWYgKGlzUmVzcG9uc2VIYXNoKSB7XHJcbiAgICAgICAgICAgIEJyb3dzZXJVdGlscy5jbGVhckhhc2god2luZG93KTtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIkhhc2ggY29udGFpbnMga25vd24gcHJvcGVydGllcywgcmV0dXJuaW5nIHJlc3BvbnNlIGhhc2hcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBoYXNoO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY2FjaGVkSGFzaCA9IHRoaXMuYnJvd3NlclN0b3JhZ2UuZ2V0VGVtcG9yYXJ5Q2FjaGUoVGVtcG9yYXJ5Q2FjaGVLZXlzLlVSTF9IQVNILCB0cnVlKTtcclxuICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5icm93c2VyU3RvcmFnZS5nZW5lcmF0ZUNhY2hlS2V5KFRlbXBvcmFyeUNhY2hlS2V5cy5VUkxfSEFTSCkpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJIYXNoIGRvZXMgbm90IGNvbnRhaW4ga25vd24gcHJvcGVydGllcywgcmV0dXJuaW5nIGNhY2hlZCBoYXNoXCIpO1xyXG4gICAgICAgIHJldHVybiBjYWNoZWRIYXNoO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIGhhc2ggZXhpc3RzIGFuZCBoYW5kbGVzIGluIHdpbmRvdy5cclxuICAgICAqIEBwYXJhbSBoYXNoXHJcbiAgICAgKiBAcGFyYW0gc3RhdGVcclxuICAgICAqL1xyXG4gICAgUmVkaXJlY3RDbGllbnQucHJvdG90eXBlLmhhbmRsZUhhc2ggPSBmdW5jdGlvbiAoaGFzaCwgc3RhdGUsIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjYWNoZWRSZXF1ZXN0LCBjdXJyZW50QXV0aG9yaXR5LCBhdXRoQ2xpZW50LCBpbnRlcmFjdGlvbkhhbmRsZXI7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlZFJlcXVlc3QgPSB0aGlzLmJyb3dzZXJTdG9yYWdlLmdldENhY2hlZFJlcXVlc3Qoc3RhdGUsIHRoaXMuYnJvd3NlckNyeXB0byk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJoYW5kbGVIYXNoIGNhbGxlZCwgcmV0cmlldmVkIGNhY2hlZCByZXF1ZXN0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50QXV0aG9yaXR5ID0gdGhpcy5icm93c2VyU3RvcmFnZS5nZXRDYWNoZWRBdXRob3JpdHkoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRBdXRob3JpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEJyb3dzZXJBdXRoRXJyb3IuY3JlYXRlTm9DYWNoZWRBdXRob3JpdHlFcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuY3JlYXRlQXV0aENvZGVDbGllbnQoc2VydmVyVGVsZW1ldHJ5TWFuYWdlciwgY3VycmVudEF1dGhvcml0eSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aENsaWVudCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIkF1dGggY29kZSBjbGllbnQgY3JlYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25IYW5kbGVyID0gbmV3IFJlZGlyZWN0SGFuZGxlcihhdXRoQ2xpZW50LCB0aGlzLmJyb3dzZXJTdG9yYWdlLCBjYWNoZWRSZXF1ZXN0LCB0aGlzLmxvZ2dlciwgdGhpcy5icm93c2VyQ3J5cHRvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgaW50ZXJhY3Rpb25IYW5kbGVyLmhhbmRsZUNvZGVSZXNwb25zZUZyb21IYXNoKGhhc2gsIHN0YXRlLCBhdXRoQ2xpZW50LmF1dGhvcml0eSwgdGhpcy5uZXR3b3JrQ2xpZW50LCB0aGlzLmNvbmZpZy5hdXRoLmNsaWVudElkKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Euc2VudCgpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBVc2UgdG8gbG9nIG91dCB0aGUgY3VycmVudCB1c2VyLCBhbmQgcmVkaXJlY3QgdGhlIHVzZXIgdG8gdGhlIHBvc3RMb2dvdXRSZWRpcmVjdFVyaS5cclxuICAgICAqIERlZmF1bHQgYmVoYXZpb3VyIGlzIHRvIHJlZGlyZWN0IHRoZSB1c2VyIHRvIGB3aW5kb3cubG9jYXRpb24uaHJlZmAuXHJcbiAgICAgKiBAcGFyYW0gbG9nb3V0UmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBSZWRpcmVjdENsaWVudC5wcm90b3R5cGUubG9nb3V0ID0gZnVuY3Rpb24gKGxvZ291dFJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWxpZExvZ291dFJlcXVlc3QsIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIsIG5hdmlnYXRpb25PcHRpb25zLCBhdXRoQ2xpZW50LCBsb2dvdXRVcmksIG5hdmlnYXRlLCBlXzM7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJsb2dvdXRSZWRpcmVjdCBjYWxsZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkTG9nb3V0UmVxdWVzdCA9IHRoaXMuaW5pdGlhbGl6ZUxvZ291dFJlcXVlc3QobG9nb3V0UmVxdWVzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIgPSB0aGlzLmluaXRpYWxpemVTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyKEFwaUlkLmxvZ291dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMSwgMTAsICwgMTFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5MT0dPVVRfU1RBUlQsIEludGVyYWN0aW9uVHlwZS5SZWRpcmVjdCwgbG9nb3V0UmVxdWVzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsZWFyIGNhY2hlIG9uIGxvZ291dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmNsZWFyQ2FjaGVPbkxvZ291dCh2YWxpZExvZ291dFJlcXVlc3QuYWNjb3VudCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgY2FjaGUgb24gbG9nb3V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvbk9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlJZDogQXBpSWQubG9nb3V0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogdGhpcy5jb25maWcuc3lzdGVtLnJlZGlyZWN0TmF2aWdhdGlvblRpbWVvdXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub0hpc3Rvcnk6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuY3JlYXRlQXV0aENvZGVDbGllbnQoc2VydmVyVGVsZW1ldHJ5TWFuYWdlciwgbG9nb3V0UmVxdWVzdCAmJiBsb2dvdXRSZXF1ZXN0LmF1dGhvcml0eSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aENsaWVudCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIkF1dGggY29kZSBjbGllbnQgY3JlYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nb3V0VXJpID0gYXV0aENsaWVudC5nZXRMb2dvdXRVcmkodmFsaWRMb2dvdXRSZXF1ZXN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5MT0dPVVRfU1VDQ0VTUywgSW50ZXJhY3Rpb25UeXBlLlJlZGlyZWN0LCB2YWxpZExvZ291dFJlcXVlc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShsb2dvdXRSZXF1ZXN0ICYmIHR5cGVvZiBsb2dvdXRSZXF1ZXN0Lm9uUmVkaXJlY3ROYXZpZ2F0ZSA9PT0gXCJmdW5jdGlvblwiKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgN107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRlID0gbG9nb3V0UmVxdWVzdC5vblJlZGlyZWN0TmF2aWdhdGUobG9nb3V0VXJpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEobmF2aWdhdGUgIT09IGZhbHNlKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJMb2dvdXQgb25SZWRpcmVjdE5hdmlnYXRlIGRpZCBub3QgcmV0dXJuIGZhbHNlLCBuYXZpZ2F0aW5nXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLm5hdmlnYXRpb25DbGllbnQubmF2aWdhdGVFeHRlcm5hbChsb2dvdXRVcmksIG5hdmlnYXRpb25PcHRpb25zKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJMb2dvdXQgb25SZWRpcmVjdE5hdmlnYXRlIHJldHVybmVkIGZhbHNlLCBzdG9wcGluZyBuYXZpZ2F0aW9uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDY7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OiByZXR1cm4gWzMgLypicmVhayovLCA5XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMubmF2aWdhdGlvbkNsaWVudC5uYXZpZ2F0ZUV4dGVybmFsKGxvZ291dFVyaSwgbmF2aWdhdGlvbk9wdGlvbnMpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDg6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgOTogcmV0dXJuIFszIC8qYnJlYWsqLywgMTFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVfMyA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVfMyBpbnN0YW5jZW9mIEF1dGhFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZV8zLnNldENvcnJlbGF0aW9uSWQodGhpcy5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLmNhY2hlRmFpbGVkUmVxdWVzdChlXzMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkxPR09VVF9GQUlMVVJFLCBJbnRlcmFjdGlvblR5cGUuUmVkaXJlY3QsIG51bGwsIGVfMyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuTE9HT1VUX0VORCwgSW50ZXJhY3Rpb25UeXBlLlJlZGlyZWN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZV8zO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuTE9HT1VUX0VORCwgSW50ZXJhY3Rpb25UeXBlLlJlZGlyZWN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFVzZSB0byBnZXQgdGhlIHJlZGlyZWN0U3RhcnRQYWdlIGVpdGhlciBmcm9tIHJlcXVlc3Qgb3IgdXNlIGN1cnJlbnQgd2luZG93XHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFN0YXJ0UGFnZVxyXG4gICAgICovXHJcbiAgICBSZWRpcmVjdENsaWVudC5wcm90b3R5cGUuZ2V0UmVkaXJlY3RTdGFydFBhZ2UgPSBmdW5jdGlvbiAocmVxdWVzdFN0YXJ0UGFnZSkge1xyXG4gICAgICAgIHZhciByZWRpcmVjdFN0YXJ0UGFnZSA9IHJlcXVlc3RTdGFydFBhZ2UgfHwgd2luZG93LmxvY2F0aW9uLmhyZWY7XHJcbiAgICAgICAgcmV0dXJuIFVybFN0cmluZy5nZXRBYnNvbHV0ZVVybChyZWRpcmVjdFN0YXJ0UGFnZSwgQnJvd3NlclV0aWxzLmdldEN1cnJlbnRVcmkoKSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFJlZGlyZWN0Q2xpZW50O1xyXG59KFN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnQpKTtcblxuZXhwb3J0IHsgUmVkaXJlY3RDbGllbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlZGlyZWN0Q2xpZW50LmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjIuMjIuMSAyMDIyLTAzLTA3ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBfX2V4dGVuZHMsIF9fYXdhaXRlciwgX19nZW5lcmF0b3IgfSBmcm9tICcuLi9fdmlydHVhbC9fdHNsaWIuanMnO1xuaW1wb3J0IHsgU3RyaW5nVXRpbHMsIENvbnN0YW50cywgVXJsU3RyaW5nIH0gZnJvbSAnQGF6dXJlL21zYWwtY29tbW9uJztcbmltcG9ydCB7IEludGVyYWN0aW9uSGFuZGxlciB9IGZyb20gJy4vSW50ZXJhY3Rpb25IYW5kbGVyLmpzJztcbmltcG9ydCB7IEJyb3dzZXJDb25zdGFudHMgfSBmcm9tICcuLi91dGlscy9Ccm93c2VyQ29uc3RhbnRzLmpzJztcbmltcG9ydCB7IEJyb3dzZXJBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9Ccm93c2VyQXV0aEVycm9yLmpzJztcbmltcG9ydCB7IERFRkFVTFRfSUZSQU1FX1RJTUVPVVRfTVMgfSBmcm9tICcuLi9jb25maWcvQ29uZmlndXJhdGlvbi5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgU2lsZW50SGFuZGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTaWxlbnRIYW5kbGVyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU2lsZW50SGFuZGxlcihhdXRoQ29kZU1vZHVsZSwgc3RvcmFnZUltcGwsIGF1dGhDb2RlUmVxdWVzdCwgYnJvd3NlclJlcXVlc3RMb2dnZXIsIG5hdmlnYXRlRnJhbWVXYWl0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgYXV0aENvZGVNb2R1bGUsIHN0b3JhZ2VJbXBsLCBhdXRoQ29kZVJlcXVlc3QsIGJyb3dzZXJSZXF1ZXN0TG9nZ2VyKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLm5hdmlnYXRlRnJhbWVXYWl0ID0gbmF2aWdhdGVGcmFtZVdhaXQ7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgaGlkZGVuIGlmcmFtZSB0byBnaXZlbiBVUkwgdXNpbmcgdXNlci1yZXF1ZXN0ZWQgc2NvcGVzIGFzIGFuIGlkLlxyXG4gICAgICogQHBhcmFtIHVybE5hdmlnYXRlXHJcbiAgICAgKiBAcGFyYW0gdXNlclJlcXVlc3RTY29wZXNcclxuICAgICAqL1xyXG4gICAgU2lsZW50SGFuZGxlci5wcm90b3R5cGUuaW5pdGlhdGVBdXRoUmVxdWVzdCA9IGZ1bmN0aW9uIChyZXF1ZXN0VXJsKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChTdHJpbmdVdGlscy5pc0VtcHR5KHJlcXVlc3RVcmwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaHJvdyBlcnJvciBpZiByZXF1ZXN0IFVSTCBpcyBlbXB0eS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnJvd3NlclJlcXVlc3RMb2dnZXIuaW5mbyhcIk5hdmlnYXRlIHVybCBpcyBlbXB0eVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEJyb3dzZXJBdXRoRXJyb3IuY3JlYXRlRW1wdHlOYXZpZ2F0aW9uVXJpRXJyb3IoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubmF2aWdhdGVGcmFtZVdhaXQpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmxvYWRGcmFtZShyZXF1ZXN0VXJsKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IHRoaXMubG9hZEZyYW1lU3luYyhyZXF1ZXN0VXJsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAzO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBNb25pdG9ycyBhbiBpZnJhbWUgY29udGVudCB3aW5kb3cgdW50aWwgaXQgbG9hZHMgYSB1cmwgd2l0aCBhIGtub3duIGhhc2gsIG9yIGhpdHMgYSBzcGVjaWZpZWQgdGltZW91dC5cclxuICAgICAqIEBwYXJhbSBpZnJhbWVcclxuICAgICAqIEBwYXJhbSB0aW1lb3V0XHJcbiAgICAgKi9cclxuICAgIFNpbGVudEhhbmRsZXIucHJvdG90eXBlLm1vbml0b3JJZnJhbWVGb3JIYXNoID0gZnVuY3Rpb24gKGlmcmFtZSwgdGltZW91dCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgaWYgKHRpbWVvdXQgPCBERUZBVUxUX0lGUkFNRV9USU1FT1VUX01TKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5icm93c2VyUmVxdWVzdExvZ2dlci53YXJuaW5nKFwic3lzdGVtLmxvYWRGcmFtZVRpbWVvdXQgb3Igc3lzdGVtLmlmcmFtZUhhc2hUaW1lb3V0IHNldCB0byBsb3dlciAoXCIgKyB0aW1lb3V0ICsgXCJtcykgdGhhbiB0aGUgZGVmYXVsdCAoXCIgKyBERUZBVUxUX0lGUkFNRV9USU1FT1VUX01TICsgXCJtcykuIFRoaXMgbWF5IHJlc3VsdCBpbiB0aW1lb3V0cy5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICogUG9sbGluZyBmb3IgaWZyYW1lcyBjYW4gYmUgcHVyZWx5IHRpbWluZyBiYXNlZCxcclxuICAgICAgICAgICAgICogc2luY2Ugd2UgZG9uJ3QgbmVlZCB0byBhY2NvdW50IGZvciBpbnRlcmFjdGlvbi5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHZhciBub3dNYXJrID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgICAgICAgICB2YXIgdGltZW91dE1hcmsgPSBub3dNYXJrICsgdGltZW91dDtcclxuICAgICAgICAgICAgdmFyIGludGVydmFsSWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LnBlcmZvcm1hbmNlLm5vdygpID4gdGltZW91dE1hcmspIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZW1vdmVIaWRkZW5JZnJhbWUoaWZyYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChCcm93c2VyQXV0aEVycm9yLmNyZWF0ZU1vbml0b3JJZnJhbWVUaW1lb3V0RXJyb3IoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGhyZWYgPSBDb25zdGFudHMuRU1QVFlfU1RSSU5HO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRlbnRXaW5kb3cgPSBpZnJhbWUuY29udGVudFdpbmRvdztcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAgICAgKiBXaWxsIHRocm93IGlmIGNyb3NzIG9yaWdpbixcclxuICAgICAgICAgICAgICAgICAgICAgKiB3aGljaCBzaG91bGQgYmUgY2F1Z2h0IGFuZCBpZ25vcmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICogc2luY2Ugd2UgbmVlZCB0aGUgaW50ZXJ2YWwgdG8ga2VlcCBydW5uaW5nIHdoaWxlIG9uIFNUUyBVSS5cclxuICAgICAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgICAgICBocmVmID0gY29udGVudFdpbmRvdyA/IGNvbnRlbnRXaW5kb3cubG9jYXRpb24uaHJlZiA6IENvbnN0YW50cy5FTVBUWV9TVFJJTkc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XHJcbiAgICAgICAgICAgICAgICBpZiAoU3RyaW5nVXRpbHMuaXNFbXB0eShocmVmKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBjb250ZW50SGFzaCA9IGNvbnRlbnRXaW5kb3cgPyBjb250ZW50V2luZG93LmxvY2F0aW9uLmhhc2ggOiBDb25zdGFudHMuRU1QVFlfU1RSSU5HO1xyXG4gICAgICAgICAgICAgICAgaWYgKFVybFN0cmluZy5oYXNoQ29udGFpbnNLbm93blByb3BlcnRpZXMoY29udGVudEhhc2gpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VjY2VzcyBjYXNlXHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVtb3ZlSGlkZGVuSWZyYW1lKGlmcmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGNvbnRlbnRIYXNoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIEJyb3dzZXJDb25zdGFudHMuUE9MTF9JTlRFUlZBTF9NUyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKiBMb2FkcyBpZnJhbWUgd2l0aCBhdXRob3JpemF0aW9uIGVuZHBvaW50IFVSTFxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBTaWxlbnRIYW5kbGVyLnByb3RvdHlwZS5sb2FkRnJhbWUgPSBmdW5jdGlvbiAodXJsTmF2aWdhdGUpIHtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIFRoaXMgdHJpY2sgb3ZlcmNvbWVzIGlmcmFtZSBuYXZpZ2F0aW9uIGluIElFXHJcbiAgICAgICAgICogSUUgZG9lcyBub3QgbG9hZCB0aGUgcGFnZSBjb25zaXN0ZW50bHkgaW4gaWZyYW1lXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgZnJhbWVIYW5kbGUgPSBfdGhpcy5jcmVhdGVIaWRkZW5JZnJhbWUoKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWZyYW1lSGFuZGxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFwiVW5hYmxlIHRvIGxvYWQgaWZyYW1lXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZyYW1lSGFuZGxlLnNyYyA9IHVybE5hdmlnYXRlO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShmcmFtZUhhbmRsZSk7XHJcbiAgICAgICAgICAgIH0sIF90aGlzLm5hdmlnYXRlRnJhbWVXYWl0KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqIExvYWRzIHRoZSBpZnJhbWUgc3luY2hyb25vdXNseSB3aGVuIHRoZSBuYXZpZ2F0ZVRpbWVGcmFtZSBpcyBzZXQgdG8gYDBgXHJcbiAgICAgKiBAcGFyYW0gdXJsTmF2aWdhdGVcclxuICAgICAqIEBwYXJhbSBmcmFtZU5hbWVcclxuICAgICAqIEBwYXJhbSBsb2dnZXJcclxuICAgICAqL1xyXG4gICAgU2lsZW50SGFuZGxlci5wcm90b3R5cGUubG9hZEZyYW1lU3luYyA9IGZ1bmN0aW9uICh1cmxOYXZpZ2F0ZSkge1xyXG4gICAgICAgIHZhciBmcmFtZUhhbmRsZSA9IHRoaXMuY3JlYXRlSGlkZGVuSWZyYW1lKCk7XHJcbiAgICAgICAgZnJhbWVIYW5kbGUuc3JjID0gdXJsTmF2aWdhdGU7XHJcbiAgICAgICAgcmV0dXJuIGZyYW1lSGFuZGxlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICogQ3JlYXRlcyBhIG5ldyBoaWRkZW4gaWZyYW1lIG9yIGdldHMgYW4gZXhpc3Rpbmcgb25lIGZvciBzaWxlbnQgdG9rZW4gcmVuZXdhbC5cclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgU2lsZW50SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlSGlkZGVuSWZyYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhdXRoRnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO1xyXG4gICAgICAgIGF1dGhGcmFtZS5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcclxuICAgICAgICBhdXRoRnJhbWUuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XHJcbiAgICAgICAgYXV0aEZyYW1lLnN0eWxlLndpZHRoID0gYXV0aEZyYW1lLnN0eWxlLmhlaWdodCA9IFwiMFwiO1xyXG4gICAgICAgIGF1dGhGcmFtZS5zdHlsZS5ib3JkZXIgPSBcIjBcIjtcclxuICAgICAgICBhdXRoRnJhbWUuc2V0QXR0cmlidXRlKFwic2FuZGJveFwiLCBcImFsbG93LXNjcmlwdHMgYWxsb3ctc2FtZS1vcmlnaW4gYWxsb3ctZm9ybXNcIik7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdLmFwcGVuZENoaWxkKGF1dGhGcmFtZSk7XHJcbiAgICAgICAgcmV0dXJuIGF1dGhGcmFtZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqIFJlbW92ZXMgYSBoaWRkZW4gaWZyYW1lIGZyb20gdGhlIHBhZ2UuXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIFNpbGVudEhhbmRsZXIucHJvdG90eXBlLnJlbW92ZUhpZGRlbklmcmFtZSA9IGZ1bmN0aW9uIChpZnJhbWUpIHtcclxuICAgICAgICBpZiAoZG9jdW1lbnQuYm9keSA9PT0gaWZyYW1lLnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChpZnJhbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gU2lsZW50SGFuZGxlcjtcclxufShJbnRlcmFjdGlvbkhhbmRsZXIpKTtcblxuZXhwb3J0IHsgU2lsZW50SGFuZGxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2lsZW50SGFuZGxlci5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYyLjIyLjEgMjAyMi0wMy0wNyAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgX19hc3NpZ24gfSBmcm9tICcuLi9fdmlydHVhbC9fdHNsaWIuanMnO1xuaW1wb3J0IHsgREVGQVVMVF9TWVNURU1fT1BUSU9OUywgU3R1YmJlZE5ldHdvcmtNb2R1bGUsIENvbnN0YW50cywgUHJvdG9jb2xNb2RlLCBBenVyZUNsb3VkSW5zdGFuY2UsIExvZ0xldmVsIH0gZnJvbSAnQGF6dXJlL21zYWwtY29tbW9uJztcbmltcG9ydCB7IEJyb3dzZXJVdGlscyB9IGZyb20gJy4uL3V0aWxzL0Jyb3dzZXJVdGlscy5qcyc7XG5pbXBvcnQgeyBCcm93c2VyQ2FjaGVMb2NhdGlvbiB9IGZyb20gJy4uL3V0aWxzL0Jyb3dzZXJDb25zdGFudHMuanMnO1xuaW1wb3J0IHsgTmF2aWdhdGlvbkNsaWVudCB9IGZyb20gJy4uL25hdmlnYXRpb24vTmF2aWdhdGlvbkNsaWVudC5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vLyBEZWZhdWx0IHRpbWVvdXQgZm9yIHBvcHVwIHdpbmRvd3MgYW5kIGlmcmFtZXMgaW4gbWlsbGlzZWNvbmRzXHJcbnZhciBERUZBVUxUX1BPUFVQX1RJTUVPVVRfTVMgPSA2MDAwMDtcclxudmFyIERFRkFVTFRfSUZSQU1FX1RJTUVPVVRfTVMgPSA2MDAwO1xyXG52YXIgREVGQVVMVF9SRURJUkVDVF9USU1FT1VUX01TID0gMzAwMDA7XHJcbi8qKlxyXG4gKiBNU0FMIGZ1bmN0aW9uIHRoYXQgc2V0cyB0aGUgZGVmYXVsdCBvcHRpb25zIHdoZW4gbm90IGV4cGxpY2l0bHkgY29uZmlndXJlZCBmcm9tIGFwcCBkZXZlbG9wZXJcclxuICpcclxuICogQHBhcmFtIGF1dGhcclxuICogQHBhcmFtIGNhY2hlXHJcbiAqIEBwYXJhbSBzeXN0ZW1cclxuICpcclxuICogQHJldHVybnMgQ29uZmlndXJhdGlvbiBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIGJ1aWxkQ29uZmlndXJhdGlvbihfYSwgaXNCcm93c2VyRW52aXJvbm1lbnQpIHtcclxuICAgIHZhciB1c2VySW5wdXRBdXRoID0gX2EuYXV0aCwgdXNlcklucHV0Q2FjaGUgPSBfYS5jYWNoZSwgdXNlcklucHV0U3lzdGVtID0gX2Euc3lzdGVtO1xyXG4gICAgLy8gRGVmYXVsdCBhdXRoIG9wdGlvbnMgZm9yIGJyb3dzZXJcclxuICAgIHZhciBERUZBVUxUX0FVVEhfT1BUSU9OUyA9IHtcclxuICAgICAgICBjbGllbnRJZDogXCJcIixcclxuICAgICAgICBhdXRob3JpdHk6IFwiXCIgKyBDb25zdGFudHMuREVGQVVMVF9BVVRIT1JJVFksXHJcbiAgICAgICAga25vd25BdXRob3JpdGllczogW10sXHJcbiAgICAgICAgY2xvdWREaXNjb3ZlcnlNZXRhZGF0YTogXCJcIixcclxuICAgICAgICBhdXRob3JpdHlNZXRhZGF0YTogXCJcIixcclxuICAgICAgICByZWRpcmVjdFVyaTogXCJcIixcclxuICAgICAgICBwb3N0TG9nb3V0UmVkaXJlY3RVcmk6IFwiXCIsXHJcbiAgICAgICAgbmF2aWdhdGVUb0xvZ2luUmVxdWVzdFVybDogdHJ1ZSxcclxuICAgICAgICBjbGllbnRDYXBhYmlsaXRpZXM6IFtdLFxyXG4gICAgICAgIHByb3RvY29sTW9kZTogUHJvdG9jb2xNb2RlLkFBRCxcclxuICAgICAgICBhenVyZUNsb3VkT3B0aW9uczoge1xyXG4gICAgICAgICAgICBhenVyZUNsb3VkSW5zdGFuY2U6IEF6dXJlQ2xvdWRJbnN0YW5jZS5Ob25lLFxyXG4gICAgICAgICAgICB0ZW5hbnQ6IFwiXCJcclxuICAgICAgICB9LFxyXG4gICAgfTtcclxuICAgIC8vIERlZmF1bHQgY2FjaGUgb3B0aW9ucyBmb3IgYnJvd3NlclxyXG4gICAgdmFyIERFRkFVTFRfQ0FDSEVfT1BUSU9OUyA9IHtcclxuICAgICAgICBjYWNoZUxvY2F0aW9uOiBCcm93c2VyQ2FjaGVMb2NhdGlvbi5TZXNzaW9uU3RvcmFnZSxcclxuICAgICAgICBzdG9yZUF1dGhTdGF0ZUluQ29va2llOiBmYWxzZSxcclxuICAgICAgICBzZWN1cmVDb29raWVzOiBmYWxzZVxyXG4gICAgfTtcclxuICAgIC8vIERlZmF1bHQgbG9nZ2VyIG9wdGlvbnMgZm9yIGJyb3dzZXJcclxuICAgIHZhciBERUZBVUxUX0xPR0dFUl9PUFRJT05TID0ge1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cclxuICAgICAgICBsb2dnZXJDYWxsYmFjazogZnVuY3Rpb24gKCkgeyB9LFxyXG4gICAgICAgIGxvZ0xldmVsOiBMb2dMZXZlbC5JbmZvLFxyXG4gICAgICAgIHBpaUxvZ2dpbmdFbmFibGVkOiBmYWxzZVxyXG4gICAgfTtcclxuICAgIC8vIERlZmF1bHQgc3lzdGVtIG9wdGlvbnMgZm9yIGJyb3dzZXJcclxuICAgIHZhciBERUZBVUxUX0JST1dTRVJfU1lTVEVNX09QVElPTlMgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgREVGQVVMVF9TWVNURU1fT1BUSU9OUyksIHsgbG9nZ2VyT3B0aW9uczogREVGQVVMVF9MT0dHRVJfT1BUSU9OUywgbmV0d29ya0NsaWVudDogaXNCcm93c2VyRW52aXJvbm1lbnQgPyBCcm93c2VyVXRpbHMuZ2V0QnJvd3Nlck5ldHdvcmtDbGllbnQoKSA6IFN0dWJiZWROZXR3b3JrTW9kdWxlLCBuYXZpZ2F0aW9uQ2xpZW50OiBuZXcgTmF2aWdhdGlvbkNsaWVudCgpLCBsb2FkRnJhbWVUaW1lb3V0OiAwLCBcclxuICAgICAgICAvLyBJZiBsb2FkRnJhbWVUaW1lb3V0IGlzIHByb3ZpZGVkLCB1c2UgdGhhdCBhcyBkZWZhdWx0LlxyXG4gICAgICAgIHdpbmRvd0hhc2hUaW1lb3V0OiAodXNlcklucHV0U3lzdGVtICYmIHVzZXJJbnB1dFN5c3RlbS5sb2FkRnJhbWVUaW1lb3V0KSB8fCBERUZBVUxUX1BPUFVQX1RJTUVPVVRfTVMsIGlmcmFtZUhhc2hUaW1lb3V0OiAodXNlcklucHV0U3lzdGVtICYmIHVzZXJJbnB1dFN5c3RlbS5sb2FkRnJhbWVUaW1lb3V0KSB8fCBERUZBVUxUX0lGUkFNRV9USU1FT1VUX01TLCBuYXZpZ2F0ZUZyYW1lV2FpdDogaXNCcm93c2VyRW52aXJvbm1lbnQgJiYgQnJvd3NlclV0aWxzLmRldGVjdElFT3JFZGdlKCkgPyA1MDAgOiAwLCByZWRpcmVjdE5hdmlnYXRpb25UaW1lb3V0OiBERUZBVUxUX1JFRElSRUNUX1RJTUVPVVRfTVMsIGFzeW5jUG9wdXBzOiBmYWxzZSwgYWxsb3dSZWRpcmVjdEluSWZyYW1lOiBmYWxzZSB9KTtcclxuICAgIHZhciBvdmVybGF5ZWRDb25maWcgPSB7XHJcbiAgICAgICAgYXV0aDogX19hc3NpZ24oX19hc3NpZ24oe30sIERFRkFVTFRfQVVUSF9PUFRJT05TKSwgdXNlcklucHV0QXV0aCksXHJcbiAgICAgICAgY2FjaGU6IF9fYXNzaWduKF9fYXNzaWduKHt9LCBERUZBVUxUX0NBQ0hFX09QVElPTlMpLCB1c2VySW5wdXRDYWNoZSksXHJcbiAgICAgICAgc3lzdGVtOiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgREVGQVVMVF9CUk9XU0VSX1NZU1RFTV9PUFRJT05TKSwgdXNlcklucHV0U3lzdGVtKVxyXG4gICAgfTtcclxuICAgIHJldHVybiBvdmVybGF5ZWRDb25maWc7XHJcbn1cblxuZXhwb3J0IHsgREVGQVVMVF9JRlJBTUVfVElNRU9VVF9NUywgREVGQVVMVF9QT1BVUF9USU1FT1VUX01TLCBERUZBVUxUX1JFRElSRUNUX1RJTUVPVVRfTVMsIGJ1aWxkQ29uZmlndXJhdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29uZmlndXJhdGlvbi5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYyLjIyLjEgMjAyMi0wMy0wNyAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgX19leHRlbmRzLCBfX2F3YWl0ZXIsIF9fZ2VuZXJhdG9yLCBfX2Fzc2lnbiB9IGZyb20gJy4uL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgeyBBdXRoRXJyb3IsIFN0cmluZ1V0aWxzLCBQcm9tcHRWYWx1ZSB9IGZyb20gJ0BhenVyZS9tc2FsLWNvbW1vbic7XG5pbXBvcnQgeyBTdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50IH0gZnJvbSAnLi9TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50LmpzJztcbmltcG9ydCB7IEJyb3dzZXJBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9Ccm93c2VyQXV0aEVycm9yLmpzJztcbmltcG9ydCB7IEludGVyYWN0aW9uVHlwZSB9IGZyb20gJy4uL3V0aWxzL0Jyb3dzZXJDb25zdGFudHMuanMnO1xuaW1wb3J0IHsgU2lsZW50SGFuZGxlciB9IGZyb20gJy4uL2ludGVyYWN0aW9uX2hhbmRsZXIvU2lsZW50SGFuZGxlci5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgU2lsZW50SWZyYW1lQ2xpZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFNpbGVudElmcmFtZUNsaWVudCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFNpbGVudElmcmFtZUNsaWVudChjb25maWcsIHN0b3JhZ2VJbXBsLCBicm93c2VyQ3J5cHRvLCBsb2dnZXIsIGV2ZW50SGFuZGxlciwgbmF2aWdhdGlvbkNsaWVudCwgYXBpSWQsIGNvcnJlbGF0aW9uSWQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcsIHN0b3JhZ2VJbXBsLCBicm93c2VyQ3J5cHRvLCBsb2dnZXIsIGV2ZW50SGFuZGxlciwgbmF2aWdhdGlvbkNsaWVudCwgY29ycmVsYXRpb25JZCkgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5hcGlJZCA9IGFwaUlkO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWNxdWlyZXMgYSB0b2tlbiBzaWxlbnRseSBieSBvcGVuaW5nIGEgaGlkZGVuIGlmcmFtZSB0byB0aGUgL2F1dGhvcml6ZSBlbmRwb2ludCB3aXRoIHByb21wdD1ub25lXHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBTaWxlbnRJZnJhbWVDbGllbnQucHJvdG90eXBlLmFjcXVpcmVUb2tlbiA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2lsZW50UmVxdWVzdCwgc2VydmVyVGVsZW1ldHJ5TWFuYWdlciwgYXV0aENvZGVSZXF1ZXN0LCBhdXRoQ2xpZW50LCBuYXZpZ2F0ZVVybCwgZV8xO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiYWNxdWlyZVRva2VuQnlJZnJhbWUgY2FsbGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHdlIGhhdmUgc29tZSBTU08gZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoU3RyaW5nVXRpbHMuaXNFbXB0eShyZXF1ZXN0LmxvZ2luSGludCkgJiYgU3RyaW5nVXRpbHMuaXNFbXB0eShyZXF1ZXN0LnNpZCkgJiYgKCFyZXF1ZXN0LmFjY291bnQgfHwgU3RyaW5nVXRpbHMuaXNFbXB0eShyZXF1ZXN0LmFjY291bnQudXNlcm5hbWUpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybmluZyhcIk5vIHVzZXIgaGludCBwcm92aWRlZC4gVGhlIGF1dGhvcml6YXRpb24gc2VydmVyIG1heSBuZWVkIG1vcmUgaW5mb3JtYXRpb24gdG8gY29tcGxldGUgdGhpcyByZXF1ZXN0LlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHByb21wdCBpcyBzZXQgdG8gbm9uZSwgdGhyb3cgZXJyb3IgaWYgaXQgaXMgc2V0IHRvIGFueXRoaW5nIGVsc2UuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0LnByb21wdCAmJiByZXF1ZXN0LnByb21wdCAhPT0gUHJvbXB0VmFsdWUuTk9ORSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVTaWxlbnRQcm9tcHRWYWx1ZUVycm9yKHJlcXVlc3QucHJvbXB0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmluaXRpYWxpemVBdXRob3JpemF0aW9uUmVxdWVzdChfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcmVxdWVzdCksIHsgcHJvbXB0OiBQcm9tcHRWYWx1ZS5OT05FIH0pLCBJbnRlcmFjdGlvblR5cGUuU2lsZW50KV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaWxlbnRSZXF1ZXN0ID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLnVwZGF0ZUNhY2hlRW50cmllcyhzaWxlbnRSZXF1ZXN0LnN0YXRlLCBzaWxlbnRSZXF1ZXN0Lm5vbmNlLCBzaWxlbnRSZXF1ZXN0LmF1dGhvcml0eSwgc2lsZW50UmVxdWVzdC5sb2dpbkhpbnQgfHwgXCJcIiwgc2lsZW50UmVxdWVzdC5hY2NvdW50IHx8IG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyID0gdGhpcy5pbml0aWFsaXplU2VydmVyVGVsZW1ldHJ5TWFuYWdlcih0aGlzLmFwaUlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFsyLCA3LCAsIDhdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5pbml0aWFsaXplQXV0aG9yaXphdGlvbkNvZGVSZXF1ZXN0KHNpbGVudFJlcXVlc3QpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhDb2RlUmVxdWVzdCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5jcmVhdGVBdXRoQ29kZUNsaWVudChzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLCBzaWxlbnRSZXF1ZXN0LmF1dGhvcml0eSwgc2lsZW50UmVxdWVzdC5henVyZUNsb3VkT3B0aW9ucyldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aENsaWVudCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIkF1dGggY29kZSBjbGllbnQgY3JlYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgYXV0aENsaWVudC5nZXRBdXRoQ29kZVVybChzaWxlbnRSZXF1ZXN0KV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0ZVVybCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zaWxlbnRUb2tlbkhlbHBlcihuYXZpZ2F0ZVVybCwgYXV0aENvZGVSZXF1ZXN0LCBhdXRoQ2xpZW50LCB0aGlzLmxvZ2dlcildO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlXzEgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlXzEgaW5zdGFuY2VvZiBBdXRoRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVfMS5zZXRDb3JyZWxhdGlvbklkKHRoaXMuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyVGVsZW1ldHJ5TWFuYWdlci5jYWNoZUZhaWxlZFJlcXVlc3QoZV8xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZS5jbGVhblJlcXVlc3RCeVN0YXRlKHNpbGVudFJlcXVlc3Quc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlXzE7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3VycmVudGx5IFVuc3VwcG9ydGVkXHJcbiAgICAgKi9cclxuICAgIFNpbGVudElmcmFtZUNsaWVudC5wcm90b3R5cGUubG9nb3V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIFN5bmNocm9ub3VzIHNvIHdlIG11c3QgcmVqZWN0XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KEJyb3dzZXJBdXRoRXJyb3IuY3JlYXRlU2lsZW50TG9nb3V0VW5zdXBwb3J0ZWRFcnJvcigpKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciB3aGljaCBhY3F1aXJlcyBhbiBhdXRob3JpemF0aW9uIGNvZGUgc2lsZW50bHkgdXNpbmcgYSBoaWRkZW4gaWZyYW1lIGZyb20gZ2l2ZW4gdXJsXHJcbiAgICAgKiB1c2luZyB0aGUgc2NvcGVzIHJlcXVlc3RlZCBhcyBwYXJ0IG9mIHRoZSBpZCwgYW5kIGV4Y2hhbmdlcyB0aGUgY29kZSBmb3IgYSBzZXQgb2YgT0F1dGggdG9rZW5zLlxyXG4gICAgICogQHBhcmFtIG5hdmlnYXRlVXJsXHJcbiAgICAgKiBAcGFyYW0gdXNlclJlcXVlc3RTY29wZXNcclxuICAgICAqL1xyXG4gICAgU2lsZW50SWZyYW1lQ2xpZW50LnByb3RvdHlwZS5zaWxlbnRUb2tlbkhlbHBlciA9IGZ1bmN0aW9uIChuYXZpZ2F0ZVVybCwgYXV0aENvZGVSZXF1ZXN0LCBhdXRoQ2xpZW50LCBicm93c2VyUmVxdWVzdExvZ2dlcikge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHNpbGVudEhhbmRsZXIsIG1zYWxGcmFtZSwgaGFzaCwgc3RhdGU7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpbGVudEhhbmRsZXIgPSBuZXcgU2lsZW50SGFuZGxlcihhdXRoQ2xpZW50LCB0aGlzLmJyb3dzZXJTdG9yYWdlLCBhdXRoQ29kZVJlcXVlc3QsIGJyb3dzZXJSZXF1ZXN0TG9nZ2VyLCB0aGlzLmNvbmZpZy5zeXN0ZW0ubmF2aWdhdGVGcmFtZVdhaXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzaWxlbnRIYW5kbGVyLmluaXRpYXRlQXV0aFJlcXVlc3QobmF2aWdhdGVVcmwpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zYWxGcmFtZSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc2lsZW50SGFuZGxlci5tb25pdG9ySWZyYW1lRm9ySGFzaChtc2FsRnJhbWUsIHRoaXMuY29uZmlnLnN5c3RlbS5pZnJhbWVIYXNoVGltZW91dCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzaCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSB0aGlzLnZhbGlkYXRlQW5kRXh0cmFjdFN0YXRlRnJvbUhhc2goaGFzaCwgSW50ZXJhY3Rpb25UeXBlLlNpbGVudCwgYXV0aENvZGVSZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgcmVzcG9uc2UgZnJvbSBoYXNoIHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgc2lsZW50SGFuZGxlci5oYW5kbGVDb2RlUmVzcG9uc2VGcm9tSGFzaChoYXNoLCBzdGF0ZSwgYXV0aENsaWVudC5hdXRob3JpdHksIHRoaXMubmV0d29ya0NsaWVudCldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gU2lsZW50SWZyYW1lQ2xpZW50O1xyXG59KFN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnQpKTtcblxuZXhwb3J0IHsgU2lsZW50SWZyYW1lQ2xpZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TaWxlbnRJZnJhbWVDbGllbnQuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2Mi4yMi4xIDIwMjItMDMtMDcgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IF9fZXh0ZW5kcywgX19hd2FpdGVyLCBfX2dlbmVyYXRvciwgX19hc3NpZ24gfSBmcm9tICcuLi9fdmlydHVhbC9fdHNsaWIuanMnO1xuaW1wb3J0IHsgU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudCB9IGZyb20gJy4vU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudC5qcyc7XG5pbXBvcnQgeyBBdXRoRXJyb3IsIFJlZnJlc2hUb2tlbkNsaWVudCB9IGZyb20gJ0BhenVyZS9tc2FsLWNvbW1vbic7XG5pbXBvcnQgeyBBcGlJZCB9IGZyb20gJy4uL3V0aWxzL0Jyb3dzZXJDb25zdGFudHMuanMnO1xuaW1wb3J0IHsgQnJvd3NlckF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3IuanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxudmFyIFNpbGVudFJlZnJlc2hDbGllbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU2lsZW50UmVmcmVzaENsaWVudCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFNpbGVudFJlZnJlc2hDbGllbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBFeGNoYW5nZXMgdGhlIHJlZnJlc2ggdG9rZW4gZm9yIG5ldyB0b2tlbnNcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIFNpbGVudFJlZnJlc2hDbGllbnQucHJvdG90eXBlLmFjcXVpcmVUb2tlbiA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2lsZW50UmVxdWVzdCwgX2EsIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIsIHJlZnJlc2hUb2tlbkNsaWVudDtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSBbX19hc3NpZ24oe30sIHJlcXVlc3QpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5pbml0aWFsaXplQmFzZVJlcXVlc3QocmVxdWVzdCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2lsZW50UmVxdWVzdCA9IF9fYXNzaWduLmFwcGx5KHZvaWQgMCwgX2EuY29uY2F0KFtfYi5zZW50KCldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIgPSB0aGlzLmluaXRpYWxpemVTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyKEFwaUlkLmFjcXVpcmVUb2tlblNpbGVudF9zaWxlbnRGbG93KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5jcmVhdGVSZWZyZXNoVG9rZW5DbGllbnQoc2VydmVyVGVsZW1ldHJ5TWFuYWdlciwgc2lsZW50UmVxdWVzdC5hdXRob3JpdHksIHNpbGVudFJlcXVlc3QuYXp1cmVDbG91ZE9wdGlvbnMpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hUb2tlbkNsaWVudCA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlJlZnJlc2ggdG9rZW4gY2xpZW50IGNyZWF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlbmQgcmVxdWVzdCB0byByZW5ldyB0b2tlbi4gQXV0aCBtb2R1bGUgd2lsbCB0aHJvdyBlcnJvcnMgaWYgdG9rZW4gY2Fubm90IGJlIHJlbmV3ZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZWZyZXNoVG9rZW5DbGllbnQuYWNxdWlyZVRva2VuQnlSZWZyZXNoVG9rZW4oc2lsZW50UmVxdWVzdCkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEF1dGhFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnNldENvcnJlbGF0aW9uSWQoX3RoaXMuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIuY2FjaGVGYWlsZWRSZXF1ZXN0KGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3VycmVudGx5IFVuc3VwcG9ydGVkXHJcbiAgICAgKi9cclxuICAgIFNpbGVudFJlZnJlc2hDbGllbnQucHJvdG90eXBlLmxvZ291dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBTeW5jaHJvbm91cyBzbyB3ZSBtdXN0IHJlamVjdFxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChCcm93c2VyQXV0aEVycm9yLmNyZWF0ZVNpbGVudExvZ291dFVuc3VwcG9ydGVkRXJyb3IoKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgUmVmcmVzaCBDbGllbnQgd2l0aCB0aGUgZ2l2ZW4gYXV0aG9yaXR5LCBvciB0aGUgZGVmYXVsdCBhdXRob3JpdHkuXHJcbiAgICAgKiBAcGFyYW0gc2VydmVyVGVsZW1ldHJ5TWFuYWdlclxyXG4gICAgICogQHBhcmFtIGF1dGhvcml0eVVybFxyXG4gICAgICovXHJcbiAgICBTaWxlbnRSZWZyZXNoQ2xpZW50LnByb3RvdHlwZS5jcmVhdGVSZWZyZXNoVG9rZW5DbGllbnQgPSBmdW5jdGlvbiAoc2VydmVyVGVsZW1ldHJ5TWFuYWdlciwgYXV0aG9yaXR5VXJsLCBhenVyZUNsb3VkT3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNsaWVudENvbmZpZztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5nZXRDbGllbnRDb25maWd1cmF0aW9uKHNlcnZlclRlbGVtZXRyeU1hbmFnZXIsIGF1dGhvcml0eVVybCwgYXp1cmVDbG91ZE9wdGlvbnMpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudENvbmZpZyA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG5ldyBSZWZyZXNoVG9rZW5DbGllbnQoY2xpZW50Q29uZmlnKV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBTaWxlbnRSZWZyZXNoQ2xpZW50O1xyXG59KFN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnQpKTtcblxuZXhwb3J0IHsgU2lsZW50UmVmcmVzaENsaWVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2lsZW50UmVmcmVzaENsaWVudC5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYyLjIyLjEgMjAyMi0wMy0wNyAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgQXV0aG9yaXR5LCBJZFRva2VuRW50aXR5LCBBdXRoVG9rZW4sIEFjY291bnRFbnRpdHksIFNjb3BlU2V0LCBBY2Nlc3NUb2tlbkVudGl0eSB9IGZyb20gJ0BhenVyZS9tc2FsLWNvbW1vbic7XG5pbXBvcnQgeyBCcm93c2VyQXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckF1dGhFcnJvci5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogVG9rZW4gY2FjaGUgbWFuYWdlclxyXG4gKi9cclxudmFyIFRva2VuQ2FjaGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBUb2tlbkNhY2hlKGNvbmZpZ3VyYXRpb24sIHN0b3JhZ2UsIGxvZ2dlciwgY3J5cHRvT2JqKSB7XHJcbiAgICAgICAgdGhpcy5pc0Jyb3dzZXJFbnZpcm9ubWVudCA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCI7XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWd1cmF0aW9uO1xyXG4gICAgICAgIHRoaXMuc3RvcmFnZSA9IHN0b3JhZ2U7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XHJcbiAgICAgICAgdGhpcy5jcnlwdG9PYmogPSBjcnlwdG9PYmo7XHJcbiAgICB9XHJcbiAgICAvLyBNb3ZlIGdldEFsbEFjY291bnRzIGhlcmUgYW5kIGNhY2hlIHV0aWxpdHkgQVBJc1xyXG4gICAgLyoqXHJcbiAgICAgKiBBUEkgdG8gbG9hZCB0b2tlbnMgdG8gbXNhbC1icm93c2VyIGNhY2hlLlxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSByZXNwb25zZVxyXG4gICAgICogQHBhcmFtIG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgVG9rZW5DYWNoZS5wcm90b3R5cGUubG9hZEV4dGVybmFsVG9rZW5zID0gZnVuY3Rpb24gKHJlcXVlc3QsIHJlc3BvbnNlLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcIlRva2VuQ2FjaGUgLSBsb2FkRXh0ZXJuYWxUb2tlbnMgY2FsbGVkXCIpO1xyXG4gICAgICAgIGlmICghcmVzcG9uc2UuaWRfdG9rZW4pIHtcclxuICAgICAgICAgICAgdGhyb3cgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVVbmFibGVUb0xvYWRUb2tlbkVycm9yKFwiUGxlYXNlIGVuc3VyZSBzZXJ2ZXIgcmVzcG9uc2UgaW5jbHVkZXMgaWQgdG9rZW4uXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVxdWVzdC5hY2NvdW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZElkVG9rZW4ocmVzcG9uc2UuaWRfdG9rZW4sIHJlcXVlc3QuYWNjb3VudC5ob21lQWNjb3VudElkLCByZXF1ZXN0LmFjY291bnQuZW52aXJvbm1lbnQsIHJlcXVlc3QuYWNjb3VudC50ZW5hbnRJZCwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZEFjY2Vzc1Rva2VuKHJlcXVlc3QsIHJlc3BvbnNlLCByZXF1ZXN0LmFjY291bnQuaG9tZUFjY291bnRJZCwgcmVxdWVzdC5hY2NvdW50LmVudmlyb25tZW50LCByZXF1ZXN0LmFjY291bnQudGVuYW50SWQsIG9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChyZXF1ZXN0LmF1dGhvcml0eSkge1xyXG4gICAgICAgICAgICB2YXIgYXV0aG9yaXR5VXJsID0gQXV0aG9yaXR5LmdlbmVyYXRlQXV0aG9yaXR5KHJlcXVlc3QuYXV0aG9yaXR5LCByZXF1ZXN0LmF6dXJlQ2xvdWRPcHRpb25zKTtcclxuICAgICAgICAgICAgdmFyIGF1dGhvcml0eU9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICBwcm90b2NvbE1vZGU6IHRoaXMuY29uZmlnLmF1dGgucHJvdG9jb2xNb2RlLFxyXG4gICAgICAgICAgICAgICAga25vd25BdXRob3JpdGllczogdGhpcy5jb25maWcuYXV0aC5rbm93bkF1dGhvcml0aWVzLFxyXG4gICAgICAgICAgICAgICAgY2xvdWREaXNjb3ZlcnlNZXRhZGF0YTogdGhpcy5jb25maWcuYXV0aC5jbG91ZERpc2NvdmVyeU1ldGFkYXRhLFxyXG4gICAgICAgICAgICAgICAgYXV0aG9yaXR5TWV0YWRhdGE6IHRoaXMuY29uZmlnLmF1dGguYXV0aG9yaXR5TWV0YWRhdGEsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBhdXRob3JpdHkgPSBuZXcgQXV0aG9yaXR5KGF1dGhvcml0eVVybCwgdGhpcy5jb25maWcuc3lzdGVtLm5ldHdvcmtDbGllbnQsIHRoaXMuc3RvcmFnZSwgYXV0aG9yaXR5T3B0aW9ucyk7XHJcbiAgICAgICAgICAgIC8vIFwiY2xpZW50SW5mb1wiIGZyb20gb3B0aW9ucyB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgXCJjbGllbnRJbmZvXCIgaW4gcmVzcG9uc2VcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuY2xpZW50SW5mbykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJUb2tlbkNhY2hlIC0gaG9tZUFjY291bnRJZCBmcm9tIG9wdGlvbnNcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRJZFRva2VuKHJlc3BvbnNlLmlkX3Rva2VuLCBvcHRpb25zLmNsaWVudEluZm8sIGF1dGhvcml0eS5ob3N0bmFtZUFuZFBvcnQsIGF1dGhvcml0eS50ZW5hbnQsIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkQWNjZXNzVG9rZW4ocmVxdWVzdCwgcmVzcG9uc2UsIG9wdGlvbnMuY2xpZW50SW5mbywgYXV0aG9yaXR5Lmhvc3RuYW1lQW5kUG9ydCwgYXV0aG9yaXR5LnRlbmFudCwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAocmVzcG9uc2UuY2xpZW50X2luZm8pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiVG9rZW5DYWNoZSAtIGhvbWVBY2NvdW50SWQgZnJvbSByZXNwb25zZVwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZElkVG9rZW4ocmVzcG9uc2UuaWRfdG9rZW4sIHJlc3BvbnNlLmNsaWVudF9pbmZvLCBhdXRob3JpdHkuaG9zdG5hbWVBbmRQb3J0LCBhdXRob3JpdHkudGVuYW50LCBvcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZEFjY2Vzc1Rva2VuKHJlcXVlc3QsIHJlc3BvbnNlLCByZXNwb25zZS5jbGllbnRfaW5mbywgYXV0aG9yaXR5Lmhvc3RuYW1lQW5kUG9ydCwgYXV0aG9yaXR5LnRlbmFudCwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZVVuYWJsZVRvTG9hZFRva2VuRXJyb3IoXCJQbGVhc2UgcHJvdmlkZSBjbGllbnRJbmZvIGluIHRoZSByZXNwb25zZSBvciBvcHRpb25zLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVVbmFibGVUb0xvYWRUb2tlbkVycm9yKFwiUGxlYXNlIHByb3ZpZGUgYSByZXF1ZXN0IHdpdGggYW4gYWNjb3VudCBvciBhIHJlcXVlc3Qgd2l0aCBhdXRob3JpdHkuXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0byBsb2FkIGlkIHRva2VucyB0byBtc2FsLWJyb3dzZXIgY2FjaGVcclxuICAgICAqIEBwYXJhbSBpZFRva2VuXHJcbiAgICAgKiBAcGFyYW0gaG9tZUFjY291bnRJZFxyXG4gICAgICogQHBhcmFtIGVudmlyb25tZW50XHJcbiAgICAgKiBAcGFyYW0gdGVuYW50SWRcclxuICAgICAqIEBwYXJhbSBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIFRva2VuQ2FjaGUucHJvdG90eXBlLmxvYWRJZFRva2VuID0gZnVuY3Rpb24gKGlkVG9rZW4sIGhvbWVBY2NvdW50SWQsIGVudmlyb25tZW50LCB0ZW5hbnRJZCwgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBpZFRva2VuRW50aXR5ID0gSWRUb2tlbkVudGl0eS5jcmVhdGVJZFRva2VuRW50aXR5KGhvbWVBY2NvdW50SWQsIGVudmlyb25tZW50LCBpZFRva2VuLCB0aGlzLmNvbmZpZy5hdXRoLmNsaWVudElkLCB0ZW5hbnRJZCk7XHJcbiAgICAgICAgdmFyIGlkQXV0aFRva2VuID0gbmV3IEF1dGhUb2tlbihpZFRva2VuLCB0aGlzLmNyeXB0b09iaik7XHJcbiAgICAgICAgdmFyIGFjY291bnRFbnRpdHkgPSBvcHRpb25zLmNsaWVudEluZm8gP1xyXG4gICAgICAgICAgICBBY2NvdW50RW50aXR5LmNyZWF0ZUFjY291bnQob3B0aW9ucy5jbGllbnRJbmZvLCBob21lQWNjb3VudElkLCBpZEF1dGhUb2tlbiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBlbnZpcm9ubWVudCkgOlxyXG4gICAgICAgICAgICBBY2NvdW50RW50aXR5LmNyZWF0ZUdlbmVyaWNBY2NvdW50KGhvbWVBY2NvdW50SWQsIGlkQXV0aFRva2VuLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGVudmlyb25tZW50KTtcclxuICAgICAgICBpZiAodGhpcy5pc0Jyb3dzZXJFbnZpcm9ubWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiVG9rZW5DYWNoZSAtIGxvYWRpbmcgaWQgdG9rZW5cIik7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmFnZS5zZXRBY2NvdW50KGFjY291bnRFbnRpdHkpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3JhZ2Uuc2V0SWRUb2tlbkNyZWRlbnRpYWwoaWRUb2tlbkVudGl0eSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZVVuYWJsZVRvTG9hZFRva2VuRXJyb3IoXCJsb2FkRXh0ZXJuYWxUb2tlbnMgaXMgZGVzaWduZWQgdG8gd29yayBpbiBicm93c2VyIGVudmlyb25tZW50cyBvbmx5LlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gbG9hZCBhY2Nlc3MgdG9rZW5zIHRvIG1zYWwtYnJvd3NlciBjYWNoZVxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSByZXNwb25zZVxyXG4gICAgICogQHBhcmFtIG9wdGlvbnNcclxuICAgICAqIEBwYXJhbSBob21lQWNjb3VudElkXHJcbiAgICAgKiBAcGFyYW0gZW52aXJvbm1lbnRcclxuICAgICAqIEBwYXJhbSB0ZW5hbnRJZFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgVG9rZW5DYWNoZS5wcm90b3R5cGUubG9hZEFjY2Vzc1Rva2VuID0gZnVuY3Rpb24gKHJlcXVlc3QsIHJlc3BvbnNlLCBob21lQWNjb3VudElkLCBlbnZpcm9ubWVudCwgdGVuYW50SWQsIG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAoIXJlc3BvbnNlLmFjY2Vzc190b2tlbikge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiVG9rZW5DYWNoZSAtIE5vIGFjY2VzcyB0b2tlbiBwcm92aWRlZCBmb3IgY2FjaGluZ1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXJlc3BvbnNlLmV4cGlyZXNfaW4pIHtcclxuICAgICAgICAgICAgdGhyb3cgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVVbmFibGVUb0xvYWRUb2tlbkVycm9yKFwiUGxlYXNlIGVuc3VyZSBzZXJ2ZXIgcmVzcG9uc2UgaW5jbHVkZXMgZXhwaXJlc19pbiB2YWx1ZS5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghb3B0aW9ucy5leHRlbmRlZEV4cGlyZXNPbikge1xyXG4gICAgICAgICAgICB0aHJvdyBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZVVuYWJsZVRvTG9hZFRva2VuRXJyb3IoXCJQbGVhc2UgcHJvdmlkZSBhbiBleHRlbmRlZEV4cGlyZXNPbiB2YWx1ZSBpbiB0aGUgb3B0aW9ucy5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBzY29wZXMgPSBuZXcgU2NvcGVTZXQocmVxdWVzdC5zY29wZXMpLnByaW50U2NvcGVzKCk7XHJcbiAgICAgICAgdmFyIGV4cGlyZXNPbiA9IHJlc3BvbnNlLmV4cGlyZXNfaW47XHJcbiAgICAgICAgdmFyIGV4dGVuZGVkRXhwaXJlc09uID0gb3B0aW9ucy5leHRlbmRlZEV4cGlyZXNPbjtcclxuICAgICAgICB2YXIgYWNjZXNzVG9rZW5FbnRpdHkgPSBBY2Nlc3NUb2tlbkVudGl0eS5jcmVhdGVBY2Nlc3NUb2tlbkVudGl0eShob21lQWNjb3VudElkLCBlbnZpcm9ubWVudCwgcmVzcG9uc2UuYWNjZXNzX3Rva2VuLCB0aGlzLmNvbmZpZy5hdXRoLmNsaWVudElkLCB0ZW5hbnRJZCwgc2NvcGVzLCBleHBpcmVzT24sIGV4dGVuZGVkRXhwaXJlc09uLCB0aGlzLmNyeXB0b09iaik7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNCcm93c2VyRW52aXJvbm1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlRva2VuQ2FjaGUgLSBsb2FkaW5nIGFjY2VzcyB0b2tlblwiKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9yYWdlLnNldEFjY2Vzc1Rva2VuQ3JlZGVudGlhbChhY2Nlc3NUb2tlbkVudGl0eSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZVVuYWJsZVRvTG9hZFRva2VuRXJyb3IoXCJsb2FkRXh0ZXJuYWxUb2tlbnMgaXMgZGVzaWduZWQgdG8gd29yayBpbiBicm93c2VyIGVudmlyb25tZW50cyBvbmx5LlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFRva2VuQ2FjaGU7XHJcbn0oKSk7XG5cbmV4cG9ydCB7IFRva2VuQ2FjaGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRva2VuQ2FjaGUuanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2Mi4yMi4xIDIwMjItMDMtMDcgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gJy4uL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgeyBBdXRob3JpemF0aW9uQ29kZUNsaWVudCB9IGZyb20gJ0BhenVyZS9tc2FsLWNvbW1vbic7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgSHlicmlkU3BhQXV0aG9yaXphdGlvbkNvZGVDbGllbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoSHlicmlkU3BhQXV0aG9yaXphdGlvbkNvZGVDbGllbnQsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBIeWJyaWRTcGFBdXRob3JpemF0aW9uQ29kZUNsaWVudChjb25maWcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuaW5jbHVkZVJlZGlyZWN0VXJpID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEh5YnJpZFNwYUF1dGhvcml6YXRpb25Db2RlQ2xpZW50O1xyXG59KEF1dGhvcml6YXRpb25Db2RlQ2xpZW50KSk7XG5cbmV4cG9ydCB7IEh5YnJpZFNwYUF1dGhvcml6YXRpb25Db2RlQ2xpZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IeWJyaWRTcGFBdXRob3JpemF0aW9uQ29kZUNsaWVudC5qcy5tYXBcbiIsIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYyLjIyLjEgMjAyMi0wMy0wNyAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgX19leHRlbmRzLCBfX2F3YWl0ZXIsIF9fZ2VuZXJhdG9yLCBfX2Fzc2lnbiB9IGZyb20gJy4uL192aXJ0dWFsL190c2xpYi5qcyc7XG5pbXBvcnQgeyBBdXRoRXJyb3IgfSBmcm9tICdAYXp1cmUvbXNhbC1jb21tb24nO1xuaW1wb3J0IHsgU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudCB9IGZyb20gJy4vU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudC5qcyc7XG5pbXBvcnQgeyBCcm93c2VyQXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckF1dGhFcnJvci5qcyc7XG5pbXBvcnQgeyBJbnRlcmFjdGlvblR5cGUgfSBmcm9tICcuLi91dGlscy9Ccm93c2VyQ29uc3RhbnRzLmpzJztcbmltcG9ydCB7IFNpbGVudEhhbmRsZXIgfSBmcm9tICcuLi9pbnRlcmFjdGlvbl9oYW5kbGVyL1NpbGVudEhhbmRsZXIuanMnO1xuaW1wb3J0IHsgSHlicmlkU3BhQXV0aG9yaXphdGlvbkNvZGVDbGllbnQgfSBmcm9tICcuL0h5YnJpZFNwYUF1dGhvcml6YXRpb25Db2RlQ2xpZW50LmpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbnZhciBTaWxlbnRBdXRoQ29kZUNsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTaWxlbnRBdXRoQ29kZUNsaWVudCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFNpbGVudEF1dGhDb2RlQ2xpZW50KGNvbmZpZywgc3RvcmFnZUltcGwsIGJyb3dzZXJDcnlwdG8sIGxvZ2dlciwgZXZlbnRIYW5kbGVyLCBuYXZpZ2F0aW9uQ2xpZW50LCBhcGlJZCwgY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZywgc3RvcmFnZUltcGwsIGJyb3dzZXJDcnlwdG8sIGxvZ2dlciwgZXZlbnRIYW5kbGVyLCBuYXZpZ2F0aW9uQ2xpZW50LCBjb3JyZWxhdGlvbklkKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmFwaUlkID0gYXBpSWQ7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBY3F1aXJlcyBhIHRva2VuIHNpbGVudGx5IGJ5IHJlZGVlbWluZyBhbiBhdXRob3JpemF0aW9uIGNvZGUgYWdhaW5zdCB0aGUgL3Rva2VuIGVuZHBvaW50XHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBTaWxlbnRBdXRoQ29kZUNsaWVudC5wcm90b3R5cGUuYWNxdWlyZVRva2VuID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzaWxlbnRSZXF1ZXN0LCBzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLCBhdXRoQ29kZVJlcXVlc3QsIGNsaWVudENvbmZpZywgYXV0aENsaWVudCwgc2lsZW50SGFuZGxlciwgZV8xO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIlNpbGVudEF1dGhDb2RlQ2xpZW50LmFjcXVpcmVUb2tlbiBjYWxsZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEF1dGggY29kZSBwYXlsb2FkIGlzIHJlcXVpcmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVxdWVzdC5jb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZUF1dGhDb2RlUmVxdWlyZWRFcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuaW5pdGlhbGl6ZUF1dGhvcml6YXRpb25SZXF1ZXN0KHJlcXVlc3QsIEludGVyYWN0aW9uVHlwZS5TaWxlbnQpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpbGVudFJlcXVlc3QgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2UudXBkYXRlQ2FjaGVFbnRyaWVzKHNpbGVudFJlcXVlc3Quc3RhdGUsIHNpbGVudFJlcXVlc3Qubm9uY2UsIHNpbGVudFJlcXVlc3QuYXV0aG9yaXR5LCBzaWxlbnRSZXF1ZXN0LmxvZ2luSGludCB8fCBcIlwiLCBzaWxlbnRSZXF1ZXN0LmFjY291bnQgfHwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIgPSB0aGlzLmluaXRpYWxpemVTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyKHRoaXMuYXBpSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzIsIDQsICwgNV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRoQ29kZVJlcXVlc3QgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgc2lsZW50UmVxdWVzdCksIHsgY29kZTogcmVxdWVzdC5jb2RlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmdldENsaWVudENvbmZpZ3VyYXRpb24oc2VydmVyVGVsZW1ldHJ5TWFuYWdlciwgc2lsZW50UmVxdWVzdC5hdXRob3JpdHkpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudENvbmZpZyA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aENsaWVudCA9IG5ldyBIeWJyaWRTcGFBdXRob3JpemF0aW9uQ29kZUNsaWVudChjbGllbnRDb25maWcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiQXV0aCBjb2RlIGNsaWVudCBjcmVhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaWxlbnRIYW5kbGVyID0gbmV3IFNpbGVudEhhbmRsZXIoYXV0aENsaWVudCwgdGhpcy5icm93c2VyU3RvcmFnZSwgYXV0aENvZGVSZXF1ZXN0LCB0aGlzLmxvZ2dlciwgdGhpcy5jb25maWcuc3lzdGVtLm5hdmlnYXRlRnJhbWVXYWl0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGF1dGggY29kZSBwYXJhbWV0ZXJzIGZyb20gcmVxdWVzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgc2lsZW50SGFuZGxlci5oYW5kbGVDb2RlUmVzcG9uc2VGcm9tU2VydmVyKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiByZXF1ZXN0LmNvZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNncmFwaF9ob3N0OiByZXF1ZXN0Lm1zR3JhcGhIb3N0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb3VkX2dyYXBoX2hvc3RfbmFtZTogcmVxdWVzdC5jbG91ZEdyYXBoSG9zdE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvdWRfaW5zdGFuY2VfaG9zdF9uYW1lOiByZXF1ZXN0LmNsb3VkSW5zdGFuY2VIb3N0TmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgc2lsZW50UmVxdWVzdC5zdGF0ZSwgYXV0aENsaWVudC5hdXRob3JpdHksIHRoaXMubmV0d29ya0NsaWVudCwgZmFsc2UpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVfMSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVfMSBpbnN0YW5jZW9mIEF1dGhFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZV8xLnNldENvcnJlbGF0aW9uSWQodGhpcy5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLmNhY2hlRmFpbGVkUmVxdWVzdChlXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLmNsZWFuUmVxdWVzdEJ5U3RhdGUoc2lsZW50UmVxdWVzdC5zdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVfMTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDdXJyZW50bHkgVW5zdXBwb3J0ZWRcclxuICAgICAqL1xyXG4gICAgU2lsZW50QXV0aENvZGVDbGllbnQucHJvdG90eXBlLmxvZ291dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBTeW5jaHJvbm91cyBzbyB3ZSBtdXN0IHJlamVjdFxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChCcm93c2VyQXV0aEVycm9yLmNyZWF0ZVNpbGVudExvZ291dFVuc3VwcG9ydGVkRXJyb3IoKSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFNpbGVudEF1dGhDb2RlQ2xpZW50O1xyXG59KFN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnQpKTtcblxuZXhwb3J0IHsgU2lsZW50QXV0aENvZGVDbGllbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNpbGVudEF1dGhDb2RlQ2xpZW50LmpzLm1hcFxuIiwiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjIuMjIuMSAyMDIyLTAzLTA3ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBfX2F3YWl0ZXIsIF9fZ2VuZXJhdG9yIH0gZnJvbSAnLi4vX3ZpcnR1YWwvX3RzbGliLmpzJztcbmltcG9ydCB7IENyeXB0b09wcyB9IGZyb20gJy4uL2NyeXB0by9DcnlwdG9PcHMuanMnO1xuaW1wb3J0IHsgU3RyaW5nVXRpbHMsIExvZ2dlciwgREVGQVVMVF9DUllQVE9fSU1QTEVNRU5UQVRJT04sIENvbnN0YW50cywgU2VydmVyRXJyb3IsIEludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3IgfSBmcm9tICdAYXp1cmUvbXNhbC1jb21tb24nO1xuaW1wb3J0IHsgQnJvd3NlckNhY2hlTWFuYWdlciwgREVGQVVMVF9CUk9XU0VSX0NBQ0hFX01BTkFHRVIgfSBmcm9tICcuLi9jYWNoZS9Ccm93c2VyQ2FjaGVNYW5hZ2VyLmpzJztcbmltcG9ydCB7IGJ1aWxkQ29uZmlndXJhdGlvbiB9IGZyb20gJy4uL2NvbmZpZy9Db25maWd1cmF0aW9uLmpzJztcbmltcG9ydCB7IEludGVyYWN0aW9uVHlwZSwgVGVtcG9yYXJ5Q2FjaGVLZXlzLCBBcGlJZCwgQnJvd3NlckNhY2hlTG9jYXRpb24sIEJyb3dzZXJDb25zdGFudHMgfSBmcm9tICcuLi91dGlscy9Ccm93c2VyQ29uc3RhbnRzLmpzJztcbmltcG9ydCB7IEJyb3dzZXJVdGlscyB9IGZyb20gJy4uL3V0aWxzL0Jyb3dzZXJVdGlscy5qcyc7XG5pbXBvcnQgeyBuYW1lLCB2ZXJzaW9uIH0gZnJvbSAnLi4vcGFja2FnZU1ldGFkYXRhLmpzJztcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gJy4uL2V2ZW50L0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgeyBCcm93c2VyQ29uZmlndXJhdGlvbkF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yLmpzJztcbmltcG9ydCB7IEV2ZW50SGFuZGxlciB9IGZyb20gJy4uL2V2ZW50L0V2ZW50SGFuZGxlci5qcyc7XG5pbXBvcnQgeyBQb3B1cENsaWVudCB9IGZyb20gJy4uL2ludGVyYWN0aW9uX2NsaWVudC9Qb3B1cENsaWVudC5qcyc7XG5pbXBvcnQgeyBSZWRpcmVjdENsaWVudCB9IGZyb20gJy4uL2ludGVyYWN0aW9uX2NsaWVudC9SZWRpcmVjdENsaWVudC5qcyc7XG5pbXBvcnQgeyBTaWxlbnRJZnJhbWVDbGllbnQgfSBmcm9tICcuLi9pbnRlcmFjdGlvbl9jbGllbnQvU2lsZW50SWZyYW1lQ2xpZW50LmpzJztcbmltcG9ydCB7IFNpbGVudFJlZnJlc2hDbGllbnQgfSBmcm9tICcuLi9pbnRlcmFjdGlvbl9jbGllbnQvU2lsZW50UmVmcmVzaENsaWVudC5qcyc7XG5pbXBvcnQgeyBUb2tlbkNhY2hlIH0gZnJvbSAnLi4vY2FjaGUvVG9rZW5DYWNoZS5qcyc7XG5pbXBvcnQgeyBTaWxlbnRBdXRoQ29kZUNsaWVudCB9IGZyb20gJy4uL2ludGVyYWN0aW9uX2NsaWVudC9TaWxlbnRBdXRoQ29kZUNsaWVudC5qcyc7XG5pbXBvcnQgeyBCcm93c2VyQXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckF1dGhFcnJvci5qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgQ2xpZW50QXBwbGljYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIEBjb25zdHJ1Y3RvclxyXG4gICAgICogQ29uc3RydWN0b3IgZm9yIHRoZSBQdWJsaWNDbGllbnRBcHBsaWNhdGlvbiB1c2VkIHRvIGluc3RhbnRpYXRlIHRoZSBQdWJsaWNDbGllbnRBcHBsaWNhdGlvbiBvYmplY3RcclxuICAgICAqXHJcbiAgICAgKiBJbXBvcnRhbnQgYXR0cmlidXRlcyBpbiB0aGUgQ29uZmlndXJhdGlvbiBvYmplY3QgZm9yIGF1dGggYXJlOlxyXG4gICAgICogLSBjbGllbnRJRDogdGhlIGFwcGxpY2F0aW9uIElEIG9mIHlvdXIgYXBwbGljYXRpb24uIFlvdSBjYW4gb2J0YWluIG9uZSBieSByZWdpc3RlcmluZyB5b3VyIGFwcGxpY2F0aW9uIHdpdGggb3VyIEFwcGxpY2F0aW9uIHJlZ2lzdHJhdGlvbiBwb3J0YWwgOiBodHRwczovL3BvcnRhbC5henVyZS5jb20vI2JsYWRlL01pY3Jvc29mdF9BQURfSUFNL0FjdGl2ZURpcmVjdG9yeU1lbnVCbGFkZS9SZWdpc3RlcmVkQXBwc1ByZXZpZXdcclxuICAgICAqIC0gYXV0aG9yaXR5OiB0aGUgYXV0aG9yaXR5IFVSTCBmb3IgeW91ciBhcHBsaWNhdGlvbi5cclxuICAgICAqIC0gcmVkaXJlY3RfdXJpOiB0aGUgdXJpIG9mIHlvdXIgYXBwbGljYXRpb24gcmVnaXN0ZXJlZCBpbiB0aGUgcG9ydGFsLlxyXG4gICAgICpcclxuICAgICAqIEluIEF6dXJlIEFELCBhdXRob3JpdHkgaXMgYSBVUkwgaW5kaWNhdGluZyB0aGUgQXp1cmUgYWN0aXZlIGRpcmVjdG9yeSB0aGF0IE1TQUwgdXNlcyB0byBvYnRhaW4gdG9rZW5zLlxyXG4gICAgICogSXQgaXMgb2YgdGhlIGZvcm0gaHR0cHM6Ly9sb2dpbi5taWNyb3NvZnRvbmxpbmUuY29tL3tFbnRlcl90aGVfVGVuYW50X0luZm9fSGVyZX1cclxuICAgICAqIElmIHlvdXIgYXBwbGljYXRpb24gc3VwcG9ydHMgQWNjb3VudHMgaW4gb25lIG9yZ2FuaXphdGlvbmFsIGRpcmVjdG9yeSwgcmVwbGFjZSBcIkVudGVyX3RoZV9UZW5hbnRfSW5mb19IZXJlXCIgdmFsdWUgd2l0aCB0aGUgVGVuYW50IElkIG9yIFRlbmFudCBuYW1lIChmb3IgZXhhbXBsZSwgY29udG9zby5taWNyb3NvZnQuY29tKS5cclxuICAgICAqIElmIHlvdXIgYXBwbGljYXRpb24gc3VwcG9ydHMgQWNjb3VudHMgaW4gYW55IG9yZ2FuaXphdGlvbmFsIGRpcmVjdG9yeSwgcmVwbGFjZSBcIkVudGVyX3RoZV9UZW5hbnRfSW5mb19IZXJlXCIgdmFsdWUgd2l0aCBvcmdhbml6YXRpb25zLlxyXG4gICAgICogSWYgeW91ciBhcHBsaWNhdGlvbiBzdXBwb3J0cyBBY2NvdW50cyBpbiBhbnkgb3JnYW5pemF0aW9uYWwgZGlyZWN0b3J5IGFuZCBwZXJzb25hbCBNaWNyb3NvZnQgYWNjb3VudHMsIHJlcGxhY2UgXCJFbnRlcl90aGVfVGVuYW50X0luZm9fSGVyZVwiIHZhbHVlIHdpdGggY29tbW9uLlxyXG4gICAgICogVG8gcmVzdHJpY3Qgc3VwcG9ydCB0byBQZXJzb25hbCBNaWNyb3NvZnQgYWNjb3VudHMgb25seSwgcmVwbGFjZSBcIkVudGVyX3RoZV9UZW5hbnRfSW5mb19IZXJlXCIgdmFsdWUgd2l0aCBjb25zdW1lcnMuXHJcbiAgICAgKlxyXG4gICAgICogSW4gQXp1cmUgQjJDLCBhdXRob3JpdHkgaXMgb2YgdGhlIGZvcm0gaHR0cHM6Ly97aW5zdGFuY2V9L3RmcC97dGVuYW50fS97cG9saWN5TmFtZX0vXHJcbiAgICAgKiBGdWxsIEIyQyBmdW5jdGlvbmFsaXR5IHdpbGwgYmUgYXZhaWxhYmxlIGluIHRoaXMgbGlicmFyeSBpbiBmdXR1cmUgdmVyc2lvbnMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNvbmZpZ3VyYXRpb24gT2JqZWN0IGZvciB0aGUgTVNBTCBQdWJsaWNDbGllbnRBcHBsaWNhdGlvbiBpbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBDbGllbnRBcHBsaWNhdGlvbihjb25maWd1cmF0aW9uKSB7XHJcbiAgICAgICAgLypcclxuICAgICAgICAgKiBJZiBsb2FkZWQgaW4gYW4gZW52aXJvbm1lbnQgd2hlcmUgd2luZG93IGlzIG5vdCBhdmFpbGFibGUsXHJcbiAgICAgICAgICogc2V0IGludGVybmFsIGZsYWcgdG8gZmFsc2Ugc28gdGhhdCBmdXJ0aGVyIHJlcXVlc3RzIGZhaWwuXHJcbiAgICAgICAgICogVGhpcyBpcyB0byBzdXBwb3J0IHNlcnZlci1zaWRlIHJlbmRlcmluZyBlbnZpcm9ubWVudHMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5pc0Jyb3dzZXJFbnZpcm9ubWVudCA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCI7XHJcbiAgICAgICAgLy8gU2V0IHRoZSBjb25maWd1cmF0aW9uLlxyXG4gICAgICAgIHRoaXMuY29uZmlnID0gYnVpbGRDb25maWd1cmF0aW9uKGNvbmZpZ3VyYXRpb24sIHRoaXMuaXNCcm93c2VyRW52aXJvbm1lbnQpO1xyXG4gICAgICAgIC8vIEluaXRpYWxpemUgbG9nZ2VyXHJcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBuZXcgTG9nZ2VyKHRoaXMuY29uZmlnLnN5c3RlbS5sb2dnZXJPcHRpb25zLCBuYW1lLCB2ZXJzaW9uKTtcclxuICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBuZXR3b3JrIG1vZHVsZSBjbGFzcy5cclxuICAgICAgICB0aGlzLm5ldHdvcmtDbGllbnQgPSB0aGlzLmNvbmZpZy5zeXN0ZW0ubmV0d29ya0NsaWVudDtcclxuICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBuYXZpZ2F0aW9uIGNsaWVudCBjbGFzcy5cclxuICAgICAgICB0aGlzLm5hdmlnYXRpb25DbGllbnQgPSB0aGlzLmNvbmZpZy5zeXN0ZW0ubmF2aWdhdGlvbkNsaWVudDtcclxuICAgICAgICAvLyBJbml0aWFsaXplIHJlZGlyZWN0UmVzcG9uc2UgTWFwXHJcbiAgICAgICAgdGhpcy5yZWRpcmVjdFJlc3BvbnNlID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIC8vIEluaXRpYWwgaHlicmlkIHNwYSBtYXBcclxuICAgICAgICB0aGlzLmh5YnJpZEF1dGhDb2RlUmVzcG9uc2VzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIC8vIEluaXRpYWxpemUgdGhlIGNyeXB0byBjbGFzcy5cclxuICAgICAgICB0aGlzLmJyb3dzZXJDcnlwdG8gPSB0aGlzLmlzQnJvd3NlckVudmlyb25tZW50ID8gbmV3IENyeXB0b09wcyh0aGlzLmxvZ2dlcikgOiBERUZBVUxUX0NSWVBUT19JTVBMRU1FTlRBVElPTjtcclxuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlciA9IG5ldyBFdmVudEhhbmRsZXIodGhpcy5sb2dnZXIsIHRoaXMuYnJvd3NlckNyeXB0byk7XHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgYnJvd3NlciBzdG9yYWdlIGNsYXNzLlxyXG4gICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2UgPSB0aGlzLmlzQnJvd3NlckVudmlyb25tZW50ID9cclxuICAgICAgICAgICAgbmV3IEJyb3dzZXJDYWNoZU1hbmFnZXIodGhpcy5jb25maWcuYXV0aC5jbGllbnRJZCwgdGhpcy5jb25maWcuY2FjaGUsIHRoaXMuYnJvd3NlckNyeXB0bywgdGhpcy5sb2dnZXIpIDpcclxuICAgICAgICAgICAgREVGQVVMVF9CUk9XU0VSX0NBQ0hFX01BTkFHRVIodGhpcy5jb25maWcuYXV0aC5jbGllbnRJZCwgdGhpcy5sb2dnZXIpO1xyXG4gICAgICAgIC8vIEluaXRpYWxpemUgdGhlIHRva2VuIGNhY2hlXHJcbiAgICAgICAgdGhpcy50b2tlbkNhY2hlID0gbmV3IFRva2VuQ2FjaGUodGhpcy5jb25maWcsIHRoaXMuYnJvd3NlclN0b3JhZ2UsIHRoaXMubG9nZ2VyLCB0aGlzLmJyb3dzZXJDcnlwdG8pO1xyXG4gICAgfVxyXG4gICAgLy8gI3JlZ2lvbiBSZWRpcmVjdCBGbG93XHJcbiAgICAvKipcclxuICAgICAqIEV2ZW50IGhhbmRsZXIgZnVuY3Rpb24gd2hpY2ggYWxsb3dzIHVzZXJzIHRvIGZpcmUgZXZlbnRzIGFmdGVyIHRoZSBQdWJsaWNDbGllbnRBcHBsaWNhdGlvbiBvYmplY3RcclxuICAgICAqIGhhcyBsb2FkZWQgZHVyaW5nIHJlZGlyZWN0IGZsb3dzLiBUaGlzIHNob3VsZCBiZSBpbnZva2VkIG9uIGFsbCBwYWdlIGxvYWRzIGludm9sdmVkIGluIHJlZGlyZWN0XHJcbiAgICAgKiBhdXRoIGZsb3dzLlxyXG4gICAgICogQHBhcmFtIGhhc2ggSGFzaCB0byBwcm9jZXNzLiBEZWZhdWx0cyB0byB0aGUgY3VycmVudCB2YWx1ZSBvZiB3aW5kb3cubG9jYXRpb24uaGFzaC4gT25seSBuZWVkcyB0byBiZSBwcm92aWRlZCBleHBsaWNpdGx5IGlmIHRoZSByZXNwb25zZSB0byBiZSBoYW5kbGVkIGlzIG5vdCBjb250YWluZWQgaW4gdGhlIGN1cnJlbnQgdmFsdWUuXHJcbiAgICAgKiBAcmV0dXJucyBUb2tlbiByZXNwb25zZSBvciBudWxsLiBJZiB0aGUgcmV0dXJuIHZhbHVlIGlzIG51bGwsIHRoZW4gbm8gYXV0aCByZWRpcmVjdCB3YXMgZGV0ZWN0ZWQuXHJcbiAgICAgKi9cclxuICAgIENsaWVudEFwcGxpY2F0aW9uLnByb3RvdHlwZS5oYW5kbGVSZWRpcmVjdFByb21pc2UgPSBmdW5jdGlvbiAoaGFzaCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGxvZ2dlZEluQWNjb3VudHMsIHJlZGlyZWN0UmVzcG9uc2VLZXksIHJlc3BvbnNlLCBjb3JyZWxhdGlvbklkLCByZWRpcmVjdENsaWVudDtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcImhhbmRsZVJlZGlyZWN0UHJvbWlzZSBjYWxsZWRcIik7XHJcbiAgICAgICAgICAgICAgICBsb2dnZWRJbkFjY291bnRzID0gdGhpcy5nZXRBbGxBY2NvdW50cygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNCcm93c2VyRW52aXJvbm1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZWRpcmVjdFJlc3BvbnNlS2V5ID0gaGFzaCB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gdGhpcy5yZWRpcmVjdFJlc3BvbnNlLmdldChyZWRpcmVjdFJlc3BvbnNlS2V5KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlc3BvbnNlID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuSEFORExFX1JFRElSRUNUX1NUQVJULCBJbnRlcmFjdGlvblR5cGUuUmVkaXJlY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiaGFuZGxlUmVkaXJlY3RQcm9taXNlIGhhcyBiZWVuIGNhbGxlZCBmb3IgdGhlIGZpcnN0IHRpbWUsIHN0b3JpbmcgdGhlIHByb21pc2VcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlbGF0aW9uSWQgPSB0aGlzLmJyb3dzZXJTdG9yYWdlLmdldFRlbXBvcmFyeUNhY2hlKFRlbXBvcmFyeUNhY2hlS2V5cy5DT1JSRUxBVElPTl9JRCwgdHJ1ZSkgfHwgXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3RDbGllbnQgPSBuZXcgUmVkaXJlY3RDbGllbnQodGhpcy5jb25maWcsIHRoaXMuYnJvd3NlclN0b3JhZ2UsIHRoaXMuYnJvd3NlckNyeXB0bywgdGhpcy5sb2dnZXIsIHRoaXMuZXZlbnRIYW5kbGVyLCB0aGlzLm5hdmlnYXRpb25DbGllbnQsIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IHJlZGlyZWN0Q2xpZW50LmhhbmRsZVJlZGlyZWN0UHJvbWlzZShoYXNoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVtaXQgbG9naW4gZXZlbnQgaWYgbnVtYmVyIG9mIGFjY291bnRzIGNoYW5nZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc0xvZ2dpbmdJbiA9IGxvZ2dlZEluQWNjb3VudHMubGVuZ3RoIDwgX3RoaXMuZ2V0QWxsQWNjb3VudHMoKS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTG9nZ2luZ0luKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkxPR0lOX1NVQ0NFU1MsIEludGVyYWN0aW9uVHlwZS5SZWRpcmVjdCwgcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLnZlcmJvc2UoXCJoYW5kbGVSZWRpcmVjdFJlc3BvbnNlIHJldHVybmVkIHJlc3VsdCwgbG9naW4gc3VjY2Vzc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkFDUVVJUkVfVE9LRU5fU1VDQ0VTUywgSW50ZXJhY3Rpb25UeXBlLlJlZGlyZWN0LCByZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIudmVyYm9zZShcImhhbmRsZVJlZGlyZWN0UmVzcG9uc2UgcmV0dXJuZWQgcmVzdWx0LCBhY3F1aXJlIHRva2VuIHN1Y2Nlc3NcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuSEFORExFX1JFRElSRUNUX0VORCwgSW50ZXJhY3Rpb25UeXBlLlJlZGlyZWN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVtaXQgbG9naW4gZXZlbnQgaWYgdGhlcmUgaXMgYW4gYWNjb3VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvZ2dlZEluQWNjb3VudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkFDUVVJUkVfVE9LRU5fRkFJTFVSRSwgSW50ZXJhY3Rpb25UeXBlLlJlZGlyZWN0LCBudWxsLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkxPR0lOX0ZBSUxVUkUsIEludGVyYWN0aW9uVHlwZS5SZWRpcmVjdCwgbnVsbCwgZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5IQU5ETEVfUkVESVJFQ1RfRU5ELCBJbnRlcmFjdGlvblR5cGUuUmVkaXJlY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVkaXJlY3RSZXNwb25zZS5zZXQocmVkaXJlY3RSZXNwb25zZUtleSwgcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcImhhbmRsZVJlZGlyZWN0UHJvbWlzZSBoYXMgYmVlbiBjYWxsZWQgcHJldmlvdXNseSwgcmV0dXJuaW5nIHRoZSByZXN1bHQgZnJvbSB0aGUgZmlyc3QgY2FsbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlc3BvbnNlXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJoYW5kbGVSZWRpcmVjdFByb21pc2UgcmV0dXJucyBudWxsLCBub3QgYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBudWxsXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBVc2Ugd2hlbiB5b3Ugd2FudCB0byBvYnRhaW4gYW4gYWNjZXNzX3Rva2VuIGZvciB5b3VyIEFQSSBieSByZWRpcmVjdGluZyB0aGUgdXNlcidzIGJyb3dzZXIgd2luZG93IHRvIHRoZSBhdXRob3JpemF0aW9uIGVuZHBvaW50LiBUaGlzIGZ1bmN0aW9uIHJlZGlyZWN0c1xyXG4gICAgICogdGhlIHBhZ2UsIHNvIGFueSBjb2RlIHRoYXQgZm9sbG93cyB0aGlzIGZ1bmN0aW9uIHdpbGwgbm90IGV4ZWN1dGUuXHJcbiAgICAgKlxyXG4gICAgICogSU1QT1JUQU5UOiBJdCBpcyBOT1QgcmVjb21tZW5kZWQgdG8gaGF2ZSBjb2RlIHRoYXQgaXMgZGVwZW5kZW50IG9uIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBQcm9taXNlLiBUaGlzIGZ1bmN0aW9uIHdpbGwgbmF2aWdhdGUgYXdheSBmcm9tIHRoZSBjdXJyZW50XHJcbiAgICAgKiBicm93c2VyIHdpbmRvdy4gSXQgY3VycmVudGx5IHJldHVybnMgYSBQcm9taXNlIGluIG9yZGVyIHRvIHJlZmxlY3QgdGhlIGFzeW5jaHJvbm91cyBuYXR1cmUgb2YgdGhlIGNvZGUgcnVubmluZyBpbiB0aGlzIGZ1bmN0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIENsaWVudEFwcGxpY2F0aW9uLnByb3RvdHlwZS5hY3F1aXJlVG9rZW5SZWRpcmVjdCA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgaXNMb2dnZWRJbiwgcmVkaXJlY3RDbGllbnQ7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIC8vIFByZWZsaWdodCByZXF1ZXN0XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiYWNxdWlyZVRva2VuUmVkaXJlY3QgY2FsbGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmVmbGlnaHRCcm93c2VyRW52aXJvbm1lbnRDaGVjayhJbnRlcmFjdGlvblR5cGUuUmVkaXJlY3QpO1xyXG4gICAgICAgICAgICAgICAgaXNMb2dnZWRJbiA9IHRoaXMuZ2V0QWxsQWNjb3VudHMoKS5sZW5ndGggPiAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTG9nZ2VkSW4pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkFDUVVJUkVfVE9LRU5fU1RBUlQsIEludGVyYWN0aW9uVHlwZS5SZWRpcmVjdCwgcmVxdWVzdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkxPR0lOX1NUQVJULCBJbnRlcmFjdGlvblR5cGUuUmVkaXJlY3QsIHJlcXVlc3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVkaXJlY3RDbGllbnQgPSBuZXcgUmVkaXJlY3RDbGllbnQodGhpcy5jb25maWcsIHRoaXMuYnJvd3NlclN0b3JhZ2UsIHRoaXMuYnJvd3NlckNyeXB0bywgdGhpcy5sb2dnZXIsIHRoaXMuZXZlbnRIYW5kbGVyLCB0aGlzLm5hdmlnYXRpb25DbGllbnQsIHJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgcmVkaXJlY3RDbGllbnQuYWNxdWlyZVRva2VuKHJlcXVlc3QpLmNhdGNoKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGxvZ2dlZCBpbiwgZW1pdCBhY3F1aXJlIHRva2VuIGV2ZW50c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNMb2dnZWRJbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuQUNRVUlSRV9UT0tFTl9GQUlMVVJFLCBJbnRlcmFjdGlvblR5cGUuUmVkaXJlY3QsIG51bGwsIGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuTE9HSU5fRkFJTFVSRSwgSW50ZXJhY3Rpb25UeXBlLlJlZGlyZWN0LCBudWxsLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLy8gI2VuZHJlZ2lvblxyXG4gICAgLy8gI3JlZ2lvbiBQb3B1cCBGbG93XHJcbiAgICAvKipcclxuICAgICAqIFVzZSB3aGVuIHlvdSB3YW50IHRvIG9idGFpbiBhbiBhY2Nlc3NfdG9rZW4gZm9yIHlvdXIgQVBJIHZpYSBvcGVuaW5nIGEgcG9wdXAgd2luZG93IGluIHRoZSB1c2VyJ3MgYnJvd3NlclxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gdGhpcyBmdW5jdGlvbiBoYXMgY29tcGxldGVkLCBvciByZWplY3RlZCBpZiBhbiBlcnJvciB3YXMgcmFpc2VkLlxyXG4gICAgICovXHJcbiAgICBDbGllbnRBcHBsaWNhdGlvbi5wcm90b3R5cGUuYWNxdWlyZVRva2VuUG9wdXAgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcImFjcXVpcmVUb2tlblBvcHVwIGNhbGxlZFwiLCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICB0aGlzLnByZWZsaWdodEJyb3dzZXJFbnZpcm9ubWVudENoZWNrKEludGVyYWN0aW9uVHlwZS5Qb3B1cCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIC8vIFNpbmNlIHRoaXMgZnVuY3Rpb24gaXMgc3luY3Jvbm91cyB3ZSBuZWVkIHRvIHJlamVjdFxyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIElmIGxvZ2dlZCBpbiwgZW1pdCBhY3F1aXJlIHRva2VuIGV2ZW50c1xyXG4gICAgICAgIHZhciBsb2dnZWRJbkFjY291bnRzID0gdGhpcy5nZXRBbGxBY2NvdW50cygpO1xyXG4gICAgICAgIGlmIChsb2dnZWRJbkFjY291bnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5BQ1FVSVJFX1RPS0VOX1NUQVJULCBJbnRlcmFjdGlvblR5cGUuUG9wdXAsIHJlcXVlc3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5MT0dJTl9TVEFSVCwgSW50ZXJhY3Rpb25UeXBlLlBvcHVwLCByZXF1ZXN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHBvcHVwQ2xpZW50ID0gbmV3IFBvcHVwQ2xpZW50KHRoaXMuY29uZmlnLCB0aGlzLmJyb3dzZXJTdG9yYWdlLCB0aGlzLmJyb3dzZXJDcnlwdG8sIHRoaXMubG9nZ2VyLCB0aGlzLmV2ZW50SGFuZGxlciwgdGhpcy5uYXZpZ2F0aW9uQ2xpZW50LCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIHJldHVybiBwb3B1cENsaWVudC5hY3F1aXJlVG9rZW4ocmVxdWVzdCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIC8vIElmIGxvZ2dlZCBpbiwgZW1pdCBhY3F1aXJlIHRva2VuIGV2ZW50c1xyXG4gICAgICAgICAgICB2YXIgaXNMb2dnaW5nSW4gPSBsb2dnZWRJbkFjY291bnRzLmxlbmd0aCA8IF90aGlzLmdldEFsbEFjY291bnRzKCkubGVuZ3RoO1xyXG4gICAgICAgICAgICBpZiAoaXNMb2dnaW5nSW4pIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkxPR0lOX1NVQ0NFU1MsIEludGVyYWN0aW9uVHlwZS5Qb3B1cCwgcmVzdWx0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkFDUVVJUkVfVE9LRU5fU1VDQ0VTUywgSW50ZXJhY3Rpb25UeXBlLlBvcHVwLCByZXN1bHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgaWYgKGxvZ2dlZEluQWNjb3VudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuQUNRVUlSRV9UT0tFTl9GQUlMVVJFLCBJbnRlcmFjdGlvblR5cGUuUG9wdXAsIG51bGwsIGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuTE9HSU5fRkFJTFVSRSwgSW50ZXJhY3Rpb25UeXBlLlBvcHVwLCBudWxsLCBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBTaW5jZSB0aGlzIGZ1bmN0aW9uIGlzIHN5bmNyb25vdXMgd2UgbmVlZCB0byByZWplY3RcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8vICNlbmRyZWdpb25cclxuICAgIC8vICNyZWdpb24gU2lsZW50IEZsb3dcclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiB1c2VzIGEgaGlkZGVuIGlmcmFtZSB0byBmZXRjaCBhbiBhdXRob3JpemF0aW9uIGNvZGUgZnJvbSB0aGUgZVNUUy4gVGhlcmUgYXJlIGNhc2VzIHdoZXJlIHRoaXMgbWF5IG5vdCB3b3JrOlxyXG4gICAgICogLSBBbnkgYnJvd3NlciB1c2luZyBhIGZvcm0gb2YgSW50ZWxsaWdlbnQgVHJhY2tpbmcgUHJldmVudGlvblxyXG4gICAgICogLSBJZiB0aGVyZSBpcyBub3QgYW4gZXN0YWJsaXNoZWQgc2Vzc2lvbiB3aXRoIHRoZSBzZXJ2aWNlXHJcbiAgICAgKlxyXG4gICAgICogSW4gdGhlc2UgY2FzZXMsIHRoZSByZXF1ZXN0IG11c3QgYmUgZG9uZSBpbnNpZGUgYSBwb3B1cCBvciBmdWxsIGZyYW1lIHJlZGlyZWN0LlxyXG4gICAgICpcclxuICAgICAqIEZvciB0aGUgY2FzZXMgd2hlcmUgaW50ZXJhY3Rpb24gaXMgcmVxdWlyZWQsIHlvdSBjYW5ub3Qgc2VuZCBhIHJlcXVlc3Qgd2l0aCBwcm9tcHQ9bm9uZS5cclxuICAgICAqXHJcbiAgICAgKiBJZiB5b3VyIHJlZnJlc2ggdG9rZW4gaGFzIGV4cGlyZWQsIHlvdSBjYW4gdXNlIHRoaXMgZnVuY3Rpb24gdG8gZmV0Y2ggYSBuZXcgc2V0IG9mIHRva2VucyBzaWxlbnRseSBhcyBsb25nIGFzXHJcbiAgICAgKiB5b3Ugc2Vzc2lvbiBvbiB0aGUgc2VydmVyIHN0aWxsIGV4aXN0cy5cclxuICAgICAqIEBwYXJhbSByZXF1ZXN0IHtAbGluayBTc29TaWxlbnRSZXF1ZXN0fVxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIHRoaXMgZnVuY3Rpb24gaGFzIGNvbXBsZXRlZCwgb3IgcmVqZWN0ZWQgaWYgYW4gZXJyb3Igd2FzIHJhaXNlZC5cclxuICAgICAqL1xyXG4gICAgQ2xpZW50QXBwbGljYXRpb24ucHJvdG90eXBlLnNzb1NpbGVudCA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2lsZW50SWZyYW1lQ2xpZW50LCBzaWxlbnRUb2tlblJlc3VsdCwgZV8xO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByZWZsaWdodEJyb3dzZXJFbnZpcm9ubWVudENoZWNrKEludGVyYWN0aW9uVHlwZS5TaWxlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwic3NvU2lsZW50IGNhbGxlZFwiLCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLlNTT19TSUxFTlRfU1RBUlQsIEludGVyYWN0aW9uVHlwZS5TaWxlbnQsIHJlcXVlc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzEsIDMsICwgNF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaWxlbnRJZnJhbWVDbGllbnQgPSBuZXcgU2lsZW50SWZyYW1lQ2xpZW50KHRoaXMuY29uZmlnLCB0aGlzLmJyb3dzZXJTdG9yYWdlLCB0aGlzLmJyb3dzZXJDcnlwdG8sIHRoaXMubG9nZ2VyLCB0aGlzLmV2ZW50SGFuZGxlciwgdGhpcy5uYXZpZ2F0aW9uQ2xpZW50LCBBcGlJZC5zc29TaWxlbnQsIHJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHNpbGVudElmcmFtZUNsaWVudC5hY3F1aXJlVG9rZW4ocmVxdWVzdCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2lsZW50VG9rZW5SZXN1bHQgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuU1NPX1NJTEVOVF9TVUNDRVNTLCBJbnRlcmFjdGlvblR5cGUuU2lsZW50LCBzaWxlbnRUb2tlblJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBzaWxlbnRUb2tlblJlc3VsdF07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlXzEgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuU1NPX1NJTEVOVF9GQUlMVVJFLCBJbnRlcmFjdGlvblR5cGUuU2lsZW50LCBudWxsLCBlXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlXzE7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiByZWRlZW1zIGFuIGF1dGhvcml6YXRpb24gY29kZSAocGFzc2VkIGFzIGNvZGUpIGZyb20gdGhlIGVTVFMgdG9rZW4gZW5kcG9pbnQuXHJcbiAgICAgKiBUaGlzIGF1dGhvcml6YXRpb24gY29kZSBzaG91bGQgYmUgYWNxdWlyZWQgc2VydmVyLXNpZGUgdXNpbmcgYSBjb25maWRlbnRpYWwgY2xpZW50IHRvIGFjcXVpcmUgYSBzcGFfY29kZS5cclxuICAgICAqIFRoaXMgQVBJIGlzIG5vdCBpbmRlbmRlZCBmb3Igbm9ybWFsIGF1dGhvcml6YXRpb24gY29kZSBhY3F1aXNpdGlvbiBhbmQgcmVkZW1wdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBSZWRlbXB0aW9uIG9mIHRoaXMgYXV0aG9yaXphdGlvbiBjb2RlIHdpbGwgbm90IHJlcXVpcmUgUEtDRSwgYXMgaXQgd2FzIGFjcXVpcmVkIGJ5IGEgY29uZmlkZW50aWFsIGNsaWVudC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdCB7QGxpbmsgQXV0aG9yaXphdGlvbkNvZGVSZXF1ZXN0fVxyXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gdGhpcyBmdW5jdGlvbiBoYXMgY29tcGxldGVkLCBvciByZWplY3RlZCBpZiBhbiBlcnJvciB3YXMgcmFpc2VkLlxyXG4gICAgICovXHJcbiAgICBDbGllbnRBcHBsaWNhdGlvbi5wcm90b3R5cGUuYWNxdWlyZVRva2VuQnlDb2RlID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByZXNwb25zZTtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmVmbGlnaHRCcm93c2VyRW52aXJvbm1lbnRDaGVjayhJbnRlcmFjdGlvblR5cGUuU2lsZW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiYWNxdWlyZVRva2VuQnlDb2RlIGNhbGxlZFwiLCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5BQ1FVSVJFX1RPS0VOX0JZX0NPREVfU1RBUlQsIEludGVyYWN0aW9uVHlwZS5TaWxlbnQsIHJlcXVlc3QpO1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcXVlc3QuY29kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBCcm93c2VyQXV0aEVycm9yLmNyZWF0ZUF1dGhDb2RlUmVxdWlyZWRFcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IHRoaXMuaHlicmlkQXV0aENvZGVSZXNwb25zZXMuZ2V0KHJlcXVlc3QuY29kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiSW5pdGlhdGluZyBuZXcgYWNxdWlyZVRva2VuQnlDb2RlIHJlcXVlc3RcIiwgcmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSB0aGlzLmFjcXVpcmVUb2tlbkJ5Q29kZUFzeW5jKHJlcXVlc3QpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5BQ1FVSVJFX1RPS0VOX0JZX0NPREVfU1VDQ0VTUywgSW50ZXJhY3Rpb25UeXBlLlNpbGVudCwgcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmh5YnJpZEF1dGhDb2RlUmVzcG9uc2VzLmRlbGV0ZShyZXF1ZXN0LmNvZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmh5YnJpZEF1dGhDb2RlUmVzcG9uc2VzLmRlbGV0ZShyZXF1ZXN0LmNvZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmh5YnJpZEF1dGhDb2RlUmVzcG9uc2VzLnNldChyZXF1ZXN0LmNvZGUsIHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJFeGlzdGluZyBhY3F1aXJlVG9rZW5CeUNvZGUgcmVxdWVzdCBmb3VuZFwiLCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgcmVzcG9uc2VdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkFDUVVJUkVfVE9LRU5fQllfQ09ERV9GQUlMVVJFLCBJbnRlcmFjdGlvblR5cGUuU2lsZW50LCBudWxsLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBTaWxlbnRBdXRoQ29kZUNsaWVudCB0byByZWRlZW0gYW4gYXV0aG9yaXphdGlvbiBjb2RlLlxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqIEByZXR1cm5zIFJlc3VsdCBvZiB0aGUgb3BlcmF0aW9uIHRvIHJlZGVlbSB0aGUgYXV0aG9yaXphdGlvbiBjb2RlXHJcbiAgICAgKi9cclxuICAgIENsaWVudEFwcGxpY2F0aW9uLnByb3RvdHlwZS5hY3F1aXJlVG9rZW5CeUNvZGVBc3luYyA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2lsZW50QXV0aENvZGVDbGllbnQsIHNpbGVudFRva2VuUmVzdWx0O1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcImFjcXVpcmVUb2tlbkJ5Q29kZUFzeW5jIGNhbGxlZFwiLCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaWxlbnRBdXRoQ29kZUNsaWVudCA9IG5ldyBTaWxlbnRBdXRoQ29kZUNsaWVudCh0aGlzLmNvbmZpZywgdGhpcy5icm93c2VyU3RvcmFnZSwgdGhpcy5icm93c2VyQ3J5cHRvLCB0aGlzLmxvZ2dlciwgdGhpcy5ldmVudEhhbmRsZXIsIHRoaXMubmF2aWdhdGlvbkNsaWVudCwgQXBpSWQuYWNxdWlyZVRva2VuQnlDb2RlLCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzaWxlbnRBdXRoQ29kZUNsaWVudC5hY3F1aXJlVG9rZW4ocmVxdWVzdCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2lsZW50VG9rZW5SZXN1bHQgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBzaWxlbnRUb2tlblJlc3VsdF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVXNlIHRoaXMgZnVuY3Rpb24gdG8gb2J0YWluIGEgdG9rZW4gYmVmb3JlIGV2ZXJ5IGNhbGwgdG8gdGhlIEFQSSAvIHJlc291cmNlIHByb3ZpZGVyXHJcbiAgICAgKlxyXG4gICAgICogTVNBTCByZXR1cm4ncyBhIGNhY2hlZCB0b2tlbiB3aGVuIGF2YWlsYWJsZVxyXG4gICAgICogT3IgaXQgc2VuZCdzIGEgcmVxdWVzdCB0byB0aGUgU1RTIHRvIG9idGFpbiBhIG5ldyB0b2tlbiB1c2luZyBhIHJlZnJlc2ggdG9rZW4uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtAbGluayBTaWxlbnRSZXF1ZXN0fVxyXG4gICAgICpcclxuICAgICAqIFRvIHJlbmV3IGlkVG9rZW4sIHBsZWFzZSBwYXNzIGNsaWVudElkIGFzIHRoZSBvbmx5IHNjb3BlIGluIHRoZSBBdXRoZW50aWNhdGlvbiBQYXJhbWV0ZXJzXHJcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiB0aGlzIGZ1bmN0aW9uIGhhcyBjb21wbGV0ZWQsIG9yIHJlamVjdGVkIGlmIGFuIGVycm9yIHdhcyByYWlzZWQuXHJcbiAgICAgKi9cclxuICAgIENsaWVudEFwcGxpY2F0aW9uLnByb3RvdHlwZS5hY3F1aXJlVG9rZW5CeVJlZnJlc2hUb2tlbiA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2lsZW50UmVmcmVzaENsaWVudDtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5BQ1FVSVJFX1RPS0VOX05FVFdPUktfU1RBUlQsIEludGVyYWN0aW9uVHlwZS5TaWxlbnQsIHJlcXVlc3QpO1xyXG4gICAgICAgICAgICAgICAgLy8gYmxvY2sgdGhlIHJlbG9hZCBpZiBpdCBvY2N1cnJlZCBpbnNpZGUgYSBoaWRkZW4gaWZyYW1lXHJcbiAgICAgICAgICAgICAgICBCcm93c2VyVXRpbHMuYmxvY2tSZWxvYWRJbkhpZGRlbklmcmFtZXMoKTtcclxuICAgICAgICAgICAgICAgIHNpbGVudFJlZnJlc2hDbGllbnQgPSBuZXcgU2lsZW50UmVmcmVzaENsaWVudCh0aGlzLmNvbmZpZywgdGhpcy5icm93c2VyU3RvcmFnZSwgdGhpcy5icm93c2VyQ3J5cHRvLCB0aGlzLmxvZ2dlciwgdGhpcy5ldmVudEhhbmRsZXIsIHRoaXMubmF2aWdhdGlvbkNsaWVudCwgcmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBzaWxlbnRSZWZyZXNoQ2xpZW50LmFjcXVpcmVUb2tlbihyZXF1ZXN0KS5jYXRjaChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNTZXJ2ZXJFcnJvciA9IGUgaW5zdGFuY2VvZiBTZXJ2ZXJFcnJvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzSW50ZXJhY3Rpb25SZXF1aXJlZEVycm9yID0gZSBpbnN0YW5jZW9mIEludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc0ludmFsaWRHcmFudEVycm9yID0gKGUuZXJyb3JDb2RlID09PSBCcm93c2VyQ29uc3RhbnRzLklOVkFMSURfR1JBTlRfRVJST1IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNTZXJ2ZXJFcnJvciAmJiBpc0ludmFsaWRHcmFudEVycm9yICYmICFpc0ludGVyYWN0aW9uUmVxdWlyZWRFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLnZlcmJvc2UoXCJSZWZyZXNoIHRva2VuIGV4cGlyZWQgb3IgaW52YWxpZCwgYXR0ZW1wdGluZyBhY3F1aXJlIHRva2VuIGJ5IGlmcmFtZVwiLCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpbGVudElmcmFtZUNsaWVudCA9IG5ldyBTaWxlbnRJZnJhbWVDbGllbnQoX3RoaXMuY29uZmlnLCBfdGhpcy5icm93c2VyU3RvcmFnZSwgX3RoaXMuYnJvd3NlckNyeXB0bywgX3RoaXMubG9nZ2VyLCBfdGhpcy5ldmVudEhhbmRsZXIsIF90aGlzLm5hdmlnYXRpb25DbGllbnQsIEFwaUlkLmFjcXVpcmVUb2tlblNpbGVudF9hdXRoQ29kZSwgcmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzaWxlbnRJZnJhbWVDbGllbnQuYWNxdWlyZVRva2VuKHJlcXVlc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSldO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvLyAjZW5kcmVnaW9uXHJcbiAgICAvLyAjcmVnaW9uIExvZ291dFxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXByZWNhdGVkIGxvZ291dCBmdW5jdGlvbi4gVXNlIGxvZ291dFJlZGlyZWN0IG9yIGxvZ291dFBvcHVwIGluc3RlYWRcclxuICAgICAqIEBwYXJhbSBsb2dvdXRSZXF1ZXN0XHJcbiAgICAgKiBAZGVwcmVjYXRlZFxyXG4gICAgICovXHJcbiAgICBDbGllbnRBcHBsaWNhdGlvbi5wcm90b3R5cGUubG9nb3V0ID0gZnVuY3Rpb24gKGxvZ291dFJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm5pbmcoXCJsb2dvdXQgQVBJIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBtc2FsLWJyb3dzZXIgdjMuMC4wLiBVc2UgbG9nb3V0UmVkaXJlY3QgaW5zdGVhZC5cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5sb2dvdXRSZWRpcmVjdChsb2dvdXRSZXF1ZXN0KV07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVXNlIHRvIGxvZyBvdXQgdGhlIGN1cnJlbnQgdXNlciwgYW5kIHJlZGlyZWN0IHRoZSB1c2VyIHRvIHRoZSBwb3N0TG9nb3V0UmVkaXJlY3RVcmkuXHJcbiAgICAgKiBEZWZhdWx0IGJlaGF2aW91ciBpcyB0byByZWRpcmVjdCB0aGUgdXNlciB0byBgd2luZG93LmxvY2F0aW9uLmhyZWZgLlxyXG4gICAgICogQHBhcmFtIGxvZ291dFJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgQ2xpZW50QXBwbGljYXRpb24ucHJvdG90eXBlLmxvZ291dFJlZGlyZWN0ID0gZnVuY3Rpb24gKGxvZ291dFJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByZWRpcmVjdENsaWVudDtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmVmbGlnaHRCcm93c2VyRW52aXJvbm1lbnRDaGVjayhJbnRlcmFjdGlvblR5cGUuUmVkaXJlY3QpO1xyXG4gICAgICAgICAgICAgICAgcmVkaXJlY3RDbGllbnQgPSBuZXcgUmVkaXJlY3RDbGllbnQodGhpcy5jb25maWcsIHRoaXMuYnJvd3NlclN0b3JhZ2UsIHRoaXMuYnJvd3NlckNyeXB0bywgdGhpcy5sb2dnZXIsIHRoaXMuZXZlbnRIYW5kbGVyLCB0aGlzLm5hdmlnYXRpb25DbGllbnQsIGxvZ291dFJlcXVlc3QgPT09IG51bGwgfHwgbG9nb3V0UmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogbG9nb3V0UmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZWRpcmVjdENsaWVudC5sb2dvdXQobG9nb3V0UmVxdWVzdCldO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENsZWFycyBsb2NhbCBjYWNoZSBmb3IgdGhlIGN1cnJlbnQgdXNlciB0aGVuIG9wZW5zIGEgcG9wdXAgd2luZG93IHByb21wdGluZyB0aGUgdXNlciB0byBzaWduLW91dCBvZiB0aGUgc2VydmVyXHJcbiAgICAgKiBAcGFyYW0gbG9nb3V0UmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBDbGllbnRBcHBsaWNhdGlvbi5wcm90b3R5cGUubG9nb3V0UG9wdXAgPSBmdW5jdGlvbiAobG9nb3V0UmVxdWVzdCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJlZmxpZ2h0QnJvd3NlckVudmlyb25tZW50Q2hlY2soSW50ZXJhY3Rpb25UeXBlLlBvcHVwKTtcclxuICAgICAgICAgICAgdmFyIHBvcHVwQ2xpZW50ID0gbmV3IFBvcHVwQ2xpZW50KHRoaXMuY29uZmlnLCB0aGlzLmJyb3dzZXJTdG9yYWdlLCB0aGlzLmJyb3dzZXJDcnlwdG8sIHRoaXMubG9nZ2VyLCB0aGlzLmV2ZW50SGFuZGxlciwgdGhpcy5uYXZpZ2F0aW9uQ2xpZW50LCBsb2dvdXRSZXF1ZXN0ID09PSBudWxsIHx8IGxvZ291dFJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxvZ291dFJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgIHJldHVybiBwb3B1cENsaWVudC5sb2dvdXQobG9nb3V0UmVxdWVzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIC8vIFNpbmNlIHRoaXMgZnVuY3Rpb24gaXMgc3luY3Jvbm91cyB3ZSBuZWVkIHRvIHJlamVjdFxyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8vICNlbmRyZWdpb25cclxuICAgIC8vICNyZWdpb24gQWNjb3VudCBBUElzXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYWxsIGFjY291bnRzIHRoYXQgTVNBTCBjdXJyZW50bHkgaGFzIGRhdGEgZm9yLlxyXG4gICAgICogKHRoZSBhY2NvdW50IG9iamVjdCBpcyBjcmVhdGVkIGF0IHRoZSB0aW1lIG9mIHN1Y2Nlc3NmdWwgbG9naW4pXHJcbiAgICAgKiBvciBlbXB0eSBhcnJheSB3aGVuIG5vIGFjY291bnRzIGFyZSBmb3VuZFxyXG4gICAgICogQHJldHVybnMgQXJyYXkgb2YgYWNjb3VudCBvYmplY3RzIGluIGNhY2hlXHJcbiAgICAgKi9cclxuICAgIENsaWVudEFwcGxpY2F0aW9uLnByb3RvdHlwZS5nZXRBbGxBY2NvdW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiZ2V0QWxsQWNjb3VudHMgY2FsbGVkXCIpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzQnJvd3NlckVudmlyb25tZW50ID8gdGhpcy5icm93c2VyU3RvcmFnZS5nZXRBbGxBY2NvdW50cygpIDogW107XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBzaWduZWQgaW4gYWNjb3VudCBtYXRjaGluZyB1c2VybmFtZS5cclxuICAgICAqICh0aGUgYWNjb3VudCBvYmplY3QgaXMgY3JlYXRlZCBhdCB0aGUgdGltZSBvZiBzdWNjZXNzZnVsIGxvZ2luKVxyXG4gICAgICogb3IgbnVsbCB3aGVuIG5vIG1hdGNoaW5nIGFjY291bnQgaXMgZm91bmQuXHJcbiAgICAgKiBUaGlzIEFQSSBpcyBwcm92aWRlZCBmb3IgY29udmVuaWVuY2UgYnV0IGdldEFjY291bnRCeUlkIHNob3VsZCBiZSB1c2VkIGZvciBiZXN0IHJlbGlhYmlsaXR5XHJcbiAgICAgKiBAcGFyYW0gdXNlck5hbWVcclxuICAgICAqIEByZXR1cm5zIFRoZSBhY2NvdW50IG9iamVjdCBzdG9yZWQgaW4gTVNBTFxyXG4gICAgICovXHJcbiAgICBDbGllbnRBcHBsaWNhdGlvbi5wcm90b3R5cGUuZ2V0QWNjb3VudEJ5VXNlcm5hbWUgPSBmdW5jdGlvbiAodXNlck5hbWUpIHtcclxuICAgICAgICB2YXIgYWxsQWNjb3VudHMgPSB0aGlzLmdldEFsbEFjY291bnRzKCk7XHJcbiAgICAgICAgaWYgKCFTdHJpbmdVdGlscy5pc0VtcHR5KHVzZXJOYW1lKSAmJiBhbGxBY2NvdW50cyAmJiBhbGxBY2NvdW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIkFjY291bnQgbWF0Y2hpbmcgdXNlcm5hbWUgZm91bmQsIHJldHVybmluZ1wiKTtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZVBpaShcIlJldHVybmluZyBzaWduZWQtaW4gYWNjb3VudHMgbWF0Y2hpbmcgdXNlcm5hbWU6IFwiICsgdXNlck5hbWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gYWxsQWNjb3VudHMuZmlsdGVyKGZ1bmN0aW9uIChhY2NvdW50T2JqKSB7IHJldHVybiBhY2NvdW50T2JqLnVzZXJuYW1lLnRvTG93ZXJDYXNlKCkgPT09IHVzZXJOYW1lLnRvTG93ZXJDYXNlKCk7IH0pWzBdIHx8IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiZ2V0QWNjb3VudEJ5VXNlcm5hbWU6IE5vIG1hdGNoaW5nIGFjY291bnQgZm91bmQsIHJldHVybmluZyBudWxsXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBzaWduZWQgaW4gYWNjb3VudCBtYXRjaGluZyBob21lQWNjb3VudElkLlxyXG4gICAgICogKHRoZSBhY2NvdW50IG9iamVjdCBpcyBjcmVhdGVkIGF0IHRoZSB0aW1lIG9mIHN1Y2Nlc3NmdWwgbG9naW4pXHJcbiAgICAgKiBvciBudWxsIHdoZW4gbm8gbWF0Y2hpbmcgYWNjb3VudCBpcyBmb3VuZFxyXG4gICAgICogQHBhcmFtIGhvbWVBY2NvdW50SWRcclxuICAgICAqIEByZXR1cm5zIFRoZSBhY2NvdW50IG9iamVjdCBzdG9yZWQgaW4gTVNBTFxyXG4gICAgICovXHJcbiAgICBDbGllbnRBcHBsaWNhdGlvbi5wcm90b3R5cGUuZ2V0QWNjb3VudEJ5SG9tZUlkID0gZnVuY3Rpb24gKGhvbWVBY2NvdW50SWQpIHtcclxuICAgICAgICB2YXIgYWxsQWNjb3VudHMgPSB0aGlzLmdldEFsbEFjY291bnRzKCk7XHJcbiAgICAgICAgaWYgKCFTdHJpbmdVdGlscy5pc0VtcHR5KGhvbWVBY2NvdW50SWQpICYmIGFsbEFjY291bnRzICYmIGFsbEFjY291bnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiQWNjb3VudCBtYXRjaGluZyBob21lQWNjb3VudElkIGZvdW5kLCByZXR1cm5pbmdcIik7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2VQaWkoXCJSZXR1cm5pbmcgc2lnbmVkLWluIGFjY291bnRzIG1hdGNoaW5nIGhvbWVBY2NvdW50SWQ6IFwiICsgaG9tZUFjY291bnRJZCk7XHJcbiAgICAgICAgICAgIHJldHVybiBhbGxBY2NvdW50cy5maWx0ZXIoZnVuY3Rpb24gKGFjY291bnRPYmopIHsgcmV0dXJuIGFjY291bnRPYmouaG9tZUFjY291bnRJZCA9PT0gaG9tZUFjY291bnRJZDsgfSlbMF0gfHwgbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJnZXRBY2NvdW50QnlIb21lSWQ6IE5vIG1hdGNoaW5nIGFjY291bnQgZm91bmQsIHJldHVybmluZyBudWxsXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBzaWduZWQgaW4gYWNjb3VudCBtYXRjaGluZyBsb2NhbEFjY291bnRJZC5cclxuICAgICAqICh0aGUgYWNjb3VudCBvYmplY3QgaXMgY3JlYXRlZCBhdCB0aGUgdGltZSBvZiBzdWNjZXNzZnVsIGxvZ2luKVxyXG4gICAgICogb3IgbnVsbCB3aGVuIG5vIG1hdGNoaW5nIGFjY291bnQgaXMgZm91bmRcclxuICAgICAqIEBwYXJhbSBsb2NhbEFjY291bnRJZFxyXG4gICAgICogQHJldHVybnMgVGhlIGFjY291bnQgb2JqZWN0IHN0b3JlZCBpbiBNU0FMXHJcbiAgICAgKi9cclxuICAgIENsaWVudEFwcGxpY2F0aW9uLnByb3RvdHlwZS5nZXRBY2NvdW50QnlMb2NhbElkID0gZnVuY3Rpb24gKGxvY2FsQWNjb3VudElkKSB7XHJcbiAgICAgICAgdmFyIGFsbEFjY291bnRzID0gdGhpcy5nZXRBbGxBY2NvdW50cygpO1xyXG4gICAgICAgIGlmICghU3RyaW5nVXRpbHMuaXNFbXB0eShsb2NhbEFjY291bnRJZCkgJiYgYWxsQWNjb3VudHMgJiYgYWxsQWNjb3VudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJBY2NvdW50IG1hdGNoaW5nIGxvY2FsQWNjb3VudElkIGZvdW5kLCByZXR1cm5pbmdcIik7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2VQaWkoXCJSZXR1cm5pbmcgc2lnbmVkLWluIGFjY291bnRzIG1hdGNoaW5nIGxvY2FsQWNjb3VudElkOiBcIiArIGxvY2FsQWNjb3VudElkKTtcclxuICAgICAgICAgICAgcmV0dXJuIGFsbEFjY291bnRzLmZpbHRlcihmdW5jdGlvbiAoYWNjb3VudE9iaikgeyByZXR1cm4gYWNjb3VudE9iai5sb2NhbEFjY291bnRJZCA9PT0gbG9jYWxBY2NvdW50SWQ7IH0pWzBdIHx8IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiZ2V0QWNjb3VudEJ5TG9jYWxJZDogTm8gbWF0Y2hpbmcgYWNjb3VudCBmb3VuZCwgcmV0dXJuaW5nIG51bGxcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIGFjY291bnQgdG8gdXNlIGFzIHRoZSBhY3RpdmUgYWNjb3VudC4gSWYgbm8gYWNjb3VudCBpcyBwYXNzZWQgdG8gdGhlIGFjcXVpcmVUb2tlbiBBUElzLCB0aGVuIE1TQUwgd2lsbCB1c2UgdGhpcyBhY3RpdmUgYWNjb3VudC5cclxuICAgICAqIEBwYXJhbSBhY2NvdW50XHJcbiAgICAgKi9cclxuICAgIENsaWVudEFwcGxpY2F0aW9uLnByb3RvdHlwZS5zZXRBY3RpdmVBY2NvdW50ID0gZnVuY3Rpb24gKGFjY291bnQpIHtcclxuICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLnNldEFjdGl2ZUFjY291bnQoYWNjb3VudCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBjdXJyZW50bHkgYWN0aXZlIGFjY291bnRcclxuICAgICAqL1xyXG4gICAgQ2xpZW50QXBwbGljYXRpb24ucHJvdG90eXBlLmdldEFjdGl2ZUFjY291bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYnJvd3NlclN0b3JhZ2UuZ2V0QWN0aXZlQWNjb3VudCgpO1xyXG4gICAgfTtcclxuICAgIC8vICNlbmRyZWdpb25cclxuICAgIC8vICNyZWdpb24gSGVscGVyc1xyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgdG8gdmFsaWRhdGUgYXBwIGVudmlyb25tZW50IGJlZm9yZSBtYWtpbmcgYW4gYXV0aCByZXF1ZXN0XHJcbiAgICAgKiAqIEBwYXJhbSBpbnRlcmFjdGlvblR5cGVcclxuICAgICAqL1xyXG4gICAgQ2xpZW50QXBwbGljYXRpb24ucHJvdG90eXBlLnByZWZsaWdodEJyb3dzZXJFbnZpcm9ubWVudENoZWNrID0gZnVuY3Rpb24gKGludGVyYWN0aW9uVHlwZSkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJwcmVmbGlnaHRCcm93c2VyRW52aXJvbm1lbnRDaGVjayBzdGFydGVkXCIpO1xyXG4gICAgICAgIC8vIEJsb2NrIHJlcXVlc3QgaWYgbm90IGluIGJyb3dzZXIgZW52aXJvbm1lbnRcclxuICAgICAgICBCcm93c2VyVXRpbHMuYmxvY2tOb25Ccm93c2VyRW52aXJvbm1lbnQodGhpcy5pc0Jyb3dzZXJFbnZpcm9ubWVudCk7XHJcbiAgICAgICAgLy8gQmxvY2sgcmVkaXJlY3RzIGlmIGluIGFuIGlmcmFtZVxyXG4gICAgICAgIEJyb3dzZXJVdGlscy5ibG9ja1JlZGlyZWN0SW5JZnJhbWUoaW50ZXJhY3Rpb25UeXBlLCB0aGlzLmNvbmZpZy5zeXN0ZW0uYWxsb3dSZWRpcmVjdEluSWZyYW1lKTtcclxuICAgICAgICAvLyBCbG9jayBhdXRoIHJlcXVlc3RzIGluc2lkZSBhIGhpZGRlbiBpZnJhbWVcclxuICAgICAgICBCcm93c2VyVXRpbHMuYmxvY2tSZWxvYWRJbkhpZGRlbklmcmFtZXMoKTtcclxuICAgICAgICAvLyBCbG9jayByZWRpcmVjdFVyaSBvcGVuZWQgaW4gYSBwb3B1cCBmcm9tIGNhbGxpbmcgTVNBTCBBUElzXHJcbiAgICAgICAgQnJvd3NlclV0aWxzLmJsb2NrQWNxdWlyZVRva2VuSW5Qb3B1cHMoKTtcclxuICAgICAgICAvLyBCbG9jayByZWRpcmVjdHMgaWYgbWVtb3J5IHN0b3JhZ2UgaXMgZW5hYmxlZCBidXQgc3RvcmVBdXRoU3RhdGVJbkNvb2tpZSBpcyBub3RcclxuICAgICAgICBpZiAoaW50ZXJhY3Rpb25UeXBlID09PSBJbnRlcmFjdGlvblR5cGUuUmVkaXJlY3QgJiZcclxuICAgICAgICAgICAgdGhpcy5jb25maWcuY2FjaGUuY2FjaGVMb2NhdGlvbiA9PT0gQnJvd3NlckNhY2hlTG9jYXRpb24uTWVtb3J5U3RvcmFnZSAmJlxyXG4gICAgICAgICAgICAhdGhpcy5jb25maWcuY2FjaGUuc3RvcmVBdXRoU3RhdGVJbkNvb2tpZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBCcm93c2VyQ29uZmlndXJhdGlvbkF1dGhFcnJvci5jcmVhdGVJbk1lbW9yeVJlZGlyZWN0VW5hdmFpbGFibGVFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW50ZXJhY3Rpb25UeXBlID09PSBJbnRlcmFjdGlvblR5cGUuUmVkaXJlY3QgfHwgaW50ZXJhY3Rpb25UeXBlID09PSBJbnRlcmFjdGlvblR5cGUuUG9wdXApIHtcclxuICAgICAgICAgICAgdGhpcy5wcmVmbGlnaHRJbnRlcmFjdGl2ZVJlcXVlc3QoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgdG8gdmFsaWRhdGUgYXBwIGVudmlyb25tZW50IGJlZm9yZSBtYWtpbmcgYSByZXF1ZXN0LlxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSBpbnRlcmFjdGlvblR5cGVcclxuICAgICAqL1xyXG4gICAgQ2xpZW50QXBwbGljYXRpb24ucHJvdG90eXBlLnByZWZsaWdodEludGVyYWN0aXZlUmVxdWVzdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwicHJlZmxpZ2h0SW50ZXJhY3RpdmVSZXF1ZXN0IGNhbGxlZCwgdmFsaWRhdGluZyBhcHAgZW52aXJvbm1lbnRcIik7XHJcbiAgICAgICAgLy8gYmxvY2sgdGhlIHJlbG9hZCBpZiBpdCBvY2N1cnJlZCBpbnNpZGUgYSBoaWRkZW4gaWZyYW1lXHJcbiAgICAgICAgQnJvd3NlclV0aWxzLmJsb2NrUmVsb2FkSW5IaWRkZW5JZnJhbWVzKCk7XHJcbiAgICAgICAgLy8gU2V0IGludGVyYWN0aW9uIGluIHByb2dyZXNzIHRlbXBvcmFyeSBjYWNoZSBvciB0aHJvdyBpZiBhbHJlYWQgc2V0LlxyXG4gICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2Uuc2V0SW50ZXJhY3Rpb25JblByb2dyZXNzKHRydWUpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBldmVudCBjYWxsYmFja3MgdG8gYXJyYXlcclxuICAgICAqIEBwYXJhbSBjYWxsYmFja1xyXG4gICAgICovXHJcbiAgICBDbGllbnRBcHBsaWNhdGlvbi5wcm90b3R5cGUuYWRkRXZlbnRDYWxsYmFjayA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50SGFuZGxlci5hZGRFdmVudENhbGxiYWNrKGNhbGxiYWNrKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgY2FsbGJhY2sgd2l0aCBwcm92aWRlZCBpZCBmcm9tIGNhbGxiYWNrIGFycmF5XHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tJZFxyXG4gICAgICovXHJcbiAgICBDbGllbnRBcHBsaWNhdGlvbi5wcm90b3R5cGUucmVtb3ZlRXZlbnRDYWxsYmFjayA9IGZ1bmN0aW9uIChjYWxsYmFja0lkKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIucmVtb3ZlRXZlbnRDYWxsYmFjayhjYWxsYmFja0lkKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgZXZlbnQgbGlzdGVuZXIgdGhhdCBlbWl0cyBhbiBldmVudCB3aGVuIGEgdXNlciBhY2NvdW50IGlzIGFkZGVkIG9yIHJlbW92ZWQgZnJvbSBsb2NhbHN0b3JhZ2UgaW4gYSBkaWZmZXJlbnQgYnJvd3NlciB0YWIgb3Igd2luZG93XHJcbiAgICAgKi9cclxuICAgIENsaWVudEFwcGxpY2F0aW9uLnByb3RvdHlwZS5lbmFibGVBY2NvdW50U3RvcmFnZUV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbmFibGVBY2NvdW50U3RvcmFnZUV2ZW50cygpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBldmVudCBsaXN0ZW5lciB0aGF0IGVtaXRzIGFuIGV2ZW50IHdoZW4gYSB1c2VyIGFjY291bnQgaXMgYWRkZWQgb3IgcmVtb3ZlZCBmcm9tIGxvY2Fsc3RvcmFnZSBpbiBhIGRpZmZlcmVudCBicm93c2VyIHRhYiBvciB3aW5kb3dcclxuICAgICAqL1xyXG4gICAgQ2xpZW50QXBwbGljYXRpb24ucHJvdG90eXBlLmRpc2FibGVBY2NvdW50U3RvcmFnZUV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5kaXNhYmxlQWNjb3VudFN0b3JhZ2VFdmVudHMoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIHRva2VuIGNhY2hlIGZvciB0aGUgYXBwbGljYXRpb24uXHJcbiAgICAgKi9cclxuICAgIENsaWVudEFwcGxpY2F0aW9uLnByb3RvdHlwZS5nZXRUb2tlbkNhY2hlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRva2VuQ2FjaGU7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBsb2dnZXIgaW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgQ2xpZW50QXBwbGljYXRpb24ucHJvdG90eXBlLmdldExvZ2dlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sb2dnZXI7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXBsYWNlcyB0aGUgZGVmYXVsdCBsb2dnZXIgc2V0IGluIGNvbmZpZ3VyYXRpb25zIHdpdGggbmV3IExvZ2dlciB3aXRoIG5ldyBjb25maWd1cmF0aW9uc1xyXG4gICAgICogQHBhcmFtIGxvZ2dlciBMb2dnZXIgaW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgQ2xpZW50QXBwbGljYXRpb24ucHJvdG90eXBlLnNldExvZ2dlciA9IGZ1bmN0aW9uIChsb2dnZXIpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENhbGxlZCBieSB3cmFwcGVyIGxpYnJhcmllcyAoQW5ndWxhciAmIFJlYWN0KSB0byBzZXQgU0tVIGFuZCBWZXJzaW9uIHBhc3NlZCBkb3duIHRvIHRlbGVtZXRyeSwgbG9nZ2VyLCBldGMuXHJcbiAgICAgKiBAcGFyYW0gc2t1XHJcbiAgICAgKiBAcGFyYW0gdmVyc2lvblxyXG4gICAgICovXHJcbiAgICBDbGllbnRBcHBsaWNhdGlvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZVdyYXBwZXJMaWJyYXJ5ID0gZnVuY3Rpb24gKHNrdSwgdmVyc2lvbikge1xyXG4gICAgICAgIC8vIFZhbGlkYXRlIHRoZSBTS1UgcGFzc2VkIGluIGlzIG9uZSB3ZSBleHBlY3RcclxuICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLnNldFdyYXBwZXJNZXRhZGF0YShza3UsIHZlcnNpb24pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBuYXZpZ2F0aW9uIGNsaWVudFxyXG4gICAgICogQHBhcmFtIG5hdmlnYXRpb25DbGllbnRcclxuICAgICAqL1xyXG4gICAgQ2xpZW50QXBwbGljYXRpb24ucHJvdG90eXBlLnNldE5hdmlnYXRpb25DbGllbnQgPSBmdW5jdGlvbiAobmF2aWdhdGlvbkNsaWVudCkge1xyXG4gICAgICAgIHRoaXMubmF2aWdhdGlvbkNsaWVudCA9IG5hdmlnYXRpb25DbGllbnQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gICAgICovXHJcbiAgICBDbGllbnRBcHBsaWNhdGlvbi5wcm90b3R5cGUuZ2V0Q29uZmlndXJhdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25maWc7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENsaWVudEFwcGxpY2F0aW9uO1xyXG59KCkpO1xuXG5leHBvcnQgeyBDbGllbnRBcHBsaWNhdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2xpZW50QXBwbGljYXRpb24uanMubWFwXG4iLCIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2Mi4yMi4xIDIwMjItMDMtMDcgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IF9fZXh0ZW5kcywgX19hd2FpdGVyLCBfX2dlbmVyYXRvciwgX19hc3NpZ24gfSBmcm9tICcuLi9fdmlydHVhbC9fdHNsaWIuanMnO1xuaW1wb3J0IHsgU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudCB9IGZyb20gJy4vU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudC5qcyc7XG5pbXBvcnQgeyBTaWxlbnRGbG93Q2xpZW50IH0gZnJvbSAnQGF6dXJlL21zYWwtY29tbW9uJztcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gJy4uL2V2ZW50L0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgeyBJbnRlcmFjdGlvblR5cGUsIEFwaUlkIH0gZnJvbSAnLi4vdXRpbHMvQnJvd3NlckNvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBCcm93c2VyQXV0aEVycm9yLCBCcm93c2VyQXV0aEVycm9yTWVzc2FnZSB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3IuanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxudmFyIFNpbGVudENhY2hlQ2xpZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFNpbGVudENhY2hlQ2xpZW50LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU2lsZW50Q2FjaGVDbGllbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHVuZXhwaXJlZCB0b2tlbnMgZnJvbSB0aGUgY2FjaGUsIGlmIGF2YWlsYWJsZVxyXG4gICAgICogQHBhcmFtIHNpbGVudFJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgU2lsZW50Q2FjaGVDbGllbnQucHJvdG90eXBlLmFjcXVpcmVUb2tlbiA9IGZ1bmN0aW9uIChzaWxlbnRSZXF1ZXN0KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2VydmVyVGVsZW1ldHJ5TWFuYWdlciwgc2lsZW50QXV0aENsaWVudCwgY2FjaGVkVG9rZW4sIGVycm9yXzE7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIgPSB0aGlzLmluaXRpYWxpemVTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyKEFwaUlkLmFjcXVpcmVUb2tlblNpbGVudF9zaWxlbnRGbG93KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5jcmVhdGVTaWxlbnRGbG93Q2xpZW50KHNlcnZlclRlbGVtZXRyeU1hbmFnZXIsIHNpbGVudFJlcXVlc3QuYXV0aG9yaXR5LCBzaWxlbnRSZXF1ZXN0LmF6dXJlQ2xvdWRPcHRpb25zKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaWxlbnRBdXRoQ2xpZW50ID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiU2lsZW50IGF1dGggY2xpZW50IGNyZWF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMiwgNCwgLCA1XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHNpbGVudEF1dGhDbGllbnQuYWNxdWlyZUNhY2hlZFRva2VuKHNpbGVudFJlcXVlc3QpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlZFRva2VuID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkFDUVVJUkVfVE9LRU5fU1VDQ0VTUywgSW50ZXJhY3Rpb25UeXBlLlNpbGVudCwgY2FjaGVkVG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgY2FjaGVkVG9rZW5dO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfMSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yXzEgaW5zdGFuY2VvZiBCcm93c2VyQXV0aEVycm9yICYmIGVycm9yXzEuZXJyb3JDb2RlID09PSBCcm93c2VyQXV0aEVycm9yTWVzc2FnZS5zaWduaW5nS2V5Tm90Rm91bmRJblN0b3JhZ2UuY29kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlNpZ25pbmcga2V5cGFpciBmb3IgYm91bmQgYWNjZXNzIHRva2VuIG5vdCBmb3VuZC4gUmVmcmVzaGluZyBib3VuZCBhY2Nlc3MgdG9rZW4gYW5kIGdlbmVyYXRpbmcgYSBuZXcgY3J5cHRvIGtleXBhaXIuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yXzE7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3VycmVudGx5IFVuc3VwcG9ydGVkXHJcbiAgICAgKi9cclxuICAgIFNpbGVudENhY2hlQ2xpZW50LnByb3RvdHlwZS5sb2dvdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gU3luY2hyb25vdXMgc28gd2UgbXVzdCByZWplY3RcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoQnJvd3NlckF1dGhFcnJvci5jcmVhdGVTaWxlbnRMb2dvdXRVbnN1cHBvcnRlZEVycm9yKCkpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBTaWxlbnQgRmxvdyBDbGllbnQgd2l0aCB0aGUgZ2l2ZW4gYXV0aG9yaXR5LCBvciB0aGUgZGVmYXVsdCBhdXRob3JpdHkuXHJcbiAgICAgKiBAcGFyYW0gc2VydmVyVGVsZW1ldHJ5TWFuYWdlclxyXG4gICAgICogQHBhcmFtIGF1dGhvcml0eVVybFxyXG4gICAgICovXHJcbiAgICBTaWxlbnRDYWNoZUNsaWVudC5wcm90b3R5cGUuY3JlYXRlU2lsZW50Rmxvd0NsaWVudCA9IGZ1bmN0aW9uIChzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLCBhdXRob3JpdHlVcmwsIGF6dXJlQ2xvdWRPcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY2xpZW50Q29uZmlnO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmdldENsaWVudENvbmZpZ3VyYXRpb24oc2VydmVyVGVsZW1ldHJ5TWFuYWdlciwgYXV0aG9yaXR5VXJsLCBhenVyZUNsb3VkT3B0aW9ucyldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50Q29uZmlnID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgbmV3IFNpbGVudEZsb3dDbGllbnQoY2xpZW50Q29uZmlnKV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFNpbGVudENhY2hlQ2xpZW50LnByb3RvdHlwZS5pbml0aWFsaXplU2lsZW50UmVxdWVzdCA9IGZ1bmN0aW9uIChyZXF1ZXN0LCBhY2NvdW50KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gW19fYXNzaWduKHt9LCByZXF1ZXN0KV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuaW5pdGlhbGl6ZUJhc2VSZXF1ZXN0KHJlcXVlc3QpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBbMiAvKnJldHVybiovLCBfX2Fzc2lnbi5hcHBseSh2b2lkIDAsIFtfX2Fzc2lnbi5hcHBseSh2b2lkIDAsIF9hLmNvbmNhdChbX2Iuc2VudCgpXSkpLCB7IGFjY291bnQ6IGFjY291bnQsIGZvcmNlUmVmcmVzaDogcmVxdWVzdC5mb3JjZVJlZnJlc2ggfHwgZmFsc2UgfV0pXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFNpbGVudENhY2hlQ2xpZW50O1xyXG59KFN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnQpKTtcblxuZXhwb3J0IHsgU2lsZW50Q2FjaGVDbGllbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNpbGVudENhY2hlQ2xpZW50LmpzLm1hcFxuIiwiaW1wb3J0ICogYXMgbXNhbCBmcm9tIFwiQGF6dXJlL21zYWwtYnJvd3NlclwiO1xyXG5cclxuY29uc3QgbXNhbENvbmZpZyA9IHtcclxuICBhdXRoOiB7XHJcbiAgICBjbGllbnRJZDogXCJjZDAyM2EyMy00ZmZmLTQ4YjUtODRmYy02ZTQ1OGI4Mzk5MTVcIixcclxuICB9LFxyXG59O1xyXG5cclxuY29uc3QgbXNhbEluc3RhbmNlID0gbmV3IG1zYWwuUHVibGljQ2xpZW50QXBwbGljYXRpb24obXNhbENvbmZpZyk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtc2FsSW5zdGFuY2U7XHJcbiIsIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYyLjIyLjEgMjAyMi0wMy0wNyAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgX19leHRlbmRzLCBfX2F3YWl0ZXIsIF9fZ2VuZXJhdG9yIH0gZnJvbSAnLi4vX3ZpcnR1YWwvX3RzbGliLmpzJztcbmltcG9ydCB7IERFRkFVTFRfUkVRVUVTVCwgSW50ZXJhY3Rpb25UeXBlIH0gZnJvbSAnLi4vdXRpbHMvQnJvd3NlckNvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBDbGllbnRBcHBsaWNhdGlvbiB9IGZyb20gJy4vQ2xpZW50QXBwbGljYXRpb24uanMnO1xuaW1wb3J0IHsgRXZlbnRUeXBlIH0gZnJvbSAnLi4vZXZlbnQvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7IEJyb3dzZXJBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9Ccm93c2VyQXV0aEVycm9yLmpzJztcbmltcG9ydCB7IFNpbGVudENhY2hlQ2xpZW50IH0gZnJvbSAnLi4vaW50ZXJhY3Rpb25fY2xpZW50L1NpbGVudENhY2hlQ2xpZW50LmpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBUaGUgUHVibGljQ2xpZW50QXBwbGljYXRpb24gY2xhc3MgaXMgdGhlIG9iamVjdCBleHBvc2VkIGJ5IHRoZSBsaWJyYXJ5IHRvIHBlcmZvcm0gYXV0aGVudGljYXRpb24gYW5kIGF1dGhvcml6YXRpb24gZnVuY3Rpb25zIGluIFNpbmdsZSBQYWdlIEFwcGxpY2F0aW9uc1xyXG4gKiB0byBvYnRhaW4gSldUIHRva2VucyBhcyBkZXNjcmliZWQgaW4gdGhlIE9BdXRoIDIuMCBBdXRob3JpemF0aW9uIENvZGUgRmxvdyB3aXRoIFBLQ0Ugc3BlY2lmaWNhdGlvbi5cclxuICovXHJcbnZhciBQdWJsaWNDbGllbnRBcHBsaWNhdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhQdWJsaWNDbGllbnRBcHBsaWNhdGlvbiwgX3N1cGVyKTtcclxuICAgIC8qKlxyXG4gICAgICogQGNvbnN0cnVjdG9yXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgdGhlIFB1YmxpY0NsaWVudEFwcGxpY2F0aW9uIHVzZWQgdG8gaW5zdGFudGlhdGUgdGhlIFB1YmxpY0NsaWVudEFwcGxpY2F0aW9uIG9iamVjdFxyXG4gICAgICpcclxuICAgICAqIEltcG9ydGFudCBhdHRyaWJ1dGVzIGluIHRoZSBDb25maWd1cmF0aW9uIG9iamVjdCBmb3IgYXV0aCBhcmU6XHJcbiAgICAgKiAtIGNsaWVudElEOiB0aGUgYXBwbGljYXRpb24gSUQgb2YgeW91ciBhcHBsaWNhdGlvbi4gWW91IGNhbiBvYnRhaW4gb25lIGJ5IHJlZ2lzdGVyaW5nIHlvdXIgYXBwbGljYXRpb24gd2l0aCBvdXIgQXBwbGljYXRpb24gcmVnaXN0cmF0aW9uIHBvcnRhbCA6IGh0dHBzOi8vcG9ydGFsLmF6dXJlLmNvbS8jYmxhZGUvTWljcm9zb2Z0X0FBRF9JQU0vQWN0aXZlRGlyZWN0b3J5TWVudUJsYWRlL1JlZ2lzdGVyZWRBcHBzUHJldmlld1xyXG4gICAgICogLSBhdXRob3JpdHk6IHRoZSBhdXRob3JpdHkgVVJMIGZvciB5b3VyIGFwcGxpY2F0aW9uLlxyXG4gICAgICogLSByZWRpcmVjdF91cmk6IHRoZSB1cmkgb2YgeW91ciBhcHBsaWNhdGlvbiByZWdpc3RlcmVkIGluIHRoZSBwb3J0YWwuXHJcbiAgICAgKlxyXG4gICAgICogSW4gQXp1cmUgQUQsIGF1dGhvcml0eSBpcyBhIFVSTCBpbmRpY2F0aW5nIHRoZSBBenVyZSBhY3RpdmUgZGlyZWN0b3J5IHRoYXQgTVNBTCB1c2VzIHRvIG9idGFpbiB0b2tlbnMuXHJcbiAgICAgKiBJdCBpcyBvZiB0aGUgZm9ybSBodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20ve0VudGVyX3RoZV9UZW5hbnRfSW5mb19IZXJlfVxyXG4gICAgICogSWYgeW91ciBhcHBsaWNhdGlvbiBzdXBwb3J0cyBBY2NvdW50cyBpbiBvbmUgb3JnYW5pemF0aW9uYWwgZGlyZWN0b3J5LCByZXBsYWNlIFwiRW50ZXJfdGhlX1RlbmFudF9JbmZvX0hlcmVcIiB2YWx1ZSB3aXRoIHRoZSBUZW5hbnQgSWQgb3IgVGVuYW50IG5hbWUgKGZvciBleGFtcGxlLCBjb250b3NvLm1pY3Jvc29mdC5jb20pLlxyXG4gICAgICogSWYgeW91ciBhcHBsaWNhdGlvbiBzdXBwb3J0cyBBY2NvdW50cyBpbiBhbnkgb3JnYW5pemF0aW9uYWwgZGlyZWN0b3J5LCByZXBsYWNlIFwiRW50ZXJfdGhlX1RlbmFudF9JbmZvX0hlcmVcIiB2YWx1ZSB3aXRoIG9yZ2FuaXphdGlvbnMuXHJcbiAgICAgKiBJZiB5b3VyIGFwcGxpY2F0aW9uIHN1cHBvcnRzIEFjY291bnRzIGluIGFueSBvcmdhbml6YXRpb25hbCBkaXJlY3RvcnkgYW5kIHBlcnNvbmFsIE1pY3Jvc29mdCBhY2NvdW50cywgcmVwbGFjZSBcIkVudGVyX3RoZV9UZW5hbnRfSW5mb19IZXJlXCIgdmFsdWUgd2l0aCBjb21tb24uXHJcbiAgICAgKiBUbyByZXN0cmljdCBzdXBwb3J0IHRvIFBlcnNvbmFsIE1pY3Jvc29mdCBhY2NvdW50cyBvbmx5LCByZXBsYWNlIFwiRW50ZXJfdGhlX1RlbmFudF9JbmZvX0hlcmVcIiB2YWx1ZSB3aXRoIGNvbnN1bWVycy5cclxuICAgICAqXHJcbiAgICAgKiBJbiBBenVyZSBCMkMsIGF1dGhvcml0eSBpcyBvZiB0aGUgZm9ybSBodHRwczovL3tpbnN0YW5jZX0vdGZwL3t0ZW5hbnR9L3twb2xpY3lOYW1lfS9cclxuICAgICAqIEZ1bGwgQjJDIGZ1bmN0aW9uYWxpdHkgd2lsbCBiZSBhdmFpbGFibGUgaW4gdGhpcyBsaWJyYXJ5IGluIGZ1dHVyZSB2ZXJzaW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY29uZmlndXJhdGlvbiBvYmplY3QgZm9yIHRoZSBNU0FMIFB1YmxpY0NsaWVudEFwcGxpY2F0aW9uIGluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIFB1YmxpY0NsaWVudEFwcGxpY2F0aW9uKGNvbmZpZ3VyYXRpb24pIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWd1cmF0aW9uKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmFjdGl2ZVNpbGVudFRva2VuUmVxdWVzdHMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2Ugd2hlbiBpbml0aWF0aW5nIHRoZSBsb2dpbiBwcm9jZXNzIGJ5IHJlZGlyZWN0aW5nIHRoZSB1c2VyJ3MgYnJvd3NlciB0byB0aGUgYXV0aG9yaXphdGlvbiBlbmRwb2ludC4gVGhpcyBmdW5jdGlvbiByZWRpcmVjdHMgdGhlIHBhZ2UsIHNvXHJcbiAgICAgKiBhbnkgY29kZSB0aGF0IGZvbGxvd3MgdGhpcyBmdW5jdGlvbiB3aWxsIG5vdCBleGVjdXRlLlxyXG4gICAgICpcclxuICAgICAqIElNUE9SVEFOVDogSXQgaXMgTk9UIHJlY29tbWVuZGVkIHRvIGhhdmUgY29kZSB0aGF0IGlzIGRlcGVuZGVudCBvbiB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgUHJvbWlzZS4gVGhpcyBmdW5jdGlvbiB3aWxsIG5hdmlnYXRlIGF3YXkgZnJvbSB0aGUgY3VycmVudFxyXG4gICAgICogYnJvd3NlciB3aW5kb3cuIEl0IGN1cnJlbnRseSByZXR1cm5zIGEgUHJvbWlzZSBpbiBvcmRlciB0byByZWZsZWN0IHRoZSBhc3luY2hyb25vdXMgbmF0dXJlIG9mIHRoZSBjb2RlIHJ1bm5pbmcgaW4gdGhpcyBmdW5jdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBQdWJsaWNDbGllbnRBcHBsaWNhdGlvbi5wcm90b3R5cGUubG9naW5SZWRpcmVjdCA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwibG9naW5SZWRpcmVjdCBjYWxsZWRcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5hY3F1aXJlVG9rZW5SZWRpcmVjdChyZXF1ZXN0IHx8IERFRkFVTFRfUkVRVUVTVCldO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFVzZSB3aGVuIGluaXRpYXRpbmcgdGhlIGxvZ2luIHByb2Nlc3MgdmlhIG9wZW5pbmcgYSBwb3B1cCB3aW5kb3cgaW4gdGhlIHVzZXIncyBicm93c2VyXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiB0aGlzIGZ1bmN0aW9uIGhhcyBjb21wbGV0ZWQsIG9yIHJlamVjdGVkIGlmIGFuIGVycm9yIHdhcyByYWlzZWQuXHJcbiAgICAgKi9cclxuICAgIFB1YmxpY0NsaWVudEFwcGxpY2F0aW9uLnByb3RvdHlwZS5sb2dpblBvcHVwID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwibG9naW5Qb3B1cCBjYWxsZWRcIik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWNxdWlyZVRva2VuUG9wdXAocmVxdWVzdCB8fCBERUZBVUxUX1JFUVVFU1QpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2lsZW50bHkgYWNxdWlyZSBhbiBhY2Nlc3MgdG9rZW4gZm9yIGEgZ2l2ZW4gc2V0IG9mIHNjb3Blcy4gUmV0dXJucyBjdXJyZW50bHkgcHJvY2Vzc2luZyBwcm9taXNlIGlmIHBhcmFsbGVsIHJlcXVlc3RzIGFyZSBtYWRlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7QGxpbmsgKFNpbGVudFJlcXVlc3Q6dHlwZSl9XHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZS48QXV0aGVudGljYXRpb25SZXN1bHQ+fSAtIGEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIHRoaXMgZnVuY3Rpb24gaGFzIGNvbXBsZXRlZCwgb3IgcmVqZWN0ZWQgaWYgYW4gZXJyb3Igd2FzIHJhaXNlZC4gUmV0dXJucyB0aGUge0BsaW5rIEF1dGhSZXNwb25zZX0gb2JqZWN0XHJcbiAgICAgKi9cclxuICAgIFB1YmxpY0NsaWVudEFwcGxpY2F0aW9uLnByb3RvdHlwZS5hY3F1aXJlVG9rZW5TaWxlbnQgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGFjY291bnQsIHRodW1icHJpbnQsIHNpbGVudFJlcXVlc3RLZXksIGNhY2hlZFJlc3BvbnNlLCByZXNwb25zZTtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmVmbGlnaHRCcm93c2VyRW52aXJvbm1lbnRDaGVjayhJbnRlcmFjdGlvblR5cGUuU2lsZW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJhY3F1aXJlVG9rZW5TaWxlbnQgY2FsbGVkXCIsIHJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgICAgICBhY2NvdW50ID0gcmVxdWVzdC5hY2NvdW50IHx8IHRoaXMuZ2V0QWN0aXZlQWNjb3VudCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhY2NvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgQnJvd3NlckF1dGhFcnJvci5jcmVhdGVOb0FjY291bnRFcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGh1bWJwcmludCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjbGllbnRJZDogdGhpcy5jb25maWcuYXV0aC5jbGllbnRJZCxcclxuICAgICAgICAgICAgICAgICAgICBhdXRob3JpdHk6IHJlcXVlc3QuYXV0aG9yaXR5IHx8IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGVzOiByZXF1ZXN0LnNjb3BlcyxcclxuICAgICAgICAgICAgICAgICAgICBob21lQWNjb3VudElkZW50aWZpZXI6IGFjY291bnQuaG9tZUFjY291bnRJZCxcclxuICAgICAgICAgICAgICAgICAgICBjbGFpbXM6IHJlcXVlc3QuY2xhaW1zLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uU2NoZW1lOiByZXF1ZXN0LmF1dGhlbnRpY2F0aW9uU2NoZW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlUmVxdWVzdE1ldGhvZDogcmVxdWVzdC5yZXNvdXJjZVJlcXVlc3RNZXRob2QsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VSZXF1ZXN0VXJpOiByZXF1ZXN0LnJlc291cmNlUmVxdWVzdFVyaSxcclxuICAgICAgICAgICAgICAgICAgICBzaHJDbGFpbXM6IHJlcXVlc3Quc2hyQ2xhaW1zLFxyXG4gICAgICAgICAgICAgICAgICAgIHNzaEtpZDogcmVxdWVzdC5zc2hLaWRcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBzaWxlbnRSZXF1ZXN0S2V5ID0gSlNPTi5zdHJpbmdpZnkodGh1bWJwcmludCk7XHJcbiAgICAgICAgICAgICAgICBjYWNoZWRSZXNwb25zZSA9IHRoaXMuYWN0aXZlU2lsZW50VG9rZW5SZXF1ZXN0cy5nZXQoc2lsZW50UmVxdWVzdEtleSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhY2hlZFJlc3BvbnNlID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcImFjcXVpcmVUb2tlblNpbGVudCBjYWxsZWQgZm9yIHRoZSBmaXJzdCB0aW1lLCBzdG9yaW5nIGFjdGl2ZSByZXF1ZXN0XCIsIHJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSB0aGlzLmFjcXVpcmVUb2tlblNpbGVudEFzeW5jKHJlcXVlc3QsIGFjY291bnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWN0aXZlU2lsZW50VG9rZW5SZXF1ZXN0cy5kZWxldGUoc2lsZW50UmVxdWVzdEtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5hY3RpdmVTaWxlbnRUb2tlblJlcXVlc3RzLmRlbGV0ZShzaWxlbnRSZXF1ZXN0S2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVTaWxlbnRUb2tlblJlcXVlc3RzLnNldChzaWxlbnRSZXF1ZXN0S2V5LCByZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlc3BvbnNlXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJhY3F1aXJlVG9rZW5TaWxlbnQgaGFzIGJlZW4gY2FsbGVkIHByZXZpb3VzbHksIHJldHVybmluZyB0aGUgcmVzdWx0IGZyb20gdGhlIGZpcnN0IGNhbGxcIiwgcmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgY2FjaGVkUmVzcG9uc2VdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNpbGVudGx5IGFjcXVpcmUgYW4gYWNjZXNzIHRva2VuIGZvciBhIGdpdmVuIHNldCBvZiBzY29wZXMuIFdpbGwgdXNlIGNhY2hlZCB0b2tlbiBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSB3aWxsIGF0dGVtcHQgdG8gYWNxdWlyZSBhIG5ldyB0b2tlbiBmcm9tIHRoZSBuZXR3b3JrIHZpYSByZWZyZXNoIHRva2VuLlxyXG4gICAgICogQHBhcmFtIHtAbGluayAoU2lsZW50UmVxdWVzdDp0eXBlKX1cclxuICAgICAqIEBwYXJhbSB7QGxpbmsgKEFjY291bnRJbmZvOnR5cGUpfVxyXG4gICAgICogQHJldHVybnMge1Byb21pc2UuPEF1dGhlbnRpY2F0aW9uUmVzdWx0Pn0gLSBhIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiB0aGlzIGZ1bmN0aW9uIGhhcyBjb21wbGV0ZWQsIG9yIHJlamVjdGVkIGlmIGFuIGVycm9yIHdhcyByYWlzZWQuIFJldHVybnMgdGhlIHtAbGluayBBdXRoUmVzcG9uc2V9XHJcbiAgICAgKi9cclxuICAgIFB1YmxpY0NsaWVudEFwcGxpY2F0aW9uLnByb3RvdHlwZS5hY3F1aXJlVG9rZW5TaWxlbnRBc3luYyA9IGZ1bmN0aW9uIChyZXF1ZXN0LCBhY2NvdW50KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2lsZW50Q2FjaGVDbGllbnQsIHNpbGVudFJlcXVlc3Q7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpbGVudENhY2hlQ2xpZW50ID0gbmV3IFNpbGVudENhY2hlQ2xpZW50KHRoaXMuY29uZmlnLCB0aGlzLmJyb3dzZXJTdG9yYWdlLCB0aGlzLmJyb3dzZXJDcnlwdG8sIHRoaXMubG9nZ2VyLCB0aGlzLmV2ZW50SGFuZGxlciwgdGhpcy5uYXZpZ2F0aW9uQ2xpZW50LCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzaWxlbnRDYWNoZUNsaWVudC5pbml0aWFsaXplU2lsZW50UmVxdWVzdChyZXF1ZXN0LCBhY2NvdW50KV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaWxlbnRSZXF1ZXN0ID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkFDUVVJUkVfVE9LRU5fU1RBUlQsIEludGVyYWN0aW9uVHlwZS5TaWxlbnQsIHJlcXVlc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgc2lsZW50Q2FjaGVDbGllbnQuYWNxdWlyZVRva2VuKHNpbGVudFJlcXVlc3QpLmNhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG9rZW5SZW5ld2FsUmVzdWx0LCB0b2tlblJlbmV3YWxFcnJvcl8xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMCwgMiwgLCAzXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5hY3F1aXJlVG9rZW5CeVJlZnJlc2hUb2tlbihzaWxlbnRSZXF1ZXN0KV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5SZW5ld2FsUmVzdWx0ID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuQUNRVUlSRV9UT0tFTl9TVUNDRVNTLCBJbnRlcmFjdGlvblR5cGUuU2lsZW50LCB0b2tlblJlbmV3YWxSZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0b2tlblJlbmV3YWxSZXN1bHRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuUmVuZXdhbEVycm9yXzEgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5BQ1FVSVJFX1RPS0VOX0ZBSUxVUkUsIEludGVyYWN0aW9uVHlwZS5TaWxlbnQsIG51bGwsIHRva2VuUmVuZXdhbEVycm9yXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IHRva2VuUmVuZXdhbEVycm9yXzE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7IH0pXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFB1YmxpY0NsaWVudEFwcGxpY2F0aW9uO1xyXG59KENsaWVudEFwcGxpY2F0aW9uKSk7XG5cbmV4cG9ydCB7IFB1YmxpY0NsaWVudEFwcGxpY2F0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QdWJsaWNDbGllbnRBcHBsaWNhdGlvbi5qcy5tYXBcbiIsImltcG9ydCBtc2FsSW5zdGFuY2UgZnJvbSBcIi4vY29uZmlnL2F1dGhPYmplY3RcIjtcclxuXHJcbmNvbnN0IHJlcXVlc3QgPSB7XHJcbiAgc2NvcGVzOiBbXHJcbiAgICBcIm9wZW5pZFwiLFxyXG4gICAgXCJwcm9maWxlXCIsXHJcbiAgICBcImh0dHBzOi8vZWxlZ2FzdHNhbmRib3guY3JtNC5keW5hbWljcy5jb20vL3VzZXJfaW1wZXJzb25hdGlvblwiLFxyXG4gIF0sXHJcbn07XHJcblxyXG5jb25zdCBsb2dpbiA9IGFzeW5jICgpID0+IHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgbXNhbEluc3RhbmNlLmxvZ2luUG9wdXAoKTtcclxuICAgIHJldHVybiBhd2FpdCBhY3F1aXJlVG9rZW4oKTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIC8vIGhhbmRsZSBlcnJvclxyXG4gICAgY29uc29sZS5sb2coZXJyKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBhY3F1aXJlVG9rZW4gPSBhc3luYyAoKSA9PiB7XHJcbiAgbGV0IHRva2VuUmVzcG9uc2UgPSBudWxsO1xyXG4gIHRyeSB7XHJcbiAgICB0b2tlblJlc3BvbnNlID0gYXdhaXQgbXNhbEluc3RhbmNlLmFjcXVpcmVUb2tlblBvcHVwKHJlcXVlc3QpO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5sb2coZXJyKTtcclxuICB9IGZpbmFsbHkge1xyXG4gICAgcmV0dXJuIHRva2VuUmVzcG9uc2U7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IHsgbG9naW4gfTtcclxuIiwiaW1wb3J0IHdlYkFwaSBmcm9tIFwiLi93ZWJBcGkuanNcIjtcclxuaW1wb3J0IHV0aWxpdHkgZnJvbSBcIi4vdXRpbGl0eS5qc1wiO1xyXG5pbXBvcnQgbmF2aWdhdGlvbiBmcm9tIFwiLi9uYXZpZ2F0aW9uLmpzXCI7XHJcbi8vIGltcG9ydCBhdXRoVG9NaWNyb3NvZnQgZnJvbSBcIi4vdXRpbGl0eS9hdXRoXCI7XHJcbmltcG9ydCBnZXRBdHRyaWJ1dGVzIGZyb20gXCIuL3JldHJpZXZlQXR0cmlidXRlcy5qc1wiO1xyXG5pbXBvcnQgY291bnRSZWNvcmRzIGZyb20gXCIuL3JldHJpZXZlVG90YWxSZWNvcmRDb3VudC5qc1wiO1xyXG5pbXBvcnQgeyBsb2dpbiB9IGZyb20gXCIuL2F1dGguanNcIjtcclxuXHJcbmNvbnN0IHhybSA9IHtcclxuICBfbWFpbk9yZzogXCJodHRwczovL2VsZWdhc3RzYW5kYm94LmNybTQuZHluYW1pY3MuY29tXCIsXHJcbiAgQVVUSF9LRVk6IG51bGwsXHJcbiAgQXV0aFRvTWljcm9zb2Z0OiBhc3luYyAoKSA9PiB7XHJcbiAgICAvLyBUaGlzIGlzIGluIEJFVEEhXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBsb2dpblJlc3BvbnNlID0gYXdhaXQgbG9naW4oKTtcclxuICAgICAgaWYgKGxvZ2luUmVzcG9uc2UgIT09IG51bGwgfHwgbG9naW5SZXNwb25zZS5hY2Nlc3NUb2tlbikge1xyXG4gICAgICAgIHhybS5zZXRBdXRoKGxvZ2luUmVzcG9uc2UuYWNjZXNzVG9rZW4pO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICB9XHJcbiAgfSxcclxuICBBY3Rpb25Db2xsZWN0aW9uQmFzZTogKCkgPT4ge30sXHJcbiAgQWxlcnREaWFsb2dTdHJpbmdzOiAoKSA9PiB7fSxcclxuICBBcnJheUV4OiAoKSA9PiB7fSxcclxuICBBdHRyaWJ1dGVGb3JtYXQ6ICgpID0+IHt9LFxyXG4gIEF0dHJpYnV0ZVR5cGU6ICgpID0+IHt9LFxyXG4gIEJlZ2luU2VjdXJlU2Vzc2lvblJlc3BvbnNlQ29kZTogKCkgPT4ge30sXHJcbiAgQnVzaW5lc3NQcm9jZXNzRmxvd0luc3RhbmNlU3RhdGU6ICgpID0+IHt9LFxyXG4gIEJ1c2luZXNzUHJvY2Vzc0Zsb3dJbnN0YW5jZVN0YXR1czogKCkgPT4ge30sXHJcbiAgQnVzaW5lc3NSdWxlTm90aWZpY2F0aW9uQmFzZTogKCkgPT4ge30sXHJcbiAgQ2hhcnRQYW5lTW9kZTogKCkgPT4ge30sXHJcbiAgQ2xpZW50TmFtZTogKCkgPT4ge30sXHJcbiAgQ2xpZW50U3RhdGU6ICgpID0+IHt9LFxyXG4gIENsaWVudFN0YXRlczogKCkgPT4ge30sXHJcbiAgQ29sbGVjdGlvbjogKCkgPT4ge30sXHJcbiAgQ29tcG9uZW50TW9kZWw6ICgpID0+IHt9LFxyXG4gIENvbmZpcm1EaWFsb2dTdHJpbmdzOiAoKSA9PiB7fSxcclxuICBDb25zdGFudHM6ICgpID0+IHt9LFxyXG4gIENvbnRyb2xUeXBlOiAoKSA9PiB7fSxcclxuICBDb3VudFJlY29yZHM6IGNvdW50UmVjb3JkcyxcclxuICBEYXRhTG9hZEV2ZW50QXJnczogKCkgPT4ge30sXHJcbiAgRGF0YUxvYWRTdGF0ZTogKCkgPT4ge30sXHJcbiAgRGF0ZUZvcm1hdHRpbmdJbmZvOiAoKSA9PiB7fSxcclxuICBEZWxlZ2F0ZUl0dGVyYXRvcjogKCkgPT4ge30sXHJcbiAgRGVzY3JpcHRpb246ICgpID0+IHt9LFxyXG4gIERldmljZTogKCkgPT4ge30sXHJcbiAgRGlhZ25vc3RpY3M6ICgpID0+IHt9LFxyXG4gIERpYWxvZzogKCkgPT4ge30sXHJcbiAgRGlhbG9nT3B0aW9uczogKCkgPT4ge30sXHJcbiAgRW5jb2Rpbmc6ICgpID0+IHt9LFxyXG4gIEVudGl0eUZvcm1PcHRpb25zOiAoKSA9PiB7fSxcclxuICBFbnRpdHlMaXN0UGFnZUlucHV0OiAoKSA9PiB7fSxcclxuICBFbnRpdHlNZXRhZGF0YTogKCkgPT4ge30sXHJcbiAgRW50aXR5UmVsYXRpb25zaGlwUm9sZVR5cGU6ICgpID0+IHt9LFxyXG4gIEVudGl0eVJlbGF0aW9uc2hpcFR5cGU6ICgpID0+IHt9LFxyXG4gIEVycm9yRGlhbG9nT3B0aW9uczogKCkgPT4ge30sXHJcbiAgRXJyb3JSZXNwb25zZTogKCkgPT4ge30sXHJcbiAgRXhlY3V0aW9uQ29udGV4dDogKCkgPT4ge30sXHJcbiAgRmxhZzogKCkgPT4ge30sXHJcbiAgRm9ybURhdGFBdHRyaWJ1dGVQcml2aWxlZ2U6ICgpID0+IHt9LFxyXG4gIEZvcm1EYXRhQXR0cmlidXRlUHJpdmlsZWdlczogKCkgPT4ge30sXHJcbiAgRm9ybUZhY3RvcjogKCkgPT4ge30sXHJcbiAgRm9ybU5vdGlmaWNhdGlvbk9wdGlvbnM6ICgpID0+IHt9LFxyXG4gIEZvcm1TYXZlQWN0aW9uOiAoKSA9PiB7fSxcclxuICBGb3JtVHlwZTogKCkgPT4ge30sXHJcbiAgR2VuOiAoKSA9PiB7fSxcclxuICBHZXRBdHRyaWJ1dGVzOiBnZXRBdHRyaWJ1dGVzLFxyXG4gIEdyaWRUeXBlOiAoKSA9PiB7fSxcclxuICBJQnVzaW5lc3NSdWxlTm90aWZpY2F0aW9uUHJvdmlkZXI6ICgpID0+IHt9LFxyXG4gIElzTW9ja1hybTogKCkgPT4gdHJ1ZSxcclxuICBJWHJtQ29sbGVjdGlvbkl0ZW06ICgpID0+IHt9LFxyXG4gIEludGVyZmFjZXM6ICgpID0+IHt9LFxyXG4gIEludGVybmFsOiAoKSA9PiB7fSxcclxuICBKYXZhU2NyaXB0Q29uc29sZVRyYWNlTGlzdGVuZXI6ICgpID0+IHt9LFxyXG4gIEtCU2VhcmNoUmVzdWx0OiAoKSA9PiB7fSxcclxuICBMb2NhbGl6ZWRMYWJlbDogKCkgPT4ge30sXHJcbiAgTG9va3VwT2JqZWN0OiAoKSA9PiB7fSxcclxuICBMb29rdXBPcHRpb25zOiAoKSA9PiB7fSxcclxuICBMb29rdXBTdHlsZTogKCkgPT4ge30sXHJcbiAgTWV0cmljc1N0b3B3YXRjaDogKCkgPT4ge30sXHJcbiAgTW9iaWxlOiAoKSA9PiB7fSxcclxuICBOYXZpZ2F0aW9uOiBuYXZpZ2F0aW9uLFxyXG4gIE5vdGlmaWNhdGlvbkxldmVsOiAoKSA9PiB7fSxcclxuICBOdW1iZXJFeDogKCkgPT4ge30sXHJcbiAgT2JqZWN0czogKCkgPT4ge30sXHJcbiAgT2ZmbGluZTogKCkgPT4ge30sXHJcbiAgT2ZmbGluZUVycm9yUmVzcG9uc2U6ICgpID0+IHt9LFxyXG4gIE9wZW5GaWxlTW9kZTogKCkgPT4ge30sXHJcbiAgT3BlbkZvcm1TdWNjZXNzUmVzcG9uc2U6ICgpID0+IHt9LFxyXG4gIE9wdGlvblNldEl0ZW06ICgpID0+IHt9LFxyXG4gIE9yZ2FuaXphdGlvblNlcnZpY2VQcm94eUJyaWRnZTogKCkgPT4ge30sXHJcbiAgUGFnZTogKCkgPT4ge30sXHJcbiAgUGFnZUJyaWRnZTogKCkgPT4ge30sXHJcbiAgUGFnZUNvbnRleHRCcmlkZ2U6ICgpID0+IHt9LFxyXG4gIFBhZ2VFeDogKCkgPT4ge30sXHJcbiAgUGFnZUlucHV0OiAoKSA9PiB7fSxcclxuICBQYWdlVHlwZTogKCkgPT4ge30sXHJcbiAgUGFuZWw6ICgpID0+IHt9LFxyXG4gIFByb2Nlc3NBY3Rpb25TdWNjZXNzUmVzcG9uc2U6ICgpID0+IHt9LFxyXG4gIFByb2Nlc3NSZXNwb25zZTogKCkgPT4ge30sXHJcbiAgUHJvY2Vzc1N0YXRlOiAoKSA9PiB7fSxcclxuICBQcm9jZXNzU3RhdHVzOiAoKSA9PiB7fSxcclxuICBSZWxhdGlvbnNoaXBSZWZlcmVuY2U6ICgpID0+IHt9LFxyXG4gIFJlcXVpcmVkTGV2ZWw6ICgpID0+IHt9LFxyXG4gIFNhdmVFcnJvclJlc3BvbnNlOiAoKSA9PiB7fSxcclxuICBTYXZlRXZlbnRBcmdzOiAoKSA9PiB7fSxcclxuICBTYXZlTW9kZTogKCkgPT4ge30sXHJcbiAgU2F2ZU9wdGlvbnM6ICgpID0+IHt9LFxyXG4gIFNhdmVTdWNjZXNzUmVzcG9uc2U6ICgpID0+IHt9LFxyXG4gIFNjb3BlZFNlcnZpY2VEaXJlY3Rvcnk6ICgpID0+IHt9LFxyXG4gIFNkazogKCkgPT4ge30sXHJcbiAgU2VydmljZXM6ICgpID0+IHt9LFxyXG4gIFNvYXA6ICgpID0+IHt9LFxyXG4gIFN0ZXBQcm9ncmVzczogKCkgPT4ge30sXHJcbiAgU3RlcFR5cGU6ICgpID0+IHt9LFxyXG4gIFN0cmluZ0J1aWxkZXJUcmFjZUxpc3RlbmVyOiAoKSA9PiB7fSxcclxuICBTdHJpbmdFeDogKCkgPT4ge30sXHJcbiAgU3VibWl0TW9kZTogKCkgPT4ge30sXHJcbiAgVGFiRGlzcGxheVN0YXRlOiAoKSA9PiB7fSxcclxuICBUYWJJdGVtOiAoKSA9PiB7fSxcclxuICBUYWJTZWN0aW9uOiAoKSA9PiB7fSxcclxuICBUYXNrRmxvd09wdGlvbnM6ICgpID0+IHt9LFxyXG4gIFRhc2tJdGVycmF0b3I6ICgpID0+IHt9LFxyXG4gIFRyYWNpbmc6ICgpID0+IHt9LFxyXG4gIFVJOiAoKSA9PiB7fSxcclxuICBVdGlsaXR5OiB1dGlsaXR5LFxyXG4gIFdlYkFwaTogd2ViQXBpLFxyXG4gIFdpbmRvd09wdGlvbnM6ICgpID0+IHt9LFxyXG4gIFhybUJ1c2luZXNzUHJvY2Vzc0Zsb3c6ICgpID0+IHt9LFxyXG4gIFhybUNoYXJ0OiAoKSA9PiB7fSxcclxuICBYcm1Db2xsZWN0aW9uOiAoKSA9PiB7fSxcclxuICBYcm1Db2xsZWN0aW9uQmFzZTogKCkgPT4ge30sXHJcbiAgWHJtQ29sbGVjdGlvbkRpY3Rpb25hcnk6ICgpID0+IHt9LFxyXG4gIFhybUNvbnRyb2w6ICgpID0+IHt9LFxyXG4gIFhybUNvbnRyb2xBQ0k6ICgpID0+IHt9LFxyXG4gIFhybUNvbnRyb2xBdXRvTG9va3VwOiAoKSA9PiB7fSxcclxuICBYcm1Db250cm9sQmFzZTogKCkgPT4ge30sXHJcbiAgWHJtQ29udHJvbEJ1dHRvbjogKCkgPT4ge30sXHJcbiAgWHJtQ29udHJvbERhdGVUaW1lOiAoKSA9PiB7fSxcclxuICBYcm1Db250cm9sRW1haWxFbmdhZ2VtZW50QWN0aW9uc0NvbnRyb2w6ICgpID0+IHt9LFxyXG4gIFhybUNvbnRyb2xFbWFpbFJlY2lwaWVudEFjdGl2aXR5OiAoKSA9PiB7fSxcclxuICBYcm1Db250cm9sRm9ybVNlbGVjdG9yOiAoKSA9PiB7fSxcclxuICBYcm1Db250cm9sR3JpZDogKCkgPT4ge30sXHJcbiAgWHJtQ29udHJvbElGcmFtZTogKCkgPT4ge30sXHJcbiAgWHJtQ29udHJvbExvb2t1cDogKCkgPT4ge30sXHJcbiAgWHJtQ29udHJvbE9wdGlvblNldDogKCkgPT4ge30sXHJcbiAgWHJtQ29udHJvbFF1aWNrRm9ybTogKCkgPT4ge30sXHJcbiAgWHJtQ29udHJvbFJvdXRlZEdyaWQ6ICgpID0+IHt9LFxyXG4gIFhybUNvbnRyb2xTZWFyY2hXaWRnZXQ6ICgpID0+IHt9LFxyXG4gIFhybUNvbnRyb2xTaWx2ZXJsaWdodDogKCkgPT4ge30sXHJcbiAgWHJtQ29udHJvbFN1YkdyaWQ6ICgpID0+IHt9LFxyXG4gIFhybUNvbnRyb2xUZXh0OiAoKSA9PiB7fSxcclxuICBYcm1Db250cm9sVGltZXI6ICgpID0+IHt9LFxyXG4gIFhybUNvbnRyb2xXZWJSZXNvdXJjZTogKCkgPT4ge30sXHJcbiAgWHJtQ29udHJvbHM6ICgpID0+IHt9LFxyXG4gIFhybURhdGFDb250cm9sOiAoKSA9PiB7fSxcclxuICBYcm1EaWFsb2c6ICgpID0+IHt9LFxyXG4gIFhybUVuY29kaW5nOiAoKSA9PiB7fSxcclxuICBYcm1FbnRpdGllczogKCkgPT4ge30sXHJcbiAgWHJtRW50aXR5OiAoKSA9PiB7fSxcclxuICBYcm1FbnRpdHlBdHRyaWJ1dGU6ICgpID0+IHt9LFxyXG4gIFhybUVudGl0eUF0dHJpYnV0ZUJvb2xlYW46ICgpID0+IHt9LFxyXG4gIFhybUVudGl0eUF0dHJpYnV0ZURhdGVUaW1lOiAoKSA9PiB7fSxcclxuICBYcm1FbnRpdHlBdHRyaWJ1dGVMb29rdXA6ICgpID0+IHt9LFxyXG4gIFhybUVudGl0eUF0dHJpYnV0ZU51bWJlcjogKCkgPT4ge30sXHJcbiAgWHJtRW50aXR5QXR0cmlidXRlT3B0aW9uU2V0OiAoKSA9PiB7fSxcclxuICBYcm1FbnRpdHlBdHRyaWJ1dGVPcHRpb25TZXRCYXNlOiAoKSA9PiB7fSxcclxuICBYcm1FbnRpdHlBdHRyaWJ1dGVTdHJpbmc6ICgpID0+IHt9LFxyXG4gIFhybUVudGl0eUF0dHJpYnV0ZXM6ICgpID0+IHt9LFxyXG4gIFhybUVudGl0eVJlbGF0aW9uc2hpcDogKCkgPT4ge30sXHJcbiAgWHJtRmlsZTogKCkgPT4ge30sXHJcbiAgWHJtRm9ybTogKCkgPT4ge30sXHJcbiAgWHJtRm9ybURhdGE6ICgpID0+IHt9LFxyXG4gIFhybUZvcm1TZWxlY3Rvckl0ZW06ICgpID0+IHt9LFxyXG4gIFhybUZvcm1TZWxlY3Rvckl0ZW1zOiAoKSA9PiB7fSxcclxuICBYcm1Gb3JtVUk6ICgpID0+IHt9LFxyXG4gIFhybUdsb2JhbENvbnRleHQ6ICgpID0+IHt9LFxyXG4gIFhybUdyaWREYXRhOiAoKSA9PiB7fSxcclxuICBYcm1HcmlkRmlsdGVyOiAoKSA9PiB7fSxcclxuICBYcm1HcmlkUm93OiAoKSA9PiB7fSxcclxuICBYcm1HcmlkUm93czogKCkgPT4ge30sXHJcbiAgWHJtSW50ZXJuYWw6ICgpID0+IHt9LFxyXG4gIFhybU5hdmlnYXRpb246ICgpID0+IHt9LFxyXG4gIFhybU5hdmlnYXRpb25JdGVtOiAoKSA9PiB7fSxcclxuICBYcm1OYXZpZ2F0aW9uSXRlbXM6ICgpID0+IHt9LFxyXG4gIFhybU5hdmlnYXRpb25zOiAoKSA9PiB7fSxcclxuICBYcm1PZmZsaW5lOiAoKSA9PiB7fSxcclxuICBYcm1PcGVuRmlsZU9wdGlvbjogKCkgPT4ge30sXHJcbiAgWHJtT3JnYW5pemF0aW9uU2V0dGluZ3M6ICgpID0+IHt9LFxyXG4gIFhybVBhZ2VDb250ZXh0Q2xpZW50OiAoKSA9PiB7fSxcclxuICBYcm1QYW5lbDogKCkgPT4ge30sXHJcbiAgWHJtUGVyZm9ybWFuY2U6ICgpID0+IHt9LFxyXG4gIFhybVByb2Nlc3NDb250cm9sRGF0YTogKCkgPT4ge30sXHJcbiAgWHJtUHJvY2Vzc0NvbnRyb2xVSTogKCkgPT4ge30sXHJcbiAgWHJtUHJvY2Vzc1N0YWdlOiAoKSA9PiB7fSxcclxuICBYcm1Qcm9jZXNzU3RlcDogKCkgPT4ge30sXHJcbiAgWHJtUXVpY2tGb3JtczogKCkgPT4ge30sXHJcbiAgWHJtUmVsYXRlZEVudGl0aWVzOiAoKSA9PiB7fSxcclxuICBYcm1TZGtNZXNzYWdlczogKCkgPT4ge30sXHJcbiAgWHJtU2VydmljZURpcmVjdG9yeTogKCkgPT4ge30sXHJcbiAgWHJtVGFiOiAoKSA9PiB7fSxcclxuICBYcm1UYWJOYXZpZ2F0b3I6ICgpID0+IHt9LFxyXG4gIFhybVRhYk5hdmlnYXRvckdyb3VwOiAoKSA9PiB7fSxcclxuICBYcm1UYWJOYXZpZ2F0b3JzOiAoKSA9PiB7fSxcclxuICBYcm1UYWJTZWN0aW9uOiAoKSA9PiB7fSxcclxuICBYcm1UYWJTZWN0aW9uczogKCkgPT4ge30sXHJcbiAgWHJtVGFiczogKCkgPT4ge30sXHJcbiAgWHJtVGFza1Byb2Nlc3M6ICgpID0+IHt9LFxyXG4gIFhybVRyYWNlOiAoKSA9PiB7fSxcclxuICBYcm1Vc2VyU2V0dGluZ3M6ICgpID0+IHt9LFxyXG4gIFhybVV0aWxpdHk6ICgpID0+IHt9LFxyXG4gIFhybVZpZXdTZWxlY3RvcjogKCkgPT4ge30sXHJcbiAgZ2V0TmFtZTogKCkgPT4gXCJYcm1cIixcclxuICBzZXRBdXRoOiBmdW5jdGlvbiAoYXV0aCkge1xyXG4gICAgZ2xvYmFsVGhpcy5BVVRIX0tFWSA9IGF1dGg7XHJcbiAgfSxcclxuICBnZXRBdXRoOiAoKSA9PiBnbG9iYWxUaGlzLkFVVEhfS0VZLFxyXG4gIGdldE9yZzogKCkgPT4gZ2xvYmFsVGhpcy5fbWFpbk9yZyxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHhybTtcclxuIiwiaW1wb3J0IHhybSBmcm9tIFwiLi4veHJtXCI7XHJcbmltcG9ydCB7IFdFQkFQSSB9IGZyb20gXCIuLi9jb25zdHNcIjtcclxuaW1wb3J0IGlzT25QcmVtaXNlcyBmcm9tIFwiLi9pc09uUHJlbWlzZXNcIjtcclxuaW1wb3J0IG9yZ1VuaXF1ZU5hbWUgZnJvbSBcIi4vb3JnVW5pcXVlTmFtZVwiO1xyXG5cclxuY29uc3QgZXhlY3V0ZUZldGNoID0gKG1ldGhvZCkgPT4gKGRhdGEpID0+IChhY3Rpb24pID0+IGFzeW5jIChoZWFkZXJzKSA9PiB7XHJcbiAgbGV0IG9yZ05hbWUgPSBcIlwiO1xyXG4gIGxldCBkYXRhRm9ybWF0ID0gZGF0YSAmJiBKU09OLnN0cmluZ2lmeShkYXRhKTtcclxuXHJcbiAgaWYgKGlzT25QcmVtaXNlcygpKSB7XHJcbiAgICBvcmdOYW1lID0gYXdhaXQgb3JnVW5pcXVlTmFtZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gQWxsb3cgdGVzdGluZyBpbiBsb2NhbGhvc3RcclxuICBpZiAoeHJtLmdldEF1dGgoKSkge1xyXG4gICAgaWYgKCFoZWFkZXJzKSB7XHJcbiAgICAgIGhlYWRlcnMgPSB7fTtcclxuICAgIH1cclxuICAgIGhlYWRlcnNbXCJBdXRob3JpemF0aW9uXCJdID0gXCJCZWFyZXIgXCIgKyB4cm0uZ2V0QXV0aCgpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGFjdGlvbiA9PT0gXCIkYmF0Y2hcIikge1xyXG4gICAgZGF0YUZvcm1hdCA9IGRhdGE7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZmV0Y2goYCR7b3JnTmFtZSA/IFwiL1wiICsgb3JnTmFtZSA6IG9yZ05hbWV9JHtXRUJBUEl9LyR7YWN0aW9ufWAsIHtcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgLi4uaGVhZGVycyxcclxuICAgIH0sXHJcbiAgICBtZXRob2Q6IG1ldGhvZCxcclxuICAgIGJvZHk6IGRhdGFGb3JtYXQsXHJcbiAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBleGVjdXRlRmV0Y2g7XHJcbiIsImltcG9ydCB7IEdFVCB9IGZyb20gJy4uL2NvbnN0cyc7XHJcbmltcG9ydCBleGVjdXRlRmV0Y2ggZnJvbSAnLi9leGVjdXRlRmV0Y2gnO1xyXG5cclxuY29uc3QgZXhlY3V0ZUdldCA9IGV4ZWN1dGVGZXRjaChHRVQpKCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBleGVjdXRlR2V0OyIsImltcG9ydCBleGVjdXRlR2V0IGZyb20gXCIuL3V0aWxpdHkvZXhlY3V0ZUdldFwiO1xyXG5pbXBvcnQgcmV0cmlldmVNZXRhZGF0YVdyYXBwZXJNZW1vIGZyb20gJy4vcmV0cmlldmVNZXRhZGF0YVdyYXBwZXJNZW1vJztcclxuXHJcbmNvbnN0IHJldHJpZXZlID0gYXN5bmMgKGVudGl0eUxvZ2ljYWxOYW1lLCBpZCwgb3B0aW9ucyA9ICcnKSA9PiB7XHJcbiAgICBsZXQgbWV0YSA9IGF3YWl0IHJldHJpZXZlTWV0YWRhdGFXcmFwcGVyTWVtbyhlbnRpdHlMb2dpY2FsTmFtZSk7XHJcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZUdldChgJHttZXRhLkVudGl0eU1ldGFkYXRhLkxvZ2ljYWxDb2xsZWN0aW9uTmFtZX0oJHtpZH0pJHtvcHRpb25zID8gb3B0aW9ucyA6ICcnfWApKCk7XHJcbiAgICByZXR1cm4gcmVzdWx0Lmpzb24oKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcmV0cmlldmU7IiwiaW1wb3J0IHsgUE9TVCB9IGZyb20gJy4uL2NvbnN0cyc7XHJcbmltcG9ydCBleGVjdXRlRmV0Y2ggZnJvbSAnLi9leGVjdXRlRmV0Y2gnO1xyXG5cclxuY29uc3QgZXhlY3V0ZVBvc3QgPSBleGVjdXRlRmV0Y2goUE9TVCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBleGVjdXRlUG9zdDsiLCJpbXBvcnQgeyBQQVRDSCB9IGZyb20gJy4uL2NvbnN0cyc7XHJcbmltcG9ydCBleGVjdXRlRmV0Y2ggZnJvbSAnLi9leGVjdXRlRmV0Y2gnO1xyXG5cclxuY29uc3QgZXhlY3V0ZVBhdGNoID0gZXhlY3V0ZUZldGNoKFBBVENIKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGV4ZWN1dGVQYXRjaDsiLCJpbXBvcnQgeyBERUxFVEUgfSBmcm9tICcuLi9jb25zdHMnO1xyXG5pbXBvcnQgZXhlY3V0ZUZldGNoIGZyb20gJy4vZXhlY3V0ZUZldGNoJztcclxuXHJcbmNvbnN0IGV4ZWN1dGVEZWxldGUgPSBleGVjdXRlRmV0Y2goREVMRVRFKSgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZXhlY3V0ZURlbGV0ZTsiLCJpbXBvcnQgcmV0cmlldmUgZnJvbSBcIi4vcmV0cmlldmUuanNcIjtcclxuaW1wb3J0IGNyZWF0ZSBmcm9tIFwiLi9jcmVhdGUuanNcIjtcclxuaW1wb3J0IHVwZGF0ZSBmcm9tIFwiLi91cGRhdGUuanNcIjtcclxuaW1wb3J0IGRlbCBmcm9tIFwiLi9kZWxldGUuanNcIjtcclxuaW1wb3J0IHJldHJpZXZlTXVsdGlwbGVXcmFwcGVyIGZyb20gXCIuL3JldHJpZXZlTXVsdGlwbGVXcmFwcGVyLmpzXCI7XHJcbmltcG9ydCBleGVjdXRlTXVsdGlwbGUgZnJvbSBcIi4vZXhlY3V0ZU11bHRpcGxlLmpzXCI7XHJcbmltcG9ydCBvbmxpbmUgZnJvbSBcIi4vb25saW5lLmpzXCI7XHJcblxyXG5jb25zdCB3ZWJBcGkgPSB7XHJcbiAgY3JlYXRlUmVjb3JkOiBjcmVhdGUsXHJcbiAgZGVsZXRlUmVjb3JkOiBkZWwsXHJcbiAgdXBkYXRlUmVjb3JkOiB1cGRhdGUsXHJcbiAgcmV0cmlldmVSZWNvcmQ6IHJldHJpZXZlLFxyXG4gIHJldHJpZXZlTXVsdGlwbGVSZWNvcmRzOiByZXRyaWV2ZU11bHRpcGxlV3JhcHBlcixcclxuICBleGVjdXRlTXVsdGlwbGU6IGV4ZWN1dGVNdWx0aXBsZSxcclxuICBvbmxpbmU6IG9ubGluZSxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHdlYkFwaTtcclxuIiwiaW1wb3J0IGV4ZWN1dGVQb3N0IGZyb20gXCIuL3V0aWxpdHkvZXhlY3V0ZVBvc3RcIjtcclxuaW1wb3J0IHJldHJpZXZlTWV0YWRhdGFNZW1vIGZyb20gJy4vcmV0cmlldmVNZXRhZGF0YVdyYXBwZXJNZW1vJztcclxuXHJcbmNvbnN0IGNyZWF0ZSA9IGFzeW5jIChlbnRpdHlMb2dpY2FsTmFtZSwgZGF0YSkgPT4ge1xyXG4gICAgbGV0IG1ldGEgPSBhd2FpdCByZXRyaWV2ZU1ldGFkYXRhTWVtbyhlbnRpdHlMb2dpY2FsTmFtZSk7XHJcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZVBvc3QoZGF0YSkoYC8ke21ldGEuRW50aXR5TWV0YWRhdGEuTG9naWNhbENvbGxlY3Rpb25OYW1lfWApKHsnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLCAnUHJlZmVyJzogJ3JldHVybj1yZXByZXNlbnRhdGlvbicgIH0pO1xyXG4gICAgbGV0IGpzb24gPSBhd2FpdCByZXN1bHQuanNvbigpO1xyXG5cclxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe2VudGl0eVR5cGU6ZW50aXR5TG9naWNhbE5hbWUsIGlkOiBqc29uW21ldGEuRW50aXR5TWV0YWRhdGEuUHJpbWFyeUlkQXR0cmlidXRlXX0pO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjcmVhdGU7IiwiaW1wb3J0IGV4ZWN1dGVEZWxldGUgZnJvbSBcIi4vdXRpbGl0eS9leGVjdXRlRGVsZXRlXCI7XHJcbmltcG9ydCByZXRyaWV2ZU1ldGFkYXRhTWVtbyBmcm9tICcuL3JldHJpZXZlTWV0YWRhdGFXcmFwcGVyTWVtbyc7XHJcblxyXG5jb25zdCBkZWwgPSBhc3luYyAoZW50aXR5TG9naWNhbE5hbWUsIGlkKSA9PiB7XHJcbiAgICBsZXQgbWV0YSA9IGF3YWl0IHJldHJpZXZlTWV0YWRhdGFNZW1vKGVudGl0eUxvZ2ljYWxOYW1lKTtcclxuICAgIGxldCByZXN1bHQgPSBhd2FpdCBleGVjdXRlRGVsZXRlKGAvJHttZXRhLkVudGl0eU1ldGFkYXRhLkxvZ2ljYWxDb2xsZWN0aW9uTmFtZX0oJHtpZH0pYCkoKTtcclxuXHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtlbnRpdHlUeXBlOiBlbnRpdHlMb2dpY2FsTmFtZSwgaWQ6IGlkfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGRlbDsiLCJpbXBvcnQgZXhlY3V0ZVBhdGNoIGZyb20gXCIuL3V0aWxpdHkvZXhlY3V0ZVBhdGNoXCI7XHJcbmltcG9ydCByZXRyaWV2ZU1ldGFkYXRhTWVtbyBmcm9tICcuL3JldHJpZXZlTWV0YWRhdGFXcmFwcGVyTWVtbyc7XHJcblxyXG5jb25zdCB1cGRhdGUgPSBhc3luYyAoZW50aXR5TG9naWNhbE5hbWUsIGlkLCBkYXRhKSA9PiB7XHJcbiAgICBsZXQgbWV0YSA9IGF3YWl0IHJldHJpZXZlTWV0YWRhdGFNZW1vKGVudGl0eUxvZ2ljYWxOYW1lKTtcclxuICAgIGF3YWl0IGV4ZWN1dGVQYXRjaChkYXRhKShgLyR7bWV0YS5FbnRpdHlNZXRhZGF0YS5Mb2dpY2FsQ29sbGVjdGlvbk5hbWV9KCR7aWR9KWApKHsgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9KTtcclxuXHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtlbnRpdHlUeXBlOiBlbnRpdHlMb2dpY2FsTmFtZSwgaWQ6IGlkfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHVwZGF0ZTsiLCJpbXBvcnQgcmV0cmlldmVNdWx0aXBsZSBmcm9tIFwiLi9yZXRyaWV2ZU11bHRpcGxlXCI7XHJcbmltcG9ydCByZXRyaWV2ZU1ldGFkYXRhV3JhcHBlck1lbW8gZnJvbSBcIi4vcmV0cmlldmVNZXRhZGF0YVdyYXBwZXJNZW1vXCI7XHJcbmltcG9ydCBjb21wb3NlUHJvbWlzZXMgZnJvbSBcIi4vdXRpbGl0eS9jb21wb3NlUHJvbWlzZXNcIjtcclxuaW1wb3J0IGpzb25SZXN1bHQgZnJvbSBcIi4vdXRpbGl0eS9qc29uUmVzdWx0XCI7XHJcblxyXG5jb25zdCByZXRyaWV2ZU11bHRpcGxlV3JhcHBlciA9IChcclxuICBlbnRpdHlMb2dpY2FsTmFtZSxcclxuICBvcHRpb25zID0gXCJcIixcclxuICBtYXhwYWdlc2l6ZSA9IFwiXCJcclxuKSA9PlxyXG4gIGNvbXBvc2VQcm9taXNlcyhcclxuICAgIGpzb25SZXN1bHQsXHJcbiAgICByZXRyaWV2ZU11bHRpcGxlKG9wdGlvbnMsIG1heHBhZ2VzaXplKSxcclxuICAgIHJldHJpZXZlTWV0YWRhdGFXcmFwcGVyTWVtb1xyXG4gICkoZW50aXR5TG9naWNhbE5hbWUpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcmV0cmlldmVNdWx0aXBsZVdyYXBwZXI7XHJcbiIsImltcG9ydCBleGVjdXRlR2V0IGZyb20gXCIuL3V0aWxpdHkvZXhlY3V0ZUdldFwiO1xyXG5pbXBvcnQgY29sbGVjdGlvbk5hbWVHZW5lcmF0b3IgZnJvbSBcIi4vdXRpbGl0eS9jb2xsZWN0aW9uTmFtZUdlbmVyYXRvclwiO1xyXG4vL0xvZ2ljYWxDb2xsZWN0aW9uTmFtZVxyXG5jb25zdCByZXRyaWV2ZU11bHRpcGxlID0gKG9wdGlvbnMgPSAnJywgbWF4cGFnZXNpemUgPSAnJykgPT4gYXN5bmMgKHtFbnRpdHlNZXRhZGF0YX0pID0+IGV4ZWN1dGVHZXQoYCR7Y29sbGVjdGlvbk5hbWVHZW5lcmF0b3IoRW50aXR5TWV0YWRhdGEuTG9naWNhbE5hbWUpfSR7b3B0aW9ucyA/IG9wdGlvbnMgOiAnJ31gKShtYXhwYWdlc2l6ZSA/IHsgcHJlZmVyOiBgb2RhdGEuaW5jbHVkZS1hbm5vdGF0aW9ucz1cIipcIixvZGF0YS5tYXhwYWdlc2l6ZT0ke21heHBhZ2VzaXplfWAgfSA6IHt9KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJldHJpZXZlTXVsdGlwbGU7IiwiY29uc3QgY29sbGVjdGlvbk5hbWVHZW5lcmF0b3IgPSBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICBpZihuYW1lKXtcclxuICAgIGxldCBsYXN0TGV0dGVyID0gbmFtZS5jaGFyQXQobmFtZS5sZW5ndGgtMSk7XHJcbiAgICBsZXQgbXVsdGlwbGllciA9IFwic1wiO1xyXG5cclxuICAgIGlmKGxhc3RMZXR0ZXIgPT09IFwic1wiKXtcclxuICAgICAgICBtdWx0aXBsaWVyID0gXCJlc1wiO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgaWYobmFtZSA9PT0gXCJzYXZlZHF1ZXJ5XCIpe1xyXG4gICAgICAgIG5hbWUgPSBcInNhdmVkcXVlcmllXCI7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBuYW1lK211bHRpcGxpZXI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmFtZTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbGxlY3Rpb25OYW1lR2VuZXJhdG9yOyIsImltcG9ydCBleGVjdXRlUG9zdCBmcm9tIFwiLi91dGlsaXR5L2V4ZWN1dGVQb3N0XCI7XHJcbmltcG9ydCBwcmVwYXJlQmF0Y2hSZXF1ZXN0IGZyb20gXCIuL3V0aWxpdHkvcHJlcGFyZUJhdGNoUmVxdWVzdFwiO1xyXG5cclxuY29uc3QgZXhlY3V0ZU11bHRpcGxlID0gYXN5bmMgKGRhdGEpID0+IHtcclxuICAgIGNvbnN0IHVuaXF1ZUlkID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgbGV0IHByZXBhcmVkRGF0YSA9IGF3YWl0IHByZXBhcmVCYXRjaFJlcXVlc3QodW5pcXVlSWQsZGF0YSk7XHJcblxyXG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgZXhlY3V0ZVBvc3QocHJlcGFyZWREYXRhKSgnJGJhdGNoJykoeydBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsICdjb250ZW50LXR5cGUnOiAnbXVsdGlwYXJ0L21peGVkO2JvdW5kYXJ5PWJhdGNoXycrdW5pcXVlSWQgfSk7XHJcblxyXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXNwb25zZSk7XHJcblxyXG4gICAgfWNhdGNoKGVycm9yKXtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBleGVjdXRlTXVsdGlwbGU7IiwiaW1wb3J0IHsgV0VCQVBJIH0gZnJvbSBcIi4uL2NvbnN0c1wiO1xyXG5cclxuLyoqXHJcbiAqIFNldHVwIHBheWxvYWQgZm9yIGJhdGNoIHJlcXVlc3RcclxuICogQHBhcmFtIHtzdHJpbmd9IGJhdGNoSWQgXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIFxyXG4gKiBAcmV0dXJucyBzdHJpbmdcclxuICovXHJcbmNvbnN0IHByZXBhcmVCYXRjaFJlcXVlc3QgPSBhc3luYyhiYXRjaElkLGRhdGEpID0+IHtcclxuICAgIGxldCBwYXlsb2FkID0gW107XHJcblxyXG4gICAgZGF0YS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBFbGVtZW50IHNob3VsZCBiZSBzdHJ1Y3R1cmVkIGFzIGZvbGxvd2VkOlxyXG4gICAgICAgICAqIHtcclxuICAgICAgICAgKiBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgKiBlbnRpdHk6ICd0YXNrcycsXHJcbiAgICAgICAgICogZGF0YToge25hbWU6ICd0ZXN0J31cclxuICAgICAgICAgKiB9XHJcbiAgICAgICAgICovXHJcblxyXG4gICAgICAgIGxldCB1cmxQYXJhbWV0ZXIgPSBcIlwiO1xyXG5cclxuICAgICAgICAvLyBIZWFkZXJzXHJcbiAgICAgICAgcGF5bG9hZC5wdXNoKCctLWJhdGNoXycrYmF0Y2hJZCk7XHJcbiAgICAgICAgcGF5bG9hZC5wdXNoKCdDb250ZW50LXR5cGU6IGFwcGxpY2F0aW9uL2h0dHAnKVxyXG4gICAgICAgIHBheWxvYWQucHVzaCgnQ29udGVudC1UcmFuc2Zlci1FbmNvZGluZzpiaW5hcnknKTtcclxuXHJcbiAgICAgICAgLy8gV2hlbiBpZCBpcyBzZXQsIGFkZCBpZCB0byB1cmwgcGFyYW1cclxuICAgICAgICBpZihlbGVtZW50LmlkKXtcclxuICAgICAgICAgICAgdXJsUGFyYW1ldGVyID0gXCIoXCIrZWxlbWVudC5pZCtcIilcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1ldGhvZCBhbmQgdXJsXHJcbiAgICAgICAgcGF5bG9hZC5wdXNoKCcnKTtcclxuICAgICAgICBwYXlsb2FkLnB1c2goZWxlbWVudC5tZXRob2QudG9VcHBlckNhc2UoKStcIiBcIisgV0VCQVBJICsgXCIvXCIrZWxlbWVudC5lbnRpdHkrdXJsUGFyYW1ldGVyICsgXCIgSFRUUC8xLjFcIik7XHJcbiAgICAgICAgcGF5bG9hZC5wdXNoKCdNU0NSTS5TdXBwcmVzc0R1cGxpY2F0ZURldGVjdGlvbjogdHJ1ZScpO1xyXG4gICAgICAgIHBheWxvYWQucHVzaCgnSWYtbWF0Y2g6IConKTtcclxuICAgICAgICBwYXlsb2FkLnB1c2goJ0F1dG9EaXNhc3NvY2lhdGU6IHRydWUnKTtcclxuICAgICAgICBwYXlsb2FkLnB1c2goJ0NvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbicpO1xyXG4gICAgICAgIHBheWxvYWQucHVzaCgnUHJlZmVyOiBvZGF0YS5pbmNsdWRlLWFubm90YXRpb25zPVwiKlwiJyk7XHJcbiAgICAgICAgcGF5bG9hZC5wdXNoKCdDbGllbnRob3N0OiBCcm93c2VyJylcclxuICAgICAgICBwYXlsb2FkLnB1c2goJycpO1xyXG5cclxuICAgICAgICAvLyBEYXRhXHJcbiAgICAgICAgcGF5bG9hZC5wdXNoKEpTT04uc3RyaW5naWZ5KGVsZW1lbnQuZGF0YSkpO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIHBheWxvYWQucHVzaCgnLS1iYXRjaF8nK2JhdGNoSWQrXCItLVwiKTtcclxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocGF5bG9hZC5qb2luKCdcXHJcXG4nKSk7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBwcmVwYXJlQmF0Y2hSZXF1ZXN0OyIsImltcG9ydCBleGVjdXRlIGZyb20gJy4vZXhlY3V0ZSc7XHJcblxyXG5jb25zdCBvbmxpbmUgPSB7XHJcbiAgICBleGVjdXRlOiBleGVjdXRlXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG9ubGluZTsiLCJpbXBvcnQgZXhlY3V0ZVBvc3QgZnJvbSBcIi4vdXRpbGl0eS9leGVjdXRlUG9zdFwiO1xyXG5cclxuY29uc3QgZXhlY3V0ZSA9IChyZXF1ZXN0KSA9PiB7XHJcbiAgICBsZXQgb3BlcmF0aW9uTmFtZSA9IHJlcXVlc3QuZ2V0TWV0YWRhdGEoKS5vcGVyYXRpb25OYW1lO1xyXG4gICAgcmV0dXJuIGV4ZWN1dGVQb3N0KHJlcXVlc3QpKG9wZXJhdGlvbk5hbWUpKHsnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGV4ZWN1dGU7IiwiaW1wb3J0IHdlYkFwaSBmcm9tIFwiLi93ZWJBcGkuanNcIjtcclxuaW1wb3J0IHV0aWxpdHkgZnJvbSBcIi4vdXRpbGl0eS5qc1wiO1xyXG5pbXBvcnQgbmF2aWdhdGlvbiBmcm9tIFwiLi9uYXZpZ2F0aW9uLmpzXCI7XHJcbi8vIGltcG9ydCBhdXRoVG9NaWNyb3NvZnQgZnJvbSBcIi4vdXRpbGl0eS9hdXRoXCI7XHJcbmltcG9ydCBnZXRBdHRyaWJ1dGVzIGZyb20gXCIuL3JldHJpZXZlQXR0cmlidXRlcy5qc1wiO1xyXG5pbXBvcnQgY291bnRSZWNvcmRzIGZyb20gXCIuL3JldHJpZXZlVG90YWxSZWNvcmRDb3VudC5qc1wiO1xyXG5pbXBvcnQgeyBsb2dpbiB9IGZyb20gXCIuL2F1dGguanNcIjtcclxuXHJcbmNvbnN0IHhybSA9IHtcclxuICBfbWFpbk9yZzogXCJodHRwczovL2VsZWdhc3RzYW5kYm94LmNybTQuZHluYW1pY3MuY29tXCIsXHJcbiAgQVVUSF9LRVk6IG51bGwsXHJcbiAgQXV0aFRvTWljcm9zb2Z0OiBhc3luYyAoKSA9PiB7XHJcbiAgICAvLyBUaGlzIGlzIGluIEJFVEEhXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBsb2dpblJlc3BvbnNlID0gYXdhaXQgbG9naW4oKTtcclxuICAgICAgaWYgKGxvZ2luUmVzcG9uc2UgIT09IG51bGwgfHwgbG9naW5SZXNwb25zZS5hY2Nlc3NUb2tlbikge1xyXG4gICAgICAgIHhybS5zZXRBdXRoKGxvZ2luUmVzcG9uc2UuYWNjZXNzVG9rZW4pO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICB9XHJcbiAgfSxcclxuICBBY3Rpb25Db2xsZWN0aW9uQmFzZTogKCkgPT4ge30sXHJcbiAgQWxlcnREaWFsb2dTdHJpbmdzOiAoKSA9PiB7fSxcclxuICBBcnJheUV4OiAoKSA9PiB7fSxcclxuICBBdHRyaWJ1dGVGb3JtYXQ6ICgpID0+IHt9LFxyXG4gIEF0dHJpYnV0ZVR5cGU6ICgpID0+IHt9LFxyXG4gIEJlZ2luU2VjdXJlU2Vzc2lvblJlc3BvbnNlQ29kZTogKCkgPT4ge30sXHJcbiAgQnVzaW5lc3NQcm9jZXNzRmxvd0luc3RhbmNlU3RhdGU6ICgpID0+IHt9LFxyXG4gIEJ1c2luZXNzUHJvY2Vzc0Zsb3dJbnN0YW5jZVN0YXR1czogKCkgPT4ge30sXHJcbiAgQnVzaW5lc3NSdWxlTm90aWZpY2F0aW9uQmFzZTogKCkgPT4ge30sXHJcbiAgQ2hhcnRQYW5lTW9kZTogKCkgPT4ge30sXHJcbiAgQ2xpZW50TmFtZTogKCkgPT4ge30sXHJcbiAgQ2xpZW50U3RhdGU6ICgpID0+IHt9LFxyXG4gIENsaWVudFN0YXRlczogKCkgPT4ge30sXHJcbiAgQ29sbGVjdGlvbjogKCkgPT4ge30sXHJcbiAgQ29tcG9uZW50TW9kZWw6ICgpID0+IHt9LFxyXG4gIENvbmZpcm1EaWFsb2dTdHJpbmdzOiAoKSA9PiB7fSxcclxuICBDb25zdGFudHM6ICgpID0+IHt9LFxyXG4gIENvbnRyb2xUeXBlOiAoKSA9PiB7fSxcclxuICBDb3VudFJlY29yZHM6IGNvdW50UmVjb3JkcyxcclxuICBEYXRhTG9hZEV2ZW50QXJnczogKCkgPT4ge30sXHJcbiAgRGF0YUxvYWRTdGF0ZTogKCkgPT4ge30sXHJcbiAgRGF0ZUZvcm1hdHRpbmdJbmZvOiAoKSA9PiB7fSxcclxuICBEZWxlZ2F0ZUl0dGVyYXRvcjogKCkgPT4ge30sXHJcbiAgRGVzY3JpcHRpb246ICgpID0+IHt9LFxyXG4gIERldmljZTogKCkgPT4ge30sXHJcbiAgRGlhZ25vc3RpY3M6ICgpID0+IHt9LFxyXG4gIERpYWxvZzogKCkgPT4ge30sXHJcbiAgRGlhbG9nT3B0aW9uczogKCkgPT4ge30sXHJcbiAgRW5jb2Rpbmc6ICgpID0+IHt9LFxyXG4gIEVudGl0eUZvcm1PcHRpb25zOiAoKSA9PiB7fSxcclxuICBFbnRpdHlMaXN0UGFnZUlucHV0OiAoKSA9PiB7fSxcclxuICBFbnRpdHlNZXRhZGF0YTogKCkgPT4ge30sXHJcbiAgRW50aXR5UmVsYXRpb25zaGlwUm9sZVR5cGU6ICgpID0+IHt9LFxyXG4gIEVudGl0eVJlbGF0aW9uc2hpcFR5cGU6ICgpID0+IHt9LFxyXG4gIEVycm9yRGlhbG9nT3B0aW9uczogKCkgPT4ge30sXHJcbiAgRXJyb3JSZXNwb25zZTogKCkgPT4ge30sXHJcbiAgRXhlY3V0aW9uQ29udGV4dDogKCkgPT4ge30sXHJcbiAgRmxhZzogKCkgPT4ge30sXHJcbiAgRm9ybURhdGFBdHRyaWJ1dGVQcml2aWxlZ2U6ICgpID0+IHt9LFxyXG4gIEZvcm1EYXRhQXR0cmlidXRlUHJpdmlsZWdlczogKCkgPT4ge30sXHJcbiAgRm9ybUZhY3RvcjogKCkgPT4ge30sXHJcbiAgRm9ybU5vdGlmaWNhdGlvbk9wdGlvbnM6ICgpID0+IHt9LFxyXG4gIEZvcm1TYXZlQWN0aW9uOiAoKSA9PiB7fSxcclxuICBGb3JtVHlwZTogKCkgPT4ge30sXHJcbiAgR2VuOiAoKSA9PiB7fSxcclxuICBHZXRBdHRyaWJ1dGVzOiBnZXRBdHRyaWJ1dGVzLFxyXG4gIEdyaWRUeXBlOiAoKSA9PiB7fSxcclxuICBJQnVzaW5lc3NSdWxlTm90aWZpY2F0aW9uUHJvdmlkZXI6ICgpID0+IHt9LFxyXG4gIElzTW9ja1hybTogKCkgPT4gdHJ1ZSxcclxuICBJWHJtQ29sbGVjdGlvbkl0ZW06ICgpID0+IHt9LFxyXG4gIEludGVyZmFjZXM6ICgpID0+IHt9LFxyXG4gIEludGVybmFsOiAoKSA9PiB7fSxcclxuICBKYXZhU2NyaXB0Q29uc29sZVRyYWNlTGlzdGVuZXI6ICgpID0+IHt9LFxyXG4gIEtCU2VhcmNoUmVzdWx0OiAoKSA9PiB7fSxcclxuICBMb2NhbGl6ZWRMYWJlbDogKCkgPT4ge30sXHJcbiAgTG9va3VwT2JqZWN0OiAoKSA9PiB7fSxcclxuICBMb29rdXBPcHRpb25zOiAoKSA9PiB7fSxcclxuICBMb29rdXBTdHlsZTogKCkgPT4ge30sXHJcbiAgTWV0cmljc1N0b3B3YXRjaDogKCkgPT4ge30sXHJcbiAgTW9iaWxlOiAoKSA9PiB7fSxcclxuICBOYXZpZ2F0aW9uOiBuYXZpZ2F0aW9uLFxyXG4gIE5vdGlmaWNhdGlvbkxldmVsOiAoKSA9PiB7fSxcclxuICBOdW1iZXJFeDogKCkgPT4ge30sXHJcbiAgT2JqZWN0czogKCkgPT4ge30sXHJcbiAgT2ZmbGluZTogKCkgPT4ge30sXHJcbiAgT2ZmbGluZUVycm9yUmVzcG9uc2U6ICgpID0+IHt9LFxyXG4gIE9wZW5GaWxlTW9kZTogKCkgPT4ge30sXHJcbiAgT3BlbkZvcm1TdWNjZXNzUmVzcG9uc2U6ICgpID0+IHt9LFxyXG4gIE9wdGlvblNldEl0ZW06ICgpID0+IHt9LFxyXG4gIE9yZ2FuaXphdGlvblNlcnZpY2VQcm94eUJyaWRnZTogKCkgPT4ge30sXHJcbiAgUGFnZTogKCkgPT4ge30sXHJcbiAgUGFnZUJyaWRnZTogKCkgPT4ge30sXHJcbiAgUGFnZUNvbnRleHRCcmlkZ2U6ICgpID0+IHt9LFxyXG4gIFBhZ2VFeDogKCkgPT4ge30sXHJcbiAgUGFnZUlucHV0OiAoKSA9PiB7fSxcclxuICBQYWdlVHlwZTogKCkgPT4ge30sXHJcbiAgUGFuZWw6ICgpID0+IHt9LFxyXG4gIFByb2Nlc3NBY3Rpb25TdWNjZXNzUmVzcG9uc2U6ICgpID0+IHt9LFxyXG4gIFByb2Nlc3NSZXNwb25zZTogKCkgPT4ge30sXHJcbiAgUHJvY2Vzc1N0YXRlOiAoKSA9PiB7fSxcclxuICBQcm9jZXNzU3RhdHVzOiAoKSA9PiB7fSxcclxuICBSZWxhdGlvbnNoaXBSZWZlcmVuY2U6ICgpID0+IHt9LFxyXG4gIFJlcXVpcmVkTGV2ZWw6ICgpID0+IHt9LFxyXG4gIFNhdmVFcnJvclJlc3BvbnNlOiAoKSA9PiB7fSxcclxuICBTYXZlRXZlbnRBcmdzOiAoKSA9PiB7fSxcclxuICBTYXZlTW9kZTogKCkgPT4ge30sXHJcbiAgU2F2ZU9wdGlvbnM6ICgpID0+IHt9LFxyXG4gIFNhdmVTdWNjZXNzUmVzcG9uc2U6ICgpID0+IHt9LFxyXG4gIFNjb3BlZFNlcnZpY2VEaXJlY3Rvcnk6ICgpID0+IHt9LFxyXG4gIFNkazogKCkgPT4ge30sXHJcbiAgU2VydmljZXM6ICgpID0+IHt9LFxyXG4gIFNvYXA6ICgpID0+IHt9LFxyXG4gIFN0ZXBQcm9ncmVzczogKCkgPT4ge30sXHJcbiAgU3RlcFR5cGU6ICgpID0+IHt9LFxyXG4gIFN0cmluZ0J1aWxkZXJUcmFjZUxpc3RlbmVyOiAoKSA9PiB7fSxcclxuICBTdHJpbmdFeDogKCkgPT4ge30sXHJcbiAgU3VibWl0TW9kZTogKCkgPT4ge30sXHJcbiAgVGFiRGlzcGxheVN0YXRlOiAoKSA9PiB7fSxcclxuICBUYWJJdGVtOiAoKSA9PiB7fSxcclxuICBUYWJTZWN0aW9uOiAoKSA9PiB7fSxcclxuICBUYXNrRmxvd09wdGlvbnM6ICgpID0+IHt9LFxyXG4gIFRhc2tJdGVycmF0b3I6ICgpID0+IHt9LFxyXG4gIFRyYWNpbmc6ICgpID0+IHt9LFxyXG4gIFVJOiAoKSA9PiB7fSxcclxuICBVdGlsaXR5OiB1dGlsaXR5LFxyXG4gIFdlYkFwaTogd2ViQXBpLFxyXG4gIFdpbmRvd09wdGlvbnM6ICgpID0+IHt9LFxyXG4gIFhybUJ1c2luZXNzUHJvY2Vzc0Zsb3c6ICgpID0+IHt9LFxyXG4gIFhybUNoYXJ0OiAoKSA9PiB7fSxcclxuICBYcm1Db2xsZWN0aW9uOiAoKSA9PiB7fSxcclxuICBYcm1Db2xsZWN0aW9uQmFzZTogKCkgPT4ge30sXHJcbiAgWHJtQ29sbGVjdGlvbkRpY3Rpb25hcnk6ICgpID0+IHt9LFxyXG4gIFhybUNvbnRyb2w6ICgpID0+IHt9LFxyXG4gIFhybUNvbnRyb2xBQ0k6ICgpID0+IHt9LFxyXG4gIFhybUNvbnRyb2xBdXRvTG9va3VwOiAoKSA9PiB7fSxcclxuICBYcm1Db250cm9sQmFzZTogKCkgPT4ge30sXHJcbiAgWHJtQ29udHJvbEJ1dHRvbjogKCkgPT4ge30sXHJcbiAgWHJtQ29udHJvbERhdGVUaW1lOiAoKSA9PiB7fSxcclxuICBYcm1Db250cm9sRW1haWxFbmdhZ2VtZW50QWN0aW9uc0NvbnRyb2w6ICgpID0+IHt9LFxyXG4gIFhybUNvbnRyb2xFbWFpbFJlY2lwaWVudEFjdGl2aXR5OiAoKSA9PiB7fSxcclxuICBYcm1Db250cm9sRm9ybVNlbGVjdG9yOiAoKSA9PiB7fSxcclxuICBYcm1Db250cm9sR3JpZDogKCkgPT4ge30sXHJcbiAgWHJtQ29udHJvbElGcmFtZTogKCkgPT4ge30sXHJcbiAgWHJtQ29udHJvbExvb2t1cDogKCkgPT4ge30sXHJcbiAgWHJtQ29udHJvbE9wdGlvblNldDogKCkgPT4ge30sXHJcbiAgWHJtQ29udHJvbFF1aWNrRm9ybTogKCkgPT4ge30sXHJcbiAgWHJtQ29udHJvbFJvdXRlZEdyaWQ6ICgpID0+IHt9LFxyXG4gIFhybUNvbnRyb2xTZWFyY2hXaWRnZXQ6ICgpID0+IHt9LFxyXG4gIFhybUNvbnRyb2xTaWx2ZXJsaWdodDogKCkgPT4ge30sXHJcbiAgWHJtQ29udHJvbFN1YkdyaWQ6ICgpID0+IHt9LFxyXG4gIFhybUNvbnRyb2xUZXh0OiAoKSA9PiB7fSxcclxuICBYcm1Db250cm9sVGltZXI6ICgpID0+IHt9LFxyXG4gIFhybUNvbnRyb2xXZWJSZXNvdXJjZTogKCkgPT4ge30sXHJcbiAgWHJtQ29udHJvbHM6ICgpID0+IHt9LFxyXG4gIFhybURhdGFDb250cm9sOiAoKSA9PiB7fSxcclxuICBYcm1EaWFsb2c6ICgpID0+IHt9LFxyXG4gIFhybUVuY29kaW5nOiAoKSA9PiB7fSxcclxuICBYcm1FbnRpdGllczogKCkgPT4ge30sXHJcbiAgWHJtRW50aXR5OiAoKSA9PiB7fSxcclxuICBYcm1FbnRpdHlBdHRyaWJ1dGU6ICgpID0+IHt9LFxyXG4gIFhybUVudGl0eUF0dHJpYnV0ZUJvb2xlYW46ICgpID0+IHt9LFxyXG4gIFhybUVudGl0eUF0dHJpYnV0ZURhdGVUaW1lOiAoKSA9PiB7fSxcclxuICBYcm1FbnRpdHlBdHRyaWJ1dGVMb29rdXA6ICgpID0+IHt9LFxyXG4gIFhybUVudGl0eUF0dHJpYnV0ZU51bWJlcjogKCkgPT4ge30sXHJcbiAgWHJtRW50aXR5QXR0cmlidXRlT3B0aW9uU2V0OiAoKSA9PiB7fSxcclxuICBYcm1FbnRpdHlBdHRyaWJ1dGVPcHRpb25TZXRCYXNlOiAoKSA9PiB7fSxcclxuICBYcm1FbnRpdHlBdHRyaWJ1dGVTdHJpbmc6ICgpID0+IHt9LFxyXG4gIFhybUVudGl0eUF0dHJpYnV0ZXM6ICgpID0+IHt9LFxyXG4gIFhybUVudGl0eVJlbGF0aW9uc2hpcDogKCkgPT4ge30sXHJcbiAgWHJtRmlsZTogKCkgPT4ge30sXHJcbiAgWHJtRm9ybTogKCkgPT4ge30sXHJcbiAgWHJtRm9ybURhdGE6ICgpID0+IHt9LFxyXG4gIFhybUZvcm1TZWxlY3Rvckl0ZW06ICgpID0+IHt9LFxyXG4gIFhybUZvcm1TZWxlY3Rvckl0ZW1zOiAoKSA9PiB7fSxcclxuICBYcm1Gb3JtVUk6ICgpID0+IHt9LFxyXG4gIFhybUdsb2JhbENvbnRleHQ6ICgpID0+IHt9LFxyXG4gIFhybUdyaWREYXRhOiAoKSA9PiB7fSxcclxuICBYcm1HcmlkRmlsdGVyOiAoKSA9PiB7fSxcclxuICBYcm1HcmlkUm93OiAoKSA9PiB7fSxcclxuICBYcm1HcmlkUm93czogKCkgPT4ge30sXHJcbiAgWHJtSW50ZXJuYWw6ICgpID0+IHt9LFxyXG4gIFhybU5hdmlnYXRpb246ICgpID0+IHt9LFxyXG4gIFhybU5hdmlnYXRpb25JdGVtOiAoKSA9PiB7fSxcclxuICBYcm1OYXZpZ2F0aW9uSXRlbXM6ICgpID0+IHt9LFxyXG4gIFhybU5hdmlnYXRpb25zOiAoKSA9PiB7fSxcclxuICBYcm1PZmZsaW5lOiAoKSA9PiB7fSxcclxuICBYcm1PcGVuRmlsZU9wdGlvbjogKCkgPT4ge30sXHJcbiAgWHJtT3JnYW5pemF0aW9uU2V0dGluZ3M6ICgpID0+IHt9LFxyXG4gIFhybVBhZ2VDb250ZXh0Q2xpZW50OiAoKSA9PiB7fSxcclxuICBYcm1QYW5lbDogKCkgPT4ge30sXHJcbiAgWHJtUGVyZm9ybWFuY2U6ICgpID0+IHt9LFxyXG4gIFhybVByb2Nlc3NDb250cm9sRGF0YTogKCkgPT4ge30sXHJcbiAgWHJtUHJvY2Vzc0NvbnRyb2xVSTogKCkgPT4ge30sXHJcbiAgWHJtUHJvY2Vzc1N0YWdlOiAoKSA9PiB7fSxcclxuICBYcm1Qcm9jZXNzU3RlcDogKCkgPT4ge30sXHJcbiAgWHJtUXVpY2tGb3JtczogKCkgPT4ge30sXHJcbiAgWHJtUmVsYXRlZEVudGl0aWVzOiAoKSA9PiB7fSxcclxuICBYcm1TZGtNZXNzYWdlczogKCkgPT4ge30sXHJcbiAgWHJtU2VydmljZURpcmVjdG9yeTogKCkgPT4ge30sXHJcbiAgWHJtVGFiOiAoKSA9PiB7fSxcclxuICBYcm1UYWJOYXZpZ2F0b3I6ICgpID0+IHt9LFxyXG4gIFhybVRhYk5hdmlnYXRvckdyb3VwOiAoKSA9PiB7fSxcclxuICBYcm1UYWJOYXZpZ2F0b3JzOiAoKSA9PiB7fSxcclxuICBYcm1UYWJTZWN0aW9uOiAoKSA9PiB7fSxcclxuICBYcm1UYWJTZWN0aW9uczogKCkgPT4ge30sXHJcbiAgWHJtVGFiczogKCkgPT4ge30sXHJcbiAgWHJtVGFza1Byb2Nlc3M6ICgpID0+IHt9LFxyXG4gIFhybVRyYWNlOiAoKSA9PiB7fSxcclxuICBYcm1Vc2VyU2V0dGluZ3M6ICgpID0+IHt9LFxyXG4gIFhybVV0aWxpdHk6ICgpID0+IHt9LFxyXG4gIFhybVZpZXdTZWxlY3RvcjogKCkgPT4ge30sXHJcbiAgZ2V0TmFtZTogKCkgPT4gXCJYcm1cIixcclxuICBzZXRBdXRoOiBmdW5jdGlvbiAoYXV0aCkge1xyXG4gICAgZ2xvYmFsVGhpcy5BVVRIX0tFWSA9IGF1dGg7XHJcbiAgfSxcclxuICBnZXRBdXRoOiAoKSA9PiBnbG9iYWxUaGlzLkFVVEhfS0VZLFxyXG4gIGdldE9yZzogKCkgPT4gZ2xvYmFsVGhpcy5fbWFpbk9yZyxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHhybTtcclxuIl0sIm5hbWVzIjpbIldFQkFQSSIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsIkNMSUVOVF9VUkwiLCJsb2NhdGlvbiIsIm9yaWdpbiIsIk9OTElORV9SRUdFWCIsIm1lbW9pemUiLCJtZXRob2QiLCJjYWNoZSIsImFzeW5jIiwiYXJncyIsIkpTT04iLCJzdHJpbmdpZnkiLCJhcmd1bWVudHMiLCJhcHBseSIsInRoaXMiLCJvcmdVbmlxdWVOYW1lIiwicmVzdWx0IiwiZmV0Y2giLCJsZW5ndGgiLCJ0ZXh0IiwidGhlbiIsImRhdGEiLCJtYXRjaCIsIm9yZ2FuaXphdGlvblNldHRpbmdzIiwidW5pcXVlTmFtZSIsIndob0FtSSIsImV4ZWN1dGVHZXQiLCJqc29uIiwicmV0cmlldmVNZW1vIiwicmV0cmlldmUiLCJfcGlwZSIsImEiLCJiIiwiYXJnIiwicGlwZSIsIm9wcyIsInJlZHVjZSIsInN0cmluZ1JlcGxhY2UiLCJleHAiLCJ2YWwiLCJzdHIiLCJyZXBsYWNlIiwiY2xlYW5HdWlkIiwidXNlclNldHRpbmdzIiwibWUiLCJyb2xlcyIsIlVzZXJJZCIsInVzZXJJZCIsInVzZXJOYW1lIiwiZnVsbG5hbWUiLCJzZWN1cml0eVJvbGVzIiwic3lzdGVtdXNlcnJvbGVzX2Fzc29jaWF0aW9uIiwibWFwIiwiciIsInJvbGVpZCIsImNsaWVudFVybCIsImNsZWFuTG9jYXRpb25TZWFyY2giLCJzcGxpdCIsImNoYXIiLCJnZXRDdXJyZW50QXBwTmFtZSIsImFwcGlkIiwiaWQiLCJmdW5jIiwiYXJyIiwiaW5pdCIsImFjYyIsImN1ciIsInNlYXJjaCIsIm5hbWUiLCJpc09uUHJlbWlzZXMiLCJ0ZXN0IiwiaHJlZiIsImNvbXBvc2VQcm9taXNlcyIsImNoYWluTWV0aG9kIiwibXMiLCJmIiwiZyIsIngiLCJqc29uUmVzdWx0IiwicmV0cmlldmVNZXRhZGF0YSIsImVudGl0eWxvZ2ljYWxOYW1lIiwiYXR0cmlidXRlcyIsInJldHJpZXZlTWV0YWRhdGFXcmFwcGVyTWVtbyIsInV0aWxpdHkiLCJjbG9zZVByb2dyZXNzSW5kaWNhdG9yIiwiZ2V0QWxsb3dlZFN0YXR1c1RyYW5zaXRpb25zIiwiZ2V0RW50aXR5TWV0YWRhdGEiLCJnZXRHbG9iYWxDb250ZXh0Iiwic2V0dGluZ3MiLCJQcm9taXNlIiwiYWxsIiwiZ2V0Q2xpZW50VXJsIiwiZ2V0TGVhcm5pbmdQYXRoQXR0cmlidXRlTmFtZSIsImdldFBhZ2VDb250ZXh0IiwiZ2V0UmVzb3VyY2VTdHJpbmciLCJpbnZva2VQcm9jZXNzQWN0aW9uIiwibG9va09iamVjdHMiLCJyZWZyZXNoUGFyZW50R3JpZCIsInNob3dQcm9ncmVzc0luZGljYXRvciIsIm5hdmlnYXRpb24iLCJvcGVuRm9ybSIsImVudGl0eUZvcm1PcHRpb25zIiwiZm9ybVBhcmFtZXRlcnMiLCJyZWRpcmVjdFVybCIsIm9wZW5XaGVyZSIsIndpbmRvdyIsIm9wZW4iLCJyZXRyaWV2ZUF0dHJpYnV0ZXMiLCJyZXRyaWV2ZVRvdGFsUmVjb3JkQ291bnQiLCJleHRlbmRTdGF0aWNzIiwiZCIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiX19leHRlbmRzIiwiX18iLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsIl9fYXNzaWduIiwiYXNzaWduIiwidCIsInMiLCJpIiwibiIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJ2YWx1ZSIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwiZG9uZSIsIl9fZ2VuZXJhdG9yIiwiYm9keSIsInkiLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsInZlcmIiLCJ0aHJvdyIsInJldHVybiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwidiIsIm9wIiwiVHlwZUVycm9yIiwicG9wIiwicHVzaCIsIl9fcmVhZCIsIm8iLCJtIiwiYXIiLCJlcnJvciIsIl9fc3ByZWFkIiwiY29uY2F0IiwiX19zcHJlYWRBcnJheXMiLCJpbCIsImsiLCJqIiwiamwiLCJIZWFkZXJOYW1lcyIsIlBlcnNpc3RlbnRDYWNoZUtleXMiLCJBQURBdXRob3JpdHlDb25zdGFudHMiLCJBQURTZXJ2ZXJQYXJhbUtleXMiLCJDbGFpbXNSZXF1ZXN0S2V5cyIsIkNvbnN0YW50cyIsIkxJQlJBUllfTkFNRSIsIlNLVSIsIkNBQ0hFX1BSRUZJWCIsIkRFRkFVTFRfQVVUSE9SSVRZIiwiREVGQVVMVF9BVVRIT1JJVFlfSE9TVCIsIkRFRkFVTFRfQ09NTU9OX1RFTkFOVCIsIkFERlMiLCJBQURfSU5TVEFOQ0VfRElTQ09WRVJZX0VORFBUIiwiUkVTT1VSQ0VfREVMSU0iLCJOT19BQ0NPVU5UIiwiQ0xBSU1TIiwiQ09OU1VNRVJfVVRJRCIsIk9QRU5JRF9TQ09QRSIsIlBST0ZJTEVfU0NPUEUiLCJPRkZMSU5FX0FDQ0VTU19TQ09QRSIsIkVNQUlMX1NDT1BFIiwiQ09ERV9SRVNQT05TRV9UWVBFIiwiQ09ERV9HUkFOVF9UWVBFIiwiUlRfR1JBTlRfVFlQRSIsIkZSQUdNRU5UX1JFU1BPTlNFX01PREUiLCJTMjU2X0NPREVfQ0hBTExFTkdFX01FVEhPRCIsIlVSTF9GT1JNX0NPTlRFTlRfVFlQRSIsIkFVVEhPUklaQVRJT05fUEVORElORyIsIk5PVF9ERUZJTkVEIiwiRU1QVFlfU1RSSU5HIiwiRk9SV0FSRF9TTEFTSCIsIklNRFNfRU5EUE9JTlQiLCJJTURTX1ZFUlNJT04iLCJJTURTX1RJTUVPVVQiLCJBWlVSRV9SRUdJT05fQVVUT19ESVNDT1ZFUl9GTEFHIiwiUkVHSU9OQUxfQVVUSF9QVUJMSUNfQ0xPVURfU1VGRklYIiwiS05PV05fUFVCTElDX0NMT1VEUyIsIk9JRENfREVGQVVMVF9TQ09QRVMiLCJPSURDX1NDT1BFUyIsIlNTT1R5cGVzIiwiUHJvbXB0VmFsdWUiLCJMT0dJTiIsIlNFTEVDVF9BQ0NPVU5UIiwiQ09OU0VOVCIsIk5PTkUiLCJDUkVBVEUiLCJSZXNwb25zZU1vZGUiLCJHcmFudFR5cGUiLCJDYWNoZUFjY291bnRUeXBlIiwiU2VwYXJhdG9ycyIsIkNyZWRlbnRpYWxUeXBlIiwiQ2FjaGVTY2hlbWFUeXBlIiwiQ2FjaGVUeXBlIiwiQ29kZUNoYWxsZW5nZU1ldGhvZFZhbHVlcyIsIlBMQUlOIiwiUzI1NiIsIkF1dGhvcml0eU1ldGFkYXRhU291cmNlIiwiQVVUSE9SSVRZX01FVEFEQVRBX0NPTlNUQU5UUyIsIkF1dGhlbnRpY2F0aW9uU2NoZW1lIiwiU0VSVkVSX1RFTEVNX0NPTlNUQU5UUyIsIlNDSEVNQV9WRVJTSU9OIiwiTUFYX0NVUl9IRUFERVJfQllURVMiLCJNQVhfTEFTVF9IRUFERVJfQllURVMiLCJNQVhfQ0FDSEVEX0VSUk9SUyIsIkNBQ0hFX0tFWSIsIkNBVEVHT1JZX1NFUEFSQVRPUiIsIlZBTFVFX1NFUEFSQVRPUiIsIk9WRVJGTE9XX1RSVUUiLCJPVkVSRkxPV19GQUxTRSIsIlVOS05PV05fRVJST1IiLCJQYXNzd29yZEdyYW50Q29uc3RhbnRzIiwiUmVzcG9uc2VDb2RlcyIsIlJlZ2lvbkRpc2NvdmVyeVNvdXJjZXMiLCJSZWdpb25EaXNjb3ZlcnlPdXRjb21lcyIsIkNhY2hlT3V0Y29tZSIsIlRocm90dGxpbmdDb25zdGFudHMiLCJFcnJvcnMiLCJMb2dMZXZlbCIsIkF1dGhFcnJvck1lc3NhZ2UiLCJjb2RlIiwiZGVzYyIsIkF1dGhFcnJvciIsIl9zdXBlciIsImVycm9yQ29kZSIsImVycm9yTWVzc2FnZSIsInN1YmVycm9yIiwiX3RoaXMiLCJlcnJvclN0cmluZyIsInN1YkVycm9yIiwic2V0Q29ycmVsYXRpb25JZCIsImNvcnJlbGF0aW9uSWQiLCJjcmVhdGVVbmV4cGVjdGVkRXJyb3IiLCJlcnJEZXNjIiwiRXJyb3IiLCJERUZBVUxUX0NSWVBUT19JTVBMRU1FTlRBVElPTiIsImNyZWF0ZU5ld0d1aWQiLCJiYXNlNjREZWNvZGUiLCJiYXNlNjRFbmNvZGUiLCJnZW5lcmF0ZVBrY2VDb2RlcyIsIl9hIiwiZ2V0UHVibGljS2V5VGh1bWJwcmludCIsInJlbW92ZVRva2VuQmluZGluZ0tleSIsImNsZWFyS2V5c3RvcmUiLCJzaWduSnd0IiwiaGFzaFN0cmluZyIsIkNsaWVudEF1dGhFcnJvck1lc3NhZ2UiLCJDbGllbnRBdXRoRXJyb3IiLCJjcmVhdGVDbGllbnRJbmZvRGVjb2RpbmdFcnJvciIsImNhdWdodEVycm9yIiwiY3JlYXRlQ2xpZW50SW5mb0VtcHR5RXJyb3IiLCJjcmVhdGVUb2tlblBhcnNpbmdFcnJvciIsImNhdWdodEV4dHJhY3Rpb25FcnJvciIsImNyZWF0ZVRva2VuTnVsbE9yRW1wdHlFcnJvciIsImludmFsaWRSYXdUb2tlblN0cmluZyIsImNyZWF0ZUVuZHBvaW50RGlzY292ZXJ5SW5jb21wbGV0ZUVycm9yIiwiZXJyRGV0YWlsIiwiY3JlYXRlTmV0d29ya0Vycm9yIiwiZW5kcG9pbnQiLCJjcmVhdGVVbmFibGVUb0dldE9wZW5pZENvbmZpZ0Vycm9yIiwiY3JlYXRlSGFzaE5vdERlc2VyaWFsaXplZEVycm9yIiwiaGFzaFBhcmFtT2JqIiwiY3JlYXRlSW52YWxpZFN0YXRlRXJyb3IiLCJpbnZhbGlkU3RhdGUiLCJjcmVhdGVTdGF0ZU1pc21hdGNoRXJyb3IiLCJjcmVhdGVTdGF0ZU5vdEZvdW5kRXJyb3IiLCJtaXNzaW5nU3RhdGUiLCJjcmVhdGVOb25jZU1pc21hdGNoRXJyb3IiLCJjcmVhdGVOb25jZU5vdEZvdW5kRXJyb3IiLCJtaXNzaW5nTm9uY2UiLCJjcmVhdGVNdWx0aXBsZU1hdGNoaW5nVG9rZW5zSW5DYWNoZUVycm9yIiwiY3JlYXRlTXVsdGlwbGVNYXRjaGluZ0FjY291bnRzSW5DYWNoZUVycm9yIiwiY3JlYXRlTXVsdGlwbGVNYXRjaGluZ0FwcE1ldGFkYXRhSW5DYWNoZUVycm9yIiwiY3JlYXRlVG9rZW5SZXF1ZXN0Q2Fubm90QmVNYWRlRXJyb3IiLCJjcmVhdGVBcHBlbmRFbXB0eVNjb3BlVG9TZXRFcnJvciIsImdpdmVuU2NvcGUiLCJjcmVhdGVSZW1vdmVFbXB0eVNjb3BlRnJvbVNldEVycm9yIiwiY3JlYXRlQXBwZW5kU2NvcGVTZXRFcnJvciIsImFwcGVuZEVycm9yIiwiY3JlYXRlRW1wdHlJbnB1dFNjb3BlU2V0RXJyb3IiLCJjcmVhdGVEZXZpY2VDb2RlQ2FuY2VsbGVkRXJyb3IiLCJjcmVhdGVEZXZpY2VDb2RlRXhwaXJlZEVycm9yIiwiY3JlYXRlRGV2aWNlQ29kZVVua25vd25FcnJvciIsImNyZWF0ZU5vQWNjb3VudEluU2lsZW50UmVxdWVzdEVycm9yIiwiY3JlYXRlTnVsbE9yVW5kZWZpbmVkQ2FjaGVSZWNvcmQiLCJjcmVhdGVJbnZhbGlkQ2FjaGVFbnZpcm9ubWVudEVycm9yIiwiY3JlYXRlTm9BY2NvdW50Rm91bmRFcnJvciIsImNyZWF0ZUNhY2hlUGx1Z2luRXJyb3IiLCJjcmVhdGVOb0NyeXB0b09iamVjdEVycm9yIiwib3BlcmF0aW9uTmFtZSIsImNyZWF0ZUludmFsaWRDYWNoZVR5cGVFcnJvciIsImNyZWF0ZVVuZXhwZWN0ZWRBY2NvdW50VHlwZUVycm9yIiwiY3JlYXRlVW5leHBlY3RlZENyZWRlbnRpYWxUeXBlRXJyb3IiLCJjcmVhdGVJbnZhbGlkQXNzZXJ0aW9uRXJyb3IiLCJjcmVhdGVJbnZhbGlkQ3JlZGVudGlhbEVycm9yIiwiY3JlYXRlUmVmcmVzaFJlcXVpcmVkRXJyb3IiLCJjcmVhdGVVc2VyVGltZW91dFJlYWNoZWRFcnJvciIsImNyZWF0ZVRva2VuQ2xhaW1zUmVxdWlyZWRFcnJvciIsImNyZWF0ZU5vQXV0aENvZGVJblNlcnZlclJlc3BvbnNlRXJyb3IiLCJjcmVhdGVCaW5kaW5nS2V5Tm90UmVtb3ZlZEVycm9yIiwiY3JlYXRlTG9nb3V0Tm90U3VwcG9ydGVkRXJyb3IiLCJTdHJpbmdVdGlscyIsImRlY29kZUF1dGhUb2tlbiIsImF1dGhUb2tlbiIsImlzRW1wdHkiLCJtYXRjaGVzIiwiZXhlYyIsImhlYWRlciIsIkpXU1BheWxvYWQiLCJKV1NTaWciLCJpc0VtcHR5T2JqIiwic3RyT2JqIiwib2JqIiwicGFyc2UiLCJrZXlzIiwic3RhcnRzV2l0aCIsImluZGV4T2YiLCJlbmRzV2l0aCIsImxhc3RJbmRleE9mIiwicXVlcnlTdHJpbmdUb09iamVjdCIsInF1ZXJ5IiwicGFyYW1zIiwiZGVjb2RlIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZm9yRWFjaCIsInBhaXIiLCJ0cmltIiwia2V5IiwidHJpbUFycmF5RW50cmllcyIsImVudHJ5IiwicmVtb3ZlRW1wdHlTdHJpbmdzRnJvbUFycmF5IiwiZmlsdGVyIiwianNvblBhcnNlSGVscGVyIiwibWF0Y2hQYXR0ZXJuIiwicGF0dGVybiIsImlucHV0IiwiUmVnRXhwIiwiQXp1cmVDbG91ZEluc3RhbmNlIiwiTG9nZ2VyIiwibG9nZ2VyT3B0aW9ucyIsInBhY2thZ2VOYW1lIiwicGFja2FnZVZlcnNpb24iLCJsZXZlbCIsIkluZm8iLCJsb2NhbENhbGxiYWNrIiwibG9nZ2VyQ2FsbGJhY2siLCJwaWlMb2dnaW5nRW5hYmxlZCIsImxvZ0xldmVsIiwiY2xvbmUiLCJsb2dNZXNzYWdlIiwib3B0aW9ucyIsImNvbnRhaW5zUGlpIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvVVRDU3RyaW5nIiwibG9nIiwiZXhlY3V0ZUNhbGxiYWNrIiwibWVzc2FnZSIsImVycm9yUGlpIiwid2FybmluZyIsIldhcm5pbmciLCJ3YXJuaW5nUGlpIiwiaW5mbyIsImluZm9QaWkiLCJ2ZXJib3NlIiwiVmVyYm9zZSIsInZlcmJvc2VQaWkiLCJ0cmFjZSIsIlRyYWNlIiwidHJhY2VQaWkiLCJpc1BpaUxvZ2dpbmdFbmFibGVkIiwiQXV0aG9yaXR5VHlwZSIsIkNyZWRlbnRpYWxFbnRpdHkiLCJnZW5lcmF0ZUFjY291bnRJZCIsImdlbmVyYXRlQWNjb3VudElkRm9yQ2FjaGVLZXkiLCJob21lQWNjb3VudElkIiwiZW52aXJvbm1lbnQiLCJnZW5lcmF0ZUNyZWRlbnRpYWxJZCIsImdlbmVyYXRlQ3JlZGVudGlhbElkRm9yQ2FjaGVLZXkiLCJjcmVkZW50aWFsVHlwZSIsImNsaWVudElkIiwicmVhbG0iLCJmYW1pbHlJZCIsImdlbmVyYXRlVGFyZ2V0IiwiZ2VuZXJhdGVUYXJnZXRGb3JDYWNoZUtleSIsInRhcmdldCIsImdlbmVyYXRlQ3JlZGVudGlhbEtleSIsImdlbmVyYXRlQ3JlZGVudGlhbENhY2hlS2V5IiwidG9rZW5UeXBlIiwicmVxdWVzdGVkQ2xhaW1zSGFzaCIsImdlbmVyYXRlVHlwZSIsIklEX1RPS0VOIiwiQUNDRVNTX1RPS0VOIiwiQUNDRVNTX1RPS0VOX1dJVEhfQVVUSF9TQ0hFTUUiLCJSRUZSRVNIX1RPS0VOIiwiZ2V0Q3JlZGVudGlhbFR5cGUiLCJ0b0xvd2VyQ2FzZSIsImdlbmVyYXRlQ2xhaW1zSGFzaEZvckNhY2hlS2V5IiwiZ2VuZXJhdGVTY2hlbWVGb3JDYWNoZUtleSIsImpvaW4iLCJDQUNIRV9LRVlfU0VQQVJBVE9SIiwic2NvcGVzIiwiQkVBUkVSIiwiQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZSIsIkNsaWVudENvbmZpZ3VyYXRpb25FcnJvciIsImNyZWF0ZVJlZGlyZWN0VXJpRW1wdHlFcnJvciIsImNyZWF0ZVBvc3RMb2dvdXRSZWRpcmVjdFVyaUVtcHR5RXJyb3IiLCJjcmVhdGVDbGFpbXNSZXF1ZXN0UGFyc2luZ0Vycm9yIiwiY2xhaW1zUmVxdWVzdFBhcnNlRXJyb3IiLCJjcmVhdGVJbnNlY3VyZUF1dGhvcml0eVVyaUVycm9yIiwidXJsU3RyaW5nIiwiY3JlYXRlVXJsUGFyc2VFcnJvciIsInVybFBhcnNlRXJyb3IiLCJjcmVhdGVVcmxFbXB0eUVycm9yIiwiY3JlYXRlRW1wdHlTY29wZXNBcnJheUVycm9yIiwiY3JlYXRlQ2xpZW50SWRTaW5nbGVTY29wZUVycm9yIiwiaW5wdXRTY29wZXMiLCJjcmVhdGVJbnZhbGlkUHJvbXB0RXJyb3IiLCJwcm9tcHRWYWx1ZSIsImNyZWF0ZUludmFsaWRDbGFpbXNSZXF1ZXN0RXJyb3IiLCJjcmVhdGVFbXB0eUxvZ291dFJlcXVlc3RFcnJvciIsImNyZWF0ZUVtcHR5VG9rZW5SZXF1ZXN0RXJyb3IiLCJjcmVhdGVJbnZhbGlkQ29kZUNoYWxsZW5nZU1ldGhvZEVycm9yIiwiY3JlYXRlSW52YWxpZENvZGVDaGFsbGVuZ2VQYXJhbXNFcnJvciIsImNyZWF0ZUludmFsaWRDbG91ZERpc2NvdmVyeU1ldGFkYXRhRXJyb3IiLCJjcmVhdGVJbnZhbGlkQXV0aG9yaXR5TWV0YWRhdGFFcnJvciIsImNyZWF0ZVVudHJ1c3RlZEF1dGhvcml0eUVycm9yIiwiY3JlYXRlSW52YWxpZEF6dXJlQ2xvdWRJbnN0YW5jZUVycm9yIiwiY3JlYXRlTWlzc2luZ1NzaEp3a0Vycm9yIiwiY3JlYXRlTWlzc2luZ1NzaEtpZEVycm9yIiwiY3JlYXRlTWlzc2luZ05vbmNlQXV0aGVudGljYXRpb25IZWFkZXJzRXJyb3IiLCJjcmVhdGVJbnZhbGlkQXV0aGVudGljYXRpb25IZWFkZXJFcnJvciIsImludmFsaWRIZWFkZXJOYW1lIiwiZGV0YWlscyIsIlNjb3BlU2V0Iiwic2NvcGVBcnIiLCJmaWx0ZXJlZElucHV0IiwidmFsaWRhdGVJbnB1dFNjb3BlcyIsIlNldCIsInNjb3BlIiwiYWRkIiwiZnJvbVN0cmluZyIsImlucHV0U2NvcGVTdHJpbmciLCJjb250YWluc1Njb3BlIiwibG93ZXJDYXNlU2NvcGVzU2V0IiwicHJpbnRTY29wZXNMb3dlckNhc2UiLCJoYXMiLCJjb250YWluc1Njb3BlU2V0Iiwic2NvcGVTZXQiLCJzaXplIiwiYXNBcnJheSIsImV2ZXJ5IiwiY29udGFpbnNPbmx5T0lEQ1Njb3BlcyIsImRlZmF1bHRTY29wZUNvdW50IiwiZGVmYXVsdFNjb3BlIiwiYXBwZW5kU2NvcGUiLCJuZXdTY29wZSIsImFwcGVuZFNjb3BlcyIsIm5ld1Njb3BlcyIsInJlbW92ZVNjb3BlIiwiZGVsZXRlIiwicmVtb3ZlT0lEQ1Njb3BlcyIsInVuaW9uU2NvcGVTZXRzIiwib3RoZXJTY29wZXMiLCJ1bmlvblNjb3BlcyIsImludGVyc2VjdGluZ1Njb3BlU2V0cyIsInNpemVPdGhlclNjb3BlcyIsImdldFNjb3BlQ291bnQiLCJzaXplVGhpc1Njb3BlcyIsImFycmF5IiwicHJpbnRTY29wZXMiLCJidWlsZENsaWVudEluZm8iLCJyYXdDbGllbnRJbmZvIiwiY3J5cHRvIiwiZGVjb2RlZENsaWVudEluZm8iLCJidWlsZENsaWVudEluZm9Gcm9tSG9tZUFjY291bnRJZCIsImNsaWVudEluZm9QYXJ0cyIsIkNMSUVOVF9JTkZPX1NFUEFSQVRPUiIsInVpZCIsInV0aWQiLCJBY2NvdW50RW50aXR5IiwiZ2VuZXJhdGVBY2NvdW50S2V5IiwiZ2VuZXJhdGVBY2NvdW50Q2FjaGVLZXkiLCJ0ZW5hbnRJZCIsInVzZXJuYW1lIiwibG9jYWxBY2NvdW50SWQiLCJhdXRob3JpdHlUeXBlIiwiQURGU19BQ0NPVU5UX1RZUEUiLCJNU0FWMV9BQ0NPVU5UX1RZUEUiLCJNU0EiLCJNU1NUU19BQ0NPVU5UX1RZUEUiLCJNU1NUUyIsIkdFTkVSSUNfQUNDT1VOVF9UWVBFIiwiR0VORVJJQyIsImdldEFjY291bnRJbmZvIiwiaWRUb2tlbkNsYWltcyIsImFjY291bnRJbnRlcmZhY2UiLCJjcmVhdGVBY2NvdW50IiwiY2xpZW50SW5mbyIsImlkVG9rZW4iLCJhdXRob3JpdHkiLCJvYm9Bc3NlcnRpb24iLCJjbG91ZEdyYXBoSG9zdE5hbWUiLCJtc0dyYXBoSG9zdCIsIl9iIiwiX2MiLCJfZCIsIl9lIiwiX2YiLCJhY2NvdW50IiwiZ2V0UHJlZmVycmVkQ2FjaGUiLCJjbGFpbXMiLCJ0aWQiLCJvaWQiLCJzdWIiLCJwcmVmZXJyZWRfdXNlcm5hbWUiLCJlbWFpbHMiLCJjcmVhdGVHZW5lcmljQWNjb3VudCIsIkFkZnMiLCJ1cG4iLCJnZW5lcmF0ZUhvbWVBY2NvdW50SWQiLCJzZXJ2ZXJDbGllbnRJbmZvIiwiYXV0aFR5cGUiLCJsb2dnZXIiLCJjcnlwdG9PYmoiLCJhY2NvdW50SWQiLCJpc0FjY291bnRFbnRpdHkiLCJlbnRpdHkiLCJhY2NvdW50SW5mb0lzRXF1YWwiLCJhY2NvdW50QSIsImFjY291bnRCIiwiY29tcGFyZUNsYWltcyIsImNsYWltc01hdGNoIiwiYWNjb3VudEFDbGFpbXMiLCJhY2NvdW50QkNsYWltcyIsImlhdCIsIm5vbmNlIiwiQXV0aFRva2VuIiwicmF3VG9rZW4iLCJleHRyYWN0VG9rZW5DbGFpbXMiLCJlbmNvZGVkVG9rZW4iLCJkZWNvZGVkVG9rZW4iLCJiYXNlNjRUb2tlblBheWxvYWQiLCJiYXNlNjREZWNvZGVkIiwiZXJyIiwiQ2FjaGVNYW5hZ2VyIiwiY3J5cHRvSW1wbCIsImdldEFsbEFjY291bnRzIiwiY3VycmVudEFjY291bnRzIiwiZ2V0QWNjb3VudHNGaWx0ZXJlZEJ5IiwiYWNjb3VudFZhbHVlcyIsImFjY291bnRLZXkiLCJhY2NvdW50SW5mbyIsInRvT2JqZWN0IiwicmVhZElkVG9rZW5Gcm9tQ2FjaGUiLCJzZWNyZXQiLCJzYXZlQ2FjaGVSZWNvcmQiLCJjYWNoZVJlY29yZCIsInNldEFjY291bnQiLCJzZXRJZFRva2VuQ3JlZGVudGlhbCIsImFjY2Vzc1Rva2VuIiwic2F2ZUFjY2Vzc1Rva2VuIiwicmVmcmVzaFRva2VuIiwic2V0UmVmcmVzaFRva2VuQ3JlZGVudGlhbCIsImFwcE1ldGFkYXRhIiwic2V0QXBwTWV0YWRhdGEiLCJjcmVkZW50aWFsIiwiY3VycmVudFRva2VuQ2FjaGUiLCJjdXJyZW50U2NvcGVzIiwiY3VycmVudEFjY2Vzc1Rva2VucyIsInJlbW92ZWRBY2Nlc3NUb2tlbnNfMSIsImdldENyZWRlbnRpYWxzRmlsdGVyZWRCeSIsImFjY2Vzc1Rva2VucyIsInRva2VuRW50aXR5IiwicmVtb3ZlQ3JlZGVudGlhbCIsInNldEFjY2Vzc1Rva2VuQ3JlZGVudGlhbCIsImFjY291bnRGaWx0ZXIiLCJnZXRBY2NvdW50c0ZpbHRlcmVkQnlJbnRlcm5hbCIsImFsbENhY2hlS2V5cyIsImdldEtleXMiLCJtYXRjaGluZ0FjY291bnRzIiwiY2FjaGVLZXkiLCJnZXRBY2NvdW50IiwibWF0Y2hIb21lQWNjb3VudElkIiwibWF0Y2hFbnZpcm9ubWVudCIsIm1hdGNoUmVhbG0iLCJnZXRDcmVkZW50aWFsc0ZpbHRlcmVkQnlJbnRlcm5hbCIsImtleUlkIiwibWF0Y2hpbmdDcmVkZW50aWFscyIsImlkVG9rZW5zIiwicmVmcmVzaFRva2VucyIsImNyZWRUeXBlIiwiZ2V0U3BlY2lmaWNDcmVkZW50aWFsIiwibWF0Y2hPYm9Bc3NlcnRpb24iLCJtYXRjaENyZWRlbnRpYWxUeXBlIiwibWF0Y2hDbGllbnRJZCIsIm1hdGNoRmFtaWx5SWQiLCJtYXRjaFRhcmdldCIsIm1hdGNoVG9rZW5UeXBlIiwiU1NIIiwibWF0Y2hLZXlJZCIsInVwZGF0ZWRDYWNoZUtleSIsInVwZGF0ZUNyZWRlbnRpYWxDYWNoZUtleSIsImdldEFwcE1ldGFkYXRhRmlsdGVyZWRCeSIsImdldEFwcE1ldGFkYXRhRmlsdGVyZWRCeUludGVybmFsIiwibWF0Y2hpbmdBcHBNZXRhZGF0YSIsImlzQXBwTWV0YWRhdGEiLCJnZXRBcHBNZXRhZGF0YSIsImdldEF1dGhvcml0eU1ldGFkYXRhQnlBbGlhcyIsImhvc3QiLCJnZXRBdXRob3JpdHlNZXRhZGF0YUtleXMiLCJtYXRjaGVkRW50aXR5IiwiaXNBdXRob3JpdHlNZXRhZGF0YSIsImdldEF1dGhvcml0eU1ldGFkYXRhIiwiYWxpYXNlcyIsInJlbW92ZUFsbEFjY291bnRzIiwicmVtb3ZlZEFjY291bnRzIiwicmVtb3ZlQWNjb3VudCIsInJlbW92ZUFjY291bnRDb250ZXh0IiwicmVtb3ZlSXRlbSIsIkFDQ09VTlQiLCJyZW1vdmVkQ3JlZGVudGlhbHMiLCJjYWNoZUVudGl0eSIsImtpZCIsIlBPUCIsIkNSRURFTlRJQUwiLCJyZW1vdmVBcHBNZXRhZGF0YSIsIkFQUF9NRVRBREFUQSIsInJlYWRDYWNoZVJlY29yZCIsInJlcXVlc3QiLCJjYWNoZWRBY2NvdW50IiwicmVhZEFjY291bnRGcm9tQ2FjaGUiLCJjYWNoZWRJZFRva2VuIiwiY2FjaGVkQWNjZXNzVG9rZW4iLCJyZWFkQWNjZXNzVG9rZW5Gcm9tQ2FjaGUiLCJjYWNoZWRSZWZyZXNoVG9rZW4iLCJyZWFkUmVmcmVzaFRva2VuRnJvbUNhY2hlIiwiY2FjaGVkQXBwTWV0YWRhdGEiLCJyZWFkQXBwTWV0YWRhdGFGcm9tQ2FjaGUiLCJpZFRva2VuRmlsdGVyIiwiY3JlZGVudGlhbENhY2hlIiwibnVtSWRUb2tlbnMiLCJhdXRoU2NoZW1lIiwiYXV0aGVudGljYXRpb25TY2hlbWUiLCJhY2Nlc3NUb2tlbkZpbHRlciIsInNzaEtpZCIsIm51bUFjY2Vzc1Rva2VucyIsImZhbWlseVJUIiwidW5kZWZpbmVkIiwicmVmcmVzaFRva2VuRmlsdGVyIiwiYXBwTWV0YWRhdGFGaWx0ZXIiLCJhcHBNZXRhZGF0YUVudHJpZXMiLCJudW1BcHBNZXRhZGF0YSIsImlzQXBwTWV0YWRhdGFGT0NJIiwiY2xvdWRNZXRhZGF0YSIsImVudGl0eVNjb3BlU2V0IiwicmVxdWVzdFRhcmdldFNjb3BlU2V0IiwiZ2VuZXJhdGVBdXRob3JpdHlNZXRhZGF0YUNhY2hlS2V5IiwiZ2V0SWRUb2tlbkNyZWRlbnRpYWwiLCJnZXRBY2Nlc3NUb2tlbkNyZWRlbnRpYWwiLCJnZXRSZWZyZXNoVG9rZW5DcmVkZW50aWFsIiwicHJvcGVydHlOYW1lIiwiRGVmYXVsdFN0b3JhZ2VDbGFzcyIsInNldFNlcnZlclRlbGVtZXRyeSIsImdldFNlcnZlclRlbGVtZXRyeSIsInNldEF1dGhvcml0eU1ldGFkYXRhIiwic2V0VGhyb3R0bGluZ0NhY2hlIiwiZ2V0VGhyb3R0bGluZ0NhY2hlIiwiY29udGFpbnNLZXkiLCJjbGVhciIsIkRFRkFVTFRfU1lTVEVNX09QVElPTlMiLCJ0b2tlblJlbmV3YWxPZmZzZXRTZWNvbmRzIiwicHJldmVudENvcnNQcmVmbGlnaHQiLCJwcm94eVVybCIsIkRFRkFVTFRfTE9HR0VSX0lNUExFTUVOVEFUSU9OIiwiREVGQVVMVF9ORVRXT1JLX0lNUExFTUVOVEFUSU9OIiwic2VuZEdldFJlcXVlc3RBc3luYyIsInNlbmRQb3N0UmVxdWVzdEFzeW5jIiwiREVGQVVMVF9MSUJSQVJZX0lORk8iLCJza3UiLCJ2ZXJzaW9uIiwiY3B1Iiwib3MiLCJERUZBVUxUX0NMSUVOVF9DUkVERU5USUFMUyIsImNsaWVudFNlY3JldCIsImNsaWVudEFzc2VydGlvbiIsIkRFRkFVTFRfQVpVUkVfQ0xPVURfT1BUSU9OUyIsImF6dXJlQ2xvdWRJbnN0YW5jZSIsIk5vbmUiLCJ0ZW5hbnQiLCJDY3NDcmVkZW50aWFsVHlwZSIsIlNlcnZlckVycm9yIiwiVGhyb3R0bGluZ1V0aWxzIiwiZ2VuZXJhdGVUaHJvdHRsaW5nU3RvcmFnZUtleSIsInRodW1icHJpbnQiLCJwcmVQcm9jZXNzIiwiY2FjaGVNYW5hZ2VyIiwidGhyb3R0bGVUaW1lIiwibm93IiwiVEhST1RUTElORyIsImVycm9yQ29kZXMiLCJwb3N0UHJvY2VzcyIsInJlc3BvbnNlIiwiY2hlY2tSZXNwb25zZVN0YXR1cyIsImNoZWNrUmVzcG9uc2VGb3JSZXRyeUFmdGVyIiwidGh1bWJwcmludFZhbHVlIiwiY2FsY3VsYXRlVGhyb3R0bGVUaW1lIiwicGFyc2VJbnQiLCJoZWFkZXJzIiwiUkVUUllfQUZURVIiLCJlcnJvcl9jb2RlcyIsImVycm9yX2Rlc2NyaXB0aW9uIiwic3RhdHVzIiwidGltZSIsImN1cnJlbnRTZWNvbmRzIiwiTWF0aCIsImZsb29yIiwibWluIiwicmVtb3ZlVGhyb3R0bGUiLCJob21lQWNjb3VudElkZW50aWZpZXIiLCJyZXNvdXJjZVJlcXVlc3RNZXRob2QiLCJyZXNvdXJjZVJlcXVlc3RVcmkiLCJzaHJDbGFpbXMiLCJOZXR3b3JrTWFuYWdlciIsIm5ldHdvcmtDbGllbnQiLCJzZW5kUG9zdFJlcXVlc3QiLCJ0b2tlbkVuZHBvaW50IiwiZV8xIiwiS2V5TG9jYXRpb24iLCJCYXNlQ2xpZW50IiwiY29uZmlndXJhdGlvbiIsImF1dGhPcHRpb25zIiwidXNlckF1dGhPcHRpb25zIiwidXNlclN5c3RlbU9wdGlvbnMiLCJ1c2VyTG9nZ2VyT3B0aW9uIiwic3RvcmFnZUltcGxlbWVudGF0aW9uIiwibmV0d29ya0ltcGxlbWVudGF0aW9uIiwiY3J5cHRvSW1wbGVtZW50YXRpb24iLCJjbGllbnRDcmVkZW50aWFscyIsImxpYnJhcnlJbmZvIiwic2VydmVyVGVsZW1ldHJ5TWFuYWdlciIsInBlcnNpc3RlbmNlUGx1Z2luIiwic2VyaWFsaXphYmxlQ2FjaGUiLCJjb25maWciLCJzeXN0ZW1PcHRpb25zIiwic3RvcmFnZUludGVyZmFjZSIsIm5ldHdvcmtJbnRlcmZhY2UiLCJjcnlwdG9JbnRlcmZhY2UiLCJjbGllbnRDYXBhYmlsaXRpZXMiLCJhenVyZUNsb3VkT3B0aW9ucyIsImNyeXB0b1V0aWxzIiwibmV0d29ya01hbmFnZXIiLCJjcmVhdGVUb2tlblJlcXVlc3RIZWFkZXJzIiwiY2NzQ3JlZCIsIkNPTlRFTlRfVFlQRSIsInR5cGUiLCJIT01FX0FDQ09VTlRfSUQiLCJDQ1NfSEVBREVSIiwiVVBOIiwiZXhlY3V0ZVBvc3RUb1Rva2VuRW5kcG9pbnQiLCJxdWVyeVN0cmluZyIsImNsZWFyVGVsZW1ldHJ5Q2FjaGUiLCJ1cGRhdGVBdXRob3JpdHkiLCJ1cGRhdGVkQXV0aG9yaXR5IiwiZGlzY292ZXJ5Q29tcGxldGUiLCJSZXF1ZXN0VmFsaWRhdG9yIiwidmFsaWRhdGVSZWRpcmVjdFVyaSIsInJlZGlyZWN0VXJpIiwidmFsaWRhdGVQcm9tcHQiLCJwcm9tcHQiLCJwcm9tcHRWYWx1ZXMiLCJ2YWxpZGF0ZUNsYWltcyIsInZhbGlkYXRlQ29kZUNoYWxsZW5nZVBhcmFtcyIsImNvZGVDaGFsbGVuZ2UiLCJjb2RlQ2hhbGxlbmdlTWV0aG9kIiwidmFsaWRhdGVDb2RlQ2hhbGxlbmdlTWV0aG9kIiwic2FuaXRpemVFUVBhcmFtcyIsImVRUGFyYW1zIiwicXVlcnlQYXJhbXMiLCJSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlciIsInBhcmFtZXRlcnMiLCJNYXAiLCJhZGRSZXNwb25zZVR5cGVDb2RlIiwic2V0IiwiUkVTUE9OU0VfVFlQRSIsImVuY29kZVVSSUNvbXBvbmVudCIsImFkZFJlc3BvbnNlTW9kZSIsInJlc3BvbnNlTW9kZSIsIlJFU1BPTlNFX01PREUiLCJRVUVSWSIsImFkZFNjb3BlcyIsImFkZE9pZGNTY29wZXMiLCJyZXF1ZXN0U2NvcGVzIiwiU0NPUEUiLCJhZGRDbGllbnRJZCIsIkNMSUVOVF9JRCIsImFkZFJlZGlyZWN0VXJpIiwiUkVESVJFQ1RfVVJJIiwiYWRkUG9zdExvZ291dFJlZGlyZWN0VXJpIiwiUE9TVF9MT0dPVVRfVVJJIiwiYWRkSWRUb2tlbkhpbnQiLCJpZFRva2VuSGludCIsIklEX1RPS0VOX0hJTlQiLCJhZGREb21haW5IaW50IiwiZG9tYWluSGludCIsIkRPTUFJTl9ISU5UIiwiYWRkTG9naW5IaW50IiwibG9naW5IaW50IiwiTE9HSU5fSElOVCIsImFkZENjc1VwbiIsImFkZENjc09pZCIsImFkZFNpZCIsInNpZCIsIlNJRCIsImFkZENsYWltcyIsIm1lcmdlZENsYWltcyIsImFkZENsaWVudENhcGFiaWxpdGllc1RvQ2xhaW1zIiwiYWRkQ29ycmVsYXRpb25JZCIsIkNMSUVOVF9SRVFVRVNUX0lEIiwiYWRkTGlicmFyeUluZm8iLCJYX0NMSUVOVF9TS1UiLCJYX0NMSUVOVF9WRVIiLCJYX0NMSUVOVF9PUyIsIlhfQ0xJRU5UX0NQVSIsImFkZFByb21wdCIsIlBST01QVCIsImFkZFN0YXRlIiwic3RhdGUiLCJTVEFURSIsImFkZE5vbmNlIiwiTk9OQ0UiLCJhZGRDb2RlQ2hhbGxlbmdlUGFyYW1zIiwiQ09ERV9DSEFMTEVOR0UiLCJDT0RFX0NIQUxMRU5HRV9NRVRIT0QiLCJhZGRBdXRob3JpemF0aW9uQ29kZSIsIkNPREUiLCJhZGREZXZpY2VDb2RlIiwiREVWSUNFX0NPREUiLCJhZGRSZWZyZXNoVG9rZW4iLCJhZGRDb2RlVmVyaWZpZXIiLCJjb2RlVmVyaWZpZXIiLCJDT0RFX1ZFUklGSUVSIiwiYWRkQ2xpZW50U2VjcmV0IiwiQ0xJRU5UX1NFQ1JFVCIsImFkZENsaWVudEFzc2VydGlvbiIsIkNMSUVOVF9BU1NFUlRJT04iLCJhZGRDbGllbnRBc3NlcnRpb25UeXBlIiwiY2xpZW50QXNzZXJ0aW9uVHlwZSIsIkNMSUVOVF9BU1NFUlRJT05fVFlQRSIsImFkZE9ib0Fzc2VydGlvbiIsIk9CT19BU1NFUlRJT04iLCJhZGRSZXF1ZXN0VG9rZW5Vc2UiLCJ0b2tlblVzZSIsIlJFUVVFU1RFRF9UT0tFTl9VU0UiLCJhZGRHcmFudFR5cGUiLCJncmFudFR5cGUiLCJHUkFOVF9UWVBFIiwiYWRkQ2xpZW50SW5mbyIsImFkZEV4dHJhUXVlcnlQYXJhbWV0ZXJzIiwiZVFwYXJhbXMiLCJYTVNfQ0MiLCJ2YWx1ZXMiLCJhZGRVc2VybmFtZSIsImFkZFBhc3N3b3JkIiwicGFzc3dvcmQiLCJhZGRQb3BUb2tlbiIsImNuZlN0cmluZyIsIlRPS0VOX1RZUEUiLCJSRVFfQ05GIiwiYWRkU3NoSndrIiwic3NoSndrU3RyaW5nIiwiYWRkU2VydmVyVGVsZW1ldHJ5IiwiWF9DTElFTlRfQ1VSUl9URUxFTSIsImdlbmVyYXRlQ3VycmVudFJlcXVlc3RIZWFkZXJWYWx1ZSIsIlhfQ0xJRU5UX0xBU1RfVEVMRU0iLCJnZW5lcmF0ZUxhc3RSZXF1ZXN0SGVhZGVyVmFsdWUiLCJhZGRUaHJvdHRsaW5nIiwiWF9NU19MSUJfQ0FQQUJJTElUWSIsImFkZExvZ291dEhpbnQiLCJsb2dvdXRIaW50IiwiTE9HT1VUX0hJTlQiLCJjcmVhdGVRdWVyeVN0cmluZyIsInF1ZXJ5UGFyYW1ldGVyQXJyYXkiLCJJZFRva2VuRW50aXR5IiwiY3JlYXRlSWRUb2tlbkVudGl0eSIsImlkVG9rZW5FbnRpdHkiLCJpc0lkVG9rZW5FbnRpdHkiLCJUaW1lVXRpbHMiLCJub3dTZWNvbmRzIiwicm91bmQiLCJnZXRUaW1lIiwiaXNUb2tlbkV4cGlyZWQiLCJleHBpcmVzT24iLCJvZmZzZXQiLCJleHBpcmF0aW9uU2VjIiwiTnVtYmVyIiwid2FzQ2xvY2tUdXJuZWRCYWNrIiwiY2FjaGVkQXQiLCJkZWxheSIsInNldFRpbWVvdXQiLCJBY2Nlc3NUb2tlbkVudGl0eSIsImNyZWF0ZUFjY2Vzc1Rva2VuRW50aXR5IiwiZXh0RXhwaXJlc09uIiwicmVmcmVzaE9uIiwicmVxdWVzdGVkQ2xhaW1zIiwiYXRFbnRpdHkiLCJjdXJyZW50VGltZSIsInRvU3RyaW5nIiwiZXh0ZW5kZWRFeHBpcmVzT24iLCJ0b2tlbkNsYWltcyIsImNuZiIsImlzQWNjZXNzVG9rZW5FbnRpdHkiLCJSZWZyZXNoVG9rZW5FbnRpdHkiLCJjcmVhdGVSZWZyZXNoVG9rZW5FbnRpdHkiLCJydEVudGl0eSIsImlzUmVmcmVzaFRva2VuRW50aXR5IiwiSW50ZXJhY3Rpb25SZXF1aXJlZFNlcnZlckVycm9yTWVzc2FnZSIsIkludGVyYWN0aW9uUmVxdWlyZWRBdXRoU3ViRXJyb3JNZXNzYWdlIiwiSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvck1lc3NhZ2UiLCJJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yIiwiaXNJbnRlcmFjdGlvblJlcXVpcmVkRXJyb3IiLCJpc0ludGVyYWN0aW9uUmVxdWlyZWRFcnJvckNvZGUiLCJpc0ludGVyYWN0aW9uUmVxdWlyZWRTdWJFcnJvciIsImlzSW50ZXJhY3Rpb25SZXF1aXJlZEVycm9yRGVzYyIsInNvbWUiLCJpckVycm9yQ29kZSIsImNyZWF0ZU5vVG9rZW5zRm91bmRFcnJvciIsIkNhY2hlUmVjb3JkIiwiYWNjb3VudEVudGl0eSIsImFjY2Vzc1Rva2VuRW50aXR5IiwicmVmcmVzaFRva2VuRW50aXR5IiwiYXBwTWV0YWRhdGFFbnRpdHkiLCJQcm90b2NvbFV0aWxzIiwic2V0UmVxdWVzdFN0YXRlIiwidXNlclN0YXRlIiwibWV0YSIsImxpYnJhcnlTdGF0ZSIsImdlbmVyYXRlTGlicmFyeVN0YXRlIiwic3RhdGVPYmoiLCJzdGF0ZVN0cmluZyIsInBhcnNlUmVxdWVzdFN0YXRlIiwic3BsaXRTdGF0ZSIsInNsaWNlIiwibGlicmFyeVN0YXRlU3RyaW5nIiwibGlicmFyeVN0YXRlT2JqIiwidXNlclJlcXVlc3RTdGF0ZSIsIlVybFN0cmluZyIsInVybCIsIl91cmxTdHJpbmciLCJnZXRIYXNoIiwiY2Fub25pY2FsaXplVXJpIiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwibG93ZXJDYXNlVXJsIiwidmFsaWRhdGVBc1VyaSIsImNvbXBvbmVudHMiLCJnZXRVcmxDb21wb25lbnRzIiwiSG9zdE5hbWVBbmRQb3J0IiwiUGF0aFNlZ21lbnRzIiwiUHJvdG9jb2wiLCJhcHBlbmRRdWVyeVN0cmluZyIsInJlbW92ZUhhc2hGcm9tVXJsIiwicmVwbGFjZVRlbmFudFBhdGgiLCJ1cmxPYmplY3QiLCJwYXRoQXJyYXkiLCJDT01NT04iLCJPUkdBTklaQVRJT05TIiwiY29uc3RydWN0QXV0aG9yaXR5VXJpRnJvbU9iamVjdCIsInBhcnNlSGFzaCIsInJlZ0V4IiwidXJsQ29tcG9uZW50cyIsIkFic29sdXRlUGF0aCIsIlF1ZXJ5U3RyaW5nIiwicGF0aFNlZ21lbnRzIiwic3Vic3RyaW5nIiwiZ2V0RG9tYWluRnJvbVVybCIsImdldEFic29sdXRlVXJsIiwicmVsYXRpdmVVcmwiLCJiYXNlVXJsIiwiYmFzZUNvbXBvbmVudHMiLCJoYXNoSW5kZXgxIiwiaGFzaEluZGV4MiIsImdldERlc2VyaWFsaXplZEhhc2giLCJoYXNoIiwicGFyc2VkSGFzaCIsImRlc2VyaWFsaXplZEhhc2giLCJoYXNoQ29udGFpbnNLbm93blByb3BlcnRpZXMiLCJQcm90b2NvbE1vZGUiLCJQb3BUb2tlbkdlbmVyYXRvciIsImdlbmVyYXRlQ25mIiwicmVxQ25mIiwiZ2VuZXJhdGVLaWQiLCJ4bXNfa3NsIiwiU1ciLCJzaWduUG9wVG9rZW4iLCJzaWduUGF5bG9hZCIsInBheWxvYWQiLCJzaHJOb25jZSIsInJlc291cmNlVXJsU3RyaW5nIiwicmVzb3VyY2VVcmxDb21wb25lbnRzIiwiYXQiLCJ0cyIsInRvVXBwZXJDYXNlIiwidSIsInEiLCJjbGllbnRfY2xhaW1zIiwiQXBwTWV0YWRhdGFFbnRpdHkiLCJnZW5lcmF0ZUFwcE1ldGFkYXRhS2V5IiwiZ2VuZXJhdGVBcHBNZXRhZGF0YUNhY2hlS2V5IiwiY3JlYXRlQXBwTWV0YWRhdGFFbnRpdHkiLCJpc0FwcE1ldGFkYXRhRW50aXR5IiwiVG9rZW5DYWNoZUNvbnRleHQiLCJ0b2tlbkNhY2hlIiwiaGFzQ2hhbmdlZCIsIlJlc3BvbnNlSGFuZGxlciIsImNhY2hlU3RvcmFnZSIsInZhbGlkYXRlU2VydmVyQXV0aG9yaXphdGlvbkNvZGVSZXNwb25zZSIsInNlcnZlclJlc3BvbnNlSGFzaCIsImNhY2hlZFN0YXRlIiwiY2xpZW50X2luZm8iLCJ2YWxpZGF0ZVRva2VuUmVzcG9uc2UiLCJzZXJ2ZXJSZXNwb25zZSIsImVyclN0cmluZyIsImNvcnJlbGF0aW9uX2lkIiwidHJhY2VfaWQiLCJoYW5kbGVTZXJ2ZXJUb2tlblJlc3BvbnNlIiwic2VydmVyVG9rZW5SZXNwb25zZSIsInJlcVRpbWVzdGFtcCIsImF1dGhDb2RlUGF5bG9hZCIsImhhbmRsaW5nUmVmcmVzaFRva2VuUmVzcG9uc2UiLCJpZFRva2VuT2JqIiwicmVxdWVzdFN0YXRlT2JqIiwiY2FjaGVDb250ZXh0IiwiaWRfdG9rZW4iLCJrZXlfaWQiLCJnZW5lcmF0ZUNhY2hlUmVjb3JkIiwiYmVmb3JlQ2FjaGVBY2Nlc3MiLCJnZW5lcmF0ZUF1dGhlbnRpY2F0aW9uUmVzdWx0IiwiYWZ0ZXJDYWNoZUFjY2VzcyIsInNwYV9jb2RlIiwiZ2VuZXJhdGVBY2NvdW50RW50aXR5IiwiYWNjZXNzX3Rva2VuIiwicmVzcG9uc2VTY29wZXMiLCJleHBpcmVzSW4iLCJleHBpcmVzX2luIiwiZXh0RXhwaXJlc0luIiwiZXh0X2V4cGlyZXNfaW4iLCJyZWZyZXNoSW4iLCJyZWZyZXNoX2luIiwidG9rZW5FeHBpcmF0aW9uU2Vjb25kcyIsImV4dGVuZGVkVG9rZW5FeHBpcmF0aW9uU2Vjb25kcyIsInJlZnJlc2hPblNlY29uZHMiLCJ0b2tlbl90eXBlIiwicmVmcmVzaF90b2tlbiIsImZvY2kiLCJjbG91ZF9ncmFwaF9ob3N0X25hbWUiLCJtc0dyYXBoaG9zdCIsIm1zZ3JhcGhfaG9zdCIsInByb3RvY29sTW9kZSIsImZyb21Ub2tlbkNhY2hlIiwicmVxdWVzdFN0YXRlIiwiY2Fub25pY2FsQXV0aG9yaXR5IiwidW5pcXVlSWQiLCJmcm9tQ2FjaGUiLCJBdXRob3JpemF0aW9uQ29kZUNsaWVudCIsImluY2x1ZGVSZWRpcmVjdFVyaSIsImdldEF1dGhDb2RlVXJsIiwiY3JlYXRlQXV0aENvZGVVcmxRdWVyeVN0cmluZyIsImF1dGhvcml6YXRpb25FbmRwb2ludCIsImFjcXVpcmVUb2tlbiIsInJlc3BvbnNlSGFuZGxlciIsImV4ZWN1dGVUb2tlblJlcXVlc3QiLCJoYW5kbGVGcmFnbWVudFJlc3BvbnNlIiwiaGFzaEZyYWdtZW50IiwiaGFzaFVybFN0cmluZyIsInNlcnZlclBhcmFtcyIsImdldExvZ291dFVyaSIsImxvZ291dFJlcXVlc3QiLCJjcmVhdGVMb2dvdXRVcmxRdWVyeVN0cmluZyIsImVuZFNlc3Npb25FbmRwb2ludCIsInJlcXVlc3RCb2R5IiwicXVlcnlQYXJhbWV0ZXJzIiwiY2NzQ3JlZGVudGlhbCIsImNyZWF0ZVRva2VuUmVxdWVzdEJvZHkiLCJjcmVhdGVUb2tlblF1ZXJ5UGFyYW1ldGVycyIsInBhcmFtZXRlckJ1aWxkZXIiLCJ0b2tlblF1ZXJ5UGFyYW1ldGVycyIsImFzc2VydGlvbiIsImFzc2VydGlvblR5cGUiLCJBVVRIT1JJWkFUSU9OX0NPREVfR1JBTlQiLCJzc2hKd2siLCJ0b2tlbkJvZHlQYXJhbWV0ZXJzIiwiZW5hYmxlU3BhQXV0aG9yaXphdGlvbkNvZGUiLCJSRVRVUk5fU1BBX0NPREUiLCJleHRyYVNjb3Blc1RvQ29uc2VudCIsImFjY291bnRTaWQiLCJleHRyYWN0QWNjb3VudFNpZCIsImV4dHJhUXVlcnlQYXJhbWV0ZXJzIiwicG9zdExvZ291dFJlZGlyZWN0VXJpIiwiUmVmcmVzaFRva2VuQ2xpZW50IiwiYWNxdWlyZVRva2VuQnlSZWZyZXNoVG9rZW4iLCJub0ZhbWlseVJUSW5DYWNoZSIsImNsaWVudE1pc21hdGNoRXJyb3JXaXRoRmFtaWx5UlQiLCJhY3F1aXJlVG9rZW5XaXRoQ2FjaGVkUmVmcmVzaFRva2VuIiwicmVmcmVzaFRva2VuUmVxdWVzdCIsIlJFRlJFU0hfVE9LRU5fR1JBTlQiLCJTaWxlbnRGbG93Q2xpZW50IiwiYWNxdWlyZUNhY2hlZFRva2VuIiwiZm9yY2VSZWZyZXNoIiwic2V0Q2FjaGVPdXRjb21lIiwiRk9SQ0VfUkVGUkVTSCIsIk5PX0NBQ0hFRF9BQ0NFU1NfVE9LRU4iLCJDQUNIRURfQUNDRVNTX1RPS0VOX0VYUElSRUQiLCJSRUZSRVNIX0NBQ0hFRF9BQ0NFU1NfVE9LRU4iLCJpbmNyZW1lbnRDYWNoZUhpdHMiLCJnZW5lcmF0ZVJlc3VsdEZyb21DYWNoZVJlY29yZCIsImlzT3BlbklkQ29uZmlnUmVzcG9uc2UiLCJBdXRob3JpdHlNZXRhZGF0YUVudGl0eSIsImV4cGlyZXNBdCIsInVwZGF0ZUNsb3VkRGlzY292ZXJ5TWV0YWRhdGEiLCJtZXRhZGF0YSIsImZyb21OZXR3b3JrIiwicHJlZmVycmVkX2NhY2hlIiwicHJlZmVycmVkX25ldHdvcmsiLCJhbGlhc2VzRnJvbU5ldHdvcmsiLCJ1cGRhdGVFbmRwb2ludE1ldGFkYXRhIiwiYXV0aG9yaXphdGlvbl9lbmRwb2ludCIsInRva2VuX2VuZHBvaW50IiwiZW5kX3Nlc3Npb25fZW5kcG9pbnQiLCJpc3N1ZXIiLCJlbmRwb2ludHNGcm9tTmV0d29yayIsInVwZGF0ZUNhbm9uaWNhbEF1dGhvcml0eSIsImNhbm9uaWNhbF9hdXRob3JpdHkiLCJyZXNldEV4cGlyZXNBdCIsImlzRXhwaXJlZCIsImlzQXV0aG9yaXR5TWV0YWRhdGFFbnRpdHkiLCJCcm93c2VyQ2FjaGVMb2NhdGlvbiIsIkhUVFBfUkVRVUVTVF9UWVBFIiwiVGVtcG9yYXJ5Q2FjaGVLZXlzIiwiSW5NZW1vcnlDYWNoZUtleXMiLCJBcGlJZCIsIkludGVyYWN0aW9uVHlwZSIsIkludGVyYWN0aW9uU3RhdHVzIiwiUmVnaW9uRGlzY292ZXJ5IiwiZGV0ZWN0UmVnaW9uIiwiZW52aXJvbm1lbnRSZWdpb24iLCJyZWdpb25EaXNjb3ZlcnlNZXRhZGF0YSIsImF1dG9kZXRlY3RlZFJlZ2lvbk5hbWUiLCJsb2NhbElNRFNWZXJzaW9uUmVzcG9uc2UiLCJjdXJyZW50SU1EU1ZlcnNpb24iLCJjdXJyZW50SU1EU1ZlcnNpb25SZXNwb25zZSIsIklNRFNfT1BUSU9OUyIsImdldFJlZ2lvbkZyb21JTURTIiwiaHR0cFN1Y2Nlc3MiLCJyZWdpb25fc291cmNlIiwiSU1EUyIsImh0dHBCYWRSZXF1ZXN0IiwiZ2V0Q3VycmVudFZlcnNpb24iLCJGQUlMRURfQVVUT19ERVRFQ1RJT04iLCJFTlZJUk9OTUVOVF9WQVJJQUJMRSIsIk1ldGFkYXRhIiwiQXV0aG9yaXR5IiwiYXV0aG9yaXR5T3B0aW9ucyIsIl9jYW5vbmljYWxBdXRob3JpdHkiLCJyZWdpb25EaXNjb3ZlcnkiLCJyZWdpb25fdXNlZCIsInJlZ2lvbl9vdXRjb21lIiwiY2Fub25pY2FsQXV0aG9yaXR5VXJsQ29tcG9uZW50cyIsIkRlZmF1bHQiLCJfY2Fub25pY2FsQXV0aG9yaXR5VXJsQ29tcG9uZW50cyIsInJlcGxhY2VQYXRoIiwicmVwbGFjZVRlbmFudCIsImNhY2hlZEF1dGhvcml0eVBhcnRzIiwiY3VycmVudFBhcnQiLCJpbmRleCIsImNhY2hlZFBhcnQiLCJPSURDIiwicmVzb2x2ZUVuZHBvaW50c0FzeW5jIiwibWV0YWRhdGFFbnRpdHkiLCJjbG91ZERpc2NvdmVyeVNvdXJjZSIsImVuZHBvaW50U291cmNlIiwiaG9zdG5hbWVBbmRQb3J0IiwiQ0FDSEUiLCJhenVyZVJlZ2lvbiIsImdldEVuZHBvaW50TWV0YWRhdGFGcm9tQ29uZmlnIiwiQ09ORklHIiwiaXNBdXRob3JpdHlTYW1lVHlwZSIsImdldEVuZHBvaW50TWV0YWRhdGFGcm9tTmV0d29yayIsImF6dXJlUmVnaW9uQ29uZmlndXJhdGlvbiIsIkFVVE9fREVURUNUSU9OX1JFUVVFU1RFRF9TVUNDRVNTRlVMIiwiQVVUT19ERVRFQ1RJT05fUkVRVUVTVEVEX0ZBSUxFRCIsIkNPTkZJR1VSRURfTUFUQ0hFU19ERVRFQ1RFRCIsIkNPTkZJR1VSRURfTk9UX0RFVEVDVEVEIiwiQ09ORklHVVJFRF9OT19BVVRPX0RFVEVDVElPTiIsInJlcGxhY2VXaXRoUmVnaW9uYWxJbmZvcm1hdGlvbiIsIk5FVFdPUksiLCJkZWZhdWx0T3BlbklkQ29uZmlndXJhdGlvbkVuZHBvaW50IiwiYXV0aG9yaXR5TWV0YWRhdGEiLCJnZXRDbG91ZERpc2NvdmVyeU1ldGFkYXRhRnJvbUNvbmZpZyIsImdldENsb3VkRGlzY292ZXJ5TWV0YWRhdGFGcm9tTmV0d29yayIsImNsb3VkRGlzY292ZXJ5TWV0YWRhdGEiLCJwYXJzZWRSZXNwb25zZSIsImdldENsb3VkRGlzY292ZXJ5TWV0YWRhdGFGcm9tTmV0d29ya1Jlc3BvbnNlIiwiaXNJbktub3duQXV0aG9yaXRpZXMiLCJjcmVhdGVDbG91ZERpc2NvdmVyeU1ldGFkYXRhRnJvbUhvc3QiLCJpbnN0YW5jZURpc2NvdmVyeUVuZHBvaW50IiwiaXNDbG91ZEluc3RhbmNlRGlzY292ZXJ5UmVzcG9uc2UiLCJrbm93bkF1dGhvcml0aWVzIiwiZ2VuZXJhdGVBdXRob3JpdHkiLCJhdXRob3JpdHlTdHJpbmciLCJhdXRob3JpdHlBenVyZUNsb3VkSW5zdGFuY2UiLCJpc0FsaWFzIiwiaXNQdWJsaWNDbG91ZEF1dGhvcml0eSIsImJ1aWxkUmVnaW9uYWxBdXRob3JpdHlTdHJpbmciLCJyZWdpb24iLCJhdXRob3JpdHlVcmxJbnN0YW5jZSIsImF1dGhvcml0eVVybFBhcnRzIiwiaG9zdE5hbWVBbmRQb3J0IiwiQXV0aG9yaXR5RmFjdG9yeSIsImNyZWF0ZURpc2NvdmVyZWRJbnN0YW5jZSIsImF1dGhvcml0eVVyaSIsImFjcXVpcmVUb2tlbkF1dGhvcml0eSIsImNyZWF0ZUluc3RhbmNlIiwiYXV0aG9yaXR5VXJsIiwiU2VydmVyVGVsZW1ldHJ5RW50aXR5IiwiZmFpbGVkUmVxdWVzdHMiLCJlcnJvcnMiLCJjYWNoZUhpdHMiLCJpc1NlcnZlclRlbGVtZXRyeUVudGl0eSIsInZhbGlkYXRlS2V5IiwidmFsaWRhdGVFbnRpdHkiLCJUaHJvdHRsaW5nRW50aXR5IiwiaXNUaHJvdHRsaW5nRW50aXR5IiwiU3R1YmJlZE5ldHdvcmtNb2R1bGUiLCJTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyIiwidGVsZW1ldHJ5UmVxdWVzdCIsImNhY2hlT3V0Y29tZSIsIk5PX0NBQ0hFX0hJVCIsImFwaUlkIiwid3JhcHBlclNLVSIsIndyYXBwZXJWZXIiLCJ0ZWxlbWV0cnlDYWNoZUtleSIsInBsYXRmb3JtRmllbGRzIiwicmVxdWVzdFdpdGhSZWdpb25EaXNjb3ZlcnlGaWVsZHMiLCJnZXRSZWdpb25EaXNjb3ZlcnlGaWVsZHMiLCJsYXN0UmVxdWVzdHMiLCJnZXRMYXN0UmVxdWVzdHMiLCJtYXhFcnJvcnMiLCJtYXhFcnJvcnNUb1NlbmQiLCJlcnJvckNvdW50IiwiY2FjaGVGYWlsZWRSZXF1ZXN0Iiwic2hpZnQiLCJpbml0aWFsVmFsdWUiLCJudW1FcnJvcnNGbHVzaGVkIiwic2VydmVyVGVsZW1FbnRpdHkiLCJzZXJ2ZXJUZWxlbWV0cnlFbnRpdHkiLCJkYXRhU2l6ZSIsInJlZ2lvbkRpc2NvdmVyeUZpZWxkcyIsInJlZ2lvblVzZWQiLCJyZWdpb25Tb3VyY2UiLCJyZWdpb25PdXRjb21lIiwidXBkYXRlUmVnaW9uRGlzY292ZXJ5TWV0YWRhdGEiLCJCcm93c2VyQ29uc3RhbnRzIiwiV3JhcHBlclNLVSIsIkRFRkFVTFRfUkVRVUVTVCIsIk1hdGhVdGlscyIsImRlY2ltYWxUb0hleCIsIm51bSIsImhleCIsIkd1aWRHZW5lcmF0b3IiLCJnZW5lcmF0ZUd1aWQiLCJidWZmZXIiLCJVaW50OEFycmF5IiwiZ2V0UmFuZG9tVmFsdWVzIiwiZ3VpZEhvbGRlciIsImd1aWRSZXNwb25zZSIsInJhbmRvbSIsImlzR3VpZCIsImd1aWQiLCJCcm93c2VyU3RyaW5nVXRpbHMiLCJzdHJpbmdUb1V0ZjhBcnIiLCJzRE9NU3RyIiwibkNociIsIm5BcnJMZW4iLCJuU3RyTGVuIiwibk1hcElkeCIsImNoYXJDb2RlQXQiLCJhQnl0ZXMiLCJuSWR4IiwibkNocklkeCIsInN0cmluZ1RvQXJyYXlCdWZmZXIiLCJkYXRhU3RyaW5nIiwiQXJyYXlCdWZmZXIiLCJkYXRhVmlldyIsInV0ZjhBcnJUb1N0cmluZyIsInNWaWV3IiwiblBhcnQiLCJuTGVuIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiQmFzZTY0RW5jb2RlIiwidXJsRW5jb2RlIiwiZW5jb2RlIiwidXJsRW5jb2RlQXJyIiwiaW5wdXRBcnIiLCJiYXNlNjRFbmNBcnIiLCJpbnB1dFV0ZjhBcnIiLCJlcUxlbiIsInNCNjRFbmMiLCJuTW9kMyIsIm5VaW50MjQiLCJ1aW50NlRvQjY0IiwiblVpbnQ2IiwiQmFzZTY0RGVjb2RlIiwiZW5jb2RlZFN0cmluZyIsImJhc2U2NERlY1RvQXJyIiwiYmFzZTY0U3RyaW5nIiwibkJsb2NrU2l6ZSIsIm5JbkxlbiIsIm5PdXRMZW4iLCJjZWlsIiwibk1vZDQiLCJuT3V0SWR4IiwibkluSWR4IiwiYjY0VG9VaW50NiIsImNoYXJOdW0iLCJCcm93c2VyQXV0aEVycm9yTWVzc2FnZSIsIkJyb3dzZXJBdXRoRXJyb3IiLCJjcmVhdGVQa2NlTm90R2VuZXJhdGVkRXJyb3IiLCJjcmVhdGVDcnlwdG9Ob3RBdmFpbGFibGVFcnJvciIsImNyZWF0ZUh0dHBNZXRob2ROb3RJbXBsZW1lbnRlZEVycm9yIiwiY3JlYXRlRW1wdHlOYXZpZ2F0aW9uVXJpRXJyb3IiLCJjcmVhdGVFbXB0eUhhc2hFcnJvciIsImhhc2hWYWx1ZSIsImNyZWF0ZUhhc2hEb2VzTm90Q29udGFpblN0YXRlRXJyb3IiLCJjcmVhdGVIYXNoRG9lc05vdENvbnRhaW5Lbm93blByb3BlcnRpZXNFcnJvciIsImNyZWF0ZVVuYWJsZVRvUGFyc2VTdGF0ZUVycm9yIiwiY3JlYXRlU3RhdGVJbnRlcmFjdGlvblR5cGVNaXNtYXRjaEVycm9yIiwiY3JlYXRlSW50ZXJhY3Rpb25JblByb2dyZXNzRXJyb3IiLCJjcmVhdGVQb3B1cFdpbmRvd0Vycm9yIiwiY3JlYXRlRW1wdHlXaW5kb3dDcmVhdGVkRXJyb3IiLCJjcmVhdGVVc2VyQ2FuY2VsbGVkRXJyb3IiLCJjcmVhdGVNb25pdG9yUG9wdXBUaW1lb3V0RXJyb3IiLCJjcmVhdGVNb25pdG9ySWZyYW1lVGltZW91dEVycm9yIiwiY3JlYXRlUmVkaXJlY3RJbklmcmFtZUVycm9yIiwid2luZG93UGFyZW50Q2hlY2siLCJjcmVhdGVCbG9ja1JlbG9hZEluSGlkZGVuSWZyYW1lRXJyb3IiLCJjcmVhdGVCbG9ja0FjcXVpcmVUb2tlbkluUG9wdXBzRXJyb3IiLCJjcmVhdGVJZnJhbWVDbG9zZWRQcmVtYXR1cmVseUVycm9yIiwiY3JlYXRlU2lsZW50TG9nb3V0VW5zdXBwb3J0ZWRFcnJvciIsImNyZWF0ZU5vQWNjb3VudEVycm9yIiwiY3JlYXRlU2lsZW50UHJvbXB0VmFsdWVFcnJvciIsImdpdmVuUHJvbXB0IiwiY3JlYXRlVW5hYmxlVG9QYXJzZVRva2VuUmVxdWVzdENhY2hlRXJyb3IiLCJjcmVhdGVOb1Rva2VuUmVxdWVzdENhY2hlRXJyb3IiLCJjcmVhdGVBdXRoUmVxdWVzdE5vdFNldEVycm9yIiwiY3JlYXRlTm9DYWNoZWRBdXRob3JpdHlFcnJvciIsImNyZWF0ZU5vbkJyb3dzZXJFbnZpcm9ubWVudEVycm9yIiwiY3JlYXRlRGF0YWJhc2VOb3RPcGVuRXJyb3IiLCJjcmVhdGVOb05ldHdvcmtDb25uZWN0aXZpdHlFcnJvciIsImNyZWF0ZVBvc3RSZXF1ZXN0RmFpbGVkRXJyb3IiLCJlcnJvckRlc2MiLCJjcmVhdGVHZXRSZXF1ZXN0RmFpbGVkRXJyb3IiLCJjcmVhdGVGYWlsZWRUb1BhcnNlTmV0d29ya1Jlc3BvbnNlRXJyb3IiLCJjcmVhdGVVbmFibGVUb0xvYWRUb2tlbkVycm9yIiwiZXJyb3JEZXRhaWwiLCJjcmVhdGVTaWduaW5nS2V5Tm90Rm91bmRJblN0b3JhZ2VFcnJvciIsImNyZWF0ZUF1dGhDb2RlUmVxdWlyZWRFcnJvciIsImNyZWF0ZURhdGFiYXNlVW5hdmFpbGFibGVFcnJvciIsIlBrY2VHZW5lcmF0b3IiLCJnZW5lcmF0ZUNvZGVzIiwiZ2VuZXJhdGVDb2RlVmVyaWZpZXIiLCJnZW5lcmF0ZUNvZGVDaGFsbGVuZ2VGcm9tVmVyaWZpZXIiLCJ2ZXJpZmllciIsImNoYWxsZW5nZSIsInBrY2VDb2RlVmVyaWZpZXIiLCJwa2NlSGFzaGVkQ29kZVZlcmlmaWVyIiwic2hhMjU2RGlnZXN0IiwiUFVCTElDX0VYUE9ORU5UIiwiQnJvd3NlckNyeXB0byIsImhhc0NyeXB0b0FQSSIsIl9rZXlnZW5BbGdvcml0aG1PcHRpb25zIiwibW9kdWx1c0xlbmd0aCIsInB1YmxpY0V4cG9uZW50IiwiaGFzSUVDcnlwdG8iLCJnZXRNU0NyeXB0b0RpZ2VzdCIsImdldFN1YnRsZUNyeXB0b0RpZ2VzdCIsImRhdGFCdWZmZXIiLCJnZW5lcmF0ZUtleVBhaXIiLCJleHRyYWN0YWJsZSIsInVzYWdlcyIsIm1zQ3J5cHRvR2VuZXJhdGVLZXkiLCJzdWJ0bGUiLCJnZW5lcmF0ZUtleSIsImV4cG9ydEp3ayIsIm1zQ3J5cHRvRXhwb3J0SndrIiwiZXhwb3J0S2V5IiwiaW1wb3J0SndrIiwia2V5U3RyaW5nIiwia2V5QnVmZmVyIiwiZ2V0SndrU3RyaW5nIiwibXNDcnlwdG9JbXBvcnRLZXkiLCJpbXBvcnRLZXkiLCJzaWduIiwibXNDcnlwdG9TaWduIiwiaGFzQnJvd3NlckNyeXB0byIsImFsZ29yaXRobSIsImRpZ2VzdCIsImRpZ2VzdE9wZXJhdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJtc0dlbmVyYXRlS2V5IiwibXNFeHBvcnRLZXkiLCJyZXN1bHRCdWZmZXIiLCJyZXN1bHRTdHJpbmciLCJtc0ltcG9ydEtleSIsIm1zU2lnbiIsImp3ayIsInNvcnQiLCJEYXRhYmFzZVN0b3JhZ2UiLCJkYk5hbWUiLCJ0YWJsZU5hbWUiLCJEQl9OQU1FIiwiZGJPcGVuIiwib3BlbkRCIiwiaW5kZXhlZERCIiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJldmVudCIsImRiIiwidmFsaWRhdGVEYklzT3BlbiIsImdldEl0ZW0iLCJkYkdldCIsInRyYW5zYWN0aW9uIiwib2JqZWN0U3RvcmUiLCJzZXRJdGVtIiwiZGJQdXQiLCJwdXQiLCJkYkRlbGV0ZSIsImRiR2V0S2V5cyIsImdldEFsbEtleXMiLCJkYkNvbnRhaW5zS2V5IiwiY291bnQiLCJkZWxldGVEYXRhYmFzZSIsImRlbGV0ZURiUmVxdWVzdCIsIk1lbW9yeVN0b3JhZ2UiLCJjYWNoZUtleXMiLCJBc3luY01lbW9yeVN0b3JhZ2UiLCJpbk1lbW9yeUNhY2hlIiwiaW5kZXhlZERCQ2FjaGUiLCJoYW5kbGVEYXRhYmFzZUFjY2Vzc0Vycm9yIiwiaXRlbSIsImVfMiIsImVfMyIsImVfNCIsImVfNSIsImVfNiIsIkNyeXB0b09wcyIsImJyb3dzZXJDcnlwdG8iLCJiNjRFbmNvZGUiLCJiNjREZWNvZGUiLCJndWlkR2VuZXJhdG9yIiwicGtjZUdlbmVyYXRvciIsImFzeW1tZXRyaWNLZXlzIiwic3ltbWV0cmljS2V5cyIsImtleVBhaXIiLCJwdWJsaWNLZXlKd2siLCJwdWJLZXlUaHVtcHJpbnRPYmoiLCJwdWJsaWNKd2tTdHJpbmciLCJwdWJsaWNKd2tIYXNoIiwicHJpdmF0ZUtleUp3ayIsInVuZXh0cmFjdGFibGVQcml2YXRlS2V5IiwiRVhUUkFDVEFCTEUiLCJQT1BfS0VZX1VTQUdFUyIsInB1YmxpY0tleSIsImt0eSIsInByaXZhdGVLZXkiLCJyZXF1ZXN0TWV0aG9kIiwicmVxdWVzdFVyaSIsImRhdGFTdG9yZU5hbWVzIiwiZGF0YWJhc2VTdG9yYWdlIiwiY2FjaGVkS2V5UGFpciIsInB1YmxpY0tleUp3a1N0cmluZyIsImVuY29kZWRIZWFkZXIiLCJlbmNvZGVkUGF5bG9hZCIsInRva2VuU3RyaW5nIiwidG9rZW5CdWZmZXIiLCJzaWduYXR1cmVCdWZmZXIiLCJlbmNvZGVkU2lnbmF0dXJlIiwiYWxnIiwicGxhaW5UZXh0IiwiaGFzaEJ1ZmZlciIsImhhc2hCeXRlcyIsIkJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yTWVzc2FnZSIsIkJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yIiwiY3JlYXRlU3RvcmFnZU5vdFN1cHBvcnRlZEVycm9yIiwiZ2l2ZW5TdG9yYWdlTG9jYXRpb24iLCJjcmVhdGVSZWRpcmVjdENhbGxiYWNrc05vdFNldEVycm9yIiwiY3JlYXRlU3R1YlBjYUluc3RhbmNlQ2FsbGVkRXJyb3IiLCJjcmVhdGVJbk1lbW9yeVJlZGlyZWN0VW5hdmFpbGFibGVFcnJvciIsIkJyb3dzZXJTdG9yYWdlIiwiY2FjaGVMb2NhdGlvbiIsInZhbGlkYXRlV2luZG93U3RvcmFnZSIsIndpbmRvd1N0b3JhZ2UiLCJMb2NhbFN0b3JhZ2UiLCJTZXNzaW9uU3RvcmFnZSIsIkJyb3dzZXJQcm90b2NvbFV0aWxzIiwiZXh0cmFjdEJyb3dzZXJSZXF1ZXN0U3RhdGUiLCJwYXJzZVNlcnZlclJlc3BvbnNlRnJvbUhhc2giLCJsb2NhdGlvbkhhc2giLCJCcm93c2VyQ2FjaGVNYW5hZ2VyIiwiY2FjaGVDb25maWciLCJDT09LSUVfTElGRV9NVUxUSVBMSUVSIiwiaW50ZXJuYWxTdG9yYWdlIiwiYnJvd3NlclN0b3JhZ2UiLCJzZXR1cEJyb3dzZXJTdG9yYWdlIiwidGVtcG9yYXJ5Q2FjaGVTdG9yYWdlIiwic2V0dXBUZW1wb3JhcnlDYWNoZVN0b3JhZ2UiLCJtaWdyYXRlQ2FjaGVFbnRyaWVzIiwiaWRUb2tlbktleSIsImNsaWVudEluZm9LZXkiLCJDTElFTlRfSU5GTyIsImVycm9yS2V5IiwiRVJST1IiLCJlcnJvckRlc2NLZXkiLCJFUlJPUl9ERVNDIiwibWlncmF0ZUNhY2hlRW50cnkiLCJuZXdLZXkiLCJzZXRUZW1wb3JhcnlDYWNoZSIsInZhbGlkYXRlQW5kUGFyc2VKc29uIiwianNvblZhbHVlIiwicGFyc2VkSnNvbiIsInBhcnNlZEFjY291bnQiLCJwYXJzZWRJZFRva2VuIiwiYWNjZXNzVG9rZW5LZXkiLCJwYXJzZWRBY2Nlc3NUb2tlbiIsInJlZnJlc2hUb2tlbktleSIsInBhcnNlZFJlZnJlc2hUb2tlbiIsImFwcE1ldGFkYXRhS2V5IiwicGFyc2VkTWV0YWRhdGEiLCJzZXJ2ZXJUZWxlbWV0cnlLZXkiLCJzZXJ2ZXJUZWxlbWV0cnkiLCJzZXRXcmFwcGVyTWV0YWRhdGEiLCJ3cmFwcGVyVmVyc2lvbiIsIldSQVBQRVJfU0tVIiwiV1JBUFBFUl9WRVIiLCJnZXRXcmFwcGVyTWV0YWRhdGEiLCJnZXRBY3RpdmVBY2NvdW50IiwiYWN0aXZlQWNjb3VudElkS2V5IiwiZ2VuZXJhdGVDYWNoZUtleSIsIkFDVElWRV9BQ0NPVU5UIiwiYWN0aXZlQWNjb3VudElkIiwiZ2V0QWNjb3VudEluZm9CeUZpbHRlciIsInNldEFjdGl2ZUFjY291bnQiLCJhY2NvdW50T2JqIiwidGhyb3R0bGluZ0NhY2hlS2V5IiwicGFyc2VkVGhyb3R0bGluZ0NhY2hlIiwidGhyb3R0bGluZ0NhY2hlIiwiZ2V0VGVtcG9yYXJ5Q2FjaGUiLCJzdG9yZUF1dGhTdGF0ZUluQ29va2llIiwiaXRlbUNvb2tpZSIsImdldEl0ZW1Db29raWUiLCJzZXRJdGVtQ29va2llIiwiY2xlYXJJdGVtQ29va2llIiwiY29va2llTmFtZSIsImNvb2tpZVZhbHVlIiwiZXhwaXJlcyIsImNvb2tpZVN0ciIsImdldENvb2tpZUV4cGlyYXRpb25UaW1lIiwic2VjdXJlQ29va2llcyIsImRvY3VtZW50IiwiY29va2llIiwiY29va2llTGlzdCIsImNoYXJBdCIsImNsZWFyTXNhbENvb2tpZXMiLCJjb29raWVQcmVmaXgiLCJjb29raWVLZXkiLCJjb29raWVMaWZlRGF5cyIsInRvZGF5IiwiZ2V0Q2FjaGUiLCJzZXRDYWNoZSIsIkFEQUxfSURfVE9LRU4iLCJnZW5lcmF0ZUF1dGhvcml0eUtleSIsInN0YXRlSWQiLCJBVVRIT1JJVFkiLCJnZW5lcmF0ZU5vbmNlS2V5IiwiTk9OQ0VfSURUT0tFTiIsImdlbmVyYXRlU3RhdGVLZXkiLCJSRVFVRVNUX1NUQVRFIiwiZ2V0Q2FjaGVkQXV0aG9yaXR5Iiwic3RhdGVDYWNoZUtleSIsImF1dGhvcml0eUNhY2hlS2V5IiwidXBkYXRlQ2FjaGVFbnRyaWVzIiwiYXV0aG9yaXR5SW5zdGFuY2UiLCJub25jZUNhY2hlS2V5IiwiQ0NTX0NSRURFTlRJQUwiLCJyZXNldFJlcXVlc3RDYWNoZSIsIlJFUVVFU1RfUEFSQU1TIiwiT1JJR0lOX1VSSSIsIlVSTF9IQVNIIiwiQ09SUkVMQVRJT05fSUQiLCJzZXRJbnRlcmFjdGlvbkluUHJvZ3Jlc3MiLCJjbGVhblJlcXVlc3RCeVN0YXRlIiwic3RhdGVLZXkiLCJjbGVhblJlcXVlc3RCeUludGVyYWN0aW9uVHlwZSIsImludGVyYWN0aW9uVHlwZSIsInN0YXRlVmFsdWUiLCJwYXJzZWRTdGF0ZSIsImNhY2hlQ29kZVJlcXVlc3QiLCJhdXRoQ29kZVJlcXVlc3QiLCJlbmNvZGVkVmFsdWUiLCJnZXRDYWNoZWRSZXF1ZXN0IiwiZW5jb2RlZFRva2VuUmVxdWVzdCIsInBhcnNlZFJlcXVlc3QiLCJjYWNoZWRBdXRob3JpdHkiLCJpc0ludGVyYWN0aW9uSW5Qcm9ncmVzcyIsImdldEludGVyYWN0aW9uSW5Qcm9ncmVzcyIsIklOVEVSQUNUSU9OX1NUQVRVU19LRVkiLCJpblByb2dyZXNzIiwiZ2V0TGVnYWN5TG9naW5IaW50IiwiYWRhbElkVG9rZW5TdHJpbmciLCJtc2FsSWRUb2tlblN0cmluZyIsImNhY2hlZElkVG9rZW5TdHJpbmciLCJJZFRva2VuIiwiY3VycmVudENhY2hlS2V5IiwiY2FjaGVJdGVtIiwiRmV0Y2hDbGllbnQiLCJHRVQiLCJnZXRGZXRjaEhlYWRlcnMiLCJuYXZpZ2F0b3IiLCJvbkxpbmUiLCJnZXRIZWFkZXJEaWN0IiwicmVxQm9keSIsIlBPU1QiLCJIZWFkZXJzIiwib3B0aW9uc0hlYWRlcnMiLCJhcHBlbmQiLCJoZWFkZXJEaWN0IiwiWGhyQ2xpZW50Iiwic2VuZFJlcXVlc3RBc3luYyIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwic2V0WGhySGVhZGVycyIsIm9ubG9hZCIsImpzb25SZXNwb25zZSIsInJlc3BvbnNlVGV4dCIsIm5ldHdvcmtSZXNwb25zZSIsIm9uZXJyb3IiLCJzZW5kIiwiaGVhZGVyc18xIiwic2V0UmVxdWVzdEhlYWRlciIsImhlYWRlckFyciIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsInBhcnRzIiwiaGVhZGVyTmFtZSIsImhlYWRlclZhbCIsIkJyb3dzZXJVdGlscyIsImNsZWFySGFzaCIsImNvbnRlbnRXaW5kb3ciLCJoaXN0b3J5IiwicmVwbGFjZVN0YXRlIiwicGF0aG5hbWUiLCJyZXBsYWNlSGFzaCIsInVybFBhcnRzIiwiaXNJbklmcmFtZSIsInBhcmVudCIsImlzSW5Qb3B1cCIsIm9wZW5lciIsImdldEN1cnJlbnRVcmkiLCJnZXRIb21lcGFnZSIsImdldEJyb3dzZXJOZXR3b3JrQ2xpZW50IiwiYmxvY2tSZWxvYWRJbkhpZGRlbklmcmFtZXMiLCJibG9ja1JlZGlyZWN0SW5JZnJhbWUiLCJhbGxvd1JlZGlyZWN0SW5JZnJhbWUiLCJpc0lmcmFtZWRBcHAiLCJSZWRpcmVjdCIsImJsb2NrQWNxdWlyZVRva2VuSW5Qb3B1cHMiLCJibG9ja05vbkJyb3dzZXJFbnZpcm9ubWVudCIsImlzQnJvd3NlckVudmlyb25tZW50IiwiZGV0ZWN0SUVPckVkZ2UiLCJ1YSIsInVzZXJBZ2VudCIsIm1zaWUiLCJtc2llMTEiLCJtc2VkZ2UiLCJOYXZpZ2F0aW9uQ2xpZW50IiwibmF2aWdhdGVJbnRlcm5hbCIsImRlZmF1bHROYXZpZ2F0ZVdpbmRvdyIsIm5hdmlnYXRlRXh0ZXJuYWwiLCJub0hpc3RvcnkiLCJ0aW1lb3V0IiwiRXZlbnRUeXBlIiwiRXZlbnRIYW5kbGVyIiwiZXZlbnRDYWxsYmFja3MiLCJsaXN0ZW5pbmdUb1N0b3JhZ2VFdmVudHMiLCJoYW5kbGVBY2NvdW50Q2FjaGVDaGFuZ2UiLCJiaW5kIiwiYWRkRXZlbnRDYWxsYmFjayIsImNhbGxiYWNrIiwiY2FsbGJhY2tJZCIsInJlbW92ZUV2ZW50Q2FsbGJhY2siLCJlbmFibGVBY2NvdW50U3RvcmFnZUV2ZW50cyIsImRpc2FibGVBY2NvdW50U3RvcmFnZUV2ZW50cyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlbWl0RXZlbnQiLCJldmVudFR5cGUiLCJtZXNzYWdlXzEiLCJjYWNoZVZhbHVlIiwibmV3VmFsdWUiLCJvbGRWYWx1ZSIsInBhcnNlZFZhbHVlIiwiQUNDT1VOVF9BRERFRCIsIkFDQ09VTlRfUkVNT1ZFRCIsIlN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnQiLCJzdG9yYWdlSW1wbCIsImV2ZW50SGFuZGxlciIsIm5hdmlnYXRpb25DbGllbnQiLCJpbml0aWFsaXplQXV0aG9yaXphdGlvbkNvZGVSZXF1ZXN0IiwiZ2VuZXJhdGVkUGtjZVBhcmFtcyIsImluaXRpYWxpemVMb2dvdXRSZXF1ZXN0IiwidmFsaWRMb2dvdXRSZXF1ZXN0IiwiZ2V0TG9nb3V0SGludEZyb21JZFRva2VuQ2xhaW1zIiwiYXV0aCIsImxvZ2luX2hpbnQiLCJjcmVhdGVBdXRoQ29kZUNsaWVudCIsInJlcXVlc3RBenVyZUNsb3VkT3B0aW9ucyIsImNsaWVudENvbmZpZyIsImdldENsaWVudENvbmZpZ3VyYXRpb24iLCJyZXF1ZXN0QXV0aG9yaXR5IiwiZGlzY292ZXJlZEF1dGhvcml0eSIsImdldERpc2NvdmVyZWRBdXRob3JpdHkiLCJzeXN0ZW0iLCJ2YWxpZGF0ZUFuZEV4dHJhY3RTdGF0ZUZyb21IYXNoIiwicmVxdWVzdENvcnJlbGF0aW9uSWQiLCJwbGF0Zm9ybVN0YXRlT2JqIiwidXNlckF1dGhvcml0eSIsImJ1aWx0QXV0aG9yaXR5IiwiaW5pdGlhbGl6ZUF1dGhvcml6YXRpb25SZXF1ZXN0IiwiYnJvd3NlclN0YXRlIiwidmFsaWRhdGVkUmVxdWVzdCIsImxlZ2FjeUxvZ2luSGludCIsImdldFJlZGlyZWN0VXJpIiwiaW5pdGlhbGl6ZUJhc2VSZXF1ZXN0IiwiRlJBR01FTlQiLCJCYXNlSW50ZXJhY3Rpb25DbGllbnQiLCJjbGVhckNhY2hlT25Mb2dvdXQiLCJyZXF1ZXN0UmVkaXJlY3RVcmkiLCJpbml0aWFsaXplU2VydmVyVGVsZW1ldHJ5TWFuYWdlciIsInRlbGVtZXRyeVBheWxvYWQiLCJQb3B1cFV0aWxzIiwidW5sb2FkV2luZG93Iiwib3BlblBvcHVwIiwidXJsTmF2aWdhdGUiLCJwb3B1cFBhcmFtcyIsInBvcHVwV2luZG93IiwicG9wdXAiLCJvcGVuU2l6ZWRQb3B1cCIsInBvcHVwTmFtZSIsInBvcHVwV2luZG93QXR0cmlidXRlcyIsImZvY3VzIiwiY3VycmVudFdpbmRvdyIsIndpbkxlZnQiLCJzY3JlZW5MZWZ0Iiwic2NyZWVuWCIsIndpblRvcCIsInNjcmVlblRvcCIsInNjcmVlblkiLCJ3aW5XaWR0aCIsImlubmVyV2lkdGgiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRXaWR0aCIsIndpbkhlaWdodCIsImlubmVySGVpZ2h0IiwiY2xpZW50SGVpZ2h0Iiwid2lkdGgiLCJwb3B1cFNpemUiLCJoZWlnaHQiLCJ0b3AiLCJwb3B1cFBvc2l0aW9uIiwibGVmdCIsIm1heCIsIlBvcHVwIiwiY2xvc2UiLCJwcmV2ZW50RGVmYXVsdCIsImNsZWFuUG9wdXAiLCJtb25pdG9yUG9wdXBGb3JTYW1lT3JpZ2luIiwiaW50ZXJ2YWxJZCIsInNldEludGVydmFsIiwiY2xvc2VkIiwiY2xlYXJJbnRlcnZhbCIsImdlbmVyYXRlUG9wdXBOYW1lIiwiZ2VuZXJhdGVMb2dvdXRQb3B1cE5hbWUiLCJJbnRlcmFjdGlvbkhhbmRsZXIiLCJhdXRoQ29kZU1vZHVsZSIsImJyb3dzZXJSZXF1ZXN0TG9nZ2VyIiwiYXV0aE1vZHVsZSIsImhhbmRsZUNvZGVSZXNwb25zZUZyb21IYXNoIiwibmV0d29ya01vZHVsZSIsImF1dGhDb2RlUmVzcG9uc2UiLCJoYW5kbGVDb2RlUmVzcG9uc2VGcm9tU2VydmVyIiwidmFsaWRhdGVOb25jZSIsIm5vbmNlS2V5IiwiY2FjaGVkTm9uY2UiLCJjYWNoZWRDY3NDcmVkIiwidG9rZW5SZXNwb25zZSIsImNsb3VkX2luc3RhbmNlX2hvc3RfbmFtZSIsInVwZGF0ZVRva2VuRW5kcG9pbnRBdXRob3JpdHkiLCJjaGVja0Njc0NyZWRlbnRpYWxzIiwiY2xvdWRJbnN0YW5jZUhvc3RuYW1lIiwiY2xvdWRJbnN0YW5jZUF1dGhvcml0eVVyaSIsImNsb3VkSW5zdGFuY2VBdXRob3JpdHkiLCJQb3B1cEhhbmRsZXIiLCJwb3B1cFV0aWxzIiwiaW5pdGlhdGVBdXRoUmVxdWVzdCIsInJlcXVlc3RVcmwiLCJtb25pdG9yUG9wdXBGb3JIYXNoIiwiY29udGVudEhhc2giLCJQb3B1cENsaWVudCIsImFzeW5jUG9wdXBzIiwiYWNxdWlyZVRva2VuUG9wdXBBc3luYyIsImxvZ291dCIsIm1haW5XaW5kb3dSZWRpcmVjdFVyaSIsImxvZ291dFBvcHVwQXN5bmMiLCJ2YWxpZFJlcXVlc3QiLCJhdXRoQ2xpZW50IiwibmF2aWdhdGVVcmwiLCJpbnRlcmFjdGlvbkhhbmRsZXIiLCJwb3B1cFBhcmFtZXRlcnMiLCJhY3F1aXJlVG9rZW5Qb3B1cCIsIlBPUFVQX09QRU5FRCIsImxvZ291dFVyaSIsIm5hdmlnYXRpb25PcHRpb25zIiwiYWJzb2x1dGVVcmwiLCJMT0dPVVRfU1RBUlQiLCJsb2dvdXRQb3B1cCIsIkxPR09VVF9TVUNDRVNTIiwicmVkaXJlY3ROYXZpZ2F0aW9uVGltZW91dCIsIkxPR09VVF9GQUlMVVJFIiwiTE9HT1VUX0VORCIsIlJlZGlyZWN0SGFuZGxlciIsInJlZGlyZWN0U3RhcnRQYWdlIiwiYWNxdWlyZVRva2VuUmVkaXJlY3QiLCJyZWRpcmVjdFRpbWVvdXQiLCJvblJlZGlyZWN0TmF2aWdhdGUiLCJSZWRpcmVjdENsaWVudCIsImhhbmRsZUJhY2tCdXR0b24iLCJwZXJzaXN0ZWQiLCJnZXRSZWRpcmVjdFN0YXJ0UGFnZSIsImhhbmRsZVJlZGlyZWN0UHJvbWlzZSIsInJlc3BvbnNlSGFzaCIsImxvZ2luUmVxdWVzdFVybCIsImxvZ2luUmVxdWVzdFVybE5vcm1hbGl6ZWQiLCJjdXJyZW50VXJsTm9ybWFsaXplZCIsImhhbmRsZUhhc2hSZXN1bHQiLCJwcm9jZXNzSGFzaE9uUmVkaXJlY3QiLCJob21lcGFnZSIsImdldFJlZGlyZWN0UmVzcG9uc2VIYXNoIiwibmF2aWdhdGVUb0xvZ2luUmVxdWVzdFVybCIsImhhbmRsZUhhc2giLCJjYWNoZWRIYXNoIiwiY2FjaGVkUmVxdWVzdCIsImN1cnJlbnRBdXRob3JpdHkiLCJyZXF1ZXN0U3RhcnRQYWdlIiwiU2lsZW50SGFuZGxlciIsIm5hdmlnYXRlRnJhbWVXYWl0IiwibG9hZEZyYW1lIiwibG9hZEZyYW1lU3luYyIsIm1vbml0b3JJZnJhbWVGb3JIYXNoIiwiaWZyYW1lIiwidGltZW91dE1hcmsiLCJwZXJmb3JtYW5jZSIsInJlbW92ZUhpZGRlbklmcmFtZSIsImZyYW1lSGFuZGxlIiwiY3JlYXRlSGlkZGVuSWZyYW1lIiwic3JjIiwiYXV0aEZyYW1lIiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwidmlzaWJpbGl0eSIsInBvc2l0aW9uIiwiYm9yZGVyIiwic2V0QXR0cmlidXRlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJhcHBlbmRDaGlsZCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsIlNpbGVudElmcmFtZUNsaWVudCIsInNpbGVudFJlcXVlc3QiLCJTaWxlbnQiLCJzaWxlbnRUb2tlbkhlbHBlciIsInNpbGVudEhhbmRsZXIiLCJtc2FsRnJhbWUiLCJpZnJhbWVIYXNoVGltZW91dCIsIlNpbGVudFJlZnJlc2hDbGllbnQiLCJyZWZyZXNoVG9rZW5DbGllbnQiLCJhY3F1aXJlVG9rZW5TaWxlbnRfc2lsZW50RmxvdyIsImNyZWF0ZVJlZnJlc2hUb2tlbkNsaWVudCIsImNhdGNoIiwiVG9rZW5DYWNoZSIsInN0b3JhZ2UiLCJsb2FkRXh0ZXJuYWxUb2tlbnMiLCJsb2FkSWRUb2tlbiIsImxvYWRBY2Nlc3NUb2tlbiIsImlkQXV0aFRva2VuIiwiSHlicmlkU3BhQXV0aG9yaXphdGlvbkNvZGVDbGllbnQiLCJTaWxlbnRBdXRoQ29kZUNsaWVudCIsImNsb3VkSW5zdGFuY2VIb3N0TmFtZSIsIkNsaWVudEFwcGxpY2F0aW9uIiwidXNlcklucHV0QXV0aCIsInVzZXJJbnB1dENhY2hlIiwidXNlcklucHV0U3lzdGVtIiwiREVGQVVMVF9BVVRIX09QVElPTlMiLCJERUZBVUxUX0NBQ0hFX09QVElPTlMiLCJERUZBVUxUX0xPR0dFUl9PUFRJT05TIiwiREVGQVVMVF9CUk9XU0VSX1NZU1RFTV9PUFRJT05TIiwiY2FjaGVPcHRpb25zIiwiQUFEIiwibG9hZEZyYW1lVGltZW91dCIsIndpbmRvd0hhc2hUaW1lb3V0IiwicmVkaXJlY3RSZXNwb25zZSIsImh5YnJpZEF1dGhDb2RlUmVzcG9uc2VzIiwibG9nZ2VkSW5BY2NvdW50cyIsInJlZGlyZWN0UmVzcG9uc2VLZXkiLCJyZWRpcmVjdENsaWVudCIsIkhBTkRMRV9SRURJUkVDVF9TVEFSVCIsIkxPR0lOX1NVQ0NFU1MiLCJBQ1FVSVJFX1RPS0VOX1NVQ0NFU1MiLCJIQU5ETEVfUkVESVJFQ1RfRU5EIiwiQUNRVUlSRV9UT0tFTl9GQUlMVVJFIiwiTE9HSU5fRkFJTFVSRSIsImlzTG9nZ2VkSW4iLCJwcmVmbGlnaHRCcm93c2VyRW52aXJvbm1lbnRDaGVjayIsIkFDUVVJUkVfVE9LRU5fU1RBUlQiLCJMT0dJTl9TVEFSVCIsInNzb1NpbGVudCIsInNpbGVudFRva2VuUmVzdWx0IiwiU1NPX1NJTEVOVF9TVEFSVCIsIlNTT19TSUxFTlRfU1VDQ0VTUyIsIlNTT19TSUxFTlRfRkFJTFVSRSIsImFjcXVpcmVUb2tlbkJ5Q29kZSIsIkFDUVVJUkVfVE9LRU5fQllfQ09ERV9TVEFSVCIsImFjcXVpcmVUb2tlbkJ5Q29kZUFzeW5jIiwiQUNRVUlSRV9UT0tFTl9CWV9DT0RFX1NVQ0NFU1MiLCJBQ1FVSVJFX1RPS0VOX0JZX0NPREVfRkFJTFVSRSIsIkFDUVVJUkVfVE9LRU5fTkVUV09SS19TVEFSVCIsImlzU2VydmVyRXJyb3IiLCJpc0ludmFsaWRHcmFudEVycm9yIiwiYWNxdWlyZVRva2VuU2lsZW50X2F1dGhDb2RlIiwibG9nb3V0UmVkaXJlY3QiLCJnZXRBY2NvdW50QnlVc2VybmFtZSIsImFsbEFjY291bnRzIiwiZ2V0QWNjb3VudEJ5SG9tZUlkIiwiZ2V0QWNjb3VudEJ5TG9jYWxJZCIsInByZWZsaWdodEludGVyYWN0aXZlUmVxdWVzdCIsImdldFRva2VuQ2FjaGUiLCJnZXRMb2dnZXIiLCJzZXRMb2dnZXIiLCJpbml0aWFsaXplV3JhcHBlckxpYnJhcnkiLCJzZXROYXZpZ2F0aW9uQ2xpZW50IiwiZ2V0Q29uZmlndXJhdGlvbiIsIlNpbGVudENhY2hlQ2xpZW50Iiwic2lsZW50QXV0aENsaWVudCIsImNhY2hlZFRva2VuIiwiZXJyb3JfMSIsImNyZWF0ZVNpbGVudEZsb3dDbGllbnQiLCJpbml0aWFsaXplU2lsZW50UmVxdWVzdCIsIm1zYWxJbnN0YW5jZSIsIlB1YmxpY0NsaWVudEFwcGxpY2F0aW9uIiwiYWN0aXZlU2lsZW50VG9rZW5SZXF1ZXN0cyIsImxvZ2luUmVkaXJlY3QiLCJsb2dpblBvcHVwIiwiYWNxdWlyZVRva2VuU2lsZW50Iiwic2lsZW50UmVxdWVzdEtleSIsImNhY2hlZFJlc3BvbnNlIiwiYWNxdWlyZVRva2VuU2lsZW50QXN5bmMiLCJzaWxlbnRDYWNoZUNsaWVudCIsInRva2VuUmVuZXdhbFJlc3VsdCIsInRva2VuUmVuZXdhbEVycm9yXzEiLCJsb2dpbiIsInhybSIsIl9tYWluT3JnIiwiQVVUSF9LRVkiLCJBdXRoVG9NaWNyb3NvZnQiLCJsb2dpblJlc3BvbnNlIiwic2V0QXV0aCIsIkFjdGlvbkNvbGxlY3Rpb25CYXNlIiwiQWxlcnREaWFsb2dTdHJpbmdzIiwiQXJyYXlFeCIsIkF0dHJpYnV0ZUZvcm1hdCIsIkF0dHJpYnV0ZVR5cGUiLCJCZWdpblNlY3VyZVNlc3Npb25SZXNwb25zZUNvZGUiLCJCdXNpbmVzc1Byb2Nlc3NGbG93SW5zdGFuY2VTdGF0ZSIsIkJ1c2luZXNzUHJvY2Vzc0Zsb3dJbnN0YW5jZVN0YXR1cyIsIkJ1c2luZXNzUnVsZU5vdGlmaWNhdGlvbkJhc2UiLCJDaGFydFBhbmVNb2RlIiwiQ2xpZW50TmFtZSIsIkNsaWVudFN0YXRlIiwiQ2xpZW50U3RhdGVzIiwiQ29sbGVjdGlvbiIsIkNvbXBvbmVudE1vZGVsIiwiQ29uZmlybURpYWxvZ1N0cmluZ3MiLCJDb250cm9sVHlwZSIsIkNvdW50UmVjb3JkcyIsImNvdW50UmVjb3JkcyIsIkRhdGFMb2FkRXZlbnRBcmdzIiwiRGF0YUxvYWRTdGF0ZSIsIkRhdGVGb3JtYXR0aW5nSW5mbyIsIkRlbGVnYXRlSXR0ZXJhdG9yIiwiRGVzY3JpcHRpb24iLCJEZXZpY2UiLCJEaWFnbm9zdGljcyIsIkRpYWxvZyIsIkRpYWxvZ09wdGlvbnMiLCJFbmNvZGluZyIsIkVudGl0eUZvcm1PcHRpb25zIiwiRW50aXR5TGlzdFBhZ2VJbnB1dCIsIkVudGl0eU1ldGFkYXRhIiwiRW50aXR5UmVsYXRpb25zaGlwUm9sZVR5cGUiLCJFbnRpdHlSZWxhdGlvbnNoaXBUeXBlIiwiRXJyb3JEaWFsb2dPcHRpb25zIiwiRXJyb3JSZXNwb25zZSIsIkV4ZWN1dGlvbkNvbnRleHQiLCJGbGFnIiwiRm9ybURhdGFBdHRyaWJ1dGVQcml2aWxlZ2UiLCJGb3JtRGF0YUF0dHJpYnV0ZVByaXZpbGVnZXMiLCJGb3JtRmFjdG9yIiwiRm9ybU5vdGlmaWNhdGlvbk9wdGlvbnMiLCJGb3JtU2F2ZUFjdGlvbiIsIkZvcm1UeXBlIiwiR2VuIiwiR2V0QXR0cmlidXRlcyIsImdldEF0dHJpYnV0ZXMiLCJHcmlkVHlwZSIsIklCdXNpbmVzc1J1bGVOb3RpZmljYXRpb25Qcm92aWRlciIsIklzTW9ja1hybSIsIklYcm1Db2xsZWN0aW9uSXRlbSIsIkludGVyZmFjZXMiLCJJbnRlcm5hbCIsIkphdmFTY3JpcHRDb25zb2xlVHJhY2VMaXN0ZW5lciIsIktCU2VhcmNoUmVzdWx0IiwiTG9jYWxpemVkTGFiZWwiLCJMb29rdXBPYmplY3QiLCJMb29rdXBPcHRpb25zIiwiTG9va3VwU3R5bGUiLCJNZXRyaWNzU3RvcHdhdGNoIiwiTW9iaWxlIiwiTmF2aWdhdGlvbiIsIk5vdGlmaWNhdGlvbkxldmVsIiwiTnVtYmVyRXgiLCJPYmplY3RzIiwiT2ZmbGluZSIsIk9mZmxpbmVFcnJvclJlc3BvbnNlIiwiT3BlbkZpbGVNb2RlIiwiT3BlbkZvcm1TdWNjZXNzUmVzcG9uc2UiLCJPcHRpb25TZXRJdGVtIiwiT3JnYW5pemF0aW9uU2VydmljZVByb3h5QnJpZGdlIiwiUGFnZSIsIlBhZ2VCcmlkZ2UiLCJQYWdlQ29udGV4dEJyaWRnZSIsIlBhZ2VFeCIsIlBhZ2VJbnB1dCIsIlBhZ2VUeXBlIiwiUGFuZWwiLCJQcm9jZXNzQWN0aW9uU3VjY2Vzc1Jlc3BvbnNlIiwiUHJvY2Vzc1Jlc3BvbnNlIiwiUHJvY2Vzc1N0YXRlIiwiUHJvY2Vzc1N0YXR1cyIsIlJlbGF0aW9uc2hpcFJlZmVyZW5jZSIsIlJlcXVpcmVkTGV2ZWwiLCJTYXZlRXJyb3JSZXNwb25zZSIsIlNhdmVFdmVudEFyZ3MiLCJTYXZlTW9kZSIsIlNhdmVPcHRpb25zIiwiU2F2ZVN1Y2Nlc3NSZXNwb25zZSIsIlNjb3BlZFNlcnZpY2VEaXJlY3RvcnkiLCJTZGsiLCJTZXJ2aWNlcyIsIlNvYXAiLCJTdGVwUHJvZ3Jlc3MiLCJTdGVwVHlwZSIsIlN0cmluZ0J1aWxkZXJUcmFjZUxpc3RlbmVyIiwiU3RyaW5nRXgiLCJTdWJtaXRNb2RlIiwiVGFiRGlzcGxheVN0YXRlIiwiVGFiSXRlbSIsIlRhYlNlY3Rpb24iLCJUYXNrRmxvd09wdGlvbnMiLCJUYXNrSXRlcnJhdG9yIiwiVHJhY2luZyIsIlVJIiwiVXRpbGl0eSIsIldlYkFwaSIsIndlYkFwaSIsIldpbmRvd09wdGlvbnMiLCJYcm1CdXNpbmVzc1Byb2Nlc3NGbG93IiwiWHJtQ2hhcnQiLCJYcm1Db2xsZWN0aW9uIiwiWHJtQ29sbGVjdGlvbkJhc2UiLCJYcm1Db2xsZWN0aW9uRGljdGlvbmFyeSIsIlhybUNvbnRyb2wiLCJYcm1Db250cm9sQUNJIiwiWHJtQ29udHJvbEF1dG9Mb29rdXAiLCJYcm1Db250cm9sQmFzZSIsIlhybUNvbnRyb2xCdXR0b24iLCJYcm1Db250cm9sRGF0ZVRpbWUiLCJYcm1Db250cm9sRW1haWxFbmdhZ2VtZW50QWN0aW9uc0NvbnRyb2wiLCJYcm1Db250cm9sRW1haWxSZWNpcGllbnRBY3Rpdml0eSIsIlhybUNvbnRyb2xGb3JtU2VsZWN0b3IiLCJYcm1Db250cm9sR3JpZCIsIlhybUNvbnRyb2xJRnJhbWUiLCJYcm1Db250cm9sTG9va3VwIiwiWHJtQ29udHJvbE9wdGlvblNldCIsIlhybUNvbnRyb2xRdWlja0Zvcm0iLCJYcm1Db250cm9sUm91dGVkR3JpZCIsIlhybUNvbnRyb2xTZWFyY2hXaWRnZXQiLCJYcm1Db250cm9sU2lsdmVybGlnaHQiLCJYcm1Db250cm9sU3ViR3JpZCIsIlhybUNvbnRyb2xUZXh0IiwiWHJtQ29udHJvbFRpbWVyIiwiWHJtQ29udHJvbFdlYlJlc291cmNlIiwiWHJtQ29udHJvbHMiLCJYcm1EYXRhQ29udHJvbCIsIlhybURpYWxvZyIsIlhybUVuY29kaW5nIiwiWHJtRW50aXRpZXMiLCJYcm1FbnRpdHkiLCJYcm1FbnRpdHlBdHRyaWJ1dGUiLCJYcm1FbnRpdHlBdHRyaWJ1dGVCb29sZWFuIiwiWHJtRW50aXR5QXR0cmlidXRlRGF0ZVRpbWUiLCJYcm1FbnRpdHlBdHRyaWJ1dGVMb29rdXAiLCJYcm1FbnRpdHlBdHRyaWJ1dGVOdW1iZXIiLCJYcm1FbnRpdHlBdHRyaWJ1dGVPcHRpb25TZXQiLCJYcm1FbnRpdHlBdHRyaWJ1dGVPcHRpb25TZXRCYXNlIiwiWHJtRW50aXR5QXR0cmlidXRlU3RyaW5nIiwiWHJtRW50aXR5QXR0cmlidXRlcyIsIlhybUVudGl0eVJlbGF0aW9uc2hpcCIsIlhybUZpbGUiLCJYcm1Gb3JtIiwiWHJtRm9ybURhdGEiLCJYcm1Gb3JtU2VsZWN0b3JJdGVtIiwiWHJtRm9ybVNlbGVjdG9ySXRlbXMiLCJYcm1Gb3JtVUkiLCJYcm1HbG9iYWxDb250ZXh0IiwiWHJtR3JpZERhdGEiLCJYcm1HcmlkRmlsdGVyIiwiWHJtR3JpZFJvdyIsIlhybUdyaWRSb3dzIiwiWHJtSW50ZXJuYWwiLCJYcm1OYXZpZ2F0aW9uIiwiWHJtTmF2aWdhdGlvbkl0ZW0iLCJYcm1OYXZpZ2F0aW9uSXRlbXMiLCJYcm1OYXZpZ2F0aW9ucyIsIlhybU9mZmxpbmUiLCJYcm1PcGVuRmlsZU9wdGlvbiIsIlhybU9yZ2FuaXphdGlvblNldHRpbmdzIiwiWHJtUGFnZUNvbnRleHRDbGllbnQiLCJYcm1QYW5lbCIsIlhybVBlcmZvcm1hbmNlIiwiWHJtUHJvY2Vzc0NvbnRyb2xEYXRhIiwiWHJtUHJvY2Vzc0NvbnRyb2xVSSIsIlhybVByb2Nlc3NTdGFnZSIsIlhybVByb2Nlc3NTdGVwIiwiWHJtUXVpY2tGb3JtcyIsIlhybVJlbGF0ZWRFbnRpdGllcyIsIlhybVNka01lc3NhZ2VzIiwiWHJtU2VydmljZURpcmVjdG9yeSIsIlhybVRhYiIsIlhybVRhYk5hdmlnYXRvciIsIlhybVRhYk5hdmlnYXRvckdyb3VwIiwiWHJtVGFiTmF2aWdhdG9ycyIsIlhybVRhYlNlY3Rpb24iLCJYcm1UYWJTZWN0aW9ucyIsIlhybVRhYnMiLCJYcm1UYXNrUHJvY2VzcyIsIlhybVRyYWNlIiwiWHJtVXNlclNldHRpbmdzIiwiWHJtVXRpbGl0eSIsIlhybVZpZXdTZWxlY3RvciIsImdldE5hbWUiLCJnbG9iYWxUaGlzIiwiZ2V0QXV0aCIsImdldE9yZyIsImV4ZWN1dGVGZXRjaCIsImFjdGlvbiIsIm9yZ05hbWUiLCJkYXRhRm9ybWF0IiwiZW50aXR5TG9naWNhbE5hbWUiLCJMb2dpY2FsQ29sbGVjdGlvbk5hbWUiLCJleGVjdXRlUG9zdCIsImV4ZWN1dGVQYXRjaCIsImV4ZWN1dGVEZWxldGUiLCJjcmVhdGVSZWNvcmQiLCJyZXRyaWV2ZU1ldGFkYXRhTWVtbyIsImVudGl0eVR5cGUiLCJQcmltYXJ5SWRBdHRyaWJ1dGUiLCJkZWxldGVSZWNvcmQiLCJ1cGRhdGVSZWNvcmQiLCJyZXRyaWV2ZVJlY29yZCIsInJldHJpZXZlTXVsdGlwbGVSZWNvcmRzIiwibWF4cGFnZXNpemUiLCJtdWx0aXBsaWVyIiwiY29sbGVjdGlvbk5hbWVHZW5lcmF0b3IiLCJMb2dpY2FsTmFtZSIsInByZWZlciIsInJldHJpZXZlTXVsdGlwbGUiLCJleGVjdXRlTXVsdGlwbGUiLCJwcmVwYXJlZERhdGEiLCJiYXRjaElkIiwiZWxlbWVudCIsInVybFBhcmFtZXRlciIsInByZXBhcmVCYXRjaFJlcXVlc3QiLCJvbmxpbmUiLCJleGVjdXRlIiwiZ2V0TWV0YWRhdGEiXSwibWFwcGluZ3MiOiJnQ0FBQSxNQUNNQSxHQUNxQixlQUF6QkMsUUFBUUMsSUFBSUMsU0FGSSwyQ0FFb0MsSUFEdEMsaUJBUVZDLEVBQWlDLGlCQUFiQyxVQUF5QkEsU0FBU0MsT0FDdERDLEVBQWUseUVDVmZDLEVBQVUsU0FBU0MsT0FDakJDLEVBQVEsVUFFTEMscUJBQ0NDLEVBQU9DLEtBQUtDLFVBQVVDLGtCQUMxQkwsRUFBTUUsR0FBUUYsRUFBTUUsSUFBU0gsRUFBT08sTUFBTUMsS0FBTUYsV0FDekNMLEVBQU1FLEtDSmZNLEVBQWdCVixFQUFRRyxjQUN0QlEsUUFBZUMsTUFBTSw4RUFDdEJELEVBQU9FLE9BQVMsRUFDWkYsRUFBT0csT0FBT0MsS0FBS0MsR0FBUUEsRUFBS0MsTUFBTSw0Q0FBNEMsSUFFOUUsS0NMVEMsRUFBdUJmLFVBR2xCLENBQ0hnQixpQkFIZ0JULE1DQWxCVSxFQUFTcEIsRUFBUUcsZ0JBQ0FrQixHQUFXLFVBQVhBLElBQ0xDLFFDRlpDLEVBQWV2QixFQUFRd0IsSUNIdkJDLEVBQVEsQ0FBQ0MsRUFBR0MsSUFBT0MsR0FBUUQsRUFBRUQsRUFBRUUsSUFDL0JDLEVBQU8s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
